<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-comment">-- | Definition of all supported GraphQL directives.</span><span>
</span><span id="line-2"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Hasura.GraphQL.Parser.Directives</span><span>
</span><span id="line-3"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="hs-comment">-- list of directives, for the schema</span><span>
</span><span id="line-4"></span><span>    </span><span class="annot"><a href="Hasura.GraphQL.Parser.Directives.html#directivesInfo"><span class="hs-identifier">directivesInfo</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-5"></span><span>    </span><span class="annot"><a href="Hasura.GraphQL.Parser.Directives.html#inclusionDirectives"><span class="hs-identifier">inclusionDirectives</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-6"></span><span>    </span><span class="annot"><a href="Hasura.GraphQL.Parser.Directives.html#customDirectives"><span class="hs-identifier">customDirectives</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-7"></span><span>    </span><span class="hs-comment">-- Custom Directive Types</span><span>
</span><span id="line-8"></span><span>    </span><span class="annot"><a href="Hasura.GraphQL.Parser.Directives.html#CachedDirective"><span class="hs-identifier">CachedDirective</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-9"></span><span>    </span><span class="annot"><a href="Hasura.GraphQL.Parser.Directives.html#DirectiveMap"><span class="hs-identifier">DirectiveMap</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-10"></span><span>    </span><span class="hs-comment">-- lookup keys for directives</span><span>
</span><span id="line-11"></span><span>    </span><span class="annot"><a href="Hasura.GraphQL.Parser.Directives.html#include"><span class="hs-identifier">include</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-12"></span><span>    </span><span class="annot"><a href="Hasura.GraphQL.Parser.Directives.html#skip"><span class="hs-identifier">skip</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-13"></span><span>    </span><span class="annot"><a href="Hasura.GraphQL.Parser.Directives.html#cached"><span class="hs-identifier">cached</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-14"></span><span>    </span><span class="annot"><a href="Hasura.GraphQL.Parser.Directives.html#multipleRootFields"><span class="hs-identifier">multipleRootFields</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-15"></span><span>    </span><span class="hs-comment">-- parsing utilities</span><span>
</span><span id="line-16"></span><span>    </span><span class="annot"><a href="Hasura.GraphQL.Parser.Directives.html#parseDirectives"><span class="hs-identifier">parseDirectives</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-17"></span><span>    </span><span class="annot"><a href="Hasura.GraphQL.Parser.Directives.html#withDirective"><span class="hs-identifier">withDirective</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-18"></span><span>    </span><span class="hs-comment">-- exposed for tests</span><span>
</span><span id="line-19"></span><span>    </span><span class="annot"><a href="Hasura.GraphQL.Parser.Directives.html#Directive"><span class="hs-identifier">Directive</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-20"></span><span>    </span><span class="annot"><a href="Hasura.GraphQL.Parser.Directives.html#DirectiveKey"><span class="hs-identifier">DirectiveKey</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-21"></span><span>    </span><span class="annot"><a href="Hasura.GraphQL.Parser.Directives.html#skipDirective"><span class="hs-identifier">skipDirective</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-22"></span><span>    </span><span class="annot"><a href="Hasura.GraphQL.Parser.Directives.html#includeDirective"><span class="hs-identifier">includeDirective</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-23"></span><span>    </span><span class="annot"><a href="Hasura.GraphQL.Parser.Directives.html#cachedDirective"><span class="hs-identifier">cachedDirective</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-24"></span><span>    </span><span class="annot"><a href="Hasura.GraphQL.Parser.Directives.html#multipleRootFieldsDirective"><span class="hs-identifier">multipleRootFieldsDirective</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-25"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-26"></span><span class="hs-keyword">where</span><span>
</span><span id="line-27"></span><span>
</span><span id="line-28"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">guard</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">unless</span></span><span class="hs-special">)</span><span>
</span><span id="line-29"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Identity</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Identity</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-30"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Aeson.Key</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">K</span></span><span>
</span><span id="line-31"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Aeson.Types</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">JSONPathElement</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Key</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-32"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Dependent.Map</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">DM</span></span><span>
</span><span id="line-33"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Dependent.Sum</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">DSum</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-34"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Foldable</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">for_</span></span><span class="hs-special">)</span><span>
</span><span id="line-35"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.GADT.Compare.Extended.html"><span class="hs-identifier">Data.GADT.Compare.Extended</span></a></span><span>
</span><span id="line-36"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.HashMap.Strict</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">M</span></span><span>
</span><span id="line-37"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.HashSet</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">S</span></span><span>
</span><span id="line-38"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.List</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">L</span></span><span>
</span><span id="line-39"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">catMaybes</span></span><span class="hs-special">)</span><span>
</span><span id="line-40"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.Text.Extended.html"><span class="hs-identifier">Data.Text.Extended</span></a></span><span>
</span><span id="line-41"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Traversable</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">for</span></span><span class="hs-special">)</span><span>
</span><span id="line-42"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Typeable</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">eqT</span></span><span class="hs-special">)</span><span>
</span><span id="line-43"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Parser.Class.html"><span class="hs-identifier">Hasura.GraphQL.Parser.Class</span></a></span><span>
</span><span id="line-44"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Parser.DirectiveName.html"><span class="hs-identifier">Hasura.GraphQL.Parser.DirectiveName</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Name</span></span><span>
</span><span id="line-45"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Parser.Internal.Input.html"><span class="hs-identifier">Hasura.GraphQL.Parser.Internal.Input</span></a></span><span>
</span><span id="line-46"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Parser.Internal.Scalars.html"><span class="hs-identifier">Hasura.GraphQL.Parser.Internal.Scalars</span></a></span><span>
</span><span id="line-47"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Parser.Schema.html"><span class="hs-identifier">Hasura.GraphQL.Parser.Schema</span></a></span><span>
</span><span id="line-48"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Parser.Variable.html"><span class="hs-identifier">Hasura.GraphQL.Parser.Variable</span></a></span><span>
</span><span id="line-49"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Language.GraphQL.Draft.Syntax</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">G</span></span><span>
</span><span id="line-50"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Type.Reflection</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Typeable</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">typeRep</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-operator">(:~:)</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-51"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Prelude</span></span><span>
</span><span id="line-52"></span><span>
</span><span id="line-53"></span><span class="hs-comment">-- Disable custom prelude warnings in preparation for extracting this module into a separate package.</span><span>
</span><span id="line-54"></span><span class="hs-pragma">{-# ANN</span><span> </span><span class="hs-pragma">module</span><span> </span><span class="hs-pragma">(</span><span class="annot"><span class="hs-pragma">&quot;HLint: ignore Use onNothing&quot;</span></span><span> </span><span class="hs-pragma">::</span><span> </span><span class="annot"><span class="hs-pragma hs-type">String</span></span><span class="hs-pragma">)</span><span> </span><span class="hs-pragma">#-}</span><span>
</span><span id="line-55"></span><span>
</span><span id="line-56"></span><span class="hs-comment">-- | Returns the schema information for all supported directives, for each of</span><span>
</span><span id="line-57"></span><span class="hs-comment">-- which a @DirectiveDefinition@ will be inserted into the schema.</span><span>
</span><span id="line-58"></span><span class="hs-comment">--</span><span>
</span><span id="line-59"></span><span class="hs-comment">-- To add a new custom directives to the schema, add it to @customDirectives@.</span><span>
</span><span id="line-60"></span><span class="hs-comment">-- Inclusion directives are treated separately, as they are not concerned with</span><span>
</span><span id="line-61"></span><span class="hs-comment">-- altering the result of the parsers, but about whether a given field should be</span><span>
</span><span id="line-62"></span><span class="hs-comment">-- parsed at all (see @collectFields@ for more information).</span><span>
</span><span id="line-63"></span><span class="hs-comment">--</span><span>
</span><span id="line-64"></span><span class="hs-comment">-- Alternatively, you could manually add a @DirectiveInfo@ to this list;</span><span>
</span><span id="line-65"></span><span class="hs-comment">-- however, if you do so, and do not provide a corresponding definition in</span><span>
</span><span id="line-66"></span><span class="hs-comment">-- @customDirectives@, calls to @parseDirectives@ will NOT attempt to parse that</span><span>
</span><span id="line-67"></span><span class="hs-comment">-- new directive: they will only validate that it is used correctly. You can use</span><span>
</span><span id="line-68"></span><span class="hs-comment">-- this option to implement directives that do not match our simple inclusion /</span><span>
</span><span id="line-69"></span><span class="hs-comment">-- custom dichotomy.</span><span>
</span><span id="line-70"></span><span class="hs-comment">--</span><span>
</span><span id="line-71"></span><span class="hs-comment">-- To create a directive definition, you need to create a @Directive@ using</span><span>
</span><span id="line-72"></span><span class="hs-comment">-- @mkDirective@, and export from this module its corresponding @DirectiveKey@</span><span>
</span><span id="line-73"></span><span class="hs-comment">-- (see @skip@ below for an example). Make sure the type in the key matches the</span><span>
</span><span id="line-74"></span><span class="hs-comment">-- type of the parser!</span><span>
</span><span id="line-75"></span><span class="hs-comment">--</span><span>
</span><span id="line-76"></span><span class="hs-comment">-- Directives may be &quot;hidden&quot;, in which case they won't advertised in the</span><span>
</span><span id="line-77"></span><span class="hs-comment">-- schema, but silently accepted. This is un-advisable and should only be used</span><span>
</span><span id="line-78"></span><span class="hs-comment">-- when there's no other way around it.</span><span>
</span><span id="line-79"></span><span class="annot"><a href="Hasura.GraphQL.Parser.Directives.html#directivesInfo"><span class="hs-identifier hs-type">directivesInfo</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621689202546"><span class="annot"><a href="#local-6989586621689202546"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span id="local-6989586621689202545"><span class="annot"><a href="#local-6989586621689202545"><span class="hs-identifier hs-type">origin</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Parser.Class.Parse.html#MonadParse"><span class="hs-identifier hs-type">MonadParse</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689202546"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Hasura.GraphQL.Parser.Schema.html#DirectiveInfo"><span class="hs-identifier hs-type">DirectiveInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689202545"><span class="hs-identifier hs-type">origin</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-80"></span><span id="directivesInfo"><span class="annot"><span class="annottext">directivesInfo :: [DirectiveInfo origin]
</span><a href="Hasura.GraphQL.Parser.Directives.html#directivesInfo"><span class="hs-identifier hs-var hs-var">directivesInfo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-81"></span><span>  </span><span id="local-6989586621689202544"><span class="annot"><span class="annottext">Directive origin m
</span><a href="#local-6989586621689202544"><span class="hs-identifier hs-var">dir</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">forall origin. MonadParse m =&gt; [Directive origin m]
forall (m :: * -&gt; *) origin. MonadParse m =&gt; [Directive origin m]
</span><a href="Hasura.GraphQL.Parser.Directives.html#inclusionDirectives"><span class="hs-identifier hs-var">inclusionDirectives</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621689202546"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><span class="annottext">[Directive origin m]
-&gt; [Directive origin m] -&gt; [Directive origin m]
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall origin. MonadParse m =&gt; [Directive origin m]
forall (m :: * -&gt; *) origin. MonadParse m =&gt; [Directive origin m]
</span><a href="Hasura.GraphQL.Parser.Directives.html#customDirectives"><span class="hs-identifier hs-var">customDirectives</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621689202546"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-82"></span><span>  </span><span class="annot"><span class="annottext">Bool -&gt; [()]
forall (f :: * -&gt; *). Alternative f =&gt; Bool -&gt; f ()
</span><span class="hs-identifier hs-var">guard</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; [()]) -&gt; Bool -&gt; [()]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Directive origin m -&gt; Bool
forall origin (m :: * -&gt; *). Directive origin m -&gt; Bool
</span><a href="Hasura.GraphQL.Parser.Directives.html#dAdvertised"><span class="hs-identifier hs-var hs-var">dAdvertised</span></a></span><span> </span><span class="annot"><span class="annottext">Directive origin m
</span><a href="#local-6989586621689202544"><span class="hs-identifier hs-var">dir</span></a></span><span>
</span><span id="line-83"></span><span>  </span><span class="annot"><span class="annottext">DirectiveInfo origin -&gt; [DirectiveInfo origin]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(DirectiveInfo origin -&gt; [DirectiveInfo origin])
-&gt; DirectiveInfo origin -&gt; [DirectiveInfo origin]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Directive origin m -&gt; DirectiveInfo origin
forall origin (m :: * -&gt; *).
Directive origin m -&gt; DirectiveInfo origin
</span><a href="Hasura.GraphQL.Parser.Directives.html#dDefinition"><span class="hs-identifier hs-var hs-var">dDefinition</span></a></span><span> </span><span class="annot"><span class="annottext">Directive origin m
</span><a href="#local-6989586621689202544"><span class="hs-identifier hs-var">dir</span></a></span><span>
</span><span id="line-84"></span><span>
</span><span id="line-85"></span><span class="hs-comment">-- | Not exported, only used internally; identical to 'directivesInfo', but also</span><span>
</span><span id="line-86"></span><span class="hs-comment">-- contains hidden directives.</span><span>
</span><span id="line-87"></span><span class="annot"><a href="Hasura.GraphQL.Parser.Directives.html#allDirectives"><span class="hs-identifier hs-type">allDirectives</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621689202716"><span class="annot"><a href="#local-6989586621689202716"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span id="local-6989586621689202717"><span class="annot"><a href="#local-6989586621689202717"><span class="hs-identifier hs-type">origin</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Parser.Class.Parse.html#MonadParse"><span class="hs-identifier hs-type">MonadParse</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689202716"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Hasura.GraphQL.Parser.Schema.html#DirectiveInfo"><span class="hs-identifier hs-type">DirectiveInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689202717"><span class="hs-identifier hs-type">origin</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-88"></span><span id="allDirectives"><span class="annot"><span class="annottext">allDirectives :: [DirectiveInfo origin]
</span><a href="Hasura.GraphQL.Parser.Directives.html#allDirectives"><span class="hs-identifier hs-var hs-var">allDirectives</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Directive origin m -&gt; DirectiveInfo origin)
-&gt; [Directive origin m] -&gt; [DirectiveInfo origin]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">Directive origin m -&gt; DirectiveInfo origin
forall origin (m :: * -&gt; *).
Directive origin m -&gt; DirectiveInfo origin
</span><a href="Hasura.GraphQL.Parser.Directives.html#dDefinition"><span class="hs-identifier hs-var hs-var">dDefinition</span></a></span><span> </span><span class="annot"><span class="annottext">([Directive origin m] -&gt; [DirectiveInfo origin])
-&gt; [Directive origin m] -&gt; [DirectiveInfo origin]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">forall origin. MonadParse m =&gt; [Directive origin m]
forall (m :: * -&gt; *) origin. MonadParse m =&gt; [Directive origin m]
</span><a href="Hasura.GraphQL.Parser.Directives.html#inclusionDirectives"><span class="hs-identifier hs-var">inclusionDirectives</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621689202716"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><span class="annottext">[Directive origin m]
-&gt; [Directive origin m] -&gt; [Directive origin m]
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">forall origin. MonadParse m =&gt; [Directive origin m]
forall (m :: * -&gt; *) origin. MonadParse m =&gt; [Directive origin m]
</span><a href="Hasura.GraphQL.Parser.Directives.html#customDirectives"><span class="hs-identifier hs-var">customDirectives</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621689202716"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-89"></span><span>
</span><span id="line-90"></span><span class="annot"><a href="Hasura.GraphQL.Parser.Directives.html#inclusionDirectives"><span class="hs-identifier hs-type">inclusionDirectives</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621689202769"><span class="annot"><a href="#local-6989586621689202769"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span id="local-6989586621689202770"><span class="annot"><a href="#local-6989586621689202770"><span class="hs-identifier hs-type">origin</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Parser.Class.Parse.html#MonadParse"><span class="hs-identifier hs-type">MonadParse</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689202769"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Hasura.GraphQL.Parser.Directives.html#Directive"><span class="hs-identifier hs-type">Directive</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689202770"><span class="hs-identifier hs-type">origin</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689202769"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-91"></span><span id="inclusionDirectives"><span class="annot"><span class="annottext">inclusionDirectives :: [Directive origin m]
</span><a href="Hasura.GraphQL.Parser.Directives.html#inclusionDirectives"><span class="hs-identifier hs-var hs-var">inclusionDirectives</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">forall origin. MonadParse m =&gt; Directive origin m
forall (m :: * -&gt; *) origin. MonadParse m =&gt; Directive origin m
</span><a href="Hasura.GraphQL.Parser.Directives.html#includeDirective"><span class="hs-identifier hs-var">includeDirective</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621689202769"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall origin. MonadParse m =&gt; Directive origin m
forall (m :: * -&gt; *) origin. MonadParse m =&gt; Directive origin m
</span><a href="Hasura.GraphQL.Parser.Directives.html#skipDirective"><span class="hs-identifier hs-var">skipDirective</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621689202769"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-92"></span><span>
</span><span id="line-93"></span><span class="annot"><a href="Hasura.GraphQL.Parser.Directives.html#customDirectives"><span class="hs-identifier hs-type">customDirectives</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621689202540"><span class="annot"><a href="#local-6989586621689202540"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span id="local-6989586621689202539"><span class="annot"><a href="#local-6989586621689202539"><span class="hs-identifier hs-type">origin</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Parser.Class.Parse.html#MonadParse"><span class="hs-identifier hs-type">MonadParse</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689202540"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Hasura.GraphQL.Parser.Directives.html#Directive"><span class="hs-identifier hs-type">Directive</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689202539"><span class="hs-identifier hs-type">origin</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689202540"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-94"></span><span id="customDirectives"><span class="annot"><span class="annottext">customDirectives :: [Directive origin m]
</span><a href="Hasura.GraphQL.Parser.Directives.html#customDirectives"><span class="hs-identifier hs-var hs-var">customDirectives</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">forall origin. MonadParse m =&gt; Directive origin m
forall (m :: * -&gt; *) origin. MonadParse m =&gt; Directive origin m
</span><a href="Hasura.GraphQL.Parser.Directives.html#cachedDirective"><span class="hs-identifier hs-var">cachedDirective</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621689202540"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">forall origin. MonadParse m =&gt; Directive origin m
forall (m :: * -&gt; *) origin. MonadParse m =&gt; Directive origin m
</span><a href="Hasura.GraphQL.Parser.Directives.html#multipleRootFieldsDirective"><span class="hs-identifier hs-var">multipleRootFieldsDirective</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621689202540"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-95"></span><span>
</span><span id="line-96"></span><span class="hs-comment">-- | Parses directives, given a location. Ensures that all directives are known</span><span>
</span><span id="line-97"></span><span class="hs-comment">-- and match the location; subsequently builds a dependent map of the results,</span><span>
</span><span id="line-98"></span><span class="hs-comment">-- that can be then introspected with @withDirective@. The list of parsers that</span><span>
</span><span id="line-99"></span><span class="hs-comment">-- should be applied is given as an argument: if a valid directive is found, but</span><span>
</span><span id="line-100"></span><span class="hs-comment">-- for which no parser is provided, it will be ignored.</span><span>
</span><span id="line-101"></span><span class="hs-comment">--</span><span>
</span><span id="line-102"></span><span class="hs-comment">-- Example use:</span><span>
</span><span id="line-103"></span><span class="hs-comment">--</span><span>
</span><span id="line-104"></span><span class="hs-comment">--     dMap &lt;- parseDirectives customDirectives (DLExecutable EDLQUERY) directives</span><span>
</span><span id="line-105"></span><span class="hs-comment">--     withDirective dMap cached $ onJust \_ -&gt; tagAsCached</span><span>
</span><span id="line-106"></span><span class="annot"><a href="Hasura.GraphQL.Parser.Directives.html#parseDirectives"><span class="hs-identifier hs-type">parseDirectives</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-107"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621689202538"><span class="annot"><a href="#local-6989586621689202538"><span class="hs-identifier hs-type">origin</span></a></span></span><span> </span><span id="local-6989586621689202537"><span class="annot"><a href="#local-6989586621689202537"><span class="hs-identifier hs-type">m</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-108"></span><span>  </span><span class="annot"><a href="Hasura.GraphQL.Parser.Class.Parse.html#MonadParse"><span class="hs-identifier hs-type">MonadParse</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689202537"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-109"></span><span>  </span><span class="hs-special">[</span><span class="annot"><a href="Hasura.GraphQL.Parser.Directives.html#Directive"><span class="hs-identifier hs-type">Directive</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689202538"><span class="hs-identifier hs-type">origin</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689202537"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-110"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">G.DirectiveLocation</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-111"></span><span>  </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">G.Directive</span></span><span> </span><span class="annot"><a href="Hasura.GraphQL.Parser.Variable.html#Variable"><span class="hs-identifier hs-type">Variable</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-112"></span><span>  </span><span class="annot"><a href="#local-6989586621689202537"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="Hasura.GraphQL.Parser.Directives.html#DirectiveMap"><span class="hs-identifier hs-type">DirectiveMap</span></a></span><span>
</span><span id="line-113"></span><span id="parseDirectives"><span class="annot"><span class="annottext">parseDirectives :: [Directive origin m]
-&gt; DirectiveLocation -&gt; [Directive Variable] -&gt; m DirectiveMap
</span><a href="Hasura.GraphQL.Parser.Directives.html#parseDirectives"><span class="hs-identifier hs-var hs-var">parseDirectives</span></a></span></span><span> </span><span id="local-6989586621689202536"><span class="annot"><span class="annottext">[Directive origin m]
</span><a href="#local-6989586621689202536"><span class="hs-identifier hs-var">directiveParsers</span></a></span></span><span> </span><span id="local-6989586621689202535"><span class="annot"><span class="annottext">DirectiveLocation
</span><a href="#local-6989586621689202535"><span class="hs-identifier hs-var">location</span></a></span></span><span> </span><span id="local-6989586621689202534"><span class="annot"><span class="annottext">[Directive Variable]
</span><a href="#local-6989586621689202534"><span class="hs-identifier hs-var">givenDirectives</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-114"></span><span>  </span><span id="local-6989586621689202533"><span class="annot"><span class="annottext">[(Name, DSum DirectiveKey Identity)]
</span><a href="#local-6989586621689202533"><span class="hs-identifier hs-var">result</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-115"></span><span>    </span><span class="annot"><span class="annottext">[Maybe (Name, DSum DirectiveKey Identity)]
-&gt; [(Name, DSum DirectiveKey Identity)]
forall a. [Maybe a] -&gt; [a]
</span><span class="hs-identifier hs-var">catMaybes</span></span><span> </span><span class="annot"><span class="annottext">([Maybe (Name, DSum DirectiveKey Identity)]
 -&gt; [(Name, DSum DirectiveKey Identity)])
-&gt; m [Maybe (Name, DSum DirectiveKey Identity)]
-&gt; m [(Name, DSum DirectiveKey Identity)]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">[Directive Variable]
-&gt; (Directive Variable
    -&gt; m (Maybe (Name, DSum DirectiveKey Identity)))
-&gt; m [Maybe (Name, DSum DirectiveKey Identity)]
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
t a -&gt; (a -&gt; f b) -&gt; f (t b)
</span><span class="hs-identifier hs-var">for</span></span><span> </span><span class="annot"><span class="annottext">[Directive Variable]
</span><a href="#local-6989586621689202534"><span class="hs-identifier hs-var">givenDirectives</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621689202531"><span class="annot"><span class="annottext">Directive Variable
</span><a href="#local-6989586621689202531"><span class="hs-identifier hs-var">directive</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-116"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621689202530"><span class="annot"><span class="annottext">name :: Name
</span><a href="#local-6989586621689202530"><span class="hs-identifier hs-var hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Directive Variable -&gt; Name
forall var. Directive var -&gt; Name
</span><span class="hs-identifier hs-var hs-var">G._dName</span></span><span> </span><span class="annot"><span class="annottext">Directive Variable
</span><a href="#local-6989586621689202531"><span class="hs-identifier hs-var">directive</span></a></span><span>
</span><span id="line-117"></span><span>      </span><span class="hs-comment">-- check the directive has a matching definition</span><span>
</span><span id="line-118"></span><span>      </span><span class="annot"><a href="Hasura.GraphQL.Parser.Schema.html#DirectiveInfo"><span class="hs-identifier hs-type">DirectiveInfo</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621689202527"><span class="annot"><span class="annottext">[DirectiveLocation]
diLocations :: forall origin. DirectiveInfo origin -&gt; [DirectiveLocation]
diLocations :: [DirectiveLocation]
</span><a href="Hasura.GraphQL.Parser.Schema.html#diLocations"><span class="hs-identifier hs-var hs-var">diLocations</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-119"></span><span>        </span><span class="annot"><span class="annottext">m (DirectiveInfo Any)
-&gt; (DirectiveInfo Any -&gt; m (DirectiveInfo Any))
-&gt; Maybe (DirectiveInfo Any)
-&gt; m (DirectiveInfo Any)
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><span class="hs-identifier hs-var">maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; m (DirectiveInfo Any)
forall (m :: * -&gt; *) a. MonadParse m =&gt; Text -&gt; m a
</span><a href="Hasura.GraphQL.Parser.Class.Parse.html#parseError"><span class="hs-identifier hs-var">parseError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;directive &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689202530"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Text -&gt; Text
forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><a href="Data.Text.Extended.html#%3C%3C%3E"><span class="hs-operator hs-var">&lt;&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; is not defined in the schema&quot;</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">DirectiveInfo Any -&gt; m (DirectiveInfo Any)
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(Maybe (DirectiveInfo Any) -&gt; m (DirectiveInfo Any))
-&gt; Maybe (DirectiveInfo Any) -&gt; m (DirectiveInfo Any)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-120"></span><span>          </span><span class="annot"><span class="annottext">(DirectiveInfo Any -&gt; Bool)
-&gt; [DirectiveInfo Any] -&gt; Maybe (DirectiveInfo Any)
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Maybe a
</span><span class="hs-identifier hs-var">L.find</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621689202521"><span class="annot"><span class="annottext">DirectiveInfo Any
</span><a href="#local-6989586621689202521"><span class="hs-identifier hs-var">di</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DirectiveInfo Any -&gt; Name
forall origin. DirectiveInfo origin -&gt; Name
</span><a href="Hasura.GraphQL.Parser.Schema.html#diName"><span class="hs-identifier hs-var hs-var">diName</span></a></span><span> </span><span class="annot"><span class="annottext">DirectiveInfo Any
</span><a href="#local-6989586621689202521"><span class="hs-identifier hs-var">di</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Name -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689202530"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall origin. MonadParse m =&gt; [DirectiveInfo origin]
forall (m :: * -&gt; *) origin. MonadParse m =&gt; [DirectiveInfo origin]
</span><a href="Hasura.GraphQL.Parser.Directives.html#allDirectives"><span class="hs-identifier hs-var">allDirectives</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621689202537"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-121"></span><span>      </span><span class="hs-comment">-- check that it is allowed at the current location</span><span>
</span><span id="line-122"></span><span>      </span><span class="annot"><span class="annottext">Bool -&gt; m () -&gt; m ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">unless</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DirectiveLocation
</span><a href="#local-6989586621689202535"><span class="hs-identifier hs-var">location</span></a></span><span> </span><span class="annot"><span class="annottext">DirectiveLocation -&gt; [DirectiveLocation] -&gt; Bool
forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><span class="hs-operator hs-var">`elem`</span></span><span> </span><span class="annot"><span class="annottext">[DirectiveLocation]
</span><a href="#local-6989586621689202527"><span class="hs-identifier hs-var">diLocations</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(m () -&gt; m ()) -&gt; m () -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-123"></span><span>        </span><span class="annot"><span class="annottext">Text -&gt; m ()
forall (m :: * -&gt; *) a. MonadParse m =&gt; Text -&gt; m a
</span><a href="Hasura.GraphQL.Parser.Class.Parse.html#parseError"><span class="hs-identifier hs-var">parseError</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; m ()) -&gt; Text -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;directive &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689202530"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Text -&gt; Text
forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><a href="Data.Text.Extended.html#%3C%3C%3E"><span class="hs-operator hs-var">&lt;&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; is not allowed on &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">DirectiveLocation -&gt; Text
</span><a href="#local-6989586621689202518"><span class="hs-identifier hs-var">humanReadable</span></a></span><span> </span><span class="annot"><span class="annottext">DirectiveLocation
</span><a href="#local-6989586621689202535"><span class="hs-identifier hs-var">location</span></a></span><span>
</span><span id="line-124"></span><span>      </span><span class="hs-comment">-- if we are expecting to parse it now, create a dmap entry</span><span>
</span><span id="line-125"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">(Directive origin m -&gt; Bool)
-&gt; [Directive origin m] -&gt; Maybe (Directive origin m)
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Maybe a
</span><span class="hs-identifier hs-var">L.find</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621689202517"><span class="annot"><span class="annottext">Directive origin m
</span><a href="#local-6989586621689202517"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DirectiveInfo origin -&gt; Name
forall origin. DirectiveInfo origin -&gt; Name
</span><a href="Hasura.GraphQL.Parser.Schema.html#diName"><span class="hs-identifier hs-var hs-var">diName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Directive origin m -&gt; DirectiveInfo origin
forall origin (m :: * -&gt; *).
Directive origin m -&gt; DirectiveInfo origin
</span><a href="Hasura.GraphQL.Parser.Directives.html#dDefinition"><span class="hs-identifier hs-var hs-var">dDefinition</span></a></span><span> </span><span class="annot"><span class="annottext">Directive origin m
</span><a href="#local-6989586621689202517"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Name -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689202530"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Directive origin m]
</span><a href="#local-6989586621689202536"><span class="hs-identifier hs-var">directiveParsers</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-126"></span><span>        </span><span class="annot"><span class="annottext">Maybe (Directive origin m)
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (Name, DSum DirectiveKey Identity)
-&gt; m (Maybe (Name, DSum DirectiveKey Identity))
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Maybe (Name, DSum DirectiveKey Identity)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-127"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.Parser.Directives.html#Directive"><span class="hs-identifier hs-type">Directive</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621689202515"><span class="annot"><span class="annottext">Directive Variable -&gt; m a
dParser :: ()
dParser :: Directive Variable -&gt; m a
</span><a href="Hasura.GraphQL.Parser.Directives.html#dParser"><span class="hs-identifier hs-var hs-var">dParser</span></a></span></span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-128"></span><span>          </span><span id="local-6989586621689202513"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621689202513"><span class="hs-identifier hs-var">result</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Directive Variable -&gt; m a
</span><a href="#local-6989586621689202515"><span class="hs-identifier hs-var">dParser</span></a></span><span> </span><span class="annot"><span class="annottext">Directive Variable
</span><a href="#local-6989586621689202531"><span class="hs-identifier hs-var">directive</span></a></span><span>
</span><span id="line-129"></span><span>          </span><span class="annot"><span class="annottext">Maybe (Name, DSum DirectiveKey Identity)
-&gt; m (Maybe (Name, DSum DirectiveKey Identity))
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(Maybe (Name, DSum DirectiveKey Identity)
 -&gt; m (Maybe (Name, DSum DirectiveKey Identity)))
-&gt; Maybe (Name, DSum DirectiveKey Identity)
-&gt; m (Maybe (Name, DSum DirectiveKey Identity))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Name, DSum DirectiveKey Identity)
-&gt; Maybe (Name, DSum DirectiveKey Identity)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689202530"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Name -&gt; DirectiveKey a
forall a. Typeable a =&gt; Name -&gt; DirectiveKey a
</span><a href="Hasura.GraphQL.Parser.Directives.html#DirectiveKey"><span class="hs-identifier hs-var">DirectiveKey</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689202530"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">DirectiveKey a -&gt; Identity a -&gt; DSum DirectiveKey Identity
forall k (tag :: k -&gt; *) (f :: k -&gt; *) (a :: k).
tag a -&gt; f a -&gt; DSum tag f
</span><span class="hs-operator hs-var">:=&gt;</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; Identity a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621689202513"><span class="hs-identifier hs-var">result</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-130"></span><span>  </span><span class="hs-comment">-- check that the result does not contain duplicates</span><span>
</span><span id="line-131"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621689202510"><span class="annot"><span class="annottext">dups :: HashSet Name
</span><a href="#local-6989586621689202510"><span class="hs-identifier hs-var hs-var">dups</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Name] -&gt; HashSet Name
</span><a href="#local-6989586621689202509"><span class="hs-identifier hs-var">duplicates</span></a></span><span> </span><span class="annot"><span class="annottext">([Name] -&gt; HashSet Name) -&gt; [Name] -&gt; HashSet Name
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Name, DSum DirectiveKey Identity) -&gt; Name
forall a b. (a, b) -&gt; a
</span><span class="hs-identifier hs-var">fst</span></span><span> </span><span class="annot"><span class="annottext">((Name, DSum DirectiveKey Identity) -&gt; Name)
-&gt; [(Name, DSum DirectiveKey Identity)] -&gt; [Name]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">[(Name, DSum DirectiveKey Identity)]
</span><a href="#local-6989586621689202533"><span class="hs-identifier hs-var">result</span></a></span><span>
</span><span id="line-132"></span><span>  </span><span class="annot"><span class="annottext">Bool -&gt; m () -&gt; m ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">unless</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HashSet Name -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">HashSet Name
</span><a href="#local-6989586621689202510"><span class="hs-identifier hs-var">dups</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(m () -&gt; m ()) -&gt; m () -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-133"></span><span>    </span><span class="annot"><span class="annottext">Text -&gt; m ()
forall (m :: * -&gt; *) a. MonadParse m =&gt; Text -&gt; m a
</span><a href="Hasura.GraphQL.Parser.Class.Parse.html#parseError"><span class="hs-identifier hs-var">parseError</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; m ()) -&gt; Text -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;the following directives are used more than once: &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">HashSet Name -&gt; Text
forall t (f :: * -&gt; *). (ToTxt t, Foldable f) =&gt; f t -&gt; Text
</span><a href="Data.Text.Extended.html#commaSeparated"><span class="hs-identifier hs-var">commaSeparated</span></a></span><span> </span><span class="annot"><span class="annottext">HashSet Name
</span><a href="#local-6989586621689202510"><span class="hs-identifier hs-var">dups</span></a></span><span>
</span><span id="line-134"></span><span>  </span><span class="annot"><span class="annottext">DirectiveMap -&gt; m DirectiveMap
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(DirectiveMap -&gt; m DirectiveMap) -&gt; DirectiveMap -&gt; m DirectiveMap
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[DSum DirectiveKey Identity] -&gt; DirectiveMap
forall k1 (k2 :: k1 -&gt; *) (f :: k1 -&gt; *).
GCompare k2 =&gt;
[DSum k2 f] -&gt; DMap k2 f
</span><span class="hs-identifier hs-var">DM.fromList</span></span><span> </span><span class="annot"><span class="annottext">([DSum DirectiveKey Identity] -&gt; DirectiveMap)
-&gt; [DSum DirectiveKey Identity] -&gt; DirectiveMap
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Name, DSum DirectiveKey Identity) -&gt; DSum DirectiveKey Identity
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span> </span><span class="annot"><span class="annottext">((Name, DSum DirectiveKey Identity) -&gt; DSum DirectiveKey Identity)
-&gt; [(Name, DSum DirectiveKey Identity)]
-&gt; [DSum DirectiveKey Identity]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">[(Name, DSum DirectiveKey Identity)]
</span><a href="#local-6989586621689202533"><span class="hs-identifier hs-var">result</span></a></span><span>
</span><span id="line-135"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-136"></span><span>    </span><span id="local-6989586621689202518"><span class="annot"><span class="annottext">humanReadable :: DirectiveLocation -&gt; Text
</span><a href="#local-6989586621689202518"><span class="hs-identifier hs-var hs-var">humanReadable</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-137"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">G.DLExecutable</span></span><span> </span><span class="annot"><span class="annottext">ExecutableDirectiveLocation
</span><span class="hs-identifier hs-var">G.EDLQUERY</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;a query&quot;</span></span><span>
</span><span id="line-138"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">G.DLExecutable</span></span><span> </span><span class="annot"><span class="annottext">ExecutableDirectiveLocation
</span><span class="hs-identifier hs-var">G.EDLMUTATION</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;a mutation&quot;</span></span><span>
</span><span id="line-139"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">G.DLExecutable</span></span><span> </span><span class="annot"><span class="annottext">ExecutableDirectiveLocation
</span><span class="hs-identifier hs-var">G.EDLSUBSCRIPTION</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;a subscription&quot;</span></span><span>
</span><span id="line-140"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">G.DLExecutable</span></span><span> </span><span class="annot"><span class="annottext">ExecutableDirectiveLocation
</span><span class="hs-identifier hs-var">G.EDLFIELD</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;a field&quot;</span></span><span>
</span><span id="line-141"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">G.DLExecutable</span></span><span> </span><span class="annot"><span class="annottext">ExecutableDirectiveLocation
</span><span class="hs-identifier hs-var">G.EDLFRAGMENT_DEFINITION</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;a fragment definition&quot;</span></span><span>
</span><span id="line-142"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">G.DLExecutable</span></span><span> </span><span class="annot"><span class="annottext">ExecutableDirectiveLocation
</span><span class="hs-identifier hs-var">G.EDLFRAGMENT_SPREAD</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;a fragment spread&quot;</span></span><span>
</span><span id="line-143"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">G.DLExecutable</span></span><span> </span><span class="annot"><span class="annottext">ExecutableDirectiveLocation
</span><span class="hs-identifier hs-var">G.EDLINLINE_FRAGMENT</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;an inline fragment&quot;</span></span><span>
</span><span id="line-144"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">G.DLTypeSystem</span></span><span> </span><span class="annot"><span class="annottext">TypeSystemDirectiveLocation
</span><span class="hs-identifier hs-var">G.TSDLSCHEMA</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;the schema&quot;</span></span><span>
</span><span id="line-145"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">G.DLTypeSystem</span></span><span> </span><span class="annot"><span class="annottext">TypeSystemDirectiveLocation
</span><span class="hs-identifier hs-var">G.TSDLSCALAR</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;a scalar definition&quot;</span></span><span>
</span><span id="line-146"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">G.DLTypeSystem</span></span><span> </span><span class="annot"><span class="annottext">TypeSystemDirectiveLocation
</span><span class="hs-identifier hs-var">G.TSDLOBJECT</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;an object definition&quot;</span></span><span>
</span><span id="line-147"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">G.DLTypeSystem</span></span><span> </span><span class="annot"><span class="annottext">TypeSystemDirectiveLocation
</span><span class="hs-identifier hs-var">G.TSDLFIELD_DEFINITION</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;a field definition&quot;</span></span><span>
</span><span id="line-148"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">G.DLTypeSystem</span></span><span> </span><span class="annot"><span class="annottext">TypeSystemDirectiveLocation
</span><span class="hs-identifier hs-var">G.TSDLARGUMENT_DEFINITION</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;an argument definition&quot;</span></span><span>
</span><span id="line-149"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">G.DLTypeSystem</span></span><span> </span><span class="annot"><span class="annottext">TypeSystemDirectiveLocation
</span><span class="hs-identifier hs-var">G.TSDLINTERFACE</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;an interface definition&quot;</span></span><span>
</span><span id="line-150"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">G.DLTypeSystem</span></span><span> </span><span class="annot"><span class="annottext">TypeSystemDirectiveLocation
</span><span class="hs-identifier hs-var">G.TSDLUNION</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;an union definition&quot;</span></span><span>
</span><span id="line-151"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">G.DLTypeSystem</span></span><span> </span><span class="annot"><span class="annottext">TypeSystemDirectiveLocation
</span><span class="hs-identifier hs-var">G.TSDLENUM</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;an enum definition&quot;</span></span><span>
</span><span id="line-152"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">G.DLTypeSystem</span></span><span> </span><span class="annot"><span class="annottext">TypeSystemDirectiveLocation
</span><span class="hs-identifier hs-var">G.TSDLENUM_VALUE</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;an enum value definition&quot;</span></span><span>
</span><span id="line-153"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">G.DLTypeSystem</span></span><span> </span><span class="annot"><span class="annottext">TypeSystemDirectiveLocation
</span><span class="hs-identifier hs-var">G.TSDLINPUT_OBJECT</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;an input object definition&quot;</span></span><span>
</span><span id="line-154"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">G.DLTypeSystem</span></span><span> </span><span class="annot"><span class="annottext">TypeSystemDirectiveLocation
</span><span class="hs-identifier hs-var">G.TSDLINPUT_FIELD_DEFINITION</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;an input field definition&quot;</span></span><span>
</span><span id="line-155"></span><span>    </span><span id="local-6989586621689202509"><span class="annot"><span class="annottext">duplicates :: [Name] -&gt; HashSet Name
</span><a href="#local-6989586621689202509"><span class="hs-identifier hs-var hs-var">duplicates</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Name] -&gt; HashSet Name
forall a. (Eq a, Hashable a) =&gt; [a] -&gt; HashSet a
</span><span class="hs-identifier hs-var">S.fromList</span></span><span> </span><span class="annot"><span class="annottext">([Name] -&gt; HashSet Name)
-&gt; ([Name] -&gt; [Name]) -&gt; [Name] -&gt; HashSet Name
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">HashMap Name Int -&gt; [Name]
forall k v. HashMap k v -&gt; [k]
</span><span class="hs-identifier hs-var">M.keys</span></span><span> </span><span class="annot"><span class="annottext">(HashMap Name Int -&gt; [Name])
-&gt; ([Name] -&gt; HashMap Name Int) -&gt; [Name] -&gt; [Name]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; Bool) -&gt; HashMap Name Int -&gt; HashMap Name Int
forall v k. (v -&gt; Bool) -&gt; HashMap k v -&gt; HashMap k v
</span><span class="hs-identifier hs-var">M.filter</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Bool
forall a. Ord a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(HashMap Name Int -&gt; HashMap Name Int)
-&gt; ([Name] -&gt; HashMap Name Int) -&gt; [Name] -&gt; HashMap Name Int
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; Int -&gt; Int) -&gt; [(Name, Int)] -&gt; HashMap Name Int
forall k v.
(Eq k, Hashable k) =&gt;
(v -&gt; v -&gt; v) -&gt; [(k, v)] -&gt; HashMap k v
</span><span class="hs-identifier hs-var">M.fromListWith</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(+)</span></span><span> </span><span class="annot"><span class="annottext">([(Name, Int)] -&gt; HashMap Name Int)
-&gt; ([Name] -&gt; [(Name, Int)]) -&gt; [Name] -&gt; HashMap Name Int
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Name -&gt; (Name, Int)) -&gt; [Name] -&gt; [(Name, Int)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-special">,</span></span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span>
</span><span id="line-156"></span><span>
</span><span id="line-157"></span><span id="local-6989586621689202476"><span id="local-6989586621689202477"><span id="local-6989586621689202478"><span class="annot"><a href="Hasura.GraphQL.Parser.Directives.html#withDirective"><span class="hs-identifier hs-type">withDirective</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-158"></span><span>  </span><span class="annot"><a href="Hasura.GraphQL.Parser.Directives.html#DirectiveMap"><span class="hs-identifier hs-type">DirectiveMap</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-159"></span><span>  </span><span class="annot"><a href="Hasura.GraphQL.Parser.Directives.html#DirectiveKey"><span class="hs-identifier hs-type">DirectiveKey</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689202478"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-160"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="#local-6989586621689202478"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621689202477"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689202476"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-161"></span><span>  </span><span class="annot"><a href="#local-6989586621689202477"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689202476"><span class="hs-identifier hs-type">b</span></a></span></span></span></span><span>
</span><span id="line-162"></span><span id="withDirective"><span class="annot"><span class="annottext">withDirective :: DirectiveMap -&gt; DirectiveKey a -&gt; (Maybe a -&gt; m b) -&gt; m b
</span><a href="Hasura.GraphQL.Parser.Directives.html#withDirective"><span class="hs-identifier hs-var hs-var">withDirective</span></a></span></span><span> </span><span id="local-6989586621689202475"><span class="annot"><span class="annottext">DirectiveMap
</span><a href="#local-6989586621689202475"><span class="hs-identifier hs-var">dmap</span></a></span></span><span> </span><span id="local-6989586621689202474"><span class="annot"><span class="annottext">DirectiveKey a
</span><a href="#local-6989586621689202474"><span class="hs-identifier hs-var">key</span></a></span></span><span> </span><span id="local-6989586621689202473"><span class="annot"><span class="annottext">Maybe a -&gt; m b
</span><a href="#local-6989586621689202473"><span class="hs-identifier hs-var">callback</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe a -&gt; m b
</span><a href="#local-6989586621689202473"><span class="hs-identifier hs-var">callback</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe a -&gt; m b) -&gt; Maybe a -&gt; m b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Identity a -&gt; a
forall a. Identity a -&gt; a
</span><span class="hs-identifier hs-var hs-var">runIdentity</span></span><span> </span><span class="annot"><span class="annottext">(Identity a -&gt; a) -&gt; Maybe (Identity a) -&gt; Maybe a
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">DirectiveKey a -&gt; DirectiveMap -&gt; Maybe (Identity a)
forall k1 (k2 :: k1 -&gt; *) (f :: k1 -&gt; *) (v :: k1).
GCompare k2 =&gt;
k2 v -&gt; DMap k2 f -&gt; Maybe (f v)
</span><span class="hs-identifier hs-var">DM.lookup</span></span><span> </span><span class="annot"><span class="annottext">DirectiveKey a
</span><a href="#local-6989586621689202474"><span class="hs-identifier hs-var">key</span></a></span><span> </span><span class="annot"><span class="annottext">DirectiveMap
</span><a href="#local-6989586621689202475"><span class="hs-identifier hs-var">dmap</span></a></span><span>
</span><span id="line-163"></span><span>
</span><span id="line-164"></span><span class="hs-comment">-- Cached custom directive.</span><span>
</span><span id="line-165"></span><span>
</span><span id="line-166"></span><span class="annot"><a href="Hasura.GraphQL.Parser.Directives.html#cachedDirective"><span class="hs-identifier hs-type">cachedDirective</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621689202470"><span class="annot"><a href="#local-6989586621689202470"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span id="local-6989586621689202748"><span class="annot"><a href="#local-6989586621689202748"><span class="hs-identifier hs-type">origin</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Parser.Class.Parse.html#MonadParse"><span class="hs-identifier hs-type">MonadParse</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689202470"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Parser.Directives.html#Directive"><span class="hs-identifier hs-type">Directive</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689202748"><span class="hs-identifier hs-type">origin</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689202470"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-167"></span><span id="cachedDirective"><span class="annot"><span class="annottext">cachedDirective :: Directive origin m
</span><a href="Hasura.GraphQL.Parser.Directives.html#cachedDirective"><span class="hs-identifier hs-var hs-var">cachedDirective</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-168"></span><span>  </span><span class="annot"><span class="annottext">Name
-&gt; Maybe Description
-&gt; Bool
-&gt; [DirectiveLocation]
-&gt; InputFieldsParser origin m CachedDirective
-&gt; Directive origin m
forall (m :: * -&gt; *) a origin.
(MonadParse m, Typeable a) =&gt;
Name
-&gt; Maybe Description
-&gt; Bool
-&gt; [DirectiveLocation]
-&gt; InputFieldsParser origin m a
-&gt; Directive origin m
</span><a href="Hasura.GraphQL.Parser.Directives.html#mkDirective"><span class="hs-identifier hs-var">mkDirective</span></a></span><span>
</span><span id="line-169"></span><span>    </span><span class="annot"><span class="annottext">Name
</span><a href="Hasura.GraphQL.Parser.DirectiveName.html#_cached"><span class="hs-identifier hs-var">Name._cached</span></a></span><span>
</span><span id="line-170"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Description -&gt; Maybe Description
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Description
</span><span class="hs-string">&quot;whether this query should be cached (Hasura Cloud only)&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-171"></span><span>    </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-172"></span><span>    </span><span class="hs-special">[</span><span class="annot"><span class="annottext">ExecutableDirectiveLocation -&gt; DirectiveLocation
</span><span class="hs-identifier hs-var">G.DLExecutable</span></span><span> </span><span class="annot"><span class="annottext">ExecutableDirectiveLocation
</span><span class="hs-identifier hs-var">G.EDLQUERY</span></span><span class="hs-special">]</span><span>
</span><span id="line-173"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Bool -&gt; CachedDirective
</span><a href="Hasura.GraphQL.Parser.Directives.html#CachedDirective"><span class="hs-identifier hs-var">CachedDirective</span></a></span><span> </span><span class="annot"><span class="annottext">(Int -&gt; Bool -&gt; CachedDirective)
-&gt; InputFieldsParser origin m Int
-&gt; InputFieldsParser origin m (Bool -&gt; CachedDirective)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">InputFieldsParser origin m Int
</span><a href="#local-6989586621689202466"><span class="hs-identifier hs-var">ttlArgument</span></a></span><span> </span><span class="annot"><span class="annottext">InputFieldsParser origin m (Bool -&gt; CachedDirective)
-&gt; InputFieldsParser origin m Bool
-&gt; InputFieldsParser origin m CachedDirective
forall (f :: * -&gt; *) a b. Applicative f =&gt; f (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;*&gt;</span></span><span> </span><span class="annot"><span class="annottext">InputFieldsParser origin m Bool
</span><a href="#local-6989586621689202465"><span class="hs-identifier hs-var">forcedArgument</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-174"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-175"></span><span>    </span><span class="hs-comment">-- Optionally set the cache entry time to live</span><span>
</span><span id="line-176"></span><span>    </span><span class="annot"><a href="#local-6989586621689202466"><span class="hs-identifier hs-type">ttlArgument</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Parser.Internal.Input.html#InputFieldsParser"><span class="hs-identifier hs-type">InputFieldsParser</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689202748"><span class="hs-identifier hs-type">origin</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689202470"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-177"></span><span>    </span><span id="local-6989586621689202466"><span class="annot"><span class="annottext">ttlArgument :: InputFieldsParser origin m Int
</span><a href="#local-6989586621689202466"><span class="hs-identifier hs-var hs-var">ttlArgument</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name
-&gt; Maybe Description
-&gt; Value Void
-&gt; Parser origin 'Both m Int
-&gt; InputFieldsParser origin m Int
forall (m :: * -&gt; *) (k :: Kind) origin a.
(MonadParse m, 'Input &lt;: k) =&gt;
Name
-&gt; Maybe Description
-&gt; Value Void
-&gt; Parser origin k m a
-&gt; InputFieldsParser origin m a
</span><a href="Hasura.GraphQL.Parser.Internal.Input.html#fieldWithDefault"><span class="hs-identifier hs-var">fieldWithDefault</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Hasura.GraphQL.Parser.DirectiveName.html#_ttl"><span class="hs-identifier hs-var">Name._ttl</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Description -&gt; Maybe Description
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Description
</span><span class="hs-string">&quot;measured in seconds&quot;</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Integer -&gt; Value Void
forall var. Integer -&gt; Value var
</span><span class="hs-identifier hs-var">G.VInt</span></span><span> </span><span class="annot"><span class="annottext">Integer
</span><span class="hs-number">60</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Parser origin 'Both m Int -&gt; InputFieldsParser origin m Int)
-&gt; Parser origin 'Both m Int -&gt; InputFieldsParser origin m Int
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Int32 -&gt; Int
forall a b. (Integral a, Num b) =&gt; a -&gt; b
</span><span class="hs-identifier hs-var">fromIntegral</span></span><span> </span><span class="annot"><span class="annottext">(Int32 -&gt; Int)
-&gt; Parser origin 'Both m Int32 -&gt; Parser origin 'Both m Int
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Parser origin 'Both m Int32
forall (m :: * -&gt; *) origin.
MonadParse m =&gt;
Parser origin 'Both m Int32
</span><a href="Hasura.GraphQL.Parser.Internal.Scalars.html#int"><span class="hs-identifier hs-var">int</span></a></span><span>
</span><span id="line-178"></span><span>
</span><span id="line-179"></span><span>    </span><span class="hs-comment">-- Optionally Force a refresh of the cache entry</span><span>
</span><span id="line-180"></span><span>    </span><span class="annot"><a href="#local-6989586621689202465"><span class="hs-identifier hs-type">forcedArgument</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Parser.Internal.Input.html#InputFieldsParser"><span class="hs-identifier hs-type">InputFieldsParser</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689202748"><span class="hs-identifier hs-type">origin</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689202470"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-181"></span><span>    </span><span id="local-6989586621689202465"><span class="annot"><span class="annottext">forcedArgument :: InputFieldsParser origin m Bool
</span><a href="#local-6989586621689202465"><span class="hs-identifier hs-var hs-var">forcedArgument</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name
-&gt; Maybe Description
-&gt; Value Void
-&gt; Parser origin 'Both m Bool
-&gt; InputFieldsParser origin m Bool
forall (m :: * -&gt; *) (k :: Kind) origin a.
(MonadParse m, 'Input &lt;: k) =&gt;
Name
-&gt; Maybe Description
-&gt; Value Void
-&gt; Parser origin k m a
-&gt; InputFieldsParser origin m a
</span><a href="Hasura.GraphQL.Parser.Internal.Input.html#fieldWithDefault"><span class="hs-identifier hs-var">fieldWithDefault</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Hasura.GraphQL.Parser.DirectiveName.html#_refresh"><span class="hs-identifier hs-var">Name._refresh</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Description -&gt; Maybe Description
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Description
</span><span class="hs-string">&quot;refresh the cache entry&quot;</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Value Void
forall var. Bool -&gt; Value var
</span><span class="hs-identifier hs-var">G.VBoolean</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Parser origin 'Both m Bool
forall (m :: * -&gt; *) origin.
MonadParse m =&gt;
Parser origin 'Both m Bool
</span><a href="Hasura.GraphQL.Parser.Internal.Scalars.html#boolean"><span class="hs-identifier hs-var">boolean</span></a></span><span>
</span><span id="line-182"></span><span>
</span><span id="line-183"></span><span class="hs-keyword">data</span><span> </span><span id="CachedDirective"><span class="annot"><a href="Hasura.GraphQL.Parser.Directives.html#CachedDirective"><span class="hs-identifier hs-var">CachedDirective</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="CachedDirective"><span class="annot"><a href="Hasura.GraphQL.Parser.Directives.html#CachedDirective"><span class="hs-identifier hs-var">CachedDirective</span></a></span></span><span> </span><span class="hs-special">{</span><span id="cdTtl"><span class="annot"><span class="annottext">CachedDirective -&gt; Int
</span><a href="Hasura.GraphQL.Parser.Directives.html#cdTtl"><span class="hs-identifier hs-var hs-var">cdTtl</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">,</span><span> </span><span id="cdRefresh"><span class="annot"><span class="annottext">CachedDirective -&gt; Bool
</span><a href="Hasura.GraphQL.Parser.Directives.html#cdRefresh"><span class="hs-identifier hs-var hs-var">cdRefresh</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">}</span><span>
</span><span id="line-184"></span><span>
</span><span id="line-185"></span><span class="annot"><a href="Hasura.GraphQL.Parser.Directives.html#cached"><span class="hs-identifier hs-type">cached</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Parser.Directives.html#DirectiveKey"><span class="hs-identifier hs-type">DirectiveKey</span></a></span><span> </span><span class="annot"><a href="Hasura.GraphQL.Parser.Directives.html#CachedDirective"><span class="hs-identifier hs-type">CachedDirective</span></a></span><span>
</span><span id="line-186"></span><span id="cached"><span class="annot"><span class="annottext">cached :: DirectiveKey CachedDirective
</span><a href="Hasura.GraphQL.Parser.Directives.html#cached"><span class="hs-identifier hs-var hs-var">cached</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; DirectiveKey CachedDirective
forall a. Typeable a =&gt; Name -&gt; DirectiveKey a
</span><a href="Hasura.GraphQL.Parser.Directives.html#DirectiveKey"><span class="hs-identifier hs-var">DirectiveKey</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Hasura.GraphQL.Parser.DirectiveName.html#_cached"><span class="hs-identifier hs-var">Name._cached</span></a></span><span>
</span><span id="line-187"></span><span>
</span><span id="line-188"></span><span class="hs-comment">-- Subscription tests custom directive.</span><span>
</span><span id="line-189"></span><span>
</span><span id="line-190"></span><span id="local-6989586621689202454"><span id="local-6989586621689202455"><span class="annot"><a href="Hasura.GraphQL.Parser.Directives.html#multipleRootFieldsDirective"><span class="hs-identifier hs-type">multipleRootFieldsDirective</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Parser.Class.Parse.html#MonadParse"><span class="hs-identifier hs-type">MonadParse</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689202455"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Parser.Directives.html#Directive"><span class="hs-identifier hs-type">Directive</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689202454"><span class="hs-identifier hs-type">origin</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689202455"><span class="hs-identifier hs-type">m</span></a></span></span></span><span>
</span><span id="line-191"></span><span id="multipleRootFieldsDirective"><span class="annot"><span class="annottext">multipleRootFieldsDirective :: Directive origin m
</span><a href="Hasura.GraphQL.Parser.Directives.html#multipleRootFieldsDirective"><span class="hs-identifier hs-var hs-var">multipleRootFieldsDirective</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-192"></span><span>  </span><span class="annot"><span class="annottext">Name
-&gt; Maybe Description
-&gt; Bool
-&gt; [DirectiveLocation]
-&gt; InputFieldsParser origin m ()
-&gt; Directive origin m
forall (m :: * -&gt; *) a origin.
(MonadParse m, Typeable a) =&gt;
Name
-&gt; Maybe Description
-&gt; Bool
-&gt; [DirectiveLocation]
-&gt; InputFieldsParser origin m a
-&gt; Directive origin m
</span><a href="Hasura.GraphQL.Parser.Directives.html#mkDirective"><span class="hs-identifier hs-var">mkDirective</span></a></span><span>
</span><span id="line-193"></span><span>    </span><span class="annot"><span class="annottext">Name
</span><a href="Hasura.GraphQL.Parser.DirectiveName.html#__multiple_top_level_fields"><span class="hs-identifier hs-var">Name.__multiple_top_level_fields</span></a></span><span>
</span><span id="line-194"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Description -&gt; Maybe Description
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Description
</span><span class="hs-string">&quot;INTERNAL TESTING TOOL DO NOT USE&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-195"></span><span>    </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="hs-comment">-- not advertised in the schema</span><span>
</span><span id="line-196"></span><span>    </span><span class="hs-special">[</span><span class="annot"><span class="annottext">ExecutableDirectiveLocation -&gt; DirectiveLocation
</span><span class="hs-identifier hs-var">G.DLExecutable</span></span><span> </span><span class="annot"><span class="annottext">ExecutableDirectiveLocation
</span><span class="hs-identifier hs-var">G.EDLSUBSCRIPTION</span></span><span class="hs-special">]</span><span>
</span><span id="line-197"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">() -&gt; InputFieldsParser origin m ()
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-198"></span><span>
</span><span id="line-199"></span><span class="annot"><a href="Hasura.GraphQL.Parser.Directives.html#multipleRootFields"><span class="hs-identifier hs-type">multipleRootFields</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Parser.Directives.html#DirectiveKey"><span class="hs-identifier hs-type">DirectiveKey</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-200"></span><span id="multipleRootFields"><span class="annot"><span class="annottext">multipleRootFields :: DirectiveKey ()
</span><a href="Hasura.GraphQL.Parser.Directives.html#multipleRootFields"><span class="hs-identifier hs-var hs-var">multipleRootFields</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; DirectiveKey ()
forall a. Typeable a =&gt; Name -&gt; DirectiveKey a
</span><a href="Hasura.GraphQL.Parser.Directives.html#DirectiveKey"><span class="hs-identifier hs-var">DirectiveKey</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Hasura.GraphQL.Parser.DirectiveName.html#__multiple_top_level_fields"><span class="hs-identifier hs-var">Name.__multiple_top_level_fields</span></a></span><span>
</span><span id="line-201"></span><span>
</span><span id="line-202"></span><span class="hs-comment">-- Built-in inclusion directives</span><span>
</span><span id="line-203"></span><span>
</span><span id="line-204"></span><span id="local-6989586621689202451"><span id="local-6989586621689202452"><span class="annot"><a href="Hasura.GraphQL.Parser.Directives.html#skipDirective"><span class="hs-identifier hs-type">skipDirective</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Parser.Class.Parse.html#MonadParse"><span class="hs-identifier hs-type">MonadParse</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689202452"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Parser.Directives.html#Directive"><span class="hs-identifier hs-type">Directive</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689202451"><span class="hs-identifier hs-type">origin</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689202452"><span class="hs-identifier hs-type">m</span></a></span></span></span><span>
</span><span id="line-205"></span><span id="skipDirective"><span class="annot"><span class="annottext">skipDirective :: Directive origin m
</span><a href="Hasura.GraphQL.Parser.Directives.html#skipDirective"><span class="hs-identifier hs-var hs-var">skipDirective</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-206"></span><span>  </span><span class="annot"><span class="annottext">Name
-&gt; Maybe Description
-&gt; Bool
-&gt; [DirectiveLocation]
-&gt; InputFieldsParser origin m Bool
-&gt; Directive origin m
forall (m :: * -&gt; *) a origin.
(MonadParse m, Typeable a) =&gt;
Name
-&gt; Maybe Description
-&gt; Bool
-&gt; [DirectiveLocation]
-&gt; InputFieldsParser origin m a
-&gt; Directive origin m
</span><a href="Hasura.GraphQL.Parser.Directives.html#mkDirective"><span class="hs-identifier hs-var">mkDirective</span></a></span><span>
</span><span id="line-207"></span><span>    </span><span class="annot"><span class="annottext">Name
</span><a href="Hasura.GraphQL.Parser.DirectiveName.html#_skip"><span class="hs-identifier hs-var">Name._skip</span></a></span><span>
</span><span id="line-208"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Description -&gt; Maybe Description
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Description
</span><span class="hs-string">&quot;whether this query should be skipped&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-209"></span><span>    </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-210"></span><span>    </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">ExecutableDirectiveLocation -&gt; DirectiveLocation
</span><span class="hs-identifier hs-var">G.DLExecutable</span></span><span> </span><span class="annot"><span class="annottext">ExecutableDirectiveLocation
</span><span class="hs-identifier hs-var">G.EDLFIELD</span></span><span class="hs-special">,</span><span>
</span><span id="line-211"></span><span>      </span><span class="annot"><span class="annottext">ExecutableDirectiveLocation -&gt; DirectiveLocation
</span><span class="hs-identifier hs-var">G.DLExecutable</span></span><span> </span><span class="annot"><span class="annottext">ExecutableDirectiveLocation
</span><span class="hs-identifier hs-var">G.EDLFRAGMENT_SPREAD</span></span><span class="hs-special">,</span><span>
</span><span id="line-212"></span><span>      </span><span class="annot"><span class="annottext">ExecutableDirectiveLocation -&gt; DirectiveLocation
</span><span class="hs-identifier hs-var">G.DLExecutable</span></span><span> </span><span class="annot"><span class="annottext">ExecutableDirectiveLocation
</span><span class="hs-identifier hs-var">G.EDLINLINE_FRAGMENT</span></span><span>
</span><span id="line-213"></span><span>    </span><span class="hs-special">]</span><span>
</span><span id="line-214"></span><span>    </span><span class="annot"><span class="annottext">InputFieldsParser origin m Bool
forall (m :: * -&gt; *) origin.
MonadParse m =&gt;
InputFieldsParser origin m Bool
</span><a href="Hasura.GraphQL.Parser.Directives.html#ifArgument"><span class="hs-identifier hs-var">ifArgument</span></a></span><span>
</span><span id="line-215"></span><span>
</span><span id="line-216"></span><span id="local-6989586621689202751"><span id="local-6989586621689202752"><span class="annot"><a href="Hasura.GraphQL.Parser.Directives.html#includeDirective"><span class="hs-identifier hs-type">includeDirective</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Parser.Class.Parse.html#MonadParse"><span class="hs-identifier hs-type">MonadParse</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689202751"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Parser.Directives.html#Directive"><span class="hs-identifier hs-type">Directive</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689202752"><span class="hs-identifier hs-type">origin</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689202751"><span class="hs-identifier hs-type">m</span></a></span></span></span><span>
</span><span id="line-217"></span><span id="includeDirective"><span class="annot"><span class="annottext">includeDirective :: Directive origin m
</span><a href="Hasura.GraphQL.Parser.Directives.html#includeDirective"><span class="hs-identifier hs-var hs-var">includeDirective</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-218"></span><span>  </span><span class="annot"><span class="annottext">Name
-&gt; Maybe Description
-&gt; Bool
-&gt; [DirectiveLocation]
-&gt; InputFieldsParser origin m Bool
-&gt; Directive origin m
forall (m :: * -&gt; *) a origin.
(MonadParse m, Typeable a) =&gt;
Name
-&gt; Maybe Description
-&gt; Bool
-&gt; [DirectiveLocation]
-&gt; InputFieldsParser origin m a
-&gt; Directive origin m
</span><a href="Hasura.GraphQL.Parser.Directives.html#mkDirective"><span class="hs-identifier hs-var">mkDirective</span></a></span><span>
</span><span id="line-219"></span><span>    </span><span class="annot"><span class="annottext">Name
</span><a href="Hasura.GraphQL.Parser.DirectiveName.html#_include"><span class="hs-identifier hs-var">Name._include</span></a></span><span>
</span><span id="line-220"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Description -&gt; Maybe Description
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Description
</span><span class="hs-string">&quot;whether this query should be included&quot;</span></span><span class="hs-special">)</span><span>
</span><span id="line-221"></span><span>    </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-222"></span><span>    </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">ExecutableDirectiveLocation -&gt; DirectiveLocation
</span><span class="hs-identifier hs-var">G.DLExecutable</span></span><span> </span><span class="annot"><span class="annottext">ExecutableDirectiveLocation
</span><span class="hs-identifier hs-var">G.EDLFIELD</span></span><span class="hs-special">,</span><span>
</span><span id="line-223"></span><span>      </span><span class="annot"><span class="annottext">ExecutableDirectiveLocation -&gt; DirectiveLocation
</span><span class="hs-identifier hs-var">G.DLExecutable</span></span><span> </span><span class="annot"><span class="annottext">ExecutableDirectiveLocation
</span><span class="hs-identifier hs-var">G.EDLFRAGMENT_SPREAD</span></span><span class="hs-special">,</span><span>
</span><span id="line-224"></span><span>      </span><span class="annot"><span class="annottext">ExecutableDirectiveLocation -&gt; DirectiveLocation
</span><span class="hs-identifier hs-var">G.DLExecutable</span></span><span> </span><span class="annot"><span class="annottext">ExecutableDirectiveLocation
</span><span class="hs-identifier hs-var">G.EDLINLINE_FRAGMENT</span></span><span>
</span><span id="line-225"></span><span>    </span><span class="hs-special">]</span><span>
</span><span id="line-226"></span><span>    </span><span class="annot"><span class="annottext">InputFieldsParser origin m Bool
forall (m :: * -&gt; *) origin.
MonadParse m =&gt;
InputFieldsParser origin m Bool
</span><a href="Hasura.GraphQL.Parser.Directives.html#ifArgument"><span class="hs-identifier hs-var">ifArgument</span></a></span><span>
</span><span id="line-227"></span><span>
</span><span id="line-228"></span><span class="annot"><a href="Hasura.GraphQL.Parser.Directives.html#skip"><span class="hs-identifier hs-type">skip</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Parser.Directives.html#DirectiveKey"><span class="hs-identifier hs-type">DirectiveKey</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-229"></span><span id="skip"><span class="annot"><span class="annottext">skip :: DirectiveKey Bool
</span><a href="Hasura.GraphQL.Parser.Directives.html#skip"><span class="hs-identifier hs-var hs-var">skip</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; DirectiveKey Bool
forall a. Typeable a =&gt; Name -&gt; DirectiveKey a
</span><a href="Hasura.GraphQL.Parser.Directives.html#DirectiveKey"><span class="hs-identifier hs-var">DirectiveKey</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Hasura.GraphQL.Parser.DirectiveName.html#_skip"><span class="hs-identifier hs-var">Name._skip</span></a></span><span>
</span><span id="line-230"></span><span>
</span><span id="line-231"></span><span class="annot"><a href="Hasura.GraphQL.Parser.Directives.html#include"><span class="hs-identifier hs-type">include</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Parser.Directives.html#DirectiveKey"><span class="hs-identifier hs-type">DirectiveKey</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-232"></span><span id="include"><span class="annot"><span class="annottext">include :: DirectiveKey Bool
</span><a href="Hasura.GraphQL.Parser.Directives.html#include"><span class="hs-identifier hs-var hs-var">include</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; DirectiveKey Bool
forall a. Typeable a =&gt; Name -&gt; DirectiveKey a
</span><a href="Hasura.GraphQL.Parser.Directives.html#DirectiveKey"><span class="hs-identifier hs-var">DirectiveKey</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Hasura.GraphQL.Parser.DirectiveName.html#_include"><span class="hs-identifier hs-var">Name._include</span></a></span><span>
</span><span id="line-233"></span><span>
</span><span id="line-234"></span><span id="local-6989586621689202635"><span id="local-6989586621689202636"><span class="annot"><a href="Hasura.GraphQL.Parser.Directives.html#ifArgument"><span class="hs-identifier hs-type">ifArgument</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Parser.Class.Parse.html#MonadParse"><span class="hs-identifier hs-type">MonadParse</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689202636"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Parser.Internal.Input.html#InputFieldsParser"><span class="hs-identifier hs-type">InputFieldsParser</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689202635"><span class="hs-identifier hs-type">origin</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689202636"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span></span></span><span>
</span><span id="line-235"></span><span id="ifArgument"><span class="annot"><span class="annottext">ifArgument :: InputFieldsParser origin m Bool
</span><a href="Hasura.GraphQL.Parser.Directives.html#ifArgument"><span class="hs-identifier hs-var hs-var">ifArgument</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name
-&gt; Maybe Description
-&gt; Parser origin 'Both m Bool
-&gt; InputFieldsParser origin m Bool
forall (m :: * -&gt; *) (k :: Kind) origin a.
(MonadParse m, 'Input &lt;: k) =&gt;
Name
-&gt; Maybe Description
-&gt; Parser origin k m a
-&gt; InputFieldsParser origin m a
</span><a href="Hasura.GraphQL.Parser.Internal.Input.html#field"><span class="hs-identifier hs-var">field</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Hasura.GraphQL.Parser.DirectiveName.html#_if"><span class="hs-identifier hs-var">Name._if</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Description
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">Parser origin 'Both m Bool
forall (m :: * -&gt; *) origin.
MonadParse m =&gt;
Parser origin 'Both m Bool
</span><a href="Hasura.GraphQL.Parser.Internal.Scalars.html#boolean"><span class="hs-identifier hs-var">boolean</span></a></span><span>
</span><span id="line-236"></span><span>
</span><span id="line-237"></span><span class="hs-comment">-- Parser type for directives.</span><span>
</span><span id="line-238"></span><span>
</span><span id="line-239"></span><span class="hs-keyword">data</span><span> </span><span id="Directive"><span class="annot"><a href="Hasura.GraphQL.Parser.Directives.html#Directive"><span class="hs-identifier hs-var">Directive</span></a></span></span><span> </span><span id="local-6989586621689202445"><span class="annot"><a href="#local-6989586621689202445"><span class="hs-identifier hs-type">origin</span></a></span></span><span> </span><span id="local-6989586621689202444"><span class="annot"><a href="#local-6989586621689202444"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-240"></span><span>  </span><span id="Directive"><span class="annot"><a href="Hasura.GraphQL.Parser.Directives.html#Directive"><span class="hs-identifier hs-var">Directive</span></a></span></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-241"></span><span>    </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621689202762"><span class="annot"><a href="#local-6989586621689202762"><span class="hs-identifier hs-type">origin</span></a></span></span><span> </span><span id="local-6989586621689202761"><span class="annot"><a href="#local-6989586621689202761"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span id="local-6989586621689202443"><span class="annot"><a href="#local-6989586621689202443"><span class="hs-identifier hs-type">a</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-242"></span><span>    </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.Parser.Class.Parse.html#MonadParse"><span class="hs-identifier hs-type">MonadParse</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689202761"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Typeable</span></span><span> </span><span class="annot"><a href="#local-6989586621689202443"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-243"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="dDefinition"><span class="annot"><span class="annottext">Directive origin m -&gt; DirectiveInfo origin
</span><a href="Hasura.GraphQL.Parser.Directives.html#dDefinition"><span class="hs-identifier hs-var hs-var">dDefinition</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Parser.Schema.html#DirectiveInfo"><span class="hs-identifier hs-type">DirectiveInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689202762"><span class="hs-identifier hs-type">origin</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-244"></span><span>      </span><span id="dAdvertised"><span class="annot"><span class="annottext">Directive origin m -&gt; Bool
</span><a href="Hasura.GraphQL.Parser.Directives.html#dAdvertised"><span class="hs-identifier hs-var hs-var">dAdvertised</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span class="hs-special">,</span><span>
</span><span id="line-245"></span><span>      </span><span id="dParser"><span class="annot"><span class="annottext">()
</span><a href="Hasura.GraphQL.Parser.Directives.html#dParser"><span class="hs-identifier hs-var hs-var">dParser</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.Directive</span></span><span> </span><span class="annot"><a href="Hasura.GraphQL.Parser.Variable.html#Variable"><span class="hs-identifier hs-type">Variable</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621689202761"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689202443"><span class="hs-identifier hs-type">a</span></a></span><span>
</span><span id="line-246"></span><span>    </span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-247"></span><span>    </span><span class="annot"><a href="Hasura.GraphQL.Parser.Directives.html#Directive"><span class="hs-identifier hs-type">Directive</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689202762"><span class="hs-identifier hs-type">origin</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689202761"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-248"></span><span>
</span><span id="line-249"></span><span class="hs-keyword">data</span><span> </span><span id="DirectiveKey"><span class="annot"><a href="Hasura.GraphQL.Parser.Directives.html#DirectiveKey"><span class="hs-identifier hs-var">DirectiveKey</span></a></span></span><span> </span><span id="local-6989586621689202442"><span class="annot"><a href="#local-6989586621689202442"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-250"></span><span>  </span><span id="local-6989586621689202710"><span id="DirectiveKey"><span class="annot"><a href="Hasura.GraphQL.Parser.Directives.html#DirectiveKey"><span class="hs-identifier hs-var">DirectiveKey</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Typeable</span></span><span> </span><span class="annot"><a href="#local-6989586621689202710"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Parser.Directives.html#DirectiveKey"><span class="hs-identifier hs-type">DirectiveKey</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689202710"><span class="hs-identifier hs-type">a</span></a></span></span><span>
</span><span id="line-251"></span><span>
</span><span id="line-252"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">GEq</span></span><span> </span><span class="annot"><a href="Hasura.GraphQL.Parser.Directives.html#DirectiveKey"><span class="hs-identifier hs-type">DirectiveKey</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-253"></span><span>  </span><span id="local-6989586621689202439"><span class="annot"><span class="annottext">geq :: DirectiveKey a -&gt; DirectiveKey b -&gt; Maybe (a :~: b)
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">geq</span></span></span><span>
</span><span id="line-254"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621689202437"><span class="annot"><a href="Hasura.GraphQL.Parser.Directives.html#DirectiveKey"><span class="hs-identifier hs-type">DirectiveKey</span></a></span><span> </span><span id="local-6989586621689202436"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689202436"><span class="hs-identifier hs-var">name1</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Parser.Directives.html#DirectiveKey"><span class="hs-identifier hs-type">DirectiveKey</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689202437"><span class="hs-identifier hs-type">a1</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-255"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621689202435"><span class="annot"><a href="Hasura.GraphQL.Parser.Directives.html#DirectiveKey"><span class="hs-identifier hs-type">DirectiveKey</span></a></span><span> </span><span id="local-6989586621689202434"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689202434"><span class="hs-identifier hs-var">name2</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Parser.Directives.html#DirectiveKey"><span class="hs-identifier hs-type">DirectiveKey</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689202435"><span class="hs-identifier hs-type">a2</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-256"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689202436"><span class="hs-identifier hs-var">name1</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Name -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689202434"><span class="hs-identifier hs-var">name2</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-257"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="annot"><span class="annottext">a :~: b
</span><span class="hs-identifier hs-var">Refl</span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Typeable a, Typeable b) =&gt; Maybe (a :~: b)
forall k (a :: k) (b :: k).
(Typeable a, Typeable b) =&gt;
Maybe (a :~: b)
</span><span class="hs-identifier hs-var">eqT</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621689202437"><span class="hs-identifier hs-type">a1</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621689202435"><span class="hs-identifier hs-type">a2</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-258"></span><span>        </span><span class="annot"><span class="annottext">(a :~: a) -&gt; Maybe (a :~: a)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">a :~: a
forall k (a :: k). a :~: a
</span><span class="hs-identifier hs-var">Refl</span></span><span>
</span><span id="line-259"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (a :~: b)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-260"></span><span>
</span><span id="line-261"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">GCompare</span></span><span> </span><span class="annot"><a href="Hasura.GraphQL.Parser.Directives.html#DirectiveKey"><span class="hs-identifier hs-type">DirectiveKey</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-262"></span><span>  </span><span id="local-6989586621689202429"><span class="annot"><span class="annottext">gcompare :: DirectiveKey a -&gt; DirectiveKey b -&gt; GOrdering a b
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">gcompare</span></span></span><span>
</span><span id="line-263"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621689202427"><span class="annot"><a href="Hasura.GraphQL.Parser.Directives.html#DirectiveKey"><span class="hs-identifier hs-type">DirectiveKey</span></a></span><span> </span><span id="local-6989586621689202426"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689202426"><span class="hs-identifier hs-var">name1</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Parser.Directives.html#DirectiveKey"><span class="hs-identifier hs-type">DirectiveKey</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689202427"><span class="hs-identifier hs-type">a1</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-264"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621689202425"><span class="annot"><a href="Hasura.GraphQL.Parser.Directives.html#DirectiveKey"><span class="hs-identifier hs-type">DirectiveKey</span></a></span><span> </span><span id="local-6989586621689202424"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689202424"><span class="hs-identifier hs-var">name2</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Parser.Directives.html#DirectiveKey"><span class="hs-identifier hs-type">DirectiveKey</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689202425"><span class="hs-identifier hs-type">a2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-265"></span><span>      </span><span class="annot"><span class="annottext">Ordering -&gt; GOrdering Any Any
forall k (a :: k). Ordering -&gt; GOrdering a a
</span><a href="Data.GADT.Compare.Extended.html#strengthenOrdering"><span class="hs-identifier hs-var">strengthenOrdering</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; Name -&gt; Ordering
forall a. Ord a =&gt; a -&gt; a -&gt; Ordering
</span><span class="hs-identifier hs-var">compare</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689202426"><span class="hs-identifier hs-var">name1</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689202424"><span class="hs-identifier hs-var">name2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-266"></span><span>        </span><span class="annot"><span class="annottext">GOrdering Any Any
-&gt; ((Any ~ Any) =&gt; GOrdering a b) -&gt; GOrdering a b
forall k1 k2 (a :: k1) (b :: k1) (c :: k2) (d :: k2).
GOrdering a b -&gt; ((a ~ b) =&gt; GOrdering c d) -&gt; GOrdering c d
</span><a href="Data.GADT.Compare.Extended.html#extendGOrdering"><span class="hs-operator hs-var">`extendGOrdering`</span></a></span><span> </span><span class="annot"><span class="annottext">TypeRep a -&gt; TypeRep b -&gt; GOrdering a b
forall k (f :: k -&gt; *) (a :: k) (b :: k).
GCompare f =&gt;
f a -&gt; f b -&gt; GOrdering a b
</span><span class="hs-identifier hs-var">gcompare</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Typeable a =&gt; TypeRep a
forall k (a :: k). Typeable a =&gt; TypeRep a
</span><span class="hs-identifier hs-var">typeRep</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621689202427"><span class="hs-identifier hs-type">a1</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Typeable b =&gt; TypeRep b
forall k (a :: k). Typeable a =&gt; TypeRep a
</span><span class="hs-identifier hs-var">typeRep</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621689202425"><span class="hs-identifier hs-type">a2</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-267"></span><span>        </span><span class="annot"><span class="annottext">GOrdering a b -&gt; ((a ~ b) =&gt; GOrdering a b) -&gt; GOrdering a b
forall k1 k2 (a :: k1) (b :: k1) (c :: k2) (d :: k2).
GOrdering a b -&gt; ((a ~ b) =&gt; GOrdering c d) -&gt; GOrdering c d
</span><a href="Data.GADT.Compare.Extended.html#extendGOrdering"><span class="hs-operator hs-var">`extendGOrdering`</span></a></span><span> </span><span class="annot"><span class="annottext">(a ~ b) =&gt; GOrdering a b
forall k (a :: k). GOrdering a a
</span><span class="hs-identifier hs-var">GEQ</span></span><span>
</span><span id="line-268"></span><span>
</span><span id="line-269"></span><span class="hs-keyword">type</span><span> </span><span id="DirectiveMap"><span class="annot"><a href="Hasura.GraphQL.Parser.Directives.html#DirectiveMap"><span class="hs-identifier hs-var">DirectiveMap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="hs-identifier hs-type">DM.DMap</span></span><span> </span><span class="annot"><a href="Hasura.GraphQL.Parser.Directives.html#DirectiveKey"><span class="hs-identifier hs-type">DirectiveKey</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Identity</span></span><span>
</span><span id="line-270"></span><span>
</span><span id="line-271"></span><span id="local-6989586621689202661"><span id="local-6989586621689202662"><span id="local-6989586621689202663"><span class="annot"><a href="Hasura.GraphQL.Parser.Directives.html#mkDirective"><span class="hs-identifier hs-type">mkDirective</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-272"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.Parser.Class.Parse.html#MonadParse"><span class="hs-identifier hs-type">MonadParse</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689202663"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Typeable</span></span><span> </span><span class="annot"><a href="#local-6989586621689202662"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-273"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">G.Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-274"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.Description</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-275"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-276"></span><span>  </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">G.DirectiveLocation</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-277"></span><span>  </span><span class="annot"><a href="Hasura.GraphQL.Parser.Internal.Input.html#InputFieldsParser"><span class="hs-identifier hs-type">InputFieldsParser</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689202661"><span class="hs-identifier hs-type">origin</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689202663"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689202662"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-278"></span><span>  </span><span class="annot"><a href="Hasura.GraphQL.Parser.Directives.html#Directive"><span class="hs-identifier hs-type">Directive</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689202661"><span class="hs-identifier hs-type">origin</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689202663"><span class="hs-identifier hs-type">m</span></a></span></span></span></span><span>
</span><span id="line-279"></span><span id="mkDirective"><span class="annot"><span class="annottext">mkDirective :: Name
-&gt; Maybe Description
-&gt; Bool
-&gt; [DirectiveLocation]
-&gt; InputFieldsParser origin m a
-&gt; Directive origin m
</span><a href="Hasura.GraphQL.Parser.Directives.html#mkDirective"><span class="hs-identifier hs-var hs-var">mkDirective</span></a></span></span><span> </span><span id="local-6989586621689202419"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689202419"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span id="local-6989586621689202418"><span class="annot"><span class="annottext">Maybe Description
</span><a href="#local-6989586621689202418"><span class="hs-identifier hs-var">description</span></a></span></span><span> </span><span id="local-6989586621689202417"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621689202417"><span class="hs-identifier hs-var">advertised</span></a></span></span><span> </span><span id="local-6989586621689202416"><span class="annot"><span class="annottext">[DirectiveLocation]
</span><a href="#local-6989586621689202416"><span class="hs-identifier hs-var">location</span></a></span></span><span> </span><span id="local-6989586621689202415"><span class="annot"><span class="annottext">InputFieldsParser origin m a
</span><a href="#local-6989586621689202415"><span class="hs-identifier hs-var">argsParser</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-280"></span><span>  </span><span class="annot"><span class="annottext">Directive :: forall origin (m :: * -&gt; *) a.
(MonadParse m, Typeable a) =&gt;
DirectiveInfo origin
-&gt; Bool -&gt; (Directive Variable -&gt; m a) -&gt; Directive origin m
</span><a href="Hasura.GraphQL.Parser.Directives.html#Directive"><span class="hs-identifier hs-type">Directive</span></a></span><span>
</span><span id="line-281"></span><span>    </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">dDefinition :: DirectiveInfo origin
</span><a href="Hasura.GraphQL.Parser.Directives.html#dDefinition"><span class="hs-identifier hs-var">dDefinition</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name
-&gt; Maybe Description
-&gt; [Definition origin (InputFieldInfo origin)]
-&gt; [DirectiveLocation]
-&gt; DirectiveInfo origin
forall origin.
Name
-&gt; Maybe Description
-&gt; [Definition origin (InputFieldInfo origin)]
-&gt; [DirectiveLocation]
-&gt; DirectiveInfo origin
</span><a href="Hasura.GraphQL.Parser.Schema.html#DirectiveInfo"><span class="hs-identifier hs-var">DirectiveInfo</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689202419"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Description
</span><a href="#local-6989586621689202418"><span class="hs-identifier hs-var">description</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">InputFieldsParser origin m a
-&gt; [Definition origin (InputFieldInfo origin)]
forall origin (m :: * -&gt; *) a.
InputFieldsParser origin m a
-&gt; [Definition origin (InputFieldInfo origin)]
</span><a href="Hasura.GraphQL.Parser.Internal.Input.html#ifDefinitions"><span class="hs-identifier hs-var hs-var">ifDefinitions</span></a></span><span> </span><span class="annot"><span class="annottext">InputFieldsParser origin m a
</span><a href="#local-6989586621689202415"><span class="hs-identifier hs-var">argsParser</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[DirectiveLocation]
</span><a href="#local-6989586621689202416"><span class="hs-identifier hs-var">location</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-282"></span><span>      </span><span class="annot"><span class="annottext">dAdvertised :: Bool
</span><a href="Hasura.GraphQL.Parser.Directives.html#dAdvertised"><span class="hs-identifier hs-var">dAdvertised</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621689202417"><span class="hs-identifier hs-var">advertised</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-283"></span><span>      </span><span class="annot"><span class="annottext">dParser :: Directive Variable -&gt; m a
</span><a href="Hasura.GraphQL.Parser.Directives.html#dParser"><span class="hs-identifier hs-var">dParser</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">G.Directive</span></span><span> </span><span id="local-6989586621689202412"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689202412"><span class="hs-identifier hs-var">_name</span></a></span></span><span> </span><span id="local-6989586621689202411"><span class="annot"><span class="annottext">HashMap Name (Value Variable)
</span><a href="#local-6989586621689202411"><span class="hs-identifier hs-var">arguments</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">JSONPathElement -&gt; m a -&gt; m a
forall (m :: * -&gt; *) a.
MonadParse m =&gt;
JSONPathElement -&gt; m a -&gt; m a
</span><a href="Hasura.GraphQL.Parser.Class.Parse.html#withKey"><span class="hs-identifier hs-var">withKey</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Key -&gt; JSONPathElement
</span><span class="hs-identifier hs-var">Key</span></span><span> </span><span class="annot"><span class="annottext">(Key -&gt; JSONPathElement) -&gt; Key -&gt; JSONPathElement
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Key
</span><span class="hs-identifier hs-var">K.fromText</span></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Key) -&gt; Text -&gt; Key
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Text
</span><span class="hs-identifier hs-var hs-var">G.unName</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689202419"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(m a -&gt; m a) -&gt; m a -&gt; m a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-284"></span><span>        </span><span class="annot"><span class="annottext">[Name] -&gt; (Name -&gt; m ()) -&gt; m ()
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Foldable t, Applicative f) =&gt;
t a -&gt; (a -&gt; f b) -&gt; f ()
</span><span class="hs-identifier hs-var">for_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HashMap Name (Value Variable) -&gt; [Name]
forall k v. HashMap k v -&gt; [k]
</span><span class="hs-identifier hs-var">M.keys</span></span><span> </span><span class="annot"><span class="annottext">HashMap Name (Value Variable)
</span><a href="#local-6989586621689202411"><span class="hs-identifier hs-var">arguments</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621689202407"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689202407"><span class="hs-identifier hs-var">argumentName</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-285"></span><span>          </span><span class="annot"><span class="annottext">Bool -&gt; m () -&gt; m ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">unless</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689202407"><span class="hs-identifier hs-var">argumentName</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; HashSet Name -&gt; Bool
forall a. (Eq a, Hashable a) =&gt; a -&gt; HashSet a -&gt; Bool
</span><span class="hs-operator hs-var">`S.member`</span></span><span> </span><span class="annot"><span class="annottext">HashSet Name
</span><a href="#local-6989586621689202405"><span class="hs-identifier hs-var">argumentNames</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(m () -&gt; m ()) -&gt; m () -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-286"></span><span>            </span><span class="annot"><span class="annottext">Text -&gt; m ()
forall (m :: * -&gt; *) a. MonadParse m =&gt; Text -&gt; m a
</span><a href="Hasura.GraphQL.Parser.Class.Parse.html#parseError"><span class="hs-identifier hs-var">parseError</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; m ()) -&gt; Text -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689202419"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Text -&gt; Text
forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><a href="Data.Text.Extended.html#%3C%3C%3E"><span class="hs-operator hs-var">&lt;&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; has no argument named &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Name -&gt; Text
forall t. ToTxt t =&gt; Text -&gt; t -&gt; Text
</span><a href="Data.Text.Extended.html#%3C%3E%3E"><span class="hs-operator hs-var">&lt;&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689202407"><span class="hs-identifier hs-var">argumentName</span></a></span><span>
</span><span id="line-287"></span><span>        </span><span class="annot"><span class="annottext">JSONPathElement -&gt; m a -&gt; m a
forall (m :: * -&gt; *) a.
MonadParse m =&gt;
JSONPathElement -&gt; m a -&gt; m a
</span><a href="Hasura.GraphQL.Parser.Class.Parse.html#withKey"><span class="hs-identifier hs-var">withKey</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Key -&gt; JSONPathElement
</span><span class="hs-identifier hs-var">Key</span></span><span> </span><span class="annot"><span class="annottext">(Key -&gt; JSONPathElement) -&gt; Key -&gt; JSONPathElement
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Key
</span><span class="hs-identifier hs-var">K.fromText</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;args&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(m a -&gt; m a) -&gt; m a -&gt; m a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">InputFieldsParser origin m a
-&gt; HashMap Name (InputValue Variable) -&gt; m a
forall origin (m :: * -&gt; *) a.
InputFieldsParser origin m a
-&gt; HashMap Name (InputValue Variable) -&gt; m a
</span><a href="Hasura.GraphQL.Parser.Internal.Input.html#ifParser"><span class="hs-identifier hs-var hs-var">ifParser</span></a></span><span> </span><span class="annot"><span class="annottext">InputFieldsParser origin m a
</span><a href="#local-6989586621689202415"><span class="hs-identifier hs-var">argsParser</span></a></span><span> </span><span class="annot"><span class="annottext">(HashMap Name (InputValue Variable) -&gt; m a)
-&gt; HashMap Name (InputValue Variable) -&gt; m a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Value Variable -&gt; InputValue Variable
forall v. Value v -&gt; InputValue v
</span><a href="Hasura.GraphQL.Parser.Variable.html#GraphQLValue"><span class="hs-identifier hs-var">GraphQLValue</span></a></span><span> </span><span class="annot"><span class="annottext">(Value Variable -&gt; InputValue Variable)
-&gt; HashMap Name (Value Variable)
-&gt; HashMap Name (InputValue Variable)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">HashMap Name (Value Variable)
</span><a href="#local-6989586621689202411"><span class="hs-identifier hs-var">arguments</span></a></span><span>
</span><span id="line-288"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-289"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-290"></span><span>    </span><span id="local-6989586621689202405"><span class="annot"><span class="annottext">argumentNames :: HashSet Name
</span><a href="#local-6989586621689202405"><span class="hs-identifier hs-var hs-var">argumentNames</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Name] -&gt; HashSet Name
forall a. (Eq a, Hashable a) =&gt; [a] -&gt; HashSet a
</span><span class="hs-identifier hs-var">S.fromList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Definition origin (InputFieldInfo origin) -&gt; Name
forall origin a. Definition origin a -&gt; Name
</span><a href="Hasura.GraphQL.Parser.Schema.html#dName"><span class="hs-identifier hs-var hs-var">dName</span></a></span><span> </span><span class="annot"><span class="annottext">(Definition origin (InputFieldInfo origin) -&gt; Name)
-&gt; [Definition origin (InputFieldInfo origin)] -&gt; [Name]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">InputFieldsParser origin m a
-&gt; [Definition origin (InputFieldInfo origin)]
forall origin (m :: * -&gt; *) a.
InputFieldsParser origin m a
-&gt; [Definition origin (InputFieldInfo origin)]
</span><a href="Hasura.GraphQL.Parser.Internal.Input.html#ifDefinitions"><span class="hs-identifier hs-var hs-var">ifDefinitions</span></a></span><span> </span><span class="annot"><span class="annottext">InputFieldsParser origin m a
</span><a href="#local-6989586621689202415"><span class="hs-identifier hs-var">argsParser</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-291"></span></pre></body></html>