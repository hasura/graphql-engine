type: bulk
args:
- type: track_table
  args:
    schema: hdb_catalog
    name: remote_schema_permissions

- type: create_object_relationship
  args:
    name: remote_schema_info
    table:
      schema: hdb_catalog
      name: remote_schema_permissions
    using:
      foreign_key_constraint_on: remote_schema

- type: create_array_relationship
  args:
    name: permissions
    table:
      schema: hdb_catalog
      name: remote_schemas
    using:
      foreign_key_constraint_on:
        table:
          schema: hdb_catalog
          name: remote_schema_permissions
        column: remote_schema
