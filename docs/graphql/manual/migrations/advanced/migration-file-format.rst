.. _migration_file_format:

Migration file format reference
===============================

.. contents:: Table of contents
  :backlinks: none
  :depth: 1
  :local:

Migration filename format
-------------------------

Each migration file has the following format:

.. code-block:: bash

   <version>_<name>.{up|down}.{sql|yaml}

A ``version`` which is the Unix timestamp in nanoseconds when the file was
created is the first part. Followed by a ``name`` which is either manually added
or auto-generated by the console. The next part indicates what step this is. If
it is ``up``, it means that this is the creation step, for e.g. creating a
relationship or a table. The ``down`` indicates that it is the corresponding
deletion step. The last part denotes the file format - whether it is an SQL file
or a YAML file.

YAML files
----------

SQL Files
---------

.. note::

   The files are there just for the user's convenience, since the SQL can
   already be included in the YAML files.

As the name indicates, an SQL file can contain SQL statements which are executed
on the apply step of the migration. ``up.sql``
