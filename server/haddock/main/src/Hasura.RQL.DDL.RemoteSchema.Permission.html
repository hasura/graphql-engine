<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span id="%24con2tag_F2GnHeSQlksBsQvumjcnDp"></span><span class="hs-comment">-- |</span><span>
</span><span id="line-2"></span><span class="hs-comment">-- = Remote Schema Permissions Validation</span><span>
</span><span id="line-3"></span><span class="hs-comment">--</span><span>
</span><span id="line-4"></span><span class="hs-comment">-- This module parses the GraphQL IDL (Schema Document) that's provided by</span><span>
</span><span id="line-5"></span><span class="hs-comment">-- the user for configuring permissions for remote schemas to a schema</span><span>
</span><span id="line-6"></span><span class="hs-comment">-- introspection object, which is then used to construct the remote schema for</span><span>
</span><span id="line-7"></span><span class="hs-comment">-- the particular role.</span><span>
</span><span id="line-8"></span><span class="hs-comment">--</span><span>
</span><span id="line-9"></span><span class="hs-comment">-- This module does two things essentially:</span><span>
</span><span id="line-10"></span><span class="hs-comment">--</span><span>
</span><span id="line-11"></span><span class="hs-comment">-- 1. Checks if the given schema document is a subset of the upstream remote</span><span>
</span><span id="line-12"></span><span class="hs-comment">--    schema document. This is done by checking if all the objects, interfaces,</span><span>
</span><span id="line-13"></span><span class="hs-comment">--    unions, enums, scalars and input objects provided in the schema document</span><span>
</span><span id="line-14"></span><span class="hs-comment">--    exist in the upstream remote schema too. We validate the fields, directives</span><span>
</span><span id="line-15"></span><span class="hs-comment">--    and arguments too, wherever applicable.</span><span>
</span><span id="line-16"></span><span class="hs-comment">-- 2. Parse the `preset` directives (if any) on input object fields or argument fields.</span><span>
</span><span id="line-17"></span><span class="hs-comment">--    A `preset` directive is used to specify any preset argument on a field, it can be</span><span>
</span><span id="line-18"></span><span class="hs-comment">--    either a static value or session variable value. There is some validation done</span><span>
</span><span id="line-19"></span><span class="hs-comment">--    on preset directives. For example:</span><span>
</span><span id="line-20"></span><span class="hs-comment">--    - Preset directives can only be specified at</span><span>
</span><span id="line-21"></span><span class="hs-comment">--      `ARGUMENT_DEFINITION` or `INPUT_FIELD_DEFINITION`</span><span>
</span><span id="line-22"></span><span class="hs-comment">--    - A field expecting object cannot have a scalar/enum preset directive and vice versa.</span><span>
</span><span id="line-23"></span><span class="hs-comment">--</span><span>
</span><span id="line-24"></span><span class="hs-comment">--    If a preset directive value is a session variable (like `x-hasura-*`), then it's</span><span>
</span><span id="line-25"></span><span class="hs-comment">--    considered to be a session variable value. In the case, the user wants to treat the</span><span>
</span><span id="line-26"></span><span class="hs-comment">--    session variable value literally, they can add the `static` key to the preset directive</span><span>
</span><span id="line-27"></span><span class="hs-comment">--    to indicate that the value provided should be considered literally. For example:</span><span>
</span><span id="line-28"></span><span class="hs-comment">--</span><span>
</span><span id="line-29"></span><span class="hs-comment">--    `user(id: Int @preset(value: &quot;x-hasura-user-id&quot;, static: true))</span><span>
</span><span id="line-30"></span><span class="hs-comment">--</span><span>
</span><span id="line-31"></span><span class="hs-comment">--    In this case `x-hasura-user-id` will be considered literally.</span><span>
</span><span id="line-32"></span><span class="hs-comment">--</span><span>
</span><span id="line-33"></span><span class="hs-comment">-- For validation, we use the `MonadValidate` monad transformer to collect as many errors</span><span>
</span><span id="line-34"></span><span class="hs-comment">-- as possible and then report all those errors at one go to the user.</span><span>
</span><span id="line-35"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Hasura.RQL.DDL.RemoteSchema.Permission</span><span>
</span><span id="line-36"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#resolveRoleBasedRemoteSchema"><span class="hs-identifier">resolveRoleBasedRemoteSchema</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-37"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-38"></span><span class="hs-keyword">where</span><span>
</span><span id="line-39"></span><span>
</span><span id="line-40"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Validate</span></span><span>
</span><span id="line-41"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.HashMap.Strict.Extended.html"><span class="hs-identifier">Data.HashMap.Strict.Extended</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Map</span></span><span>
</span><span id="line-42"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.HashSet</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">S</span></span><span>
</span><span id="line-43"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.List.Extended.html"><span class="hs-identifier">Data.List.Extended</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.List.Extended.html#duplicates"><span class="hs-identifier">duplicates</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.List.Extended.html#getDifference"><span class="hs-identifier">getDifference</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-44"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.List.NonEmpty</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">NE</span></span><span>
</span><span id="line-45"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Text</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">T</span></span><span>
</span><span id="line-46"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.Text.Extended.html"><span class="hs-identifier">Data.Text.Extended</span></a></span><span>
</span><span id="line-47"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.Base.Error.html"><span class="hs-identifier">Hasura.Base.Error</span></a></span><span>
</span><span id="line-48"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Parser.Name.html"><span class="hs-identifier">Hasura.GraphQL.Parser.Name</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">GName</span></span><span>
</span><span id="line-49"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.Name.html"><span class="hs-identifier">Hasura.Name</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Name</span></span><span>
</span><span id="line-50"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.Prelude.html"><span class="hs-identifier">Hasura.Prelude</span></a></span><span>
</span><span id="line-51"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.Instances.html"><span class="hs-identifier">Hasura.RQL.Types.Metadata.Instances</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-52"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.RemoteSchema.html"><span class="hs-identifier">Hasura.RQL.Types.RemoteSchema</span></a></span><span>
</span><span id="line-53"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.SchemaCache.html"><span class="hs-identifier">Hasura.RQL.Types.SchemaCache</span></a></span><span>
</span><span id="line-54"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.Server.Utils.html"><span class="hs-identifier">Hasura.Server.Utils</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.Server.Utils.html#englishList"><span class="hs-identifier">englishList</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hasura.Server.Utils.html#isSessionVariable"><span class="hs-identifier">isSessionVariable</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-55"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.Session.html"><span class="hs-identifier">Hasura.Session</span></a></span><span>
</span><span id="line-56"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Language.GraphQL.Draft.Syntax</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">G</span></span><span>
</span><span id="line-57"></span><span>
</span><span id="line-58"></span><span class="hs-keyword">data</span><span> </span><span id="FieldDefinitionType"><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#FieldDefinitionType"><span class="hs-identifier hs-var">FieldDefinitionType</span></a></span></span><span>
</span><span id="line-59"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="ObjectField"><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#ObjectField"><span class="hs-identifier hs-var">ObjectField</span></a></span></span><span>
</span><span id="line-60"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="InterfaceField"><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#InterfaceField"><span class="hs-identifier hs-var">InterfaceField</span></a></span></span><span>
</span><span id="line-61"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="EnumField"><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#EnumField"><span class="hs-identifier hs-var">EnumField</span></a></span></span><span>
</span><span id="line-62"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621689498567"><span id="local-6989586621689498569"><span id="local-6989586621689498571"><span class="annot"><span class="annottext">Int -&gt; FieldDefinitionType -&gt; ShowS
[FieldDefinitionType] -&gt; ShowS
FieldDefinitionType -&gt; String
(Int -&gt; FieldDefinitionType -&gt; ShowS)
-&gt; (FieldDefinitionType -&gt; String)
-&gt; ([FieldDefinitionType] -&gt; ShowS)
-&gt; Show FieldDefinitionType
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [FieldDefinitionType] -&gt; ShowS
$cshowList :: [FieldDefinitionType] -&gt; ShowS
show :: FieldDefinitionType -&gt; String
$cshow :: FieldDefinitionType -&gt; String
showsPrec :: Int -&gt; FieldDefinitionType -&gt; ShowS
$cshowsPrec :: Int -&gt; FieldDefinitionType -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621689498562"><span id="local-6989586621689498564"><span class="annot"><span class="annottext">FieldDefinitionType -&gt; FieldDefinitionType -&gt; Bool
(FieldDefinitionType -&gt; FieldDefinitionType -&gt; Bool)
-&gt; (FieldDefinitionType -&gt; FieldDefinitionType -&gt; Bool)
-&gt; Eq FieldDefinitionType
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: FieldDefinitionType -&gt; FieldDefinitionType -&gt; Bool
$c/= :: FieldDefinitionType -&gt; FieldDefinitionType -&gt; Bool
== :: FieldDefinitionType -&gt; FieldDefinitionType -&gt; Bool
$c== :: FieldDefinitionType -&gt; FieldDefinitionType -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-63"></span><span>
</span><span id="line-64"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Data.Text.Extended.html#ToTxt"><span class="hs-identifier hs-type">ToTxt</span></a></span><span> </span><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#FieldDefinitionType"><span class="hs-identifier hs-type">FieldDefinitionType</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-65"></span><span>  </span><span id="local-6989586621689498558"><span class="annot"><span class="annottext">toTxt :: FieldDefinitionType -&gt; Text
</span><a href="Data.Text.Extended.html#toTxt"><span class="hs-identifier hs-var hs-var hs-var hs-var">toTxt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-66"></span><span>    </span><span class="annot"><span class="annottext">FieldDefinitionType
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#ObjectField"><span class="hs-identifier hs-var">ObjectField</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Object&quot;</span></span><span>
</span><span id="line-67"></span><span>    </span><span class="annot"><span class="annottext">FieldDefinitionType
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#InterfaceField"><span class="hs-identifier hs-var">InterfaceField</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Interface&quot;</span></span><span>
</span><span id="line-68"></span><span>    </span><span class="annot"><span class="annottext">FieldDefinitionType
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#EnumField"><span class="hs-identifier hs-var">EnumField</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Enum&quot;</span></span><span>
</span><span id="line-69"></span><span>
</span><span id="line-70"></span><span class="hs-keyword">data</span><span> </span><span id="ArgumentDefinitionType"><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#ArgumentDefinitionType"><span class="hs-identifier hs-var">ArgumentDefinitionType</span></a></span></span><span>
</span><span id="line-71"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="InputObjectArgument"><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#InputObjectArgument"><span class="hs-identifier hs-var">InputObjectArgument</span></a></span></span><span>
</span><span id="line-72"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="DirectiveArgument"><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#DirectiveArgument"><span class="hs-identifier hs-var">DirectiveArgument</span></a></span></span><span>
</span><span id="line-73"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621689498549"><span id="local-6989586621689498551"><span id="local-6989586621689498553"><span class="annot"><span class="annottext">Int -&gt; ArgumentDefinitionType -&gt; ShowS
[ArgumentDefinitionType] -&gt; ShowS
ArgumentDefinitionType -&gt; String
(Int -&gt; ArgumentDefinitionType -&gt; ShowS)
-&gt; (ArgumentDefinitionType -&gt; String)
-&gt; ([ArgumentDefinitionType] -&gt; ShowS)
-&gt; Show ArgumentDefinitionType
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [ArgumentDefinitionType] -&gt; ShowS
$cshowList :: [ArgumentDefinitionType] -&gt; ShowS
show :: ArgumentDefinitionType -&gt; String
$cshow :: ArgumentDefinitionType -&gt; String
showsPrec :: Int -&gt; ArgumentDefinitionType -&gt; ShowS
$cshowsPrec :: Int -&gt; ArgumentDefinitionType -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621689498545"><span id="local-6989586621689498547"><span class="annot"><span class="annottext">ArgumentDefinitionType -&gt; ArgumentDefinitionType -&gt; Bool
(ArgumentDefinitionType -&gt; ArgumentDefinitionType -&gt; Bool)
-&gt; (ArgumentDefinitionType -&gt; ArgumentDefinitionType -&gt; Bool)
-&gt; Eq ArgumentDefinitionType
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: ArgumentDefinitionType -&gt; ArgumentDefinitionType -&gt; Bool
$c/= :: ArgumentDefinitionType -&gt; ArgumentDefinitionType -&gt; Bool
== :: ArgumentDefinitionType -&gt; ArgumentDefinitionType -&gt; Bool
$c== :: ArgumentDefinitionType -&gt; ArgumentDefinitionType -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-74"></span><span>
</span><span id="line-75"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Data.Text.Extended.html#ToTxt"><span class="hs-identifier hs-type">ToTxt</span></a></span><span> </span><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#ArgumentDefinitionType"><span class="hs-identifier hs-type">ArgumentDefinitionType</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-76"></span><span>  </span><span id="local-6989586621689498543"><span class="annot"><span class="annottext">toTxt :: ArgumentDefinitionType -&gt; Text
</span><a href="#local-6989586621689498543"><span class="hs-identifier hs-var hs-var hs-var hs-var">toTxt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-77"></span><span>    </span><span class="annot"><span class="annottext">ArgumentDefinitionType
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#InputObjectArgument"><span class="hs-identifier hs-var">InputObjectArgument</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Input object&quot;</span></span><span>
</span><span id="line-78"></span><span>    </span><span class="annot"><span class="annottext">ArgumentDefinitionType
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#DirectiveArgument"><span class="hs-identifier hs-var">DirectiveArgument</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Directive&quot;</span></span><span>
</span><span id="line-79"></span><span>
</span><span id="line-80"></span><span id="local-6989586621689498541"><span id="local-6989586621689498542"></span></span><span class="hs-keyword">data</span><span> </span><span id="PresetInputTypeInfo"><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#PresetInputTypeInfo"><span class="hs-identifier hs-var">PresetInputTypeInfo</span></a></span></span><span>
</span><span id="line-81"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="PresetScalar"><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#PresetScalar"><span class="hs-identifier hs-var">PresetScalar</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">G.Name</span></span><span>
</span><span id="line-82"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PresetEnum"><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#PresetEnum"><span class="hs-identifier hs-var">PresetEnum</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">G.Name</span></span><span> </span><span class="hs-glyph">!</span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">G.EnumValue</span></span><span class="hs-special">]</span><span>
</span><span id="line-83"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="PresetInputObject"><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#PresetInputObject"><span class="hs-identifier hs-var">PresetInputObject</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">G.InputValueDefinition</span></span><span class="hs-special">]</span><span>
</span><span id="line-84"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621689498532"><span id="local-6989586621689498534"><span id="local-6989586621689498536"><span class="annot"><span class="annottext">Int -&gt; PresetInputTypeInfo -&gt; ShowS
[PresetInputTypeInfo] -&gt; ShowS
PresetInputTypeInfo -&gt; String
(Int -&gt; PresetInputTypeInfo -&gt; ShowS)
-&gt; (PresetInputTypeInfo -&gt; String)
-&gt; ([PresetInputTypeInfo] -&gt; ShowS)
-&gt; Show PresetInputTypeInfo
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [PresetInputTypeInfo] -&gt; ShowS
$cshowList :: [PresetInputTypeInfo] -&gt; ShowS
show :: PresetInputTypeInfo -&gt; String
$cshow :: PresetInputTypeInfo -&gt; String
showsPrec :: Int -&gt; PresetInputTypeInfo -&gt; ShowS
$cshowsPrec :: Int -&gt; PresetInputTypeInfo -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621689498528"><span id="local-6989586621689498530"><span class="annot"><span class="annottext">PresetInputTypeInfo -&gt; PresetInputTypeInfo -&gt; Bool
(PresetInputTypeInfo -&gt; PresetInputTypeInfo -&gt; Bool)
-&gt; (PresetInputTypeInfo -&gt; PresetInputTypeInfo -&gt; Bool)
-&gt; Eq PresetInputTypeInfo
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: PresetInputTypeInfo -&gt; PresetInputTypeInfo -&gt; Bool
$c/= :: PresetInputTypeInfo -&gt; PresetInputTypeInfo -&gt; Bool
== :: PresetInputTypeInfo -&gt; PresetInputTypeInfo -&gt; Bool
$c== :: PresetInputTypeInfo -&gt; PresetInputTypeInfo -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(forall x. PresetInputTypeInfo -&gt; Rep PresetInputTypeInfo x)
-&gt; (forall x. Rep PresetInputTypeInfo x -&gt; PresetInputTypeInfo)
-&gt; Generic PresetInputTypeInfo
forall x. Rep PresetInputTypeInfo x -&gt; PresetInputTypeInfo
forall x. PresetInputTypeInfo -&gt; Rep PresetInputTypeInfo x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cto :: forall x. Rep PresetInputTypeInfo x -&gt; PresetInputTypeInfo
$cfrom :: forall x. PresetInputTypeInfo -&gt; Rep PresetInputTypeInfo x
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621689498510"><span id="local-6989586621689498512"><span id="local-6989586621689498514"><span id="local-6989586621689498516"><span id="local-6989586621689498518"><span id="local-6989586621689498520"><span id="local-6989586621689498522"><span class="annot"><span class="annottext">Eq PresetInputTypeInfo
Eq PresetInputTypeInfo
-&gt; (PresetInputTypeInfo -&gt; PresetInputTypeInfo -&gt; Ordering)
-&gt; (PresetInputTypeInfo -&gt; PresetInputTypeInfo -&gt; Bool)
-&gt; (PresetInputTypeInfo -&gt; PresetInputTypeInfo -&gt; Bool)
-&gt; (PresetInputTypeInfo -&gt; PresetInputTypeInfo -&gt; Bool)
-&gt; (PresetInputTypeInfo -&gt; PresetInputTypeInfo -&gt; Bool)
-&gt; (PresetInputTypeInfo
    -&gt; PresetInputTypeInfo -&gt; PresetInputTypeInfo)
-&gt; (PresetInputTypeInfo
    -&gt; PresetInputTypeInfo -&gt; PresetInputTypeInfo)
-&gt; Ord PresetInputTypeInfo
PresetInputTypeInfo -&gt; PresetInputTypeInfo -&gt; Bool
PresetInputTypeInfo -&gt; PresetInputTypeInfo -&gt; Ordering
PresetInputTypeInfo -&gt; PresetInputTypeInfo -&gt; PresetInputTypeInfo
forall a.
Eq a
-&gt; (a -&gt; a -&gt; Ordering)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; Bool)
-&gt; (a -&gt; a -&gt; a)
-&gt; (a -&gt; a -&gt; a)
-&gt; Ord a
min :: PresetInputTypeInfo -&gt; PresetInputTypeInfo -&gt; PresetInputTypeInfo
$cmin :: PresetInputTypeInfo -&gt; PresetInputTypeInfo -&gt; PresetInputTypeInfo
max :: PresetInputTypeInfo -&gt; PresetInputTypeInfo -&gt; PresetInputTypeInfo
$cmax :: PresetInputTypeInfo -&gt; PresetInputTypeInfo -&gt; PresetInputTypeInfo
&gt;= :: PresetInputTypeInfo -&gt; PresetInputTypeInfo -&gt; Bool
$c&gt;= :: PresetInputTypeInfo -&gt; PresetInputTypeInfo -&gt; Bool
&gt; :: PresetInputTypeInfo -&gt; PresetInputTypeInfo -&gt; Bool
$c&gt; :: PresetInputTypeInfo -&gt; PresetInputTypeInfo -&gt; Bool
&lt;= :: PresetInputTypeInfo -&gt; PresetInputTypeInfo -&gt; Bool
$c&lt;= :: PresetInputTypeInfo -&gt; PresetInputTypeInfo -&gt; Bool
&lt; :: PresetInputTypeInfo -&gt; PresetInputTypeInfo -&gt; Bool
$c&lt; :: PresetInputTypeInfo -&gt; PresetInputTypeInfo -&gt; Bool
compare :: PresetInputTypeInfo -&gt; PresetInputTypeInfo -&gt; Ordering
$ccompare :: PresetInputTypeInfo -&gt; PresetInputTypeInfo -&gt; Ordering
$cp1Ord :: Eq PresetInputTypeInfo
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Ord</span></span></span></span></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-85"></span><span>
</span><span id="line-86"></span><span class="hs-keyword">data</span><span> </span><span id="GraphQLType"><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#GraphQLType"><span class="hs-identifier hs-var">GraphQLType</span></a></span></span><span>
</span><span id="line-87"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="Enum"><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#Enum"><span class="hs-identifier hs-var">Enum</span></a></span></span><span>
</span><span id="line-88"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="InputObject"><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#InputObject"><span class="hs-identifier hs-var">InputObject</span></a></span></span><span>
</span><span id="line-89"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Object"><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#Object"><span class="hs-identifier hs-var">Object</span></a></span></span><span>
</span><span id="line-90"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Interface"><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#Interface"><span class="hs-identifier hs-var">Interface</span></a></span></span><span>
</span><span id="line-91"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Union"><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#Union"><span class="hs-identifier hs-var">Union</span></a></span></span><span>
</span><span id="line-92"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Scalar"><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#Scalar"><span class="hs-identifier hs-var">Scalar</span></a></span></span><span>
</span><span id="line-93"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Directive"><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#Directive"><span class="hs-identifier hs-var">Directive</span></a></span></span><span>
</span><span id="line-94"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Field"><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#Field"><span class="hs-identifier hs-var">Field</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#FieldDefinitionType"><span class="hs-identifier hs-type">FieldDefinitionType</span></a></span><span>
</span><span id="line-95"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="Argument"><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#Argument"><span class="hs-identifier hs-var">Argument</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#ArgumentDefinitionType"><span class="hs-identifier hs-type">ArgumentDefinitionType</span></a></span><span>
</span><span id="line-96"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621689498494"><span id="local-6989586621689498496"><span id="local-6989586621689498498"><span class="annot"><span class="annottext">Int -&gt; GraphQLType -&gt; ShowS
[GraphQLType] -&gt; ShowS
GraphQLType -&gt; String
(Int -&gt; GraphQLType -&gt; ShowS)
-&gt; (GraphQLType -&gt; String)
-&gt; ([GraphQLType] -&gt; ShowS)
-&gt; Show GraphQLType
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [GraphQLType] -&gt; ShowS
$cshowList :: [GraphQLType] -&gt; ShowS
show :: GraphQLType -&gt; String
$cshow :: GraphQLType -&gt; String
showsPrec :: Int -&gt; GraphQLType -&gt; ShowS
$cshowsPrec :: Int -&gt; GraphQLType -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621689498490"><span id="local-6989586621689498492"><span class="annot"><span class="annottext">GraphQLType -&gt; GraphQLType -&gt; Bool
(GraphQLType -&gt; GraphQLType -&gt; Bool)
-&gt; (GraphQLType -&gt; GraphQLType -&gt; Bool) -&gt; Eq GraphQLType
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: GraphQLType -&gt; GraphQLType -&gt; Bool
$c/= :: GraphQLType -&gt; GraphQLType -&gt; Bool
== :: GraphQLType -&gt; GraphQLType -&gt; Bool
$c== :: GraphQLType -&gt; GraphQLType -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-97"></span><span>
</span><span id="line-98"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="Data.Text.Extended.html#ToTxt"><span class="hs-identifier hs-type">ToTxt</span></a></span><span> </span><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#GraphQLType"><span class="hs-identifier hs-type">GraphQLType</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-99"></span><span>  </span><span id="local-6989586621689498488"><span class="annot"><span class="annottext">toTxt :: GraphQLType -&gt; Text
</span><a href="#local-6989586621689498488"><span class="hs-identifier hs-var hs-var hs-var hs-var">toTxt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-100"></span><span>    </span><span class="annot"><span class="annottext">GraphQLType
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#Enum"><span class="hs-identifier hs-var">Enum</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Enum&quot;</span></span><span>
</span><span id="line-101"></span><span>    </span><span class="annot"><span class="annottext">GraphQLType
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#InputObject"><span class="hs-identifier hs-var">InputObject</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Input object&quot;</span></span><span>
</span><span id="line-102"></span><span>    </span><span class="annot"><span class="annottext">GraphQLType
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#Object"><span class="hs-identifier hs-var">Object</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Object&quot;</span></span><span>
</span><span id="line-103"></span><span>    </span><span class="annot"><span class="annottext">GraphQLType
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#Interface"><span class="hs-identifier hs-var">Interface</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Interface&quot;</span></span><span>
</span><span id="line-104"></span><span>    </span><span class="annot"><span class="annottext">GraphQLType
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#Union"><span class="hs-identifier hs-var">Union</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Union&quot;</span></span><span>
</span><span id="line-105"></span><span>    </span><span class="annot"><span class="annottext">GraphQLType
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#Scalar"><span class="hs-identifier hs-var">Scalar</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Scalar&quot;</span></span><span>
</span><span id="line-106"></span><span>    </span><span class="annot"><span class="annottext">GraphQLType
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#Directive"><span class="hs-identifier hs-var">Directive</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Directive&quot;</span></span><span>
</span><span id="line-107"></span><span>    </span><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#Field"><span class="hs-identifier hs-type">Field</span></a></span><span> </span><span class="annot"><span class="annottext">FieldDefinitionType
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#ObjectField"><span class="hs-identifier hs-var">ObjectField</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Object field&quot;</span></span><span>
</span><span id="line-108"></span><span>    </span><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#Field"><span class="hs-identifier hs-type">Field</span></a></span><span> </span><span class="annot"><span class="annottext">FieldDefinitionType
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#InterfaceField"><span class="hs-identifier hs-var">InterfaceField</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Interface field&quot;</span></span><span>
</span><span id="line-109"></span><span>    </span><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#Field"><span class="hs-identifier hs-type">Field</span></a></span><span> </span><span class="annot"><span class="annottext">FieldDefinitionType
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#EnumField"><span class="hs-identifier hs-var">EnumField</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Enum field&quot;</span></span><span>
</span><span id="line-110"></span><span>    </span><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#Argument"><span class="hs-identifier hs-type">Argument</span></a></span><span> </span><span class="annot"><span class="annottext">ArgumentDefinitionType
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#InputObjectArgument"><span class="hs-identifier hs-var">InputObjectArgument</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Input object argument&quot;</span></span><span>
</span><span id="line-111"></span><span>    </span><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#Argument"><span class="hs-identifier hs-type">Argument</span></a></span><span> </span><span class="annot"><span class="annottext">ArgumentDefinitionType
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#DirectiveArgument"><span class="hs-identifier hs-var">DirectiveArgument</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Directive Argument&quot;</span></span><span>
</span><span id="line-112"></span><span>
</span><span id="line-113"></span><span class="hs-keyword">data</span><span> </span><span id="RoleBasedSchemaValidationError"><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#RoleBasedSchemaValidationError"><span class="hs-identifier hs-var">RoleBasedSchemaValidationError</span></a></span></span><span>
</span><span id="line-114"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="hs-comment">-- | error to indicate that a type provided by the user</span><span>
</span><span id="line-115"></span><span>    </span><span class="hs-comment">-- differs from the corresponding type defined in the upstream</span><span>
</span><span id="line-116"></span><span>    </span><span class="hs-comment">-- remote schema</span><span>
</span><span id="line-117"></span><span>    </span><span id="NonMatchingType"><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#NonMatchingType"><span class="hs-identifier hs-var">NonMatchingType</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">G.Name</span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#GraphQLType"><span class="hs-identifier hs-type">GraphQLType</span></a></span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">G.GType</span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">G.GType</span></span><span>
</span><span id="line-118"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-comment">-- | error to indicate when a type definition doesn't exist</span><span>
</span><span id="line-119"></span><span>    </span><span class="hs-comment">-- in the upstream remote schema</span><span>
</span><span id="line-120"></span><span>    </span><span id="TypeDoesNotExist"><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#TypeDoesNotExist"><span class="hs-identifier hs-var">TypeDoesNotExist</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#GraphQLType"><span class="hs-identifier hs-type">GraphQLType</span></a></span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">G.Name</span></span><span>
</span><span id="line-121"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-comment">-- | error to indicate when the default value of an argument</span><span>
</span><span id="line-122"></span><span>    </span><span class="hs-comment">-- differs from the default value of the corresponding argument</span><span>
</span><span id="line-123"></span><span>    </span><span id="NonMatchingDefaultValue"><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#NonMatchingDefaultValue"><span class="hs-identifier hs-var">NonMatchingDefaultValue</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">G.Name</span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">G.Name</span></span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">G.Value</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Void</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">G.Value</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Void</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-124"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-comment">-- | error to indicate when a given input argument doesn't exist</span><span>
</span><span id="line-125"></span><span>    </span><span class="hs-comment">-- in the corresponding upstream input object</span><span>
</span><span id="line-126"></span><span>    </span><span id="NonExistingInputArgument"><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#NonExistingInputArgument"><span class="hs-identifier hs-var">NonExistingInputArgument</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">G.Name</span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">G.Name</span></span><span>
</span><span id="line-127"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="MissingNonNullableArguments"><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#MissingNonNullableArguments"><span class="hs-identifier hs-var">MissingNonNullableArguments</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">G.Name</span></span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">NonEmpty</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.Name</span></span><span class="hs-special">)</span><span>
</span><span id="line-128"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-comment">-- | error to indicate when a given directive argument</span><span>
</span><span id="line-129"></span><span>    </span><span class="hs-comment">-- doesn't exist in the corresponding upstream directive</span><span>
</span><span id="line-130"></span><span>    </span><span id="NonExistingDirectiveArgument"><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#NonExistingDirectiveArgument"><span class="hs-identifier hs-var">NonExistingDirectiveArgument</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">G.Name</span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#GraphQLType"><span class="hs-identifier hs-type">GraphQLType</span></a></span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">G.Name</span></span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">NonEmpty</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.Name</span></span><span class="hs-special">)</span><span>
</span><span id="line-131"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-comment">-- | error to indicate when a given field doesn't exist in a field type (Object/Interface)</span><span>
</span><span id="line-132"></span><span>    </span><span id="NonExistingField"><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#NonExistingField"><span class="hs-identifier hs-var">NonExistingField</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#FieldDefinitionType"><span class="hs-identifier hs-type">FieldDefinitionType</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.Name</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">G.Name</span></span><span>
</span><span id="line-133"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-comment">-- | error to indicate when member types of an Union don't exist in the</span><span>
</span><span id="line-134"></span><span>    </span><span class="hs-comment">-- corresponding upstream union</span><span>
</span><span id="line-135"></span><span>    </span><span id="NonExistingUnionMemberTypes"><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#NonExistingUnionMemberTypes"><span class="hs-identifier hs-var">NonExistingUnionMemberTypes</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">G.Name</span></span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">NE.NonEmpty</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.Name</span></span><span class="hs-special">)</span><span>
</span><span id="line-136"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-comment">-- | error to indicate when an object is trying to implement an interface</span><span>
</span><span id="line-137"></span><span>    </span><span class="hs-comment">-- which exists in the schema document but the interface doesn't exist</span><span>
</span><span id="line-138"></span><span>    </span><span class="hs-comment">-- in the upstream remote.</span><span>
</span><span id="line-139"></span><span>    </span><span id="CustomInterfacesNotAllowed"><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#CustomInterfacesNotAllowed"><span class="hs-identifier hs-var">CustomInterfacesNotAllowed</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">G.Name</span></span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">NE.NonEmpty</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.Name</span></span><span class="hs-special">)</span><span>
</span><span id="line-140"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-comment">-- | error to indicate when object implements interfaces that don't exist</span><span>
</span><span id="line-141"></span><span>    </span><span id="ObjectImplementsNonExistingInterfaces"><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#ObjectImplementsNonExistingInterfaces"><span class="hs-identifier hs-var">ObjectImplementsNonExistingInterfaces</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">G.Name</span></span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">NE.NonEmpty</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.Name</span></span><span class="hs-special">)</span><span>
</span><span id="line-142"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-comment">-- | error to indicate enum values in an enum do not exist in the</span><span>
</span><span id="line-143"></span><span>    </span><span class="hs-comment">-- corresponding upstream enum</span><span>
</span><span id="line-144"></span><span>    </span><span id="NonExistingEnumValues"><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#NonExistingEnumValues"><span class="hs-identifier hs-var">NonExistingEnumValues</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">G.Name</span></span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">NE.NonEmpty</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.Name</span></span><span class="hs-special">)</span><span>
</span><span id="line-145"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-comment">-- | error to indicate when the user provided schema contains more than</span><span>
</span><span id="line-146"></span><span>    </span><span class="hs-comment">-- one schema definition</span><span>
</span><span id="line-147"></span><span>    </span><span id="MultipleSchemaDefinitionsFound"><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#MultipleSchemaDefinitionsFound"><span class="hs-identifier hs-var">MultipleSchemaDefinitionsFound</span></a></span></span><span>
</span><span id="line-148"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-comment">-- | error to indicate when the schema definition doesn't contain the</span><span>
</span><span id="line-149"></span><span>    </span><span class="hs-comment">-- query root.</span><span>
</span><span id="line-150"></span><span>    </span><span id="MissingQueryRoot"><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#MissingQueryRoot"><span class="hs-identifier hs-var">MissingQueryRoot</span></a></span></span><span>
</span><span id="line-151"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="DuplicateTypeNames"><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#DuplicateTypeNames"><span class="hs-identifier hs-var">DuplicateTypeNames</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">NE.NonEmpty</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.Name</span></span><span class="hs-special">)</span><span>
</span><span id="line-152"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="DuplicateDirectives"><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#DuplicateDirectives"><span class="hs-identifier hs-var">DuplicateDirectives</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#GraphQLType"><span class="hs-identifier hs-type">GraphQLType</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.Name</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">NE.NonEmpty</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.Name</span></span><span class="hs-special">)</span><span>
</span><span id="line-153"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="DuplicateFields"><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#DuplicateFields"><span class="hs-identifier hs-var">DuplicateFields</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#FieldDefinitionType"><span class="hs-identifier hs-type">FieldDefinitionType</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.Name</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">NE.NonEmpty</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.Name</span></span><span class="hs-special">)</span><span>
</span><span id="line-154"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="DuplicateArguments"><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#DuplicateArguments"><span class="hs-identifier hs-var">DuplicateArguments</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">G.Name</span></span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">NE.NonEmpty</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.Name</span></span><span class="hs-special">)</span><span>
</span><span id="line-155"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="DuplicateEnumValues"><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#DuplicateEnumValues"><span class="hs-identifier hs-var">DuplicateEnumValues</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">G.Name</span></span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">NE.NonEmpty</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.Name</span></span><span class="hs-special">)</span><span>
</span><span id="line-156"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="InvalidPresetDirectiveLocation"><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#InvalidPresetDirectiveLocation"><span class="hs-identifier hs-var">InvalidPresetDirectiveLocation</span></a></span></span><span>
</span><span id="line-157"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="MultiplePresetDirectives"><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#MultiplePresetDirectives"><span class="hs-identifier hs-var">MultiplePresetDirectives</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#GraphQLType"><span class="hs-identifier hs-type">GraphQLType</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.Name</span></span><span class="hs-special">)</span><span>
</span><span id="line-158"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="NoPresetArgumentFound"><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#NoPresetArgumentFound"><span class="hs-identifier hs-var">NoPresetArgumentFound</span></a></span></span><span>
</span><span id="line-159"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="InvalidPresetArgument"><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#InvalidPresetArgument"><span class="hs-identifier hs-var">InvalidPresetArgument</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">G.Name</span></span><span>
</span><span id="line-160"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="ExpectedInputTypeButGotOutputType"><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#ExpectedInputTypeButGotOutputType"><span class="hs-identifier hs-var">ExpectedInputTypeButGotOutputType</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">G.Name</span></span><span>
</span><span id="line-161"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="EnumValueNotFound"><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#EnumValueNotFound"><span class="hs-identifier hs-var">EnumValueNotFound</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">G.Name</span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">G.Name</span></span><span>
</span><span id="line-162"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="ExpectedEnumValue"><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#ExpectedEnumValue"><span class="hs-identifier hs-var">ExpectedEnumValue</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">G.Name</span></span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">G.Value</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Void</span></span><span class="hs-special">)</span><span>
</span><span id="line-163"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="KeyDoesNotExistInInputObject"><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#KeyDoesNotExistInInputObject"><span class="hs-identifier hs-var">KeyDoesNotExistInInputObject</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">G.Name</span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">G.Name</span></span><span>
</span><span id="line-164"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="ExpectedInputObject"><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#ExpectedInputObject"><span class="hs-identifier hs-var">ExpectedInputObject</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">G.Name</span></span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">G.Value</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Void</span></span><span class="hs-special">)</span><span>
</span><span id="line-165"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="ExpectedScalarValue"><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#ExpectedScalarValue"><span class="hs-identifier hs-var">ExpectedScalarValue</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">G.Name</span></span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">G.Value</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Void</span></span><span class="hs-special">)</span><span>
</span><span id="line-166"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="DisallowSessionVarForListType"><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#DisallowSessionVarForListType"><span class="hs-identifier hs-var">DisallowSessionVarForListType</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">G.Name</span></span><span>
</span><span id="line-167"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="InvalidStaticValue"><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#InvalidStaticValue"><span class="hs-identifier hs-var">InvalidStaticValue</span></a></span></span><span>
</span><span id="line-168"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span class="hs-comment">-- | Error to indicate we're comparing non corresponding</span><span>
</span><span id="line-169"></span><span>    </span><span class="hs-comment">--   type definitions. Ideally, this error will never occur</span><span>
</span><span id="line-170"></span><span>    </span><span class="hs-comment">--   unless there's a programming error</span><span>
</span><span id="line-171"></span><span>    </span><span id="UnexpectedNonMatchingNames"><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#UnexpectedNonMatchingNames"><span class="hs-identifier hs-var">UnexpectedNonMatchingNames</span></a></span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">G.Name</span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><span class="hs-identifier hs-type">G.Name</span></span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#GraphQLType"><span class="hs-identifier hs-type">GraphQLType</span></a></span><span>
</span><span id="line-172"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621689498451"><span id="local-6989586621689498453"><span id="local-6989586621689498455"><span class="annot"><span class="annottext">Int -&gt; RoleBasedSchemaValidationError -&gt; ShowS
[RoleBasedSchemaValidationError] -&gt; ShowS
RoleBasedSchemaValidationError -&gt; String
(Int -&gt; RoleBasedSchemaValidationError -&gt; ShowS)
-&gt; (RoleBasedSchemaValidationError -&gt; String)
-&gt; ([RoleBasedSchemaValidationError] -&gt; ShowS)
-&gt; Show RoleBasedSchemaValidationError
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [RoleBasedSchemaValidationError] -&gt; ShowS
$cshowList :: [RoleBasedSchemaValidationError] -&gt; ShowS
show :: RoleBasedSchemaValidationError -&gt; String
$cshow :: RoleBasedSchemaValidationError -&gt; String
showsPrec :: Int -&gt; RoleBasedSchemaValidationError -&gt; ShowS
$cshowsPrec :: Int -&gt; RoleBasedSchemaValidationError -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621689498447"><span id="local-6989586621689498449"><span class="annot"><span class="annottext">RoleBasedSchemaValidationError
-&gt; RoleBasedSchemaValidationError -&gt; Bool
(RoleBasedSchemaValidationError
 -&gt; RoleBasedSchemaValidationError -&gt; Bool)
-&gt; (RoleBasedSchemaValidationError
    -&gt; RoleBasedSchemaValidationError -&gt; Bool)
-&gt; Eq RoleBasedSchemaValidationError
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: RoleBasedSchemaValidationError
-&gt; RoleBasedSchemaValidationError -&gt; Bool
$c/= :: RoleBasedSchemaValidationError
-&gt; RoleBasedSchemaValidationError -&gt; Bool
== :: RoleBasedSchemaValidationError
-&gt; RoleBasedSchemaValidationError -&gt; Bool
$c== :: RoleBasedSchemaValidationError
-&gt; RoleBasedSchemaValidationError -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-173"></span><span>
</span><span id="line-174"></span><span class="hs-comment">{-
NOTE: Unused. Should we remove?

convertTypeDef :: G.TypeDefinition [G.Name] a -&gt; G.TypeDefinition () a
convertTypeDef (G.TypeDefinitionInterface (G.InterfaceTypeDefinition desc name dirs flds _)) =
  G.TypeDefinitionInterface $ G.InterfaceTypeDefinition desc name dirs flds ()
convertTypeDef (G.TypeDefinitionScalar s) = G.TypeDefinitionScalar s
convertTypeDef (G.TypeDefinitionInputObject inpObj) = G.TypeDefinitionInputObject inpObj
convertTypeDef (G.TypeDefinitionEnum s) = G.TypeDefinitionEnum s
convertTypeDef (G.TypeDefinitionUnion s) = G.TypeDefinitionUnion s
convertTypeDef (G.TypeDefinitionObject s) = G.TypeDefinitionObject s
-}</span><span>
</span><span id="line-186"></span><span>
</span><span id="line-187"></span><span class="hs-comment">{- Note [Remote Schema Argument Presets]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Remote schema argument presets are a way to inject values from static values or
from session variables during execution. Presets can be set using the `preset`
directive, the preset directive is defined in the following manner:

```
scalar PresetValue

directive @preset(
  value: PresetValue
) on INPUT_FIELD_DEFINITION | ARGUMENT_DEFINITION
```

When a preset directive is defined on an input type, the input type is removed
from the schema and the value is injected by the graphql-engine during the
execution.

There are two types of preset:

1. Static preset
----------------

Static preset is used to preset a static GraphQL value which will be injected
during the execution of the query. Static presets can be specified on all types
of input types i.e scalars, enums and input objects and lists of these types.
The preset value (if specified) will be validated against the type it's provided.
For example:

```
users(user_id: Int @preset(value: {user_id: 1}))
```

The above example will throw an error because the preset is attempting to preset
an input object value for a scalar (Int) type.

2. Session variable preset
--------------------------

Session variable preset is used to inject value from a session variable into the
graphql query during the execution. If the `value` argument of the preset directive
is in the format of the session variable i.e. `x-hasura-*` it will be treated as a
session variable preset. During the execution of a query, which has a session variable
preset set, the session variable's will be looked up and the value will be constructed
into a GraphQL variable. Check out `resolveRemoteVariable` for more details about how
the session variable presets get resolved.

At the time of writing this note, session variable presets can **only** be specified at
named types and only for scalar and enum types. This is done because currently there's
no good way to specify array or object values through session variables.
-}</span><span>
</span><span id="line-239"></span><span>
</span><span id="line-240"></span><span class="hs-comment">{- Note [Remote Schema Permissions Architecture]
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

The Remote schema permissions feature is designed in the following way:

1. An user can configure remote schema permissions for a particular role using
   the `add_remote_schema_permissions` API, note that this API will only work
   when remote schema permissions are enabled while starting the graphql-engine,
   which can be done either by the setting the server flag
   `--enable-remote-schema-permissions` or the env variable
   `HASURA_GRAPHQL_ENABLE_REMOTE_SCHEMA_PERMISSIONS` to `true`. Check the module
   documentation of `Hasura.RQL.DDL.RemoteSchema.Permission` (this module) for
   more details about how the `add_remote_schema_permissions` API works.
2. The given schema document is parsed into an `IntrospectionResult` object,
3. The schema is built with the `IntrospectionResult` parsed in #2 for the said role.
   Check out the documentation in `argumentsParser` to know more about how the presets
   are handled.
4. For a remote schema query, the schema will return a `RemoteField` which
   contains unresolved session variables, the `RemoteField` is resolved using the
   `resolveRemoteField` function. The `resolveRemoteVariable` function contains more
   details about how the `RemoteVariable` is resolved.
5. After resolving the remote field, the remote server is queried with the resolved
   remote field.
-}</span><span>
</span><span id="line-264"></span><span>
</span><span id="line-265"></span><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#showRoleBasedSchemaValidationError"><span class="hs-identifier hs-type">showRoleBasedSchemaValidationError</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#RoleBasedSchemaValidationError"><span class="hs-identifier hs-type">RoleBasedSchemaValidationError</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-266"></span><span id="showRoleBasedSchemaValidationError"><span class="annot"><span class="annottext">showRoleBasedSchemaValidationError :: RoleBasedSchemaValidationError -&gt; Text
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#showRoleBasedSchemaValidationError"><span class="hs-identifier hs-var hs-var">showRoleBasedSchemaValidationError</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-267"></span><span>  </span><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#NonMatchingType"><span class="hs-identifier hs-type">NonMatchingType</span></a></span><span> </span><span id="local-6989586621689498445"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498445"><span class="hs-identifier hs-var">fldName</span></a></span></span><span> </span><span id="local-6989586621689498444"><span class="annot"><span class="annottext">GraphQLType
</span><a href="#local-6989586621689498444"><span class="hs-identifier hs-var">fldType</span></a></span></span><span> </span><span id="local-6989586621689498443"><span class="annot"><span class="annottext">GType
</span><a href="#local-6989586621689498443"><span class="hs-identifier hs-var">expectedType</span></a></span></span><span> </span><span id="local-6989586621689498442"><span class="annot"><span class="annottext">GType
</span><a href="#local-6989586621689498442"><span class="hs-identifier hs-var">providedType</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-268"></span><span>    </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;expected type of &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Text
forall t. ToTxt t =&gt; t -&gt; Text
</span><a href="Data.Text.Extended.html#dquote"><span class="hs-identifier hs-var">dquote</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498445"><span class="hs-identifier hs-var">fldName</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;(&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">GraphQLType -&gt; Text
forall t. ToTxt t =&gt; t -&gt; Text
</span><a href="Data.Text.Extended.html#dquote"><span class="hs-identifier hs-var">dquote</span></a></span><span> </span><span class="annot"><span class="annottext">GraphQLType
</span><a href="#local-6989586621689498444"><span class="hs-identifier hs-var">fldType</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;)&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; to be &quot;</span></span><span>
</span><span id="line-269"></span><span>      </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GType -&gt; Text
</span><span class="hs-identifier hs-var">G.showGT</span></span><span> </span><span class="annot"><span class="annottext">GType
</span><a href="#local-6989586621689498443"><span class="hs-identifier hs-var">expectedType</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-270"></span><span>      </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; but received &quot;</span></span><span>
</span><span id="line-271"></span><span>      </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GType -&gt; Text
</span><span class="hs-identifier hs-var">G.showGT</span></span><span> </span><span class="annot"><span class="annottext">GType
</span><a href="#local-6989586621689498442"><span class="hs-identifier hs-var">providedType</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-272"></span><span>  </span><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#TypeDoesNotExist"><span class="hs-identifier hs-type">TypeDoesNotExist</span></a></span><span> </span><span id="local-6989586621689498439"><span class="annot"><span class="annottext">GraphQLType
</span><a href="#local-6989586621689498439"><span class="hs-identifier hs-var">graphQLType</span></a></span></span><span> </span><span id="local-6989586621689498438"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498438"><span class="hs-identifier hs-var">typeName</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-273"></span><span>    </span><span class="annot"><span class="annottext">GraphQLType
</span><a href="#local-6989586621689498439"><span class="hs-identifier hs-var">graphQLType</span></a></span><span> </span><span class="annot"><span class="annottext">GraphQLType -&gt; Text -&gt; Text
forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><a href="Data.Text.Extended.html#%3C%3C%3E"><span class="hs-operator hs-var">&lt;&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;: &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498438"><span class="hs-identifier hs-var">typeName</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Text -&gt; Text
forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><a href="Data.Text.Extended.html#%3C%3C%3E"><span class="hs-operator hs-var">&lt;&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; does not exist in the upstream remote schema&quot;</span></span><span>
</span><span id="line-274"></span><span>  </span><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#NonMatchingDefaultValue"><span class="hs-identifier hs-type">NonMatchingDefaultValue</span></a></span><span> </span><span id="local-6989586621689498436"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498436"><span class="hs-identifier hs-var">inpObjName</span></a></span></span><span> </span><span id="local-6989586621689498435"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498435"><span class="hs-identifier hs-var">inpValName</span></a></span></span><span> </span><span id="local-6989586621689498434"><span class="annot"><span class="annottext">Maybe (Value Void)
</span><a href="#local-6989586621689498434"><span class="hs-identifier hs-var">expectedVal</span></a></span></span><span> </span><span id="local-6989586621689498433"><span class="annot"><span class="annottext">Maybe (Value Void)
</span><a href="#local-6989586621689498433"><span class="hs-identifier hs-var">providedVal</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-275"></span><span>    </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;expected default value of input value: &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498435"><span class="hs-identifier hs-var">inpValName</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Text -&gt; Text
forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><a href="Data.Text.Extended.html#%3C%3C%3E"><span class="hs-operator hs-var">&lt;&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;of input object &quot;</span></span><span>
</span><span id="line-276"></span><span>      </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498436"><span class="hs-identifier hs-var">inpObjName</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Text -&gt; Text
forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><a href="Data.Text.Extended.html#%3C%3C%3E"><span class="hs-operator hs-var">&lt;&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; to be &quot;</span></span><span>
</span><span id="line-277"></span><span>      </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Maybe (Value Void) -&gt; Text
</span><a href="#local-6989586621689498432"><span class="hs-identifier hs-var">defaultValueToText</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (Value Void)
</span><a href="#local-6989586621689498434"><span class="hs-identifier hs-var">expectedVal</span></a></span><span>
</span><span id="line-278"></span><span>      </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; but received &quot;</span></span><span>
</span><span id="line-279"></span><span>      </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Maybe (Value Void) -&gt; Text
</span><a href="#local-6989586621689498432"><span class="hs-identifier hs-var">defaultValueToText</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (Value Void)
</span><a href="#local-6989586621689498433"><span class="hs-identifier hs-var">providedVal</span></a></span><span>
</span><span id="line-280"></span><span>  </span><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#NonExistingInputArgument"><span class="hs-identifier hs-type">NonExistingInputArgument</span></a></span><span> </span><span id="local-6989586621689498431"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498431"><span class="hs-identifier hs-var">inpObjName</span></a></span></span><span> </span><span id="local-6989586621689498430"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498430"><span class="hs-identifier hs-var">inpArgName</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-281"></span><span>    </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;input argument &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498430"><span class="hs-identifier hs-var">inpArgName</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Text -&gt; Text
forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><a href="Data.Text.Extended.html#%3C%3C%3E"><span class="hs-operator hs-var">&lt;&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; does not exist in the input object:&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Name -&gt; Text
forall t. ToTxt t =&gt; Text -&gt; t -&gt; Text
</span><a href="Data.Text.Extended.html#%3C%3E%3E"><span class="hs-operator hs-var">&lt;&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498431"><span class="hs-identifier hs-var">inpObjName</span></a></span><span>
</span><span id="line-282"></span><span>  </span><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#MissingNonNullableArguments"><span class="hs-identifier hs-type">MissingNonNullableArguments</span></a></span><span> </span><span id="local-6989586621689498428"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498428"><span class="hs-identifier hs-var">fieldName</span></a></span></span><span> </span><span id="local-6989586621689498427"><span class="annot"><span class="annottext">NonEmpty Name
</span><a href="#local-6989586621689498427"><span class="hs-identifier hs-var">nonNullableArgs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-283"></span><span>    </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;field: &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498428"><span class="hs-identifier hs-var">fieldName</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Text -&gt; Text
forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><a href="Data.Text.Extended.html#%3C%3C%3E"><span class="hs-operator hs-var">&lt;&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; expects the following non nullable arguments to &quot;</span></span><span>
</span><span id="line-284"></span><span>      </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;be present: &quot;</span></span><span>
</span><span id="line-285"></span><span>      </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; NonEmpty Text -&gt; Text
</span><a href="Hasura.Server.Utils.html#englishList"><span class="hs-identifier hs-var">englishList</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;and&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Name -&gt; Text) -&gt; NonEmpty Name -&gt; NonEmpty Text
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Text
forall t. ToTxt t =&gt; t -&gt; Text
</span><a href="Data.Text.Extended.html#dquote"><span class="hs-identifier hs-var">dquote</span></a></span><span> </span><span class="annot"><span class="annottext">NonEmpty Name
</span><a href="#local-6989586621689498427"><span class="hs-identifier hs-var">nonNullableArgs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-286"></span><span>  </span><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#NonExistingDirectiveArgument"><span class="hs-identifier hs-type">NonExistingDirectiveArgument</span></a></span><span> </span><span id="local-6989586621689498426"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498426"><span class="hs-identifier hs-var">parentName</span></a></span></span><span> </span><span id="local-6989586621689498425"><span class="annot"><span class="annottext">GraphQLType
</span><a href="#local-6989586621689498425"><span class="hs-identifier hs-var">parentType</span></a></span></span><span> </span><span id="local-6989586621689498424"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498424"><span class="hs-identifier hs-var">directiveName</span></a></span></span><span> </span><span id="local-6989586621689498423"><span class="annot"><span class="annottext">NonEmpty Name
</span><a href="#local-6989586621689498423"><span class="hs-identifier hs-var">nonExistingArgs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-287"></span><span>    </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;the following directive argument(s) defined in the directive: &quot;</span></span><span>
</span><span id="line-288"></span><span>      </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498424"><span class="hs-identifier hs-var">directiveName</span></a></span><span>
</span><span id="line-289"></span><span>      </span><span class="annot"><span class="annottext">Name -&gt; Text -&gt; Text
forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><a href="Data.Text.Extended.html#%3C%3C%3E"><span class="hs-operator hs-var">&lt;&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; defined with the type name: &quot;</span></span><span>
</span><span id="line-290"></span><span>      </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498426"><span class="hs-identifier hs-var">parentName</span></a></span><span>
</span><span id="line-291"></span><span>      </span><span class="annot"><span class="annottext">Name -&gt; Text -&gt; Text
forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><a href="Data.Text.Extended.html#%3C%3C%3E"><span class="hs-operator hs-var">&lt;&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; of type &quot;</span></span><span>
</span><span id="line-292"></span><span>      </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">GraphQLType
</span><a href="#local-6989586621689498425"><span class="hs-identifier hs-var">parentType</span></a></span><span>
</span><span id="line-293"></span><span>      </span><span class="annot"><span class="annottext">GraphQLType -&gt; Text -&gt; Text
forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><a href="Data.Text.Extended.html#%3C%3C%3E"><span class="hs-operator hs-var">&lt;&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; do not exist in the corresponding upstream directive: &quot;</span></span><span>
</span><span id="line-294"></span><span>      </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; NonEmpty Text -&gt; Text
</span><a href="Hasura.Server.Utils.html#englishList"><span class="hs-identifier hs-var">englishList</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;and&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Name -&gt; Text) -&gt; NonEmpty Name -&gt; NonEmpty Text
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Text
forall t. ToTxt t =&gt; t -&gt; Text
</span><a href="Data.Text.Extended.html#dquote"><span class="hs-identifier hs-var">dquote</span></a></span><span> </span><span class="annot"><span class="annottext">NonEmpty Name
</span><a href="#local-6989586621689498423"><span class="hs-identifier hs-var">nonExistingArgs</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-295"></span><span>  </span><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#NonExistingField"><span class="hs-identifier hs-type">NonExistingField</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621689498422"><span class="annot"><span class="annottext">FieldDefinitionType
</span><a href="#local-6989586621689498422"><span class="hs-identifier hs-var">fldDefnType</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621689498421"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498421"><span class="hs-identifier hs-var">parentTypeName</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621689498420"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498420"><span class="hs-identifier hs-var">providedName</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-296"></span><span>    </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;field &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498420"><span class="hs-identifier hs-var">providedName</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Text -&gt; Text
forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><a href="Data.Text.Extended.html#%3C%3C%3E"><span class="hs-operator hs-var">&lt;&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; does not exist in the &quot;</span></span><span>
</span><span id="line-297"></span><span>      </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">FieldDefinitionType
</span><a href="#local-6989586621689498422"><span class="hs-identifier hs-var">fldDefnType</span></a></span><span> </span><span class="annot"><span class="annottext">FieldDefinitionType -&gt; Text -&gt; Text
forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><a href="Data.Text.Extended.html#%3C%3C%3E"><span class="hs-operator hs-var">&lt;&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;: &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Name -&gt; Text
forall t. ToTxt t =&gt; Text -&gt; t -&gt; Text
</span><a href="Data.Text.Extended.html#%3C%3E%3E"><span class="hs-operator hs-var">&lt;&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498421"><span class="hs-identifier hs-var">parentTypeName</span></a></span><span>
</span><span id="line-298"></span><span>  </span><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#NonExistingUnionMemberTypes"><span class="hs-identifier hs-type">NonExistingUnionMemberTypes</span></a></span><span> </span><span id="local-6989586621689498419"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498419"><span class="hs-identifier hs-var">unionName</span></a></span></span><span> </span><span id="local-6989586621689498418"><span class="annot"><span class="annottext">NonEmpty Name
</span><a href="#local-6989586621689498418"><span class="hs-identifier hs-var">nonExistingMembers</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-299"></span><span>    </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;union &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498419"><span class="hs-identifier hs-var">unionName</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Text -&gt; Text
forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><a href="Data.Text.Extended.html#%3C%3C%3E"><span class="hs-operator hs-var">&lt;&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; contains members which do not exist in the members&quot;</span></span><span>
</span><span id="line-300"></span><span>      </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; of the remote schema union :&quot;</span></span><span>
</span><span id="line-301"></span><span>      </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; NonEmpty Text -&gt; Text
</span><a href="Hasura.Server.Utils.html#englishList"><span class="hs-identifier hs-var">englishList</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;and&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Name -&gt; Text) -&gt; NonEmpty Name -&gt; NonEmpty Text
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Text
forall t. ToTxt t =&gt; t -&gt; Text
</span><a href="Data.Text.Extended.html#dquote"><span class="hs-identifier hs-var">dquote</span></a></span><span> </span><span class="annot"><span class="annottext">NonEmpty Name
</span><a href="#local-6989586621689498418"><span class="hs-identifier hs-var">nonExistingMembers</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-302"></span><span>  </span><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#CustomInterfacesNotAllowed"><span class="hs-identifier hs-type">CustomInterfacesNotAllowed</span></a></span><span> </span><span id="local-6989586621689498417"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498417"><span class="hs-identifier hs-var">objName</span></a></span></span><span> </span><span id="local-6989586621689498416"><span class="annot"><span class="annottext">NonEmpty Name
</span><a href="#local-6989586621689498416"><span class="hs-identifier hs-var">customInterfaces</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-303"></span><span>    </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;custom interfaces are not supported. &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Object&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498417"><span class="hs-identifier hs-var">objName</span></a></span><span>
</span><span id="line-304"></span><span>      </span><span class="annot"><span class="annottext">Name -&gt; Text -&gt; Text
forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><a href="Data.Text.Extended.html#%3C%3C%3E"><span class="hs-operator hs-var">&lt;&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; implements the following custom interfaces: &quot;</span></span><span>
</span><span id="line-305"></span><span>      </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; NonEmpty Text -&gt; Text
</span><a href="Hasura.Server.Utils.html#englishList"><span class="hs-identifier hs-var">englishList</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;and&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Name -&gt; Text) -&gt; NonEmpty Name -&gt; NonEmpty Text
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Text
forall t. ToTxt t =&gt; t -&gt; Text
</span><a href="Data.Text.Extended.html#dquote"><span class="hs-identifier hs-var">dquote</span></a></span><span> </span><span class="annot"><span class="annottext">NonEmpty Name
</span><a href="#local-6989586621689498416"><span class="hs-identifier hs-var">customInterfaces</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-306"></span><span>  </span><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#ObjectImplementsNonExistingInterfaces"><span class="hs-identifier hs-type">ObjectImplementsNonExistingInterfaces</span></a></span><span> </span><span id="local-6989586621689498415"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498415"><span class="hs-identifier hs-var">objName</span></a></span></span><span> </span><span id="local-6989586621689498414"><span class="annot"><span class="annottext">NonEmpty Name
</span><a href="#local-6989586621689498414"><span class="hs-identifier hs-var">nonExistentInterfaces</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-307"></span><span>    </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;object &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498415"><span class="hs-identifier hs-var">objName</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Text -&gt; Text
forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><a href="Data.Text.Extended.html#%3C%3C%3E"><span class="hs-operator hs-var">&lt;&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; is trying to implement the following interfaces&quot;</span></span><span>
</span><span id="line-308"></span><span>      </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; that do not exist in the corresponding upstream remote object: &quot;</span></span><span>
</span><span id="line-309"></span><span>      </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; NonEmpty Text -&gt; Text
</span><a href="Hasura.Server.Utils.html#englishList"><span class="hs-identifier hs-var">englishList</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;and&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Name -&gt; Text) -&gt; NonEmpty Name -&gt; NonEmpty Text
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Text
forall t. ToTxt t =&gt; t -&gt; Text
</span><a href="Data.Text.Extended.html#dquote"><span class="hs-identifier hs-var">dquote</span></a></span><span> </span><span class="annot"><span class="annottext">NonEmpty Name
</span><a href="#local-6989586621689498414"><span class="hs-identifier hs-var">nonExistentInterfaces</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-310"></span><span>  </span><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#NonExistingEnumValues"><span class="hs-identifier hs-type">NonExistingEnumValues</span></a></span><span> </span><span id="local-6989586621689498413"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498413"><span class="hs-identifier hs-var">enumName</span></a></span></span><span> </span><span id="local-6989586621689498412"><span class="annot"><span class="annottext">NonEmpty Name
</span><a href="#local-6989586621689498412"><span class="hs-identifier hs-var">nonExistentEnumVals</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-311"></span><span>    </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;enum &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498413"><span class="hs-identifier hs-var">enumName</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Text -&gt; Text
forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><a href="Data.Text.Extended.html#%3C%3C%3E"><span class="hs-operator hs-var">&lt;&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; contains the following enum values that do not exist &quot;</span></span><span>
</span><span id="line-312"></span><span>      </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;in the corresponding upstream remote enum: &quot;</span></span><span>
</span><span id="line-313"></span><span>      </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; NonEmpty Text -&gt; Text
</span><a href="Hasura.Server.Utils.html#englishList"><span class="hs-identifier hs-var">englishList</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;and&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Name -&gt; Text) -&gt; NonEmpty Name -&gt; NonEmpty Text
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Text
forall t. ToTxt t =&gt; t -&gt; Text
</span><a href="Data.Text.Extended.html#dquote"><span class="hs-identifier hs-var">dquote</span></a></span><span> </span><span class="annot"><span class="annottext">NonEmpty Name
</span><a href="#local-6989586621689498412"><span class="hs-identifier hs-var">nonExistentEnumVals</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-314"></span><span>  </span><span class="annot"><span class="annottext">RoleBasedSchemaValidationError
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#MissingQueryRoot"><span class="hs-identifier hs-var">MissingQueryRoot</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;query root does not exist in the schema definition&quot;</span></span><span>
</span><span id="line-315"></span><span>  </span><span class="annot"><span class="annottext">RoleBasedSchemaValidationError
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#MultipleSchemaDefinitionsFound"><span class="hs-identifier hs-var">MultipleSchemaDefinitionsFound</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;multiple schema definitions found&quot;</span></span><span>
</span><span id="line-316"></span><span>  </span><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#DuplicateTypeNames"><span class="hs-identifier hs-type">DuplicateTypeNames</span></a></span><span> </span><span id="local-6989586621689498411"><span class="annot"><span class="annottext">NonEmpty Name
</span><a href="#local-6989586621689498411"><span class="hs-identifier hs-var">typeNames</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-317"></span><span>    </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;duplicate type names found: &quot;</span></span><span>
</span><span id="line-318"></span><span>      </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; NonEmpty Text -&gt; Text
</span><a href="Hasura.Server.Utils.html#englishList"><span class="hs-identifier hs-var">englishList</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;and&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Name -&gt; Text) -&gt; NonEmpty Name -&gt; NonEmpty Text
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Text
forall t. ToTxt t =&gt; t -&gt; Text
</span><a href="Data.Text.Extended.html#dquote"><span class="hs-identifier hs-var">dquote</span></a></span><span> </span><span class="annot"><span class="annottext">NonEmpty Name
</span><a href="#local-6989586621689498411"><span class="hs-identifier hs-var">typeNames</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-319"></span><span>  </span><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#DuplicateDirectives"><span class="hs-identifier hs-type">DuplicateDirectives</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621689498410"><span class="annot"><span class="annottext">GraphQLType
</span><a href="#local-6989586621689498410"><span class="hs-identifier hs-var">parentType</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621689498409"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498409"><span class="hs-identifier hs-var">parentName</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621689498408"><span class="annot"><span class="annottext">NonEmpty Name
</span><a href="#local-6989586621689498408"><span class="hs-identifier hs-var">directiveNames</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-320"></span><span>    </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;duplicate directives: &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; NonEmpty Text -&gt; Text
</span><a href="Hasura.Server.Utils.html#englishList"><span class="hs-identifier hs-var">englishList</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;and&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Name -&gt; Text) -&gt; NonEmpty Name -&gt; NonEmpty Text
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Text
forall t. ToTxt t =&gt; t -&gt; Text
</span><a href="Data.Text.Extended.html#dquote"><span class="hs-identifier hs-var">dquote</span></a></span><span> </span><span class="annot"><span class="annottext">NonEmpty Name
</span><a href="#local-6989586621689498408"><span class="hs-identifier hs-var">directiveNames</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-321"></span><span>      </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;found in the &quot;</span></span><span>
</span><span id="line-322"></span><span>      </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">GraphQLType
</span><a href="#local-6989586621689498410"><span class="hs-identifier hs-var">parentType</span></a></span><span> </span><span class="annot"><span class="annottext">GraphQLType -&gt; Text -&gt; Text
forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><a href="Data.Text.Extended.html#%3C%3C%3E"><span class="hs-operator hs-var">&lt;&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Name -&gt; Text
forall t. ToTxt t =&gt; Text -&gt; t -&gt; Text
</span><a href="Data.Text.Extended.html#%3C%3E%3E"><span class="hs-operator hs-var">&lt;&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498409"><span class="hs-identifier hs-var">parentName</span></a></span><span>
</span><span id="line-323"></span><span>  </span><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#DuplicateFields"><span class="hs-identifier hs-type">DuplicateFields</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621689498407"><span class="annot"><span class="annottext">FieldDefinitionType
</span><a href="#local-6989586621689498407"><span class="hs-identifier hs-var">parentType</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621689498406"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498406"><span class="hs-identifier hs-var">parentName</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621689498405"><span class="annot"><span class="annottext">NonEmpty Name
</span><a href="#local-6989586621689498405"><span class="hs-identifier hs-var">fieldNames</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-324"></span><span>    </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;duplicate fields: &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; NonEmpty Text -&gt; Text
</span><a href="Hasura.Server.Utils.html#englishList"><span class="hs-identifier hs-var">englishList</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;and&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Name -&gt; Text) -&gt; NonEmpty Name -&gt; NonEmpty Text
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Text
forall t. ToTxt t =&gt; t -&gt; Text
</span><a href="Data.Text.Extended.html#dquote"><span class="hs-identifier hs-var">dquote</span></a></span><span> </span><span class="annot"><span class="annottext">NonEmpty Name
</span><a href="#local-6989586621689498405"><span class="hs-identifier hs-var">fieldNames</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-325"></span><span>      </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;found in the &quot;</span></span><span>
</span><span id="line-326"></span><span>      </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">FieldDefinitionType
</span><a href="#local-6989586621689498407"><span class="hs-identifier hs-var">parentType</span></a></span><span> </span><span class="annot"><span class="annottext">FieldDefinitionType -&gt; Text -&gt; Text
forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><a href="Data.Text.Extended.html#%3C%3C%3E"><span class="hs-operator hs-var">&lt;&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Name -&gt; Text
forall t. ToTxt t =&gt; Text -&gt; t -&gt; Text
</span><a href="Data.Text.Extended.html#%3C%3E%3E"><span class="hs-operator hs-var">&lt;&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498406"><span class="hs-identifier hs-var">parentName</span></a></span><span>
</span><span id="line-327"></span><span>  </span><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#DuplicateArguments"><span class="hs-identifier hs-type">DuplicateArguments</span></a></span><span> </span><span id="local-6989586621689498404"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498404"><span class="hs-identifier hs-var">fieldName</span></a></span></span><span> </span><span id="local-6989586621689498403"><span class="annot"><span class="annottext">NonEmpty Name
</span><a href="#local-6989586621689498403"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-328"></span><span>    </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;duplicate arguments: &quot;</span></span><span>
</span><span id="line-329"></span><span>      </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; NonEmpty Text -&gt; Text
</span><a href="Hasura.Server.Utils.html#englishList"><span class="hs-identifier hs-var">englishList</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;and&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Name -&gt; Text) -&gt; NonEmpty Name -&gt; NonEmpty Text
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Text
forall t. ToTxt t =&gt; t -&gt; Text
</span><a href="Data.Text.Extended.html#dquote"><span class="hs-identifier hs-var">dquote</span></a></span><span> </span><span class="annot"><span class="annottext">NonEmpty Name
</span><a href="#local-6989586621689498403"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-330"></span><span>      </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;found in the field: &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Name -&gt; Text
forall t. ToTxt t =&gt; Text -&gt; t -&gt; Text
</span><a href="Data.Text.Extended.html#%3C%3E%3E"><span class="hs-operator hs-var">&lt;&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498404"><span class="hs-identifier hs-var">fieldName</span></a></span><span>
</span><span id="line-331"></span><span>  </span><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#DuplicateEnumValues"><span class="hs-identifier hs-type">DuplicateEnumValues</span></a></span><span> </span><span id="local-6989586621689498402"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498402"><span class="hs-identifier hs-var">enumName</span></a></span></span><span> </span><span id="local-6989586621689498401"><span class="annot"><span class="annottext">NonEmpty Name
</span><a href="#local-6989586621689498401"><span class="hs-identifier hs-var">enumValues</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-332"></span><span>    </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;duplicate enum values: &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; NonEmpty Text -&gt; Text
</span><a href="Hasura.Server.Utils.html#englishList"><span class="hs-identifier hs-var">englishList</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;and&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Name -&gt; Text) -&gt; NonEmpty Name -&gt; NonEmpty Text
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Text
forall t. ToTxt t =&gt; t -&gt; Text
</span><a href="Data.Text.Extended.html#dquote"><span class="hs-identifier hs-var">dquote</span></a></span><span> </span><span class="annot"><span class="annottext">NonEmpty Name
</span><a href="#local-6989586621689498401"><span class="hs-identifier hs-var">enumValues</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-333"></span><span>      </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; found in the &quot;</span></span><span>
</span><span id="line-334"></span><span>      </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498402"><span class="hs-identifier hs-var">enumName</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Text -&gt; Text
forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><a href="Data.Text.Extended.html#%3C%3C%3E"><span class="hs-operator hs-var">&lt;&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; enum&quot;</span></span><span>
</span><span id="line-335"></span><span>  </span><span class="annot"><span class="annottext">RoleBasedSchemaValidationError
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#InvalidPresetDirectiveLocation"><span class="hs-identifier hs-var">InvalidPresetDirectiveLocation</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-336"></span><span>    </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Preset directives can be defined only on INPUT_FIELD_DEFINITION or ARGUMENT_DEFINITION&quot;</span></span><span>
</span><span id="line-337"></span><span>  </span><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#MultiplePresetDirectives"><span class="hs-identifier hs-type">MultiplePresetDirectives</span></a></span><span> </span><span class="hs-special">(</span><span id="local-6989586621689498400"><span class="annot"><span class="annottext">GraphQLType
</span><a href="#local-6989586621689498400"><span class="hs-identifier hs-var">parentType</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621689498399"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498399"><span class="hs-identifier hs-var">parentName</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-338"></span><span>    </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;found multiple preset directives at &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">GraphQLType
</span><a href="#local-6989586621689498400"><span class="hs-identifier hs-var">parentType</span></a></span><span> </span><span class="annot"><span class="annottext">GraphQLType -&gt; Text -&gt; Text
forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><a href="Data.Text.Extended.html#%3C%3C%3E"><span class="hs-operator hs-var">&lt;&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Name -&gt; Text
forall t. ToTxt t =&gt; Text -&gt; t -&gt; Text
</span><a href="Data.Text.Extended.html#%3C%3E%3E"><span class="hs-operator hs-var">&lt;&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498399"><span class="hs-identifier hs-var">parentName</span></a></span><span>
</span><span id="line-339"></span><span>  </span><span class="annot"><span class="annottext">RoleBasedSchemaValidationError
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#NoPresetArgumentFound"><span class="hs-identifier hs-var">NoPresetArgumentFound</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;no arguments found in the preset directive&quot;</span></span><span>
</span><span id="line-340"></span><span>  </span><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#InvalidPresetArgument"><span class="hs-identifier hs-type">InvalidPresetArgument</span></a></span><span> </span><span id="local-6989586621689498398"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498398"><span class="hs-identifier hs-var">argName</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-341"></span><span>    </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;preset argument \&quot;value\&quot; not found at &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Name -&gt; Text
forall t. ToTxt t =&gt; Text -&gt; t -&gt; Text
</span><a href="Data.Text.Extended.html#%3C%3E%3E"><span class="hs-operator hs-var">&lt;&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498398"><span class="hs-identifier hs-var">argName</span></a></span><span>
</span><span id="line-342"></span><span>  </span><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#ExpectedInputTypeButGotOutputType"><span class="hs-identifier hs-type">ExpectedInputTypeButGotOutputType</span></a></span><span> </span><span id="local-6989586621689498397"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498397"><span class="hs-identifier hs-var">typeName</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;expected &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498397"><span class="hs-identifier hs-var">typeName</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Text -&gt; Text
forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><a href="Data.Text.Extended.html#%3C%3C%3E"><span class="hs-operator hs-var">&lt;&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; to be an input type, but it's an output type&quot;</span></span><span>
</span><span id="line-343"></span><span>  </span><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#EnumValueNotFound"><span class="hs-identifier hs-type">EnumValueNotFound</span></a></span><span> </span><span id="local-6989586621689498396"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498396"><span class="hs-identifier hs-var">enumName</span></a></span></span><span> </span><span id="local-6989586621689498395"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498395"><span class="hs-identifier hs-var">enumValue</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498395"><span class="hs-identifier hs-var">enumValue</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Text -&gt; Text
forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><a href="Data.Text.Extended.html#%3C%3C%3E"><span class="hs-operator hs-var">&lt;&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; not found in the enum: &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Name -&gt; Text
forall t. ToTxt t =&gt; Text -&gt; t -&gt; Text
</span><a href="Data.Text.Extended.html#%3C%3E%3E"><span class="hs-operator hs-var">&lt;&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498396"><span class="hs-identifier hs-var">enumName</span></a></span><span>
</span><span id="line-344"></span><span>  </span><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#ExpectedEnumValue"><span class="hs-identifier hs-type">ExpectedEnumValue</span></a></span><span> </span><span id="local-6989586621689498394"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498394"><span class="hs-identifier hs-var">typeName</span></a></span></span><span> </span><span id="local-6989586621689498393"><span class="annot"><span class="annottext">Value Void
</span><a href="#local-6989586621689498393"><span class="hs-identifier hs-var">presetValue</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-345"></span><span>    </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;expected preset value &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Value Void
</span><a href="#local-6989586621689498393"><span class="hs-identifier hs-var">presetValue</span></a></span><span>
</span><span id="line-346"></span><span>      </span><span class="annot"><span class="annottext">Value Void -&gt; Text -&gt; Text
forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><a href="Data.Text.Extended.html#%3C%3C%3E"><span class="hs-operator hs-var">&lt;&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; of type &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498394"><span class="hs-identifier hs-var">typeName</span></a></span><span>
</span><span id="line-347"></span><span>      </span><span class="annot"><span class="annottext">Name -&gt; Text -&gt; Text
forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><a href="Data.Text.Extended.html#%3C%3C%3E"><span class="hs-operator hs-var">&lt;&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; to be an enum value&quot;</span></span><span>
</span><span id="line-348"></span><span>  </span><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#ExpectedScalarValue"><span class="hs-identifier hs-type">ExpectedScalarValue</span></a></span><span> </span><span id="local-6989586621689498392"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498392"><span class="hs-identifier hs-var">typeName</span></a></span></span><span> </span><span id="local-6989586621689498391"><span class="annot"><span class="annottext">Value Void
</span><a href="#local-6989586621689498391"><span class="hs-identifier hs-var">presetValue</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-349"></span><span>    </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;expected preset value &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Value Void
</span><a href="#local-6989586621689498391"><span class="hs-identifier hs-var">presetValue</span></a></span><span>
</span><span id="line-350"></span><span>      </span><span class="annot"><span class="annottext">Value Void -&gt; Text -&gt; Text
forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><a href="Data.Text.Extended.html#%3C%3C%3E"><span class="hs-operator hs-var">&lt;&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; of type &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498392"><span class="hs-identifier hs-var">typeName</span></a></span><span>
</span><span id="line-351"></span><span>      </span><span class="annot"><span class="annottext">Name -&gt; Text -&gt; Text
forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><a href="Data.Text.Extended.html#%3C%3C%3E"><span class="hs-operator hs-var">&lt;&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; to be a scalar value&quot;</span></span><span>
</span><span id="line-352"></span><span>  </span><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#ExpectedInputObject"><span class="hs-identifier hs-type">ExpectedInputObject</span></a></span><span> </span><span id="local-6989586621689498390"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498390"><span class="hs-identifier hs-var">typeName</span></a></span></span><span> </span><span id="local-6989586621689498389"><span class="annot"><span class="annottext">Value Void
</span><a href="#local-6989586621689498389"><span class="hs-identifier hs-var">presetValue</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-353"></span><span>    </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;expected preset value &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Value Void
</span><a href="#local-6989586621689498389"><span class="hs-identifier hs-var">presetValue</span></a></span><span>
</span><span id="line-354"></span><span>      </span><span class="annot"><span class="annottext">Value Void -&gt; Text -&gt; Text
forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><a href="Data.Text.Extended.html#%3C%3C%3E"><span class="hs-operator hs-var">&lt;&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; of type &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498390"><span class="hs-identifier hs-var">typeName</span></a></span><span>
</span><span id="line-355"></span><span>      </span><span class="annot"><span class="annottext">Name -&gt; Text -&gt; Text
forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><a href="Data.Text.Extended.html#%3C%3C%3E"><span class="hs-operator hs-var">&lt;&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; to be an input object value&quot;</span></span><span>
</span><span id="line-356"></span><span>  </span><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#KeyDoesNotExistInInputObject"><span class="hs-identifier hs-type">KeyDoesNotExistInInputObject</span></a></span><span> </span><span id="local-6989586621689498388"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498388"><span class="hs-identifier hs-var">key'</span></a></span></span><span> </span><span id="local-6989586621689498387"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498387"><span class="hs-identifier hs-var">inpObjTypeName</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-357"></span><span>    </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498388"><span class="hs-identifier hs-var">key'</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Text -&gt; Text
forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><a href="Data.Text.Extended.html#%3C%3C%3E"><span class="hs-operator hs-var">&lt;&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; does not exist in the input object &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Name -&gt; Text
forall t. ToTxt t =&gt; Text -&gt; t -&gt; Text
</span><a href="Data.Text.Extended.html#%3C%3E%3E"><span class="hs-operator hs-var">&lt;&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498387"><span class="hs-identifier hs-var">inpObjTypeName</span></a></span><span>
</span><span id="line-358"></span><span>  </span><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#DisallowSessionVarForListType"><span class="hs-identifier hs-type">DisallowSessionVarForListType</span></a></span><span> </span><span id="local-6989586621689498386"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498386"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-359"></span><span>    </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;illegal preset value at &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498386"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Text -&gt; Text
forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><a href="Data.Text.Extended.html#%3C%3C%3E"><span class="hs-operator hs-var">&lt;&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;. Session arguments can only be set for singleton values&quot;</span></span><span>
</span><span id="line-360"></span><span>  </span><span class="annot"><span class="annottext">RoleBasedSchemaValidationError
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#InvalidStaticValue"><span class="hs-identifier hs-var">InvalidStaticValue</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-361"></span><span>    </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;expected preset static value to be a Boolean value&quot;</span></span><span>
</span><span id="line-362"></span><span>  </span><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#UnexpectedNonMatchingNames"><span class="hs-identifier hs-type">UnexpectedNonMatchingNames</span></a></span><span> </span><span id="local-6989586621689498385"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498385"><span class="hs-identifier hs-var">providedName</span></a></span></span><span> </span><span id="local-6989586621689498384"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498384"><span class="hs-identifier hs-var">upstreamName</span></a></span></span><span> </span><span id="local-6989586621689498383"><span class="annot"><span class="annottext">GraphQLType
</span><a href="#local-6989586621689498383"><span class="hs-identifier hs-var">gType</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-363"></span><span>    </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;unexpected: trying to compare &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">GraphQLType
</span><a href="#local-6989586621689498383"><span class="hs-identifier hs-var">gType</span></a></span><span> </span><span class="annot"><span class="annottext">GraphQLType -&gt; Text -&gt; Text
forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><a href="Data.Text.Extended.html#%3C%3C%3E"><span class="hs-operator hs-var">&lt;&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; with name &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498385"><span class="hs-identifier hs-var">providedName</span></a></span><span>
</span><span id="line-364"></span><span>      </span><span class="annot"><span class="annottext">Name -&gt; Text -&gt; Text
forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><a href="Data.Text.Extended.html#%3C%3C%3E"><span class="hs-operator hs-var">&lt;&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; with &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Name -&gt; Text
forall t. ToTxt t =&gt; Text -&gt; t -&gt; Text
</span><a href="Data.Text.Extended.html#%3C%3E%3E"><span class="hs-operator hs-var">&lt;&gt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498384"><span class="hs-identifier hs-var">upstreamName</span></a></span><span>
</span><span id="line-365"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-366"></span><span>    </span><span id="local-6989586621689498432"><span class="annot"><span class="annottext">defaultValueToText :: Maybe (Value Void) -&gt; Text
</span><a href="#local-6989586621689498432"><span class="hs-identifier hs-var hs-var">defaultValueToText</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-367"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621689498382"><span class="annot"><span class="annottext">Value Void
</span><a href="#local-6989586621689498382"><span class="hs-identifier hs-var">defaultValue</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Value Void -&gt; Text
forall t. ToTxt t =&gt; t -&gt; Text
</span><a href="Data.Text.Extended.html#toTxt"><span class="hs-identifier hs-var">toTxt</span></a></span><span> </span><span class="annot"><span class="annottext">Value Void
</span><a href="#local-6989586621689498382"><span class="hs-identifier hs-var">defaultValue</span></a></span><span>
</span><span id="line-368"></span><span>      </span><span class="annot"><span class="annottext">Maybe (Value Void)
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;&quot;</span></span><span>
</span><span id="line-369"></span><span>
</span><span id="line-370"></span><span class="hs-comment">{-
NOTE: Unused. Should we remove?

presetValueScalar :: G.ScalarTypeDefinition
presetValueScalar = G.ScalarTypeDefinition Nothing G._PresetValue mempty

presetDirectiveDefn :: G.DirectiveDefinition G.InputValueDefinition
presetDirectiveDefn =
  G.DirectiveDefinition Nothing G._preset [directiveArg] directiveLocations
  where
    gType = G.TypeNamed (G.Nullability False) $ G._stdName presetValueScalar

    directiveLocations = map G.DLTypeSystem [G.TSDLARGUMENT_DEFINITION, G.TSDLINPUT_FIELD_DEFINITION]

    directiveArg = G.InputValueDefinition Nothing G._value gType Nothing mempty

presetDirectiveName :: G.Name
presetDirectiveName = G._preset
-}</span><span>
</span><span id="line-389"></span><span>
</span><span id="line-390"></span><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#lookupInputType"><span class="hs-identifier hs-type">lookupInputType</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-391"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">G.SchemaDocument</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-392"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">G.Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-393"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#PresetInputTypeInfo"><span class="hs-identifier hs-type">PresetInputTypeInfo</span></a></span><span>
</span><span id="line-394"></span><span id="lookupInputType"><span class="annot"><span class="annottext">lookupInputType :: SchemaDocument -&gt; Name -&gt; Maybe PresetInputTypeInfo
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#lookupInputType"><span class="hs-identifier hs-var hs-var">lookupInputType</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">G.SchemaDocument</span></span><span> </span><span id="local-6989586621689498379"><span class="annot"><span class="annottext">[TypeSystemDefinition]
</span><a href="#local-6989586621689498379"><span class="hs-identifier hs-var">types</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621689498378"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498378"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[TypeSystemDefinition] -&gt; Maybe PresetInputTypeInfo
</span><a href="#local-6989586621689498377"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[TypeSystemDefinition]
</span><a href="#local-6989586621689498379"><span class="hs-identifier hs-var">types</span></a></span><span>
</span><span id="line-395"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-396"></span><span>    </span><span class="annot"><a href="#local-6989586621689498377"><span class="hs-identifier hs-type">go</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">G.TypeSystemDefinition</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#PresetInputTypeInfo"><span class="hs-identifier hs-type">PresetInputTypeInfo</span></a></span><span>
</span><span id="line-397"></span><span>    </span><span id="local-6989586621689498377"><span class="annot"><span class="annottext">go :: [TypeSystemDefinition] -&gt; Maybe PresetInputTypeInfo
</span><a href="#local-6989586621689498377"><span class="hs-identifier hs-var hs-var">go</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621689498376"><span class="annot"><span class="annottext">TypeSystemDefinition
</span><a href="#local-6989586621689498376"><span class="hs-identifier hs-var">tp</span></a></span></span><span> </span><span class="annot"><span class="hs-glyph hs-type">:</span></span><span> </span><span id="local-6989586621689498375"><span class="annot"><span class="annottext">[TypeSystemDefinition]
</span><a href="#local-6989586621689498375"><span class="hs-identifier hs-var">tps</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-398"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">TypeSystemDefinition
</span><a href="#local-6989586621689498376"><span class="hs-identifier hs-var">tp</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-399"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">G.TypeSystemDefinitionSchema</span></span><span> </span><span class="annot"><span class="annottext">SchemaDefinition
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[TypeSystemDefinition] -&gt; Maybe PresetInputTypeInfo
</span><a href="#local-6989586621689498377"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[TypeSystemDefinition]
</span><a href="#local-6989586621689498375"><span class="hs-identifier hs-var">tps</span></a></span><span>
</span><span id="line-400"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">G.TypeSystemDefinitionType</span></span><span> </span><span id="local-6989586621689498372"><span class="annot"><span class="annottext">TypeDefinition () InputValueDefinition
</span><a href="#local-6989586621689498372"><span class="hs-identifier hs-var">typeDef</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-401"></span><span>          </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">TypeDefinition () InputValueDefinition
</span><a href="#local-6989586621689498372"><span class="hs-identifier hs-var">typeDef</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-402"></span><span>            </span><span class="annot"><span class="hs-identifier hs-type">G.TypeDefinitionScalar</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">G.ScalarTypeDefinition</span></span><span> </span><span class="annot"><span class="annottext">Maybe Description
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621689498369"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498369"><span class="hs-identifier hs-var">scalarName</span></a></span></span><span> </span><span class="annot"><span class="annottext">[Directive Void]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-403"></span><span>              </span><span class="hs-keyword">if</span><span>
</span><span id="line-404"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498378"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Name -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498369"><span class="hs-identifier hs-var">scalarName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PresetInputTypeInfo -&gt; Maybe PresetInputTypeInfo
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(PresetInputTypeInfo -&gt; Maybe PresetInputTypeInfo)
-&gt; PresetInputTypeInfo -&gt; Maybe PresetInputTypeInfo
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; PresetInputTypeInfo
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#PresetScalar"><span class="hs-identifier hs-var">PresetScalar</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498369"><span class="hs-identifier hs-var">scalarName</span></a></span><span>
</span><span id="line-405"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[TypeSystemDefinition] -&gt; Maybe PresetInputTypeInfo
</span><a href="#local-6989586621689498377"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[TypeSystemDefinition]
</span><a href="#local-6989586621689498375"><span class="hs-identifier hs-var">tps</span></a></span><span>
</span><span id="line-406"></span><span>            </span><span class="annot"><span class="hs-identifier hs-type">G.TypeDefinitionEnum</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">G.EnumTypeDefinition</span></span><span> </span><span class="annot"><span class="annottext">Maybe Description
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621689498366"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498366"><span class="hs-identifier hs-var">enumName</span></a></span></span><span> </span><span class="annot"><span class="annottext">[Directive Void]
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621689498365"><span class="annot"><span class="annottext">[EnumValueDefinition]
</span><a href="#local-6989586621689498365"><span class="hs-identifier hs-var">vals</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-407"></span><span>              </span><span class="hs-keyword">if</span><span>
</span><span id="line-408"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498378"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Name -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498366"><span class="hs-identifier hs-var">enumName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PresetInputTypeInfo -&gt; Maybe PresetInputTypeInfo
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(PresetInputTypeInfo -&gt; Maybe PresetInputTypeInfo)
-&gt; PresetInputTypeInfo -&gt; Maybe PresetInputTypeInfo
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; [EnumValue] -&gt; PresetInputTypeInfo
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#PresetEnum"><span class="hs-identifier hs-var">PresetEnum</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498366"><span class="hs-identifier hs-var">enumName</span></a></span><span> </span><span class="annot"><span class="annottext">([EnumValue] -&gt; PresetInputTypeInfo)
-&gt; [EnumValue] -&gt; PresetInputTypeInfo
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(EnumValueDefinition -&gt; EnumValue)
-&gt; [EnumValueDefinition] -&gt; [EnumValue]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">EnumValueDefinition -&gt; EnumValue
</span><span class="hs-identifier hs-var hs-var">G._evdName</span></span><span> </span><span class="annot"><span class="annottext">[EnumValueDefinition]
</span><a href="#local-6989586621689498365"><span class="hs-identifier hs-var">vals</span></a></span><span>
</span><span id="line-409"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[TypeSystemDefinition] -&gt; Maybe PresetInputTypeInfo
</span><a href="#local-6989586621689498377"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[TypeSystemDefinition]
</span><a href="#local-6989586621689498375"><span class="hs-identifier hs-var">tps</span></a></span><span>
</span><span id="line-410"></span><span>            </span><span class="annot"><span class="hs-identifier hs-type">G.TypeDefinitionInputObject</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">G.InputObjectTypeDefinition</span></span><span> </span><span class="annot"><span class="annottext">Maybe Description
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621689498361"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498361"><span class="hs-identifier hs-var">inpObjName</span></a></span></span><span> </span><span class="annot"><span class="annottext">[Directive Void]
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621689498360"><span class="annot"><span class="annottext">[InputValueDefinition]
</span><a href="#local-6989586621689498360"><span class="hs-identifier hs-var">vals</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-411"></span><span>              </span><span class="hs-keyword">if</span><span>
</span><span id="line-412"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498378"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Name -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498361"><span class="hs-identifier hs-var">inpObjName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">PresetInputTypeInfo -&gt; Maybe PresetInputTypeInfo
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(PresetInputTypeInfo -&gt; Maybe PresetInputTypeInfo)
-&gt; PresetInputTypeInfo -&gt; Maybe PresetInputTypeInfo
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[InputValueDefinition] -&gt; PresetInputTypeInfo
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#PresetInputObject"><span class="hs-identifier hs-var">PresetInputObject</span></a></span><span> </span><span class="annot"><span class="annottext">[InputValueDefinition]
</span><a href="#local-6989586621689498360"><span class="hs-identifier hs-var">vals</span></a></span><span>
</span><span id="line-413"></span><span>                  </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[TypeSystemDefinition] -&gt; Maybe PresetInputTypeInfo
</span><a href="#local-6989586621689498377"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[TypeSystemDefinition]
</span><a href="#local-6989586621689498375"><span class="hs-identifier hs-var">tps</span></a></span><span>
</span><span id="line-414"></span><span>            </span><span class="annot"><span class="annottext">TypeDefinition () InputValueDefinition
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[TypeSystemDefinition] -&gt; Maybe PresetInputTypeInfo
</span><a href="#local-6989586621689498377"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="annot"><span class="annottext">[TypeSystemDefinition]
</span><a href="#local-6989586621689498375"><span class="hs-identifier hs-var">tps</span></a></span><span>
</span><span id="line-415"></span><span>    </span><span class="annot"><a href="#local-6989586621689498377"><span class="hs-identifier hs-var">go</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe PresetInputTypeInfo
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-416"></span><span>
</span><span id="line-417"></span><span class="hs-comment">-- | `parsePresetValue` constructs a GraphQL value when an input value definition</span><span>
</span><span id="line-418"></span><span class="hs-comment">--    contains a preset with it. This function checks if the given preset value</span><span>
</span><span id="line-419"></span><span class="hs-comment">--    is a legal value to the field that's specified it. For example: A scalar input</span><span>
</span><span id="line-420"></span><span class="hs-comment">--    value cannot contain an input object value. When the preset value is a session</span><span>
</span><span id="line-421"></span><span class="hs-comment">--    variable, we treat it as a session variable whose value will be resolved while</span><span>
</span><span id="line-422"></span><span class="hs-comment">--    the query is executed. In the case of session variables preset, we make the GraphQL</span><span>
</span><span id="line-423"></span><span class="hs-comment">--    value as a Variable value and during the execution we resolve all these</span><span>
</span><span id="line-424"></span><span class="hs-comment">--    &quot;session variable&quot; variable(s) and then query the remote server.</span><span>
</span><span id="line-425"></span><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#parsePresetValue"><span class="hs-identifier hs-type">parsePresetValue</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-426"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621689498719"><span class="annot"><a href="#local-6989586621689498719"><span class="hs-identifier hs-type">m</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-427"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadValidate</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#RoleBasedSchemaValidationError"><span class="hs-identifier hs-type">RoleBasedSchemaValidationError</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621689498719"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-428"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">MonadReader</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.SchemaDocument</span></span><span> </span><span class="annot"><a href="#local-6989586621689498719"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-429"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-430"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">G.GType</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-431"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">G.Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-432"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-433"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">G.Value</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Void</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-434"></span><span>  </span><span class="annot"><a href="#local-6989586621689498719"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">G.Value</span></span><span> </span><span class="annot"><a href="Hasura.RQL.Types.RemoteSchema.html#RemoteSchemaVariable"><span class="hs-identifier hs-type">RemoteSchemaVariable</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-435"></span><span id="parsePresetValue"><span class="annot"><span class="annottext">parsePresetValue :: GType
-&gt; Name -&gt; Bool -&gt; Value Void -&gt; m (Value RemoteSchemaVariable)
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#parsePresetValue"><span class="hs-identifier hs-var hs-var">parsePresetValue</span></a></span></span><span> </span><span id="local-6989586621689498358"><span class="annot"><span class="annottext">GType
</span><a href="#local-6989586621689498358"><span class="hs-identifier hs-var">gType</span></a></span></span><span> </span><span id="local-6989586621689498357"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498357"><span class="hs-identifier hs-var">varName</span></a></span></span><span> </span><span id="local-6989586621689498356"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621689498356"><span class="hs-identifier hs-var">isStatic</span></a></span></span><span> </span><span id="local-6989586621689498355"><span class="annot"><span class="annottext">Value Void
</span><a href="#local-6989586621689498355"><span class="hs-identifier hs-var">value</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-436"></span><span>  </span><span id="local-6989586621689498354"><span class="annot"><span class="annottext">SchemaDocument
</span><a href="#local-6989586621689498354"><span class="hs-identifier hs-var">schemaDoc</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m SchemaDocument
forall r (m :: * -&gt; *). MonadReader r m =&gt; m r
</span><span class="hs-identifier hs-var">ask</span></span><span>
</span><span id="line-437"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">GType
</span><a href="#local-6989586621689498358"><span class="hs-identifier hs-var">gType</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-438"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">G.TypeNamed</span></span><span> </span><span class="annot"><span class="annottext">Nullability
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621689498351"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498351"><span class="hs-identifier hs-var">typeName</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-439"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SchemaDocument -&gt; Name -&gt; Maybe PresetInputTypeInfo
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#lookupInputType"><span class="hs-identifier hs-var">lookupInputType</span></a></span><span> </span><span class="annot"><span class="annottext">SchemaDocument
</span><a href="#local-6989586621689498354"><span class="hs-identifier hs-var">schemaDoc</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498351"><span class="hs-identifier hs-var">typeName</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-440"></span><span>        </span><span class="annot"><span class="annottext">Maybe PresetInputTypeInfo
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[RoleBasedSchemaValidationError] -&gt; m (Value RemoteSchemaVariable)
forall e (m :: * -&gt; *) a. MonadValidate e m =&gt; e -&gt; m a
</span><span class="hs-identifier hs-var">refute</span></span><span> </span><span class="annot"><span class="annottext">([RoleBasedSchemaValidationError]
 -&gt; m (Value RemoteSchemaVariable))
-&gt; [RoleBasedSchemaValidationError]
-&gt; m (Value RemoteSchemaVariable)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">RoleBasedSchemaValidationError -&gt; [RoleBasedSchemaValidationError]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(RoleBasedSchemaValidationError
 -&gt; [RoleBasedSchemaValidationError])
-&gt; RoleBasedSchemaValidationError
-&gt; [RoleBasedSchemaValidationError]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; RoleBasedSchemaValidationError
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#ExpectedInputTypeButGotOutputType"><span class="hs-identifier hs-var">ExpectedInputTypeButGotOutputType</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498351"><span class="hs-identifier hs-var">typeName</span></a></span><span>
</span><span id="line-441"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#PresetScalar"><span class="hs-identifier hs-type">PresetScalar</span></a></span><span> </span><span id="local-6989586621689498349"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498349"><span class="hs-identifier hs-var">scalarTypeName</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-442"></span><span>          </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Value Void
</span><a href="#local-6989586621689498355"><span class="hs-identifier hs-var">value</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-443"></span><span>            </span><span class="annot"><span class="hs-identifier hs-type">G.VEnum</span></span><span> </span><span class="annot"><span class="annottext">EnumValue
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[RoleBasedSchemaValidationError] -&gt; m (Value RemoteSchemaVariable)
forall e (m :: * -&gt; *) a. MonadValidate e m =&gt; e -&gt; m a
</span><span class="hs-identifier hs-var">refute</span></span><span> </span><span class="annot"><span class="annottext">([RoleBasedSchemaValidationError]
 -&gt; m (Value RemoteSchemaVariable))
-&gt; [RoleBasedSchemaValidationError]
-&gt; m (Value RemoteSchemaVariable)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">RoleBasedSchemaValidationError -&gt; [RoleBasedSchemaValidationError]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(RoleBasedSchemaValidationError
 -&gt; [RoleBasedSchemaValidationError])
-&gt; RoleBasedSchemaValidationError
-&gt; [RoleBasedSchemaValidationError]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Value Void -&gt; RoleBasedSchemaValidationError
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#ExpectedScalarValue"><span class="hs-identifier hs-var">ExpectedScalarValue</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498351"><span class="hs-identifier hs-var">typeName</span></a></span><span> </span><span class="annot"><span class="annottext">Value Void
</span><a href="#local-6989586621689498355"><span class="hs-identifier hs-var">value</span></a></span><span>
</span><span id="line-444"></span><span>            </span><span class="annot"><span class="hs-identifier hs-type">G.VString</span></span><span> </span><span id="local-6989586621689498346"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689498346"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-445"></span><span>              </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; Bool
</span><a href="Hasura.Server.Utils.html#isSessionVariable"><span class="hs-identifier hs-var">isSessionVariable</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689498346"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621689498356"><span class="hs-identifier hs-var">isStatic</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-446"></span><span>                </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-447"></span><span>                  </span><span class="annot"><span class="annottext">Value RemoteSchemaVariable -&gt; m (Value RemoteSchemaVariable)
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(Value RemoteSchemaVariable -&gt; m (Value RemoteSchemaVariable))
-&gt; Value RemoteSchemaVariable -&gt; m (Value RemoteSchemaVariable)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-448"></span><span>                    </span><span class="annot"><span class="annottext">RemoteSchemaVariable -&gt; Value RemoteSchemaVariable
forall var. var -&gt; Value var
</span><span class="hs-identifier hs-var">G.VVariable</span></span><span> </span><span class="annot"><span class="annottext">(RemoteSchemaVariable -&gt; Value RemoteSchemaVariable)
-&gt; RemoteSchemaVariable -&gt; Value RemoteSchemaVariable
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-449"></span><span>                      </span><span class="annot"><span class="annottext">SessionVariable
-&gt; Name -&gt; SessionArgumentPresetInfo -&gt; RemoteSchemaVariable
</span><a href="Hasura.RQL.Types.RemoteSchema.html#SessionPresetVariable"><span class="hs-identifier hs-var">SessionPresetVariable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; SessionVariable
</span><a href="Hasura.Session.html#mkSessionVariable"><span class="hs-identifier hs-var">mkSessionVariable</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689498346"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498349"><span class="hs-identifier hs-var">scalarTypeName</span></a></span><span> </span><span class="annot"><span class="annottext">(SessionArgumentPresetInfo -&gt; RemoteSchemaVariable)
-&gt; SessionArgumentPresetInfo -&gt; RemoteSchemaVariable
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-450"></span><span>                        </span><span class="annot"><span class="annottext">SessionArgumentPresetInfo
</span><a href="Hasura.RQL.Types.RemoteSchema.html#SessionArgumentPresetScalar"><span class="hs-identifier hs-var">SessionArgumentPresetScalar</span></a></span><span>
</span><span id="line-451"></span><span>                </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Value RemoteSchemaVariable -&gt; m (Value RemoteSchemaVariable)
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(Value RemoteSchemaVariable -&gt; m (Value RemoteSchemaVariable))
-&gt; Value RemoteSchemaVariable -&gt; m (Value RemoteSchemaVariable)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value RemoteSchemaVariable
forall var. Text -&gt; Value var
</span><span class="hs-identifier hs-var">G.VString</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689498346"><span class="hs-identifier hs-var">t</span></a></span><span>
</span><span id="line-452"></span><span>            </span><span class="annot"><span class="hs-identifier hs-type">G.VList</span></span><span> </span><span class="annot"><span class="annottext">[Value Void]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[RoleBasedSchemaValidationError] -&gt; m (Value RemoteSchemaVariable)
forall e (m :: * -&gt; *) a. MonadValidate e m =&gt; e -&gt; m a
</span><span class="hs-identifier hs-var">refute</span></span><span> </span><span class="annot"><span class="annottext">([RoleBasedSchemaValidationError]
 -&gt; m (Value RemoteSchemaVariable))
-&gt; [RoleBasedSchemaValidationError]
-&gt; m (Value RemoteSchemaVariable)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">RoleBasedSchemaValidationError -&gt; [RoleBasedSchemaValidationError]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(RoleBasedSchemaValidationError
 -&gt; [RoleBasedSchemaValidationError])
-&gt; RoleBasedSchemaValidationError
-&gt; [RoleBasedSchemaValidationError]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Value Void -&gt; RoleBasedSchemaValidationError
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#ExpectedScalarValue"><span class="hs-identifier hs-var">ExpectedScalarValue</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498351"><span class="hs-identifier hs-var">typeName</span></a></span><span> </span><span class="annot"><span class="annottext">Value Void
</span><a href="#local-6989586621689498355"><span class="hs-identifier hs-var">value</span></a></span><span>
</span><span id="line-453"></span><span>            </span><span class="annot"><span class="hs-identifier hs-type">G.VObject</span></span><span> </span><span class="annot"><span class="annottext">HashMap Name (Value Void)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[RoleBasedSchemaValidationError] -&gt; m (Value RemoteSchemaVariable)
forall e (m :: * -&gt; *) a. MonadValidate e m =&gt; e -&gt; m a
</span><span class="hs-identifier hs-var">refute</span></span><span> </span><span class="annot"><span class="annottext">([RoleBasedSchemaValidationError]
 -&gt; m (Value RemoteSchemaVariable))
-&gt; [RoleBasedSchemaValidationError]
-&gt; m (Value RemoteSchemaVariable)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">RoleBasedSchemaValidationError -&gt; [RoleBasedSchemaValidationError]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(RoleBasedSchemaValidationError
 -&gt; [RoleBasedSchemaValidationError])
-&gt; RoleBasedSchemaValidationError
-&gt; [RoleBasedSchemaValidationError]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Value Void -&gt; RoleBasedSchemaValidationError
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#ExpectedScalarValue"><span class="hs-identifier hs-var">ExpectedScalarValue</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498351"><span class="hs-identifier hs-var">typeName</span></a></span><span> </span><span class="annot"><span class="annottext">Value Void
</span><a href="#local-6989586621689498355"><span class="hs-identifier hs-var">value</span></a></span><span>
</span><span id="line-454"></span><span>            </span><span id="local-6989586621689498337"><span class="annot"><span class="annottext">Value Void
</span><a href="#local-6989586621689498337"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Value RemoteSchemaVariable -&gt; m (Value RemoteSchemaVariable)
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(Value RemoteSchemaVariable -&gt; m (Value RemoteSchemaVariable))
-&gt; Value RemoteSchemaVariable -&gt; m (Value RemoteSchemaVariable)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Value Void -&gt; Value RemoteSchemaVariable
forall var. Value Void -&gt; Value var
</span><span class="hs-identifier hs-var">G.literal</span></span><span> </span><span class="annot"><span class="annottext">Value Void
</span><a href="#local-6989586621689498337"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-455"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#PresetEnum"><span class="hs-identifier hs-type">PresetEnum</span></a></span><span> </span><span id="local-6989586621689498335"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498335"><span class="hs-identifier hs-var">enumTypeName</span></a></span></span><span> </span><span id="local-6989586621689498334"><span class="annot"><span class="annottext">[EnumValue]
</span><a href="#local-6989586621689498334"><span class="hs-identifier hs-var">enumVals</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-456"></span><span>          </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Value Void
</span><a href="#local-6989586621689498355"><span class="hs-identifier hs-var">value</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-457"></span><span>            </span><span id="local-6989586621689498333"><span class="annot"><span class="annottext">enumVal :: Value Void
</span><a href="#local-6989586621689498333"><span class="hs-identifier hs-var">enumVal</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">G.VEnum</span></span><span> </span><span id="local-6989586621689498332"><span class="annot"><span class="annottext">EnumValue
</span><a href="#local-6989586621689498332"><span class="hs-identifier hs-var">e</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-458"></span><span>              </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">EnumValue
</span><a href="#local-6989586621689498332"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="annot"><span class="annottext">EnumValue -&gt; [EnumValue] -&gt; Bool
forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><span class="hs-operator hs-var">`elem`</span></span><span> </span><span class="annot"><span class="annottext">[EnumValue]
</span><a href="#local-6989586621689498334"><span class="hs-identifier hs-var">enumVals</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-459"></span><span>                </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Value RemoteSchemaVariable -&gt; m (Value RemoteSchemaVariable)
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(Value RemoteSchemaVariable -&gt; m (Value RemoteSchemaVariable))
-&gt; Value RemoteSchemaVariable -&gt; m (Value RemoteSchemaVariable)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Value Void -&gt; Value RemoteSchemaVariable
forall var. Value Void -&gt; Value var
</span><span class="hs-identifier hs-var">G.literal</span></span><span> </span><span class="annot"><span class="annottext">Value Void
</span><a href="#local-6989586621689498333"><span class="hs-identifier hs-var">enumVal</span></a></span><span>
</span><span id="line-460"></span><span>                </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[RoleBasedSchemaValidationError] -&gt; m (Value RemoteSchemaVariable)
forall e (m :: * -&gt; *) a. MonadValidate e m =&gt; e -&gt; m a
</span><span class="hs-identifier hs-var">refute</span></span><span> </span><span class="annot"><span class="annottext">([RoleBasedSchemaValidationError]
 -&gt; m (Value RemoteSchemaVariable))
-&gt; [RoleBasedSchemaValidationError]
-&gt; m (Value RemoteSchemaVariable)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">RoleBasedSchemaValidationError -&gt; [RoleBasedSchemaValidationError]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(RoleBasedSchemaValidationError
 -&gt; [RoleBasedSchemaValidationError])
-&gt; RoleBasedSchemaValidationError
-&gt; [RoleBasedSchemaValidationError]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Name -&gt; RoleBasedSchemaValidationError
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#EnumValueNotFound"><span class="hs-identifier hs-var">EnumValueNotFound</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498351"><span class="hs-identifier hs-var">typeName</span></a></span><span> </span><span class="annot"><span class="annottext">(Name -&gt; RoleBasedSchemaValidationError)
-&gt; Name -&gt; RoleBasedSchemaValidationError
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">EnumValue -&gt; Name
</span><span class="hs-identifier hs-var hs-var">G.unEnumValue</span></span><span> </span><span class="annot"><span class="annottext">EnumValue
</span><a href="#local-6989586621689498332"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-461"></span><span>            </span><span class="annot"><span class="hs-identifier hs-type">G.VString</span></span><span> </span><span id="local-6989586621689498329"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689498329"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-462"></span><span>              </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Bool
</span><a href="Hasura.Server.Utils.html#isSessionVariable"><span class="hs-identifier hs-var">isSessionVariable</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689498329"><span class="hs-identifier hs-var">t</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-463"></span><span>                </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-464"></span><span>                  </span><span class="annot"><span class="annottext">Value RemoteSchemaVariable -&gt; m (Value RemoteSchemaVariable)
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(Value RemoteSchemaVariable -&gt; m (Value RemoteSchemaVariable))
-&gt; Value RemoteSchemaVariable -&gt; m (Value RemoteSchemaVariable)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-465"></span><span>                    </span><span class="annot"><span class="annottext">RemoteSchemaVariable -&gt; Value RemoteSchemaVariable
forall var. var -&gt; Value var
</span><span class="hs-identifier hs-var">G.VVariable</span></span><span> </span><span class="annot"><span class="annottext">(RemoteSchemaVariable -&gt; Value RemoteSchemaVariable)
-&gt; RemoteSchemaVariable -&gt; Value RemoteSchemaVariable
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-466"></span><span>                      </span><span class="annot"><span class="annottext">SessionVariable
-&gt; Name -&gt; SessionArgumentPresetInfo -&gt; RemoteSchemaVariable
</span><a href="Hasura.RQL.Types.RemoteSchema.html#SessionPresetVariable"><span class="hs-identifier hs-var">SessionPresetVariable</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; SessionVariable
</span><a href="Hasura.Session.html#mkSessionVariable"><span class="hs-identifier hs-var">mkSessionVariable</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689498329"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498335"><span class="hs-identifier hs-var">enumTypeName</span></a></span><span> </span><span class="annot"><span class="annottext">(SessionArgumentPresetInfo -&gt; RemoteSchemaVariable)
-&gt; SessionArgumentPresetInfo -&gt; RemoteSchemaVariable
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-467"></span><span>                        </span><span class="annot"><span class="annottext">HashSet EnumValue -&gt; SessionArgumentPresetInfo
</span><a href="Hasura.RQL.Types.RemoteSchema.html#SessionArgumentPresetEnum"><span class="hs-identifier hs-var">SessionArgumentPresetEnum</span></a></span><span> </span><span class="annot"><span class="annottext">(HashSet EnumValue -&gt; SessionArgumentPresetInfo)
-&gt; HashSet EnumValue -&gt; SessionArgumentPresetInfo
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-468"></span><span>                          </span><span class="annot"><span class="annottext">[EnumValue] -&gt; HashSet EnumValue
forall a. (Eq a, Hashable a) =&gt; [a] -&gt; HashSet a
</span><span class="hs-identifier hs-var">S.fromList</span></span><span> </span><span class="annot"><span class="annottext">[EnumValue]
</span><a href="#local-6989586621689498334"><span class="hs-identifier hs-var">enumVals</span></a></span><span>
</span><span id="line-469"></span><span>                </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[RoleBasedSchemaValidationError] -&gt; m (Value RemoteSchemaVariable)
forall e (m :: * -&gt; *) a. MonadValidate e m =&gt; e -&gt; m a
</span><span class="hs-identifier hs-var">refute</span></span><span> </span><span class="annot"><span class="annottext">([RoleBasedSchemaValidationError]
 -&gt; m (Value RemoteSchemaVariable))
-&gt; [RoleBasedSchemaValidationError]
-&gt; m (Value RemoteSchemaVariable)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">RoleBasedSchemaValidationError -&gt; [RoleBasedSchemaValidationError]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(RoleBasedSchemaValidationError
 -&gt; [RoleBasedSchemaValidationError])
-&gt; RoleBasedSchemaValidationError
-&gt; [RoleBasedSchemaValidationError]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Value Void -&gt; RoleBasedSchemaValidationError
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#ExpectedEnumValue"><span class="hs-identifier hs-var">ExpectedEnumValue</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498351"><span class="hs-identifier hs-var">typeName</span></a></span><span> </span><span class="annot"><span class="annottext">Value Void
</span><a href="#local-6989586621689498355"><span class="hs-identifier hs-var">value</span></a></span><span>
</span><span id="line-470"></span><span>            </span><span class="annot"><span class="annottext">Value Void
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[RoleBasedSchemaValidationError] -&gt; m (Value RemoteSchemaVariable)
forall e (m :: * -&gt; *) a. MonadValidate e m =&gt; e -&gt; m a
</span><span class="hs-identifier hs-var">refute</span></span><span> </span><span class="annot"><span class="annottext">([RoleBasedSchemaValidationError]
 -&gt; m (Value RemoteSchemaVariable))
-&gt; [RoleBasedSchemaValidationError]
-&gt; m (Value RemoteSchemaVariable)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">RoleBasedSchemaValidationError -&gt; [RoleBasedSchemaValidationError]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(RoleBasedSchemaValidationError
 -&gt; [RoleBasedSchemaValidationError])
-&gt; RoleBasedSchemaValidationError
-&gt; [RoleBasedSchemaValidationError]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Value Void -&gt; RoleBasedSchemaValidationError
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#ExpectedEnumValue"><span class="hs-identifier hs-var">ExpectedEnumValue</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498351"><span class="hs-identifier hs-var">typeName</span></a></span><span> </span><span class="annot"><span class="annottext">Value Void
</span><a href="#local-6989586621689498355"><span class="hs-identifier hs-var">value</span></a></span><span>
</span><span id="line-471"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#PresetInputObject"><span class="hs-identifier hs-type">PresetInputObject</span></a></span><span> </span><span id="local-6989586621689498326"><span class="annot"><span class="annottext">[InputValueDefinition]
</span><a href="#local-6989586621689498326"><span class="hs-identifier hs-var">inputValueDefinitions</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-472"></span><span>          </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621689498325"><span class="annot"><span class="annottext">inpValsMap :: HashMap Name InputValueDefinition
</span><a href="#local-6989586621689498325"><span class="hs-identifier hs-var hs-var">inpValsMap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(InputValueDefinition -&gt; Name)
-&gt; [InputValueDefinition] -&gt; HashMap Name InputValueDefinition
forall k a. (Eq k, Hashable k) =&gt; (a -&gt; k) -&gt; [a] -&gt; HashMap k a
</span><a href="Hasura.Prelude.html#mapFromL"><span class="hs-identifier hs-var">mapFromL</span></a></span><span> </span><span class="annot"><span class="annottext">InputValueDefinition -&gt; Name
</span><span class="hs-identifier hs-var hs-var">G._ivdName</span></span><span> </span><span class="annot"><span class="annottext">[InputValueDefinition]
</span><a href="#local-6989586621689498326"><span class="hs-identifier hs-var">inputValueDefinitions</span></a></span><span>
</span><span id="line-473"></span><span>              </span><span id="local-6989586621689498322"><span class="annot"><span class="annottext">parseInputObjectField :: Name -&gt; Value Void -&gt; m (Value RemoteSchemaVariable)
</span><a href="#local-6989586621689498322"><span class="hs-identifier hs-var hs-var">parseInputObjectField</span></a></span></span><span> </span><span id="local-6989586621689498321"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498321"><span class="hs-identifier hs-var">k</span></a></span></span><span> </span><span id="local-6989586621689498320"><span class="annot"><span class="annottext">Value Void
</span><a href="#local-6989586621689498320"><span class="hs-identifier hs-var">val</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-474"></span><span>                </span><span id="local-6989586621689498319"><span class="annot"><span class="annottext">InputValueDefinition
</span><a href="#local-6989586621689498319"><span class="hs-identifier hs-var">inpVal</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Maybe InputValueDefinition
-&gt; m InputValueDefinition -&gt; m InputValueDefinition
forall (m :: * -&gt; *) a. Applicative m =&gt; Maybe a -&gt; m a -&gt; m a
</span><a href="Hasura.Prelude.html#onNothing"><span class="hs-identifier hs-var">onNothing</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name
-&gt; HashMap Name InputValueDefinition -&gt; Maybe InputValueDefinition
forall k v. (Eq k, Hashable k) =&gt; k -&gt; HashMap k v -&gt; Maybe v
</span><span class="hs-identifier hs-var">Map.lookup</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498321"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap Name InputValueDefinition
</span><a href="#local-6989586621689498325"><span class="hs-identifier hs-var">inpValsMap</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[RoleBasedSchemaValidationError] -&gt; m InputValueDefinition
forall e (m :: * -&gt; *) a. MonadValidate e m =&gt; e -&gt; m a
</span><span class="hs-identifier hs-var">refute</span></span><span> </span><span class="annot"><span class="annottext">([RoleBasedSchemaValidationError] -&gt; m InputValueDefinition)
-&gt; [RoleBasedSchemaValidationError] -&gt; m InputValueDefinition
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">RoleBasedSchemaValidationError -&gt; [RoleBasedSchemaValidationError]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(RoleBasedSchemaValidationError
 -&gt; [RoleBasedSchemaValidationError])
-&gt; RoleBasedSchemaValidationError
-&gt; [RoleBasedSchemaValidationError]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Name -&gt; RoleBasedSchemaValidationError
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#KeyDoesNotExistInInputObject"><span class="hs-identifier hs-var">KeyDoesNotExistInInputObject</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498321"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498351"><span class="hs-identifier hs-var">typeName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-475"></span><span>                </span><span class="annot"><span class="annottext">GType
-&gt; Name -&gt; Bool -&gt; Value Void -&gt; m (Value RemoteSchemaVariable)
forall (m :: * -&gt; *).
(MonadValidate [RoleBasedSchemaValidationError] m,
 MonadReader SchemaDocument m) =&gt;
GType
-&gt; Name -&gt; Bool -&gt; Value Void -&gt; m (Value RemoteSchemaVariable)
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#parsePresetValue"><span class="hs-identifier hs-var">parsePresetValue</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">InputValueDefinition -&gt; GType
</span><span class="hs-identifier hs-var hs-var">G._ivdType</span></span><span> </span><span class="annot"><span class="annottext">InputValueDefinition
</span><a href="#local-6989586621689498319"><span class="hs-identifier hs-var">inpVal</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498321"><span class="hs-identifier hs-var">k</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621689498356"><span class="hs-identifier hs-var">isStatic</span></a></span><span> </span><span class="annot"><span class="annottext">Value Void
</span><a href="#local-6989586621689498320"><span class="hs-identifier hs-var">val</span></a></span><span>
</span><span id="line-476"></span><span>           </span><span class="hs-keyword">in</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Value Void
</span><a href="#local-6989586621689498355"><span class="hs-identifier hs-var">value</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-477"></span><span>                </span><span class="annot"><span class="hs-identifier hs-type">G.VObject</span></span><span> </span><span id="local-6989586621689498315"><span class="annot"><span class="annottext">HashMap Name (Value Void)
</span><a href="#local-6989586621689498315"><span class="hs-identifier hs-var">obj</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-478"></span><span>                  </span><span class="annot"><span class="annottext">HashMap Name (Value RemoteSchemaVariable)
-&gt; Value RemoteSchemaVariable
forall var. HashMap Name (Value var) -&gt; Value var
</span><span class="hs-identifier hs-var">G.VObject</span></span><span> </span><span class="annot"><span class="annottext">(HashMap Name (Value RemoteSchemaVariable)
 -&gt; Value RemoteSchemaVariable)
-&gt; m (HashMap Name (Value RemoteSchemaVariable))
-&gt; m (Value RemoteSchemaVariable)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">(Name -&gt; Value Void -&gt; m (Value RemoteSchemaVariable))
-&gt; HashMap Name (Value Void)
-&gt; m (HashMap Name (Value RemoteSchemaVariable))
forall (f :: * -&gt; *) k v1 v2.
Applicative f =&gt;
(k -&gt; v1 -&gt; f v2) -&gt; HashMap k v1 -&gt; f (HashMap k v2)
</span><span class="hs-identifier hs-var">Map.traverseWithKey</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Value Void -&gt; m (Value RemoteSchemaVariable)
</span><a href="#local-6989586621689498322"><span class="hs-identifier hs-var">parseInputObjectField</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap Name (Value Void)
</span><a href="#local-6989586621689498315"><span class="hs-identifier hs-var">obj</span></a></span><span>
</span><span id="line-479"></span><span>                </span><span class="annot"><span class="annottext">Value Void
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[RoleBasedSchemaValidationError] -&gt; m (Value RemoteSchemaVariable)
forall e (m :: * -&gt; *) a. MonadValidate e m =&gt; e -&gt; m a
</span><span class="hs-identifier hs-var">refute</span></span><span> </span><span class="annot"><span class="annottext">([RoleBasedSchemaValidationError]
 -&gt; m (Value RemoteSchemaVariable))
-&gt; [RoleBasedSchemaValidationError]
-&gt; m (Value RemoteSchemaVariable)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">RoleBasedSchemaValidationError -&gt; [RoleBasedSchemaValidationError]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(RoleBasedSchemaValidationError
 -&gt; [RoleBasedSchemaValidationError])
-&gt; RoleBasedSchemaValidationError
-&gt; [RoleBasedSchemaValidationError]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Value Void -&gt; RoleBasedSchemaValidationError
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#ExpectedInputObject"><span class="hs-identifier hs-var">ExpectedInputObject</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498351"><span class="hs-identifier hs-var">typeName</span></a></span><span> </span><span class="annot"><span class="annottext">Value Void
</span><a href="#local-6989586621689498355"><span class="hs-identifier hs-var">value</span></a></span><span>
</span><span id="line-480"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">G.TypeList</span></span><span> </span><span class="annot"><span class="annottext">Nullability
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621689498311"><span class="annot"><span class="annottext">GType
</span><a href="#local-6989586621689498311"><span class="hs-identifier hs-var">gType'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-481"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Value Void
</span><a href="#local-6989586621689498355"><span class="hs-identifier hs-var">value</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-482"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">G.VList</span></span><span> </span><span id="local-6989586621689498310"><span class="annot"><span class="annottext">[Value Void]
</span><a href="#local-6989586621689498310"><span class="hs-identifier hs-var">lst</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Value RemoteSchemaVariable] -&gt; Value RemoteSchemaVariable
forall var. [Value var] -&gt; Value var
</span><span class="hs-identifier hs-var">G.VList</span></span><span> </span><span class="annot"><span class="annottext">([Value RemoteSchemaVariable] -&gt; Value RemoteSchemaVariable)
-&gt; m [Value RemoteSchemaVariable] -&gt; m (Value RemoteSchemaVariable)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">(Value Void -&gt; m (Value RemoteSchemaVariable))
-&gt; [Value Void] -&gt; m [Value RemoteSchemaVariable]
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
</span><span class="hs-identifier hs-var">traverse</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GType
-&gt; Name -&gt; Bool -&gt; Value Void -&gt; m (Value RemoteSchemaVariable)
forall (m :: * -&gt; *).
(MonadValidate [RoleBasedSchemaValidationError] m,
 MonadReader SchemaDocument m) =&gt;
GType
-&gt; Name -&gt; Bool -&gt; Value Void -&gt; m (Value RemoteSchemaVariable)
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#parsePresetValue"><span class="hs-identifier hs-var">parsePresetValue</span></a></span><span> </span><span class="annot"><span class="annottext">GType
</span><a href="#local-6989586621689498311"><span class="hs-identifier hs-var">gType'</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498357"><span class="hs-identifier hs-var">varName</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621689498356"><span class="hs-identifier hs-var">isStatic</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Value Void]
</span><a href="#local-6989586621689498310"><span class="hs-identifier hs-var">lst</span></a></span><span>
</span><span id="line-483"></span><span>        </span><span class="hs-comment">-- The below is valid because singleton GraphQL values can be &quot;upgraded&quot;</span><span>
</span><span id="line-484"></span><span>        </span><span class="hs-comment">-- to array types. For ex: An `Int` value can be provided as input to</span><span>
</span><span id="line-485"></span><span>        </span><span class="hs-comment">-- a type `[Int]` or `[[Int]]`</span><span>
</span><span id="line-486"></span><span>        </span><span id="local-6989586621689498308"><span class="annot"><span class="annottext">s' :: Value Void
</span><a href="#local-6989586621689498308"><span class="hs-identifier hs-var">s'</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">G.VString</span></span><span> </span><span id="local-6989586621689498307"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689498307"><span class="hs-identifier hs-var">s</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-487"></span><span>          </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Bool
</span><a href="Hasura.Server.Utils.html#isSessionVariable"><span class="hs-identifier hs-var">isSessionVariable</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689498307"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-488"></span><span>            </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[RoleBasedSchemaValidationError] -&gt; m (Value RemoteSchemaVariable)
forall e (m :: * -&gt; *) a. MonadValidate e m =&gt; e -&gt; m a
</span><span class="hs-identifier hs-var">refute</span></span><span> </span><span class="annot"><span class="annottext">([RoleBasedSchemaValidationError]
 -&gt; m (Value RemoteSchemaVariable))
-&gt; [RoleBasedSchemaValidationError]
-&gt; m (Value RemoteSchemaVariable)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">RoleBasedSchemaValidationError -&gt; [RoleBasedSchemaValidationError]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(RoleBasedSchemaValidationError
 -&gt; [RoleBasedSchemaValidationError])
-&gt; RoleBasedSchemaValidationError
-&gt; [RoleBasedSchemaValidationError]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; RoleBasedSchemaValidationError
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#DisallowSessionVarForListType"><span class="hs-identifier hs-var">DisallowSessionVarForListType</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498357"><span class="hs-identifier hs-var">varName</span></a></span><span>
</span><span id="line-489"></span><span>            </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">GType
-&gt; Name -&gt; Bool -&gt; Value Void -&gt; m (Value RemoteSchemaVariable)
forall (m :: * -&gt; *).
(MonadValidate [RoleBasedSchemaValidationError] m,
 MonadReader SchemaDocument m) =&gt;
GType
-&gt; Name -&gt; Bool -&gt; Value Void -&gt; m (Value RemoteSchemaVariable)
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#parsePresetValue"><span class="hs-identifier hs-var">parsePresetValue</span></a></span><span> </span><span class="annot"><span class="annottext">GType
</span><a href="#local-6989586621689498311"><span class="hs-identifier hs-var">gType'</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498357"><span class="hs-identifier hs-var">varName</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621689498356"><span class="hs-identifier hs-var">isStatic</span></a></span><span> </span><span class="annot"><span class="annottext">Value Void
</span><a href="#local-6989586621689498308"><span class="hs-identifier hs-var">s'</span></a></span><span>
</span><span id="line-490"></span><span>        </span><span id="local-6989586621689498306"><span class="annot"><span class="annottext">Value Void
</span><a href="#local-6989586621689498306"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">GType
-&gt; Name -&gt; Bool -&gt; Value Void -&gt; m (Value RemoteSchemaVariable)
forall (m :: * -&gt; *).
(MonadValidate [RoleBasedSchemaValidationError] m,
 MonadReader SchemaDocument m) =&gt;
GType
-&gt; Name -&gt; Bool -&gt; Value Void -&gt; m (Value RemoteSchemaVariable)
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#parsePresetValue"><span class="hs-identifier hs-var">parsePresetValue</span></a></span><span> </span><span class="annot"><span class="annottext">GType
</span><a href="#local-6989586621689498311"><span class="hs-identifier hs-var">gType'</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498357"><span class="hs-identifier hs-var">varName</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621689498356"><span class="hs-identifier hs-var">isStatic</span></a></span><span> </span><span class="annot"><span class="annottext">Value Void
</span><a href="#local-6989586621689498306"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-491"></span><span>
</span><span id="line-492"></span><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#parsePresetDirective"><span class="hs-identifier hs-type">parsePresetDirective</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-493"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621689498665"><span class="annot"><a href="#local-6989586621689498665"><span class="hs-identifier hs-type">m</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-494"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadValidate</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#RoleBasedSchemaValidationError"><span class="hs-identifier hs-type">RoleBasedSchemaValidationError</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621689498665"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-495"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">MonadReader</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.SchemaDocument</span></span><span> </span><span class="annot"><a href="#local-6989586621689498665"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-496"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-497"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">G.GType</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-498"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">G.Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-499"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">G.Directive</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Void</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-500"></span><span>  </span><span class="annot"><a href="#local-6989586621689498665"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">G.Value</span></span><span> </span><span class="annot"><a href="Hasura.RQL.Types.RemoteSchema.html#RemoteSchemaVariable"><span class="hs-identifier hs-type">RemoteSchemaVariable</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-501"></span><span id="parsePresetDirective"><span class="annot"><span class="annottext">parsePresetDirective :: GType -&gt; Name -&gt; Directive Void -&gt; m (Value RemoteSchemaVariable)
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#parsePresetDirective"><span class="hs-identifier hs-var hs-var">parsePresetDirective</span></a></span></span><span> </span><span id="local-6989586621689498304"><span class="annot"><span class="annottext">GType
</span><a href="#local-6989586621689498304"><span class="hs-identifier hs-var">gType</span></a></span></span><span> </span><span id="local-6989586621689498303"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498303"><span class="hs-identifier hs-var">parentArgName</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">G.Directive</span></span><span> </span><span id="local-6989586621689498301"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498301"><span class="hs-identifier hs-var">_name</span></a></span></span><span> </span><span id="local-6989586621689498300"><span class="annot"><span class="annottext">HashMap Name (Value Void)
</span><a href="#local-6989586621689498300"><span class="hs-identifier hs-var">args</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-502"></span><span>  </span><span class="hs-keyword">if</span><span>
</span><span id="line-503"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">HashMap Name (Value Void) -&gt; Bool
forall k v. HashMap k v -&gt; Bool
</span><span class="hs-identifier hs-var">Map.null</span></span><span> </span><span class="annot"><span class="annottext">HashMap Name (Value Void)
</span><a href="#local-6989586621689498300"><span class="hs-identifier hs-var">args</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[RoleBasedSchemaValidationError] -&gt; m (Value RemoteSchemaVariable)
forall e (m :: * -&gt; *) a. MonadValidate e m =&gt; e -&gt; m a
</span><span class="hs-identifier hs-var">refute</span></span><span> </span><span class="annot"><span class="annottext">([RoleBasedSchemaValidationError]
 -&gt; m (Value RemoteSchemaVariable))
-&gt; [RoleBasedSchemaValidationError]
-&gt; m (Value RemoteSchemaVariable)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">RoleBasedSchemaValidationError -&gt; [RoleBasedSchemaValidationError]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(RoleBasedSchemaValidationError
 -&gt; [RoleBasedSchemaValidationError])
-&gt; RoleBasedSchemaValidationError
-&gt; [RoleBasedSchemaValidationError]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">RoleBasedSchemaValidationError
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#NoPresetArgumentFound"><span class="hs-identifier hs-var">NoPresetArgumentFound</span></a></span><span>
</span><span id="line-504"></span><span>      </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-505"></span><span>        </span><span id="local-6989586621689498298"><span class="annot"><span class="annottext">Value Void
</span><a href="#local-6989586621689498298"><span class="hs-identifier hs-var">val</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-506"></span><span>          </span><span class="annot"><span class="annottext">Maybe (Value Void) -&gt; m (Value Void) -&gt; m (Value Void)
forall (m :: * -&gt; *) a. Applicative m =&gt; Maybe a -&gt; m a -&gt; m a
</span><a href="Hasura.Prelude.html#onNothing"><span class="hs-identifier hs-var">onNothing</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; HashMap Name (Value Void) -&gt; Maybe (Value Void)
forall k v. (Eq k, Hashable k) =&gt; k -&gt; HashMap k v -&gt; Maybe v
</span><span class="hs-identifier hs-var">Map.lookup</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Hasura.Name.html#_value"><span class="hs-identifier hs-var">Name._value</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap Name (Value Void)
</span><a href="#local-6989586621689498300"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(m (Value Void) -&gt; m (Value Void))
-&gt; m (Value Void) -&gt; m (Value Void)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-507"></span><span>            </span><span class="annot"><span class="annottext">[RoleBasedSchemaValidationError] -&gt; m (Value Void)
forall e (m :: * -&gt; *) a. MonadValidate e m =&gt; e -&gt; m a
</span><span class="hs-identifier hs-var">refute</span></span><span> </span><span class="annot"><span class="annottext">([RoleBasedSchemaValidationError] -&gt; m (Value Void))
-&gt; [RoleBasedSchemaValidationError] -&gt; m (Value Void)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">RoleBasedSchemaValidationError -&gt; [RoleBasedSchemaValidationError]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(RoleBasedSchemaValidationError
 -&gt; [RoleBasedSchemaValidationError])
-&gt; RoleBasedSchemaValidationError
-&gt; [RoleBasedSchemaValidationError]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; RoleBasedSchemaValidationError
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#InvalidPresetArgument"><span class="hs-identifier hs-var">InvalidPresetArgument</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498303"><span class="hs-identifier hs-var">parentArgName</span></a></span><span>
</span><span id="line-508"></span><span>        </span><span id="local-6989586621689498296"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621689498296"><span class="hs-identifier hs-var">isStatic</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-509"></span><span>          </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; HashMap Name (Value Void) -&gt; Maybe (Value Void)
forall k v. (Eq k, Hashable k) =&gt; k -&gt; HashMap k v -&gt; Maybe v
</span><span class="hs-identifier hs-var">Map.lookup</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Hasura.Name.html#_static"><span class="hs-identifier hs-var">Name._static</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap Name (Value Void)
</span><a href="#local-6989586621689498300"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-510"></span><span>            </span><span class="annot"><span class="annottext">Maybe (Value Void)
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; m Bool
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-511"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">G.VBoolean</span></span><span> </span><span id="local-6989586621689498293"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621689498293"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; m Bool
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621689498293"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-512"></span><span>            </span><span class="annot"><span class="annottext">Maybe (Value Void)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[RoleBasedSchemaValidationError] -&gt; m Bool
forall e (m :: * -&gt; *) a. MonadValidate e m =&gt; e -&gt; m a
</span><span class="hs-identifier hs-var">refute</span></span><span> </span><span class="annot"><span class="annottext">([RoleBasedSchemaValidationError] -&gt; m Bool)
-&gt; [RoleBasedSchemaValidationError] -&gt; m Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">RoleBasedSchemaValidationError -&gt; [RoleBasedSchemaValidationError]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(RoleBasedSchemaValidationError
 -&gt; [RoleBasedSchemaValidationError])
-&gt; RoleBasedSchemaValidationError
-&gt; [RoleBasedSchemaValidationError]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">RoleBasedSchemaValidationError
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#InvalidStaticValue"><span class="hs-identifier hs-var">InvalidStaticValue</span></a></span><span>
</span><span id="line-513"></span><span>        </span><span class="annot"><span class="annottext">GType
-&gt; Name -&gt; Bool -&gt; Value Void -&gt; m (Value RemoteSchemaVariable)
forall (m :: * -&gt; *).
(MonadValidate [RoleBasedSchemaValidationError] m,
 MonadReader SchemaDocument m) =&gt;
GType
-&gt; Name -&gt; Bool -&gt; Value Void -&gt; m (Value RemoteSchemaVariable)
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#parsePresetValue"><span class="hs-identifier hs-var">parsePresetValue</span></a></span><span> </span><span class="annot"><span class="annottext">GType
</span><a href="#local-6989586621689498304"><span class="hs-identifier hs-var">gType</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498303"><span class="hs-identifier hs-var">parentArgName</span></a></span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621689498296"><span class="hs-identifier hs-var">isStatic</span></a></span><span> </span><span class="annot"><span class="annottext">Value Void
</span><a href="#local-6989586621689498298"><span class="hs-identifier hs-var">val</span></a></span><span>
</span><span id="line-514"></span><span>
</span><span id="line-515"></span><span class="hs-comment">-- | validateDirective checks if the arguments of a given directive</span><span>
</span><span id="line-516"></span><span class="hs-comment">--   is a subset of the corresponding upstream directive arguments</span><span>
</span><span id="line-517"></span><span class="hs-comment">--   *NOTE*: This function assumes that the `providedDirective` and the</span><span>
</span><span id="line-518"></span><span class="hs-comment">--   `upstreamDirective` have the same name.</span><span>
</span><span id="line-519"></span><span id="local-6989586621689498683"><span id="local-6989586621689498684"><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#validateDirective"><span class="hs-identifier hs-type">validateDirective</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-520"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">MonadValidate</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#RoleBasedSchemaValidationError"><span class="hs-identifier hs-type">RoleBasedSchemaValidationError</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621689498684"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-521"></span><span>  </span><span class="hs-comment">-- | provided directive</span><span>
</span><span id="line-522"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">G.Directive</span></span><span> </span><span class="annot"><a href="#local-6989586621689498683"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-523"></span><span>  </span><span class="hs-comment">-- | upstream directive</span><span>
</span><span id="line-524"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">G.Directive</span></span><span> </span><span class="annot"><a href="#local-6989586621689498683"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-525"></span><span>  </span><span class="hs-comment">-- | parent type and name</span><span>
</span><span id="line-526"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#GraphQLType"><span class="hs-identifier hs-type">GraphQLType</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.Name</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-527"></span><span>  </span><span class="annot"><a href="#local-6989586621689498684"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-528"></span><span id="validateDirective"><span class="annot"><span class="annottext">validateDirective :: Directive a -&gt; Directive a -&gt; (GraphQLType, Name) -&gt; m ()
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#validateDirective"><span class="hs-identifier hs-var hs-var">validateDirective</span></a></span></span><span> </span><span id="local-6989586621689498291"><span class="annot"><span class="annottext">Directive a
</span><a href="#local-6989586621689498291"><span class="hs-identifier hs-var">providedDirective</span></a></span></span><span> </span><span id="local-6989586621689498290"><span class="annot"><span class="annottext">Directive a
</span><a href="#local-6989586621689498290"><span class="hs-identifier hs-var">upstreamDirective</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621689498289"><span class="annot"><span class="annottext">GraphQLType
</span><a href="#local-6989586621689498289"><span class="hs-identifier hs-var">parentType</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621689498288"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498288"><span class="hs-identifier hs-var">parentTypeName</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-529"></span><span>  </span><span class="annot"><span class="annottext">Bool -&gt; m () -&gt; m ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">when</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498286"><span class="hs-identifier hs-var">providedName</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Name -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498284"><span class="hs-identifier hs-var">upstreamName</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(m () -&gt; m ()) -&gt; m () -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-530"></span><span>    </span><span class="annot"><span class="annottext">[RoleBasedSchemaValidationError] -&gt; m ()
forall e (m :: * -&gt; *). MonadValidate e m =&gt; e -&gt; m ()
</span><span class="hs-identifier hs-var">dispute</span></span><span> </span><span class="annot"><span class="annottext">([RoleBasedSchemaValidationError] -&gt; m ())
-&gt; [RoleBasedSchemaValidationError] -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-531"></span><span>      </span><span class="annot"><span class="annottext">RoleBasedSchemaValidationError -&gt; [RoleBasedSchemaValidationError]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(RoleBasedSchemaValidationError
 -&gt; [RoleBasedSchemaValidationError])
-&gt; RoleBasedSchemaValidationError
-&gt; [RoleBasedSchemaValidationError]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-532"></span><span>        </span><span class="annot"><span class="annottext">Name -&gt; Name -&gt; GraphQLType -&gt; RoleBasedSchemaValidationError
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#UnexpectedNonMatchingNames"><span class="hs-identifier hs-var">UnexpectedNonMatchingNames</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498286"><span class="hs-identifier hs-var">providedName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498284"><span class="hs-identifier hs-var">upstreamName</span></a></span><span> </span><span class="annot"><span class="annottext">GraphQLType
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#Directive"><span class="hs-identifier hs-var">Directive</span></a></span><span>
</span><span id="line-533"></span><span>  </span><span class="annot"><span class="annottext">Maybe (NonEmpty Name) -&gt; (NonEmpty Name -&gt; m ()) -&gt; m ()
forall (m :: * -&gt; *) a.
Applicative m =&gt;
Maybe a -&gt; (a -&gt; m ()) -&gt; m ()
</span><a href="Hasura.Prelude.html#onJust"><span class="hs-identifier hs-var">onJust</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Name] -&gt; Maybe (NonEmpty Name)
forall a. [a] -&gt; Maybe (NonEmpty a)
</span><span class="hs-identifier hs-var">NE.nonEmpty</span></span><span> </span><span class="annot"><span class="annottext">([Name] -&gt; Maybe (NonEmpty Name))
-&gt; [Name] -&gt; Maybe (NonEmpty Name)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HashMap Name (Value a) -&gt; [Name]
forall k v. HashMap k v -&gt; [k]
</span><span class="hs-identifier hs-var">Map.keys</span></span><span> </span><span class="annot"><span class="annottext">HashMap Name (Value a)
</span><a href="#local-6989586621689498279"><span class="hs-identifier hs-var">argsDiff</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((NonEmpty Name -&gt; m ()) -&gt; m ())
-&gt; (NonEmpty Name -&gt; m ()) -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621689498278"><span class="annot"><span class="annottext">NonEmpty Name
</span><a href="#local-6989586621689498278"><span class="hs-identifier hs-var">argNames</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-534"></span><span>    </span><span class="annot"><span class="annottext">[RoleBasedSchemaValidationError] -&gt; m ()
forall e (m :: * -&gt; *). MonadValidate e m =&gt; e -&gt; m ()
</span><span class="hs-identifier hs-var">dispute</span></span><span> </span><span class="annot"><span class="annottext">([RoleBasedSchemaValidationError] -&gt; m ())
-&gt; [RoleBasedSchemaValidationError] -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-535"></span><span>      </span><span class="annot"><span class="annottext">RoleBasedSchemaValidationError -&gt; [RoleBasedSchemaValidationError]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(RoleBasedSchemaValidationError
 -&gt; [RoleBasedSchemaValidationError])
-&gt; RoleBasedSchemaValidationError
-&gt; [RoleBasedSchemaValidationError]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-536"></span><span>        </span><span class="annot"><span class="annottext">Name
-&gt; GraphQLType
-&gt; Name
-&gt; NonEmpty Name
-&gt; RoleBasedSchemaValidationError
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#NonExistingDirectiveArgument"><span class="hs-identifier hs-var">NonExistingDirectiveArgument</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498288"><span class="hs-identifier hs-var">parentTypeName</span></a></span><span> </span><span class="annot"><span class="annottext">GraphQLType
</span><a href="#local-6989586621689498289"><span class="hs-identifier hs-var">parentType</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498286"><span class="hs-identifier hs-var">providedName</span></a></span><span> </span><span class="annot"><span class="annottext">NonEmpty Name
</span><a href="#local-6989586621689498278"><span class="hs-identifier hs-var">argNames</span></a></span><span>
</span><span id="line-537"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-538"></span><span>    </span><span id="local-6989586621689498279"><span class="annot"><span class="annottext">argsDiff :: HashMap Name (Value a)
</span><a href="#local-6989586621689498279"><span class="hs-identifier hs-var hs-var">argsDiff</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HashMap Name (Value a)
-&gt; HashMap Name (Value a) -&gt; HashMap Name (Value a)
forall k v w.
(Eq k, Hashable k) =&gt;
HashMap k v -&gt; HashMap k w -&gt; HashMap k v
</span><span class="hs-identifier hs-var">Map.difference</span></span><span> </span><span class="annot"><span class="annottext">HashMap Name (Value a)
</span><a href="#local-6989586621689498276"><span class="hs-identifier hs-var">providedDirectiveArgs</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap Name (Value a)
</span><a href="#local-6989586621689498275"><span class="hs-identifier hs-var">upstreamDirectiveArgs</span></a></span><span>
</span><span id="line-539"></span><span>
</span><span id="line-540"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">G.Directive</span></span><span> </span><span id="local-6989586621689498286"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498286"><span class="hs-identifier hs-var">providedName</span></a></span></span><span> </span><span id="local-6989586621689498276"><span class="annot"><span class="annottext">HashMap Name (Value a)
</span><a href="#local-6989586621689498276"><span class="hs-identifier hs-var">providedDirectiveArgs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Directive a
</span><a href="#local-6989586621689498291"><span class="hs-identifier hs-var">providedDirective</span></a></span><span>
</span><span id="line-541"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">G.Directive</span></span><span> </span><span id="local-6989586621689498284"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498284"><span class="hs-identifier hs-var">upstreamName</span></a></span></span><span> </span><span id="local-6989586621689498275"><span class="annot"><span class="annottext">HashMap Name (Value a)
</span><a href="#local-6989586621689498275"><span class="hs-identifier hs-var">upstreamDirectiveArgs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Directive a
</span><a href="#local-6989586621689498290"><span class="hs-identifier hs-var">upstreamDirective</span></a></span><span>
</span><span id="line-542"></span><span>
</span><span id="line-543"></span><span class="hs-comment">-- | validateDirectives checks if the `providedDirectives`</span><span>
</span><span id="line-544"></span><span class="hs-comment">--   are a subset of `upstreamDirectives` and then validate</span><span>
</span><span id="line-545"></span><span class="hs-comment">--   each of the directives by calling the `validateDirective`</span><span>
</span><span id="line-546"></span><span id="local-6989586621689498673"><span id="local-6989586621689498674"><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#validateDirectives"><span class="hs-identifier hs-type">validateDirectives</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-547"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">MonadValidate</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#RoleBasedSchemaValidationError"><span class="hs-identifier hs-type">RoleBasedSchemaValidationError</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621689498674"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-548"></span><span>  </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">G.Directive</span></span><span> </span><span class="annot"><a href="#local-6989586621689498673"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-549"></span><span>  </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">G.Directive</span></span><span> </span><span class="annot"><a href="#local-6989586621689498673"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-550"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">G.TypeSystemDirectiveLocation</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-551"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#GraphQLType"><span class="hs-identifier hs-type">GraphQLType</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.Name</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-552"></span><span>  </span><span class="annot"><a href="#local-6989586621689498674"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">G.Directive</span></span><span> </span><span class="annot"><a href="#local-6989586621689498673"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-553"></span><span id="validateDirectives"><span class="annot"><span class="annottext">validateDirectives :: [Directive a]
-&gt; [Directive a]
-&gt; TypeSystemDirectiveLocation
-&gt; (GraphQLType, Name)
-&gt; m (Maybe (Directive a))
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#validateDirectives"><span class="hs-identifier hs-var hs-var">validateDirectives</span></a></span></span><span> </span><span id="local-6989586621689498273"><span class="annot"><span class="annottext">[Directive a]
</span><a href="#local-6989586621689498273"><span class="hs-identifier hs-var">providedDirectives</span></a></span></span><span> </span><span id="local-6989586621689498272"><span class="annot"><span class="annottext">[Directive a]
</span><a href="#local-6989586621689498272"><span class="hs-identifier hs-var">upstreamDirectives</span></a></span></span><span> </span><span id="local-6989586621689498271"><span class="annot"><span class="annottext">TypeSystemDirectiveLocation
</span><a href="#local-6989586621689498271"><span class="hs-identifier hs-var">directiveLocation</span></a></span></span><span> </span><span id="local-6989586621689498270"><span class="annot"><span class="annottext">(GraphQLType, Name)
</span><a href="#local-6989586621689498270"><span class="hs-identifier hs-var">parentType</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-554"></span><span>  </span><span class="annot"><span class="annottext">Maybe (NonEmpty Name) -&gt; (NonEmpty Name -&gt; m ()) -&gt; m ()
forall (m :: * -&gt; *) a.
Applicative m =&gt;
Maybe a -&gt; (a -&gt; m ()) -&gt; m ()
</span><a href="Hasura.Prelude.html#onJust"><span class="hs-identifier hs-var">onJust</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Name] -&gt; Maybe (NonEmpty Name)
forall a. [a] -&gt; Maybe (NonEmpty a)
</span><span class="hs-identifier hs-var">NE.nonEmpty</span></span><span> </span><span class="annot"><span class="annottext">([Name] -&gt; Maybe (NonEmpty Name))
-&gt; [Name] -&gt; Maybe (NonEmpty Name)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HashSet Name -&gt; [Name]
forall a. HashSet a -&gt; [a]
</span><span class="hs-identifier hs-var">S.toList</span></span><span> </span><span class="annot"><span class="annottext">(HashSet Name -&gt; [Name]) -&gt; HashSet Name -&gt; [Name]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Name] -&gt; HashSet Name
forall a. (Eq a, Hashable a) =&gt; [a] -&gt; HashSet a
</span><a href="Data.List.Extended.html#duplicates"><span class="hs-identifier hs-var">duplicates</span></a></span><span> </span><span class="annot"><span class="annottext">([Name] -&gt; HashSet Name) -&gt; [Name] -&gt; HashSet Name
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Directive a -&gt; Name) -&gt; [Directive a] -&gt; [Name]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">Directive a -&gt; Name
forall var. Directive var -&gt; Name
</span><span class="hs-identifier hs-var hs-var">G._dName</span></span><span> </span><span class="annot"><span class="annottext">[Directive a]
</span><a href="#local-6989586621689498267"><span class="hs-identifier hs-var">nonPresetDirectives</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((NonEmpty Name -&gt; m ()) -&gt; m ())
-&gt; (NonEmpty Name -&gt; m ()) -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621689498266"><span class="annot"><span class="annottext">NonEmpty Name
</span><a href="#local-6989586621689498266"><span class="hs-identifier hs-var">dups</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-555"></span><span>    </span><span class="annot"><span class="annottext">[RoleBasedSchemaValidationError] -&gt; m ()
forall e (m :: * -&gt; *) a. MonadValidate e m =&gt; e -&gt; m a
</span><span class="hs-identifier hs-var">refute</span></span><span> </span><span class="annot"><span class="annottext">([RoleBasedSchemaValidationError] -&gt; m ())
-&gt; [RoleBasedSchemaValidationError] -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">RoleBasedSchemaValidationError -&gt; [RoleBasedSchemaValidationError]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(RoleBasedSchemaValidationError
 -&gt; [RoleBasedSchemaValidationError])
-&gt; RoleBasedSchemaValidationError
-&gt; [RoleBasedSchemaValidationError]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(GraphQLType, Name)
-&gt; NonEmpty Name -&gt; RoleBasedSchemaValidationError
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#DuplicateDirectives"><span class="hs-identifier hs-var">DuplicateDirectives</span></a></span><span> </span><span class="annot"><span class="annottext">(GraphQLType, Name)
</span><a href="#local-6989586621689498270"><span class="hs-identifier hs-var">parentType</span></a></span><span> </span><span class="annot"><span class="annottext">NonEmpty Name
</span><a href="#local-6989586621689498266"><span class="hs-identifier hs-var">dups</span></a></span><span>
</span><span id="line-556"></span><span>  </span><span class="annot"><span class="annottext">[Directive a] -&gt; (Directive a -&gt; m ()) -&gt; m ()
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Foldable t, Applicative f) =&gt;
t a -&gt; (a -&gt; f b) -&gt; f ()
</span><span class="hs-identifier hs-var">for_</span></span><span> </span><span class="annot"><span class="annottext">[Directive a]
</span><a href="#local-6989586621689498267"><span class="hs-identifier hs-var">nonPresetDirectives</span></a></span><span> </span><span class="annot"><span class="annottext">((Directive a -&gt; m ()) -&gt; m ()) -&gt; (Directive a -&gt; m ()) -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621689498264"><span class="annot"><span class="annottext">Directive a
</span><a href="#local-6989586621689498264"><span class="hs-identifier hs-var">dir</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-557"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621689498263"><span class="annot"><span class="annottext">directiveName :: Name
</span><a href="#local-6989586621689498263"><span class="hs-identifier hs-var hs-var">directiveName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Directive a -&gt; Name
forall var. Directive var -&gt; Name
</span><span class="hs-identifier hs-var hs-var">G._dName</span></span><span> </span><span class="annot"><span class="annottext">Directive a
</span><a href="#local-6989586621689498264"><span class="hs-identifier hs-var">dir</span></a></span><span>
</span><span id="line-558"></span><span>    </span><span id="local-6989586621689498262"><span class="annot"><span class="annottext">Directive a
</span><a href="#local-6989586621689498262"><span class="hs-identifier hs-var">upstreamDir</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-559"></span><span>      </span><span class="annot"><span class="annottext">Maybe (Directive a) -&gt; m (Directive a) -&gt; m (Directive a)
forall (m :: * -&gt; *) a. Applicative m =&gt; Maybe a -&gt; m a -&gt; m a
</span><a href="Hasura.Prelude.html#onNothing"><span class="hs-identifier hs-var">onNothing</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; HashMap Name (Directive a) -&gt; Maybe (Directive a)
forall k v. (Eq k, Hashable k) =&gt; k -&gt; HashMap k v -&gt; Maybe v
</span><span class="hs-identifier hs-var">Map.lookup</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498263"><span class="hs-identifier hs-var">directiveName</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap Name (Directive a)
</span><a href="#local-6989586621689498261"><span class="hs-identifier hs-var">upstreamDirectivesMap</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(m (Directive a) -&gt; m (Directive a))
-&gt; m (Directive a) -&gt; m (Directive a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-560"></span><span>        </span><span class="annot"><span class="annottext">[RoleBasedSchemaValidationError] -&gt; m (Directive a)
forall e (m :: * -&gt; *) a. MonadValidate e m =&gt; e -&gt; m a
</span><span class="hs-identifier hs-var">refute</span></span><span> </span><span class="annot"><span class="annottext">([RoleBasedSchemaValidationError] -&gt; m (Directive a))
-&gt; [RoleBasedSchemaValidationError] -&gt; m (Directive a)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">RoleBasedSchemaValidationError -&gt; [RoleBasedSchemaValidationError]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(RoleBasedSchemaValidationError
 -&gt; [RoleBasedSchemaValidationError])
-&gt; RoleBasedSchemaValidationError
-&gt; [RoleBasedSchemaValidationError]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">GraphQLType -&gt; Name -&gt; RoleBasedSchemaValidationError
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#TypeDoesNotExist"><span class="hs-identifier hs-var">TypeDoesNotExist</span></a></span><span> </span><span class="annot"><span class="annottext">GraphQLType
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#Directive"><span class="hs-identifier hs-var">Directive</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498263"><span class="hs-identifier hs-var">directiveName</span></a></span><span>
</span><span id="line-561"></span><span>    </span><span class="annot"><span class="annottext">Directive a -&gt; Directive a -&gt; (GraphQLType, Name) -&gt; m ()
forall (m :: * -&gt; *) a.
MonadValidate [RoleBasedSchemaValidationError] m =&gt;
Directive a -&gt; Directive a -&gt; (GraphQLType, Name) -&gt; m ()
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#validateDirective"><span class="hs-identifier hs-var">validateDirective</span></a></span><span> </span><span class="annot"><span class="annottext">Directive a
</span><a href="#local-6989586621689498264"><span class="hs-identifier hs-var">dir</span></a></span><span> </span><span class="annot"><span class="annottext">Directive a
</span><a href="#local-6989586621689498262"><span class="hs-identifier hs-var">upstreamDir</span></a></span><span> </span><span class="annot"><span class="annottext">(GraphQLType, Name)
</span><a href="#local-6989586621689498270"><span class="hs-identifier hs-var">parentType</span></a></span><span>
</span><span id="line-562"></span><span>  </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">[Directive a]
</span><a href="#local-6989586621689498260"><span class="hs-identifier hs-var">presetDirectives</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-563"></span><span>    </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (Directive a) -&gt; m (Maybe (Directive a))
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">Maybe (Directive a)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-564"></span><span>    </span><span class="hs-special">[</span><span id="local-6989586621689498259"><span class="annot"><span class="annottext">Directive a
</span><a href="#local-6989586621689498259"><span class="hs-identifier hs-var">presetDirective</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-565"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">TypeSystemDirectiveLocation
</span><a href="#local-6989586621689498271"><span class="hs-identifier hs-var">directiveLocation</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-566"></span><span>        </span><span class="annot"><span class="annottext">TypeSystemDirectiveLocation
</span><span class="hs-identifier hs-var">G.TSDLINPUT_FIELD_DEFINITION</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; m ()
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-567"></span><span>        </span><span class="annot"><span class="annottext">TypeSystemDirectiveLocation
</span><span class="hs-identifier hs-var">G.TSDLARGUMENT_DEFINITION</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; m ()
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-568"></span><span>        </span><span class="annot"><span class="annottext">TypeSystemDirectiveLocation
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[RoleBasedSchemaValidationError] -&gt; m ()
forall e (m :: * -&gt; *). MonadValidate e m =&gt; e -&gt; m ()
</span><span class="hs-identifier hs-var">dispute</span></span><span> </span><span class="annot"><span class="annottext">([RoleBasedSchemaValidationError] -&gt; m ())
-&gt; [RoleBasedSchemaValidationError] -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">RoleBasedSchemaValidationError -&gt; [RoleBasedSchemaValidationError]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(RoleBasedSchemaValidationError
 -&gt; [RoleBasedSchemaValidationError])
-&gt; RoleBasedSchemaValidationError
-&gt; [RoleBasedSchemaValidationError]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">RoleBasedSchemaValidationError
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#InvalidPresetDirectiveLocation"><span class="hs-identifier hs-var">InvalidPresetDirectiveLocation</span></a></span><span>
</span><span id="line-569"></span><span>      </span><span class="annot"><span class="annottext">Maybe (Directive a) -&gt; m (Maybe (Directive a))
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(Maybe (Directive a) -&gt; m (Maybe (Directive a)))
-&gt; Maybe (Directive a) -&gt; m (Maybe (Directive a))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Directive a -&gt; Maybe (Directive a)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Directive a
</span><a href="#local-6989586621689498259"><span class="hs-identifier hs-var">presetDirective</span></a></span><span>
</span><span id="line-570"></span><span>    </span><span class="annot"><span class="annottext">[Directive a]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-571"></span><span>      </span><span class="annot"><span class="annottext">[RoleBasedSchemaValidationError] -&gt; m (Maybe (Directive a))
forall e (m :: * -&gt; *) a. MonadValidate e m =&gt; e -&gt; m a
</span><span class="hs-identifier hs-var">refute</span></span><span> </span><span class="annot"><span class="annottext">([RoleBasedSchemaValidationError] -&gt; m (Maybe (Directive a)))
-&gt; [RoleBasedSchemaValidationError] -&gt; m (Maybe (Directive a))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">RoleBasedSchemaValidationError -&gt; [RoleBasedSchemaValidationError]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(RoleBasedSchemaValidationError
 -&gt; [RoleBasedSchemaValidationError])
-&gt; RoleBasedSchemaValidationError
-&gt; [RoleBasedSchemaValidationError]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(GraphQLType, Name) -&gt; RoleBasedSchemaValidationError
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#MultiplePresetDirectives"><span class="hs-identifier hs-var">MultiplePresetDirectives</span></a></span><span> </span><span class="annot"><span class="annottext">(GraphQLType, Name)
</span><a href="#local-6989586621689498270"><span class="hs-identifier hs-var">parentType</span></a></span><span>
</span><span id="line-572"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-573"></span><span>    </span><span id="local-6989586621689498261"><span class="annot"><span class="annottext">upstreamDirectivesMap :: HashMap Name (Directive a)
</span><a href="#local-6989586621689498261"><span class="hs-identifier hs-var hs-var">upstreamDirectivesMap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Directive a -&gt; Name)
-&gt; [Directive a] -&gt; HashMap Name (Directive a)
forall k a. (Eq k, Hashable k) =&gt; (a -&gt; k) -&gt; [a] -&gt; HashMap k a
</span><a href="Hasura.Prelude.html#mapFromL"><span class="hs-identifier hs-var">mapFromL</span></a></span><span> </span><span class="annot"><span class="annottext">Directive a -&gt; Name
forall var. Directive var -&gt; Name
</span><span class="hs-identifier hs-var hs-var">G._dName</span></span><span> </span><span class="annot"><span class="annottext">[Directive a]
</span><a href="#local-6989586621689498272"><span class="hs-identifier hs-var">upstreamDirectives</span></a></span><span>
</span><span id="line-574"></span><span>
</span><span id="line-575"></span><span>    </span><span id="local-6989586621689498256"><span class="annot"><span class="annottext">presetFilterFn :: Directive var -&gt; Bool
</span><a href="#local-6989586621689498256"><span class="hs-identifier hs-var hs-var">presetFilterFn</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; Name -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Hasura.Name.html#_preset"><span class="hs-identifier hs-var">Name._preset</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Name -&gt; Bool) -&gt; (Directive var -&gt; Name) -&gt; Directive var -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Directive var -&gt; Name
forall var. Directive var -&gt; Name
</span><span class="hs-identifier hs-var hs-var">G._dName</span></span><span>
</span><span id="line-576"></span><span>
</span><span id="line-577"></span><span>    </span><span id="local-6989586621689498260"><span class="annot"><span class="annottext">presetDirectives :: [Directive a]
</span><a href="#local-6989586621689498260"><span class="hs-identifier hs-var hs-var">presetDirectives</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Directive a -&gt; Bool) -&gt; [Directive a] -&gt; [Directive a]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">filter</span></span><span> </span><span class="annot"><span class="annottext">Directive a -&gt; Bool
forall var. Directive var -&gt; Bool
</span><a href="#local-6989586621689498256"><span class="hs-identifier hs-var">presetFilterFn</span></a></span><span> </span><span class="annot"><span class="annottext">[Directive a]
</span><a href="#local-6989586621689498273"><span class="hs-identifier hs-var">providedDirectives</span></a></span><span>
</span><span id="line-578"></span><span>
</span><span id="line-579"></span><span>    </span><span id="local-6989586621689498267"><span class="annot"><span class="annottext">nonPresetDirectives :: [Directive a]
</span><a href="#local-6989586621689498267"><span class="hs-identifier hs-var hs-var">nonPresetDirectives</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Directive a -&gt; Bool) -&gt; [Directive a] -&gt; [Directive a]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">filter</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Bool) -&gt; (Directive a -&gt; Bool) -&gt; Directive a -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Directive a -&gt; Bool
forall var. Directive var -&gt; Bool
</span><a href="#local-6989586621689498256"><span class="hs-identifier hs-var">presetFilterFn</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Directive a]
</span><a href="#local-6989586621689498273"><span class="hs-identifier hs-var">providedDirectives</span></a></span><span>
</span><span id="line-580"></span><span>
</span><span id="line-581"></span><span class="hs-comment">-- |  `validateEnumTypeDefinition` checks the validity of an enum definition</span><span>
</span><span id="line-582"></span><span class="hs-comment">-- provided by the user against the corresponding upstream enum.</span><span>
</span><span id="line-583"></span><span class="hs-comment">-- The function does the following things:</span><span>
</span><span id="line-584"></span><span class="hs-comment">-- 1. Validates the directives (if any)</span><span>
</span><span id="line-585"></span><span class="hs-comment">-- 2. For each enum provided, check if the enum values are a subset of</span><span>
</span><span id="line-586"></span><span class="hs-comment">--    the enum values of the corresponding upstream enum</span><span>
</span><span id="line-587"></span><span class="hs-comment">-- *NOTE*: This function assumes that the `providedEnum` and the `upstreamEnum`</span><span>
</span><span id="line-588"></span><span class="hs-comment">-- have the same name.</span><span>
</span><span id="line-589"></span><span id="local-6989586621689498610"><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#validateEnumTypeDefinition"><span class="hs-identifier hs-type">validateEnumTypeDefinition</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-590"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadValidate</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#RoleBasedSchemaValidationError"><span class="hs-identifier hs-type">RoleBasedSchemaValidationError</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621689498610"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-591"></span><span>  </span><span class="hs-comment">-- | provided enum type definition</span><span>
</span><span id="line-592"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">G.EnumTypeDefinition</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-593"></span><span>  </span><span class="hs-comment">-- | upstream enum type definition</span><span>
</span><span id="line-594"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">G.EnumTypeDefinition</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-595"></span><span>  </span><span class="annot"><a href="#local-6989586621689498610"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.EnumTypeDefinition</span></span></span><span>
</span><span id="line-596"></span><span id="validateEnumTypeDefinition"><span class="annot"><span class="annottext">validateEnumTypeDefinition :: EnumTypeDefinition -&gt; EnumTypeDefinition -&gt; m EnumTypeDefinition
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#validateEnumTypeDefinition"><span class="hs-identifier hs-var hs-var">validateEnumTypeDefinition</span></a></span></span><span> </span><span id="local-6989586621689498252"><span class="annot"><span class="annottext">EnumTypeDefinition
</span><a href="#local-6989586621689498252"><span class="hs-identifier hs-var">providedEnum</span></a></span></span><span> </span><span id="local-6989586621689498251"><span class="annot"><span class="annottext">EnumTypeDefinition
</span><a href="#local-6989586621689498251"><span class="hs-identifier hs-var">upstreamEnum</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-597"></span><span>  </span><span class="annot"><span class="annottext">Bool -&gt; m () -&gt; m ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">when</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498250"><span class="hs-identifier hs-var">providedName</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Name -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498249"><span class="hs-identifier hs-var">upstreamName</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(m () -&gt; m ()) -&gt; m () -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-598"></span><span>    </span><span class="annot"><span class="annottext">[RoleBasedSchemaValidationError] -&gt; m ()
forall e (m :: * -&gt; *). MonadValidate e m =&gt; e -&gt; m ()
</span><span class="hs-identifier hs-var">dispute</span></span><span> </span><span class="annot"><span class="annottext">([RoleBasedSchemaValidationError] -&gt; m ())
-&gt; [RoleBasedSchemaValidationError] -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-599"></span><span>      </span><span class="annot"><span class="annottext">RoleBasedSchemaValidationError -&gt; [RoleBasedSchemaValidationError]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(RoleBasedSchemaValidationError
 -&gt; [RoleBasedSchemaValidationError])
-&gt; RoleBasedSchemaValidationError
-&gt; [RoleBasedSchemaValidationError]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-600"></span><span>        </span><span class="annot"><span class="annottext">Name -&gt; Name -&gt; GraphQLType -&gt; RoleBasedSchemaValidationError
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#UnexpectedNonMatchingNames"><span class="hs-identifier hs-var">UnexpectedNonMatchingNames</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498250"><span class="hs-identifier hs-var">providedName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498249"><span class="hs-identifier hs-var">upstreamName</span></a></span><span> </span><span class="annot"><span class="annottext">GraphQLType
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#Enum"><span class="hs-identifier hs-var">Enum</span></a></span><span>
</span><span id="line-601"></span><span>  </span><span class="annot"><span class="annottext">m (Maybe (Directive Void)) -&gt; m ()
forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span><span class="hs-identifier hs-var">void</span></span><span> </span><span class="annot"><span class="annottext">(m (Maybe (Directive Void)) -&gt; m ())
-&gt; m (Maybe (Directive Void)) -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Directive Void]
-&gt; [Directive Void]
-&gt; TypeSystemDirectiveLocation
-&gt; (GraphQLType, Name)
-&gt; m (Maybe (Directive Void))
forall (m :: * -&gt; *) a.
MonadValidate [RoleBasedSchemaValidationError] m =&gt;
[Directive a]
-&gt; [Directive a]
-&gt; TypeSystemDirectiveLocation
-&gt; (GraphQLType, Name)
-&gt; m (Maybe (Directive a))
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#validateDirectives"><span class="hs-identifier hs-var">validateDirectives</span></a></span><span> </span><span class="annot"><span class="annottext">[Directive Void]
</span><a href="#local-6989586621689498247"><span class="hs-identifier hs-var">providedDirectives</span></a></span><span> </span><span class="annot"><span class="annottext">[Directive Void]
</span><a href="#local-6989586621689498246"><span class="hs-identifier hs-var">upstreamDirectives</span></a></span><span> </span><span class="annot"><span class="annottext">TypeSystemDirectiveLocation
</span><span class="hs-identifier hs-var">G.TSDLENUM</span></span><span> </span><span class="annot"><span class="annottext">((GraphQLType, Name) -&gt; m (Maybe (Directive Void)))
-&gt; (GraphQLType, Name) -&gt; m (Maybe (Directive Void))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GraphQLType
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#Enum"><span class="hs-identifier hs-var">Enum</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498250"><span class="hs-identifier hs-var">providedName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-602"></span><span>  </span><span class="annot"><span class="annottext">Maybe (NonEmpty Name) -&gt; (NonEmpty Name -&gt; m ()) -&gt; m ()
forall (m :: * -&gt; *) a.
Applicative m =&gt;
Maybe a -&gt; (a -&gt; m ()) -&gt; m ()
</span><a href="Hasura.Prelude.html#onJust"><span class="hs-identifier hs-var">onJust</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Name] -&gt; Maybe (NonEmpty Name)
forall a. [a] -&gt; Maybe (NonEmpty a)
</span><span class="hs-identifier hs-var">NE.nonEmpty</span></span><span> </span><span class="annot"><span class="annottext">([Name] -&gt; Maybe (NonEmpty Name))
-&gt; [Name] -&gt; Maybe (NonEmpty Name)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HashSet Name -&gt; [Name]
forall a. HashSet a -&gt; [a]
</span><span class="hs-identifier hs-var">S.toList</span></span><span> </span><span class="annot"><span class="annottext">(HashSet Name -&gt; [Name]) -&gt; HashSet Name -&gt; [Name]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Name] -&gt; HashSet Name
forall a. (Eq a, Hashable a) =&gt; [a] -&gt; HashSet a
</span><a href="Data.List.Extended.html#duplicates"><span class="hs-identifier hs-var">duplicates</span></a></span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621689498244"><span class="hs-identifier hs-var">providedEnumValNames</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((NonEmpty Name -&gt; m ()) -&gt; m ())
-&gt; (NonEmpty Name -&gt; m ()) -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621689498243"><span class="annot"><span class="annottext">NonEmpty Name
</span><a href="#local-6989586621689498243"><span class="hs-identifier hs-var">dups</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-603"></span><span>    </span><span class="annot"><span class="annottext">[RoleBasedSchemaValidationError] -&gt; m ()
forall e (m :: * -&gt; *) a. MonadValidate e m =&gt; e -&gt; m a
</span><span class="hs-identifier hs-var">refute</span></span><span> </span><span class="annot"><span class="annottext">([RoleBasedSchemaValidationError] -&gt; m ())
-&gt; [RoleBasedSchemaValidationError] -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">RoleBasedSchemaValidationError -&gt; [RoleBasedSchemaValidationError]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(RoleBasedSchemaValidationError
 -&gt; [RoleBasedSchemaValidationError])
-&gt; RoleBasedSchemaValidationError
-&gt; [RoleBasedSchemaValidationError]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; NonEmpty Name -&gt; RoleBasedSchemaValidationError
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#DuplicateEnumValues"><span class="hs-identifier hs-var">DuplicateEnumValues</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498250"><span class="hs-identifier hs-var">providedName</span></a></span><span> </span><span class="annot"><span class="annottext">NonEmpty Name
</span><a href="#local-6989586621689498243"><span class="hs-identifier hs-var">dups</span></a></span><span>
</span><span id="line-604"></span><span>  </span><span class="annot"><span class="annottext">Maybe (NonEmpty Name) -&gt; (NonEmpty Name -&gt; m ()) -&gt; m ()
forall (m :: * -&gt; *) a.
Applicative m =&gt;
Maybe a -&gt; (a -&gt; m ()) -&gt; m ()
</span><a href="Hasura.Prelude.html#onJust"><span class="hs-identifier hs-var">onJust</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Name] -&gt; Maybe (NonEmpty Name)
forall a. [a] -&gt; Maybe (NonEmpty a)
</span><span class="hs-identifier hs-var">NE.nonEmpty</span></span><span> </span><span class="annot"><span class="annottext">([Name] -&gt; Maybe (NonEmpty Name))
-&gt; [Name] -&gt; Maybe (NonEmpty Name)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HashSet Name -&gt; [Name]
forall a. HashSet a -&gt; [a]
</span><span class="hs-identifier hs-var">S.toList</span></span><span> </span><span class="annot"><span class="annottext">HashSet Name
</span><a href="#local-6989586621689498242"><span class="hs-identifier hs-var">fieldsDifference</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((NonEmpty Name -&gt; m ()) -&gt; m ())
-&gt; (NonEmpty Name -&gt; m ()) -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621689498241"><span class="annot"><span class="annottext">NonEmpty Name
</span><a href="#local-6989586621689498241"><span class="hs-identifier hs-var">nonExistingEnumVals</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-605"></span><span>    </span><span class="annot"><span class="annottext">[RoleBasedSchemaValidationError] -&gt; m ()
forall e (m :: * -&gt; *). MonadValidate e m =&gt; e -&gt; m ()
</span><span class="hs-identifier hs-var">dispute</span></span><span> </span><span class="annot"><span class="annottext">([RoleBasedSchemaValidationError] -&gt; m ())
-&gt; [RoleBasedSchemaValidationError] -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">RoleBasedSchemaValidationError -&gt; [RoleBasedSchemaValidationError]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(RoleBasedSchemaValidationError
 -&gt; [RoleBasedSchemaValidationError])
-&gt; RoleBasedSchemaValidationError
-&gt; [RoleBasedSchemaValidationError]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; NonEmpty Name -&gt; RoleBasedSchemaValidationError
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#NonExistingEnumValues"><span class="hs-identifier hs-var">NonExistingEnumValues</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498250"><span class="hs-identifier hs-var">providedName</span></a></span><span> </span><span class="annot"><span class="annottext">NonEmpty Name
</span><a href="#local-6989586621689498241"><span class="hs-identifier hs-var">nonExistingEnumVals</span></a></span><span>
</span><span id="line-606"></span><span>  </span><span class="annot"><span class="annottext">EnumTypeDefinition -&gt; m EnumTypeDefinition
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">EnumTypeDefinition
</span><a href="#local-6989586621689498252"><span class="hs-identifier hs-var">providedEnum</span></a></span><span>
</span><span id="line-607"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-608"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">G.EnumTypeDefinition</span></span><span> </span><span class="annot"><span class="annottext">Maybe Description
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621689498250"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498250"><span class="hs-identifier hs-var">providedName</span></a></span></span><span> </span><span id="local-6989586621689498247"><span class="annot"><span class="annottext">[Directive Void]
</span><a href="#local-6989586621689498247"><span class="hs-identifier hs-var">providedDirectives</span></a></span></span><span> </span><span id="local-6989586621689498240"><span class="annot"><span class="annottext">[EnumValueDefinition]
</span><a href="#local-6989586621689498240"><span class="hs-identifier hs-var">providedValueDefns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">EnumTypeDefinition
</span><a href="#local-6989586621689498252"><span class="hs-identifier hs-var">providedEnum</span></a></span><span>
</span><span id="line-609"></span><span>
</span><span id="line-610"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">G.EnumTypeDefinition</span></span><span> </span><span class="annot"><span class="annottext">Maybe Description
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621689498249"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498249"><span class="hs-identifier hs-var">upstreamName</span></a></span></span><span> </span><span id="local-6989586621689498246"><span class="annot"><span class="annottext">[Directive Void]
</span><a href="#local-6989586621689498246"><span class="hs-identifier hs-var">upstreamDirectives</span></a></span></span><span> </span><span id="local-6989586621689498239"><span class="annot"><span class="annottext">[EnumValueDefinition]
</span><a href="#local-6989586621689498239"><span class="hs-identifier hs-var">upstreamValueDefns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">EnumTypeDefinition
</span><a href="#local-6989586621689498251"><span class="hs-identifier hs-var">upstreamEnum</span></a></span><span>
</span><span id="line-611"></span><span>
</span><span id="line-612"></span><span>    </span><span id="local-6989586621689498244"><span class="annot"><span class="annottext">providedEnumValNames :: [Name]
</span><a href="#local-6989586621689498244"><span class="hs-identifier hs-var hs-var">providedEnumValNames</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(EnumValueDefinition -&gt; Name) -&gt; [EnumValueDefinition] -&gt; [Name]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EnumValue -&gt; Name
</span><span class="hs-identifier hs-var hs-var">G.unEnumValue</span></span><span> </span><span class="annot"><span class="annottext">(EnumValue -&gt; Name)
-&gt; (EnumValueDefinition -&gt; EnumValue)
-&gt; EnumValueDefinition
-&gt; Name
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">EnumValueDefinition -&gt; EnumValue
</span><span class="hs-identifier hs-var hs-var">G._evdName</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([EnumValueDefinition] -&gt; [Name])
-&gt; [EnumValueDefinition] -&gt; [Name]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[EnumValueDefinition]
</span><a href="#local-6989586621689498240"><span class="hs-identifier hs-var">providedValueDefns</span></a></span><span>
</span><span id="line-613"></span><span>
</span><span id="line-614"></span><span>    </span><span id="local-6989586621689498238"><span class="annot"><span class="annottext">upstreamEnumValNames :: [Name]
</span><a href="#local-6989586621689498238"><span class="hs-identifier hs-var hs-var">upstreamEnumValNames</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(EnumValueDefinition -&gt; Name) -&gt; [EnumValueDefinition] -&gt; [Name]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EnumValue -&gt; Name
</span><span class="hs-identifier hs-var hs-var">G.unEnumValue</span></span><span> </span><span class="annot"><span class="annottext">(EnumValue -&gt; Name)
-&gt; (EnumValueDefinition -&gt; EnumValue)
-&gt; EnumValueDefinition
-&gt; Name
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">EnumValueDefinition -&gt; EnumValue
</span><span class="hs-identifier hs-var hs-var">G._evdName</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([EnumValueDefinition] -&gt; [Name])
-&gt; [EnumValueDefinition] -&gt; [Name]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[EnumValueDefinition]
</span><a href="#local-6989586621689498239"><span class="hs-identifier hs-var">upstreamValueDefns</span></a></span><span>
</span><span id="line-615"></span><span>
</span><span id="line-616"></span><span>    </span><span id="local-6989586621689498242"><span class="annot"><span class="annottext">fieldsDifference :: HashSet Name
</span><a href="#local-6989586621689498242"><span class="hs-identifier hs-var hs-var">fieldsDifference</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Name] -&gt; [Name] -&gt; HashSet Name
forall a. (Eq a, Hashable a) =&gt; [a] -&gt; [a] -&gt; HashSet a
</span><a href="Data.List.Extended.html#getDifference"><span class="hs-identifier hs-var">getDifference</span></a></span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621689498244"><span class="hs-identifier hs-var">providedEnumValNames</span></a></span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621689498238"><span class="hs-identifier hs-var">upstreamEnumValNames</span></a></span><span>
</span><span id="line-617"></span><span>
</span><span id="line-618"></span><span class="hs-comment">-- | `validateInputValueDefinition` validates a given input value definition</span><span>
</span><span id="line-619"></span><span class="hs-comment">--   , against the corresponding upstream input value definition. Two things</span><span>
</span><span id="line-620"></span><span class="hs-comment">--   are validated to do the same, the type and the default value of the</span><span>
</span><span id="line-621"></span><span class="hs-comment">--   input value definitions should be equal.</span><span>
</span><span id="line-622"></span><span id="local-6989586621689498662"><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#validateInputValueDefinition"><span class="hs-identifier hs-type">validateInputValueDefinition</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-623"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadValidate</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#RoleBasedSchemaValidationError"><span class="hs-identifier hs-type">RoleBasedSchemaValidationError</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621689498662"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-624"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">MonadReader</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.SchemaDocument</span></span><span> </span><span class="annot"><a href="#local-6989586621689498662"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-625"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-626"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">G.InputValueDefinition</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-627"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">G.InputValueDefinition</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-628"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">G.Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-629"></span><span>  </span><span class="annot"><a href="#local-6989586621689498662"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="Hasura.RQL.Types.RemoteSchema.html#RemoteSchemaInputValueDefinition"><span class="hs-identifier hs-type">RemoteSchemaInputValueDefinition</span></a></span></span><span>
</span><span id="line-630"></span><span id="validateInputValueDefinition"><span class="annot"><span class="annottext">validateInputValueDefinition :: InputValueDefinition
-&gt; InputValueDefinition
-&gt; Name
-&gt; m RemoteSchemaInputValueDefinition
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#validateInputValueDefinition"><span class="hs-identifier hs-var hs-var">validateInputValueDefinition</span></a></span></span><span> </span><span id="local-6989586621689498236"><span class="annot"><span class="annottext">InputValueDefinition
</span><a href="#local-6989586621689498236"><span class="hs-identifier hs-var">providedDefn</span></a></span></span><span> </span><span id="local-6989586621689498235"><span class="annot"><span class="annottext">InputValueDefinition
</span><a href="#local-6989586621689498235"><span class="hs-identifier hs-var">upstreamDefn</span></a></span></span><span> </span><span id="local-6989586621689498234"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498234"><span class="hs-identifier hs-var">inputObjectName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-631"></span><span>  </span><span class="annot"><span class="annottext">Bool -&gt; m () -&gt; m ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">when</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498233"><span class="hs-identifier hs-var">providedName</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Name -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498232"><span class="hs-identifier hs-var">upstreamName</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(m () -&gt; m ()) -&gt; m () -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-632"></span><span>    </span><span class="annot"><span class="annottext">[RoleBasedSchemaValidationError] -&gt; m ()
forall e (m :: * -&gt; *). MonadValidate e m =&gt; e -&gt; m ()
</span><span class="hs-identifier hs-var">dispute</span></span><span> </span><span class="annot"><span class="annottext">([RoleBasedSchemaValidationError] -&gt; m ())
-&gt; [RoleBasedSchemaValidationError] -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-633"></span><span>      </span><span class="annot"><span class="annottext">RoleBasedSchemaValidationError -&gt; [RoleBasedSchemaValidationError]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(RoleBasedSchemaValidationError
 -&gt; [RoleBasedSchemaValidationError])
-&gt; RoleBasedSchemaValidationError
-&gt; [RoleBasedSchemaValidationError]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-634"></span><span>        </span><span class="annot"><span class="annottext">Name -&gt; Name -&gt; GraphQLType -&gt; RoleBasedSchemaValidationError
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#UnexpectedNonMatchingNames"><span class="hs-identifier hs-var">UnexpectedNonMatchingNames</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498233"><span class="hs-identifier hs-var">providedName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498232"><span class="hs-identifier hs-var">upstreamName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ArgumentDefinitionType -&gt; GraphQLType
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#Argument"><span class="hs-identifier hs-var">Argument</span></a></span><span> </span><span class="annot"><span class="annottext">ArgumentDefinitionType
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#InputObjectArgument"><span class="hs-identifier hs-var">InputObjectArgument</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-635"></span><span>  </span><span id="local-6989586621689498231"><span class="annot"><span class="annottext">Maybe (Directive Void)
</span><a href="#local-6989586621689498231"><span class="hs-identifier hs-var">presetDirective</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-636"></span><span>    </span><span class="annot"><span class="annottext">[Directive Void]
-&gt; [Directive Void]
-&gt; TypeSystemDirectiveLocation
-&gt; (GraphQLType, Name)
-&gt; m (Maybe (Directive Void))
forall (m :: * -&gt; *) a.
MonadValidate [RoleBasedSchemaValidationError] m =&gt;
[Directive a]
-&gt; [Directive a]
-&gt; TypeSystemDirectiveLocation
-&gt; (GraphQLType, Name)
-&gt; m (Maybe (Directive a))
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#validateDirectives"><span class="hs-identifier hs-var">validateDirectives</span></a></span><span> </span><span class="annot"><span class="annottext">[Directive Void]
</span><a href="#local-6989586621689498230"><span class="hs-identifier hs-var">providedDirectives</span></a></span><span> </span><span class="annot"><span class="annottext">[Directive Void]
</span><a href="#local-6989586621689498229"><span class="hs-identifier hs-var">upstreamDirectives</span></a></span><span> </span><span class="annot"><span class="annottext">TypeSystemDirectiveLocation
</span><span class="hs-identifier hs-var">G.TSDLINPUT_FIELD_DEFINITION</span></span><span> </span><span class="annot"><span class="annottext">((GraphQLType, Name) -&gt; m (Maybe (Directive Void)))
-&gt; (GraphQLType, Name) -&gt; m (Maybe (Directive Void))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-637"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ArgumentDefinitionType -&gt; GraphQLType
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#Argument"><span class="hs-identifier hs-var">Argument</span></a></span><span> </span><span class="annot"><span class="annottext">ArgumentDefinitionType
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#InputObjectArgument"><span class="hs-identifier hs-var">InputObjectArgument</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498234"><span class="hs-identifier hs-var">inputObjectName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-638"></span><span>  </span><span class="annot"><span class="annottext">Bool -&gt; m () -&gt; m ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">when</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GType
</span><a href="#local-6989586621689498228"><span class="hs-identifier hs-var">providedType</span></a></span><span> </span><span class="annot"><span class="annottext">GType -&gt; GType -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="annottext">GType
</span><a href="#local-6989586621689498227"><span class="hs-identifier hs-var">upstreamType</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(m () -&gt; m ()) -&gt; m () -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-639"></span><span>    </span><span class="annot"><span class="annottext">[RoleBasedSchemaValidationError] -&gt; m ()
forall e (m :: * -&gt; *). MonadValidate e m =&gt; e -&gt; m ()
</span><span class="hs-identifier hs-var">dispute</span></span><span> </span><span class="annot"><span class="annottext">([RoleBasedSchemaValidationError] -&gt; m ())
-&gt; [RoleBasedSchemaValidationError] -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-640"></span><span>      </span><span class="annot"><span class="annottext">RoleBasedSchemaValidationError -&gt; [RoleBasedSchemaValidationError]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(RoleBasedSchemaValidationError
 -&gt; [RoleBasedSchemaValidationError])
-&gt; RoleBasedSchemaValidationError
-&gt; [RoleBasedSchemaValidationError]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-641"></span><span>        </span><span class="annot"><span class="annottext">Name
-&gt; GraphQLType -&gt; GType -&gt; GType -&gt; RoleBasedSchemaValidationError
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#NonMatchingType"><span class="hs-identifier hs-var">NonMatchingType</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498233"><span class="hs-identifier hs-var">providedName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ArgumentDefinitionType -&gt; GraphQLType
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#Argument"><span class="hs-identifier hs-var">Argument</span></a></span><span> </span><span class="annot"><span class="annottext">ArgumentDefinitionType
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#InputObjectArgument"><span class="hs-identifier hs-var">InputObjectArgument</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">GType
</span><a href="#local-6989586621689498227"><span class="hs-identifier hs-var">upstreamType</span></a></span><span> </span><span class="annot"><span class="annottext">GType
</span><a href="#local-6989586621689498228"><span class="hs-identifier hs-var">providedType</span></a></span><span>
</span><span id="line-642"></span><span>  </span><span class="annot"><span class="annottext">Bool -&gt; m () -&gt; m ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">when</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe (Value Void)
</span><a href="#local-6989586621689498226"><span class="hs-identifier hs-var">providedDefaultValue</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (Value Void) -&gt; Maybe (Value Void) -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="annottext">Maybe (Value Void)
</span><a href="#local-6989586621689498225"><span class="hs-identifier hs-var">upstreamDefaultValue</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(m () -&gt; m ()) -&gt; m () -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-643"></span><span>    </span><span class="annot"><span class="annottext">[RoleBasedSchemaValidationError] -&gt; m ()
forall e (m :: * -&gt; *). MonadValidate e m =&gt; e -&gt; m ()
</span><span class="hs-identifier hs-var">dispute</span></span><span> </span><span class="annot"><span class="annottext">([RoleBasedSchemaValidationError] -&gt; m ())
-&gt; [RoleBasedSchemaValidationError] -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-644"></span><span>      </span><span class="annot"><span class="annottext">RoleBasedSchemaValidationError -&gt; [RoleBasedSchemaValidationError]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(RoleBasedSchemaValidationError
 -&gt; [RoleBasedSchemaValidationError])
-&gt; RoleBasedSchemaValidationError
-&gt; [RoleBasedSchemaValidationError]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-645"></span><span>        </span><span class="annot"><span class="annottext">Name
-&gt; Name
-&gt; Maybe (Value Void)
-&gt; Maybe (Value Void)
-&gt; RoleBasedSchemaValidationError
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#NonMatchingDefaultValue"><span class="hs-identifier hs-var">NonMatchingDefaultValue</span></a></span><span>
</span><span id="line-646"></span><span>          </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498234"><span class="hs-identifier hs-var">inputObjectName</span></a></span><span>
</span><span id="line-647"></span><span>          </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498233"><span class="hs-identifier hs-var">providedName</span></a></span><span>
</span><span id="line-648"></span><span>          </span><span class="annot"><span class="annottext">Maybe (Value Void)
</span><a href="#local-6989586621689498225"><span class="hs-identifier hs-var">upstreamDefaultValue</span></a></span><span>
</span><span id="line-649"></span><span>          </span><span class="annot"><span class="annottext">Maybe (Value Void)
</span><a href="#local-6989586621689498226"><span class="hs-identifier hs-var">providedDefaultValue</span></a></span><span>
</span><span id="line-650"></span><span>  </span><span id="local-6989586621689498224"><span class="annot"><span class="annottext">Maybe (Value RemoteSchemaVariable)
</span><a href="#local-6989586621689498224"><span class="hs-identifier hs-var">presetArguments</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Maybe (Directive Void)
-&gt; (Directive Void -&gt; m (Value RemoteSchemaVariable))
-&gt; m (Maybe (Value RemoteSchemaVariable))
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
t a -&gt; (a -&gt; f b) -&gt; f (t b)
</span><span class="hs-identifier hs-var">for</span></span><span> </span><span class="annot"><span class="annottext">Maybe (Directive Void)
</span><a href="#local-6989586621689498231"><span class="hs-identifier hs-var">presetDirective</span></a></span><span> </span><span class="annot"><span class="annottext">((Directive Void -&gt; m (Value RemoteSchemaVariable))
 -&gt; m (Maybe (Value RemoteSchemaVariable)))
-&gt; (Directive Void -&gt; m (Value RemoteSchemaVariable))
-&gt; m (Maybe (Value RemoteSchemaVariable))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">GType -&gt; Name -&gt; Directive Void -&gt; m (Value RemoteSchemaVariable)
forall (m :: * -&gt; *).
(MonadValidate [RoleBasedSchemaValidationError] m,
 MonadReader SchemaDocument m) =&gt;
GType -&gt; Name -&gt; Directive Void -&gt; m (Value RemoteSchemaVariable)
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#parsePresetDirective"><span class="hs-identifier hs-var">parsePresetDirective</span></a></span><span> </span><span class="annot"><span class="annottext">GType
</span><a href="#local-6989586621689498228"><span class="hs-identifier hs-var">providedType</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498233"><span class="hs-identifier hs-var">providedName</span></a></span><span>
</span><span id="line-651"></span><span>  </span><span class="annot"><span class="annottext">RemoteSchemaInputValueDefinition
-&gt; m RemoteSchemaInputValueDefinition
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(RemoteSchemaInputValueDefinition
 -&gt; m RemoteSchemaInputValueDefinition)
-&gt; RemoteSchemaInputValueDefinition
-&gt; m RemoteSchemaInputValueDefinition
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">InputValueDefinition
-&gt; Maybe (Value RemoteSchemaVariable)
-&gt; RemoteSchemaInputValueDefinition
</span><a href="Hasura.RQL.Types.RemoteSchema.html#RemoteSchemaInputValueDefinition"><span class="hs-identifier hs-var">RemoteSchemaInputValueDefinition</span></a></span><span> </span><span class="annot"><span class="annottext">InputValueDefinition
</span><a href="#local-6989586621689498236"><span class="hs-identifier hs-var">providedDefn</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (Value RemoteSchemaVariable)
</span><a href="#local-6989586621689498224"><span class="hs-identifier hs-var">presetArguments</span></a></span><span>
</span><span id="line-652"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-653"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">G.InputValueDefinition</span></span><span> </span><span class="annot"><span class="annottext">Maybe Description
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621689498233"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498233"><span class="hs-identifier hs-var">providedName</span></a></span></span><span> </span><span id="local-6989586621689498228"><span class="annot"><span class="annottext">GType
</span><a href="#local-6989586621689498228"><span class="hs-identifier hs-var">providedType</span></a></span></span><span> </span><span id="local-6989586621689498226"><span class="annot"><span class="annottext">Maybe (Value Void)
</span><a href="#local-6989586621689498226"><span class="hs-identifier hs-var">providedDefaultValue</span></a></span></span><span> </span><span id="local-6989586621689498230"><span class="annot"><span class="annottext">[Directive Void]
</span><a href="#local-6989586621689498230"><span class="hs-identifier hs-var">providedDirectives</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">InputValueDefinition
</span><a href="#local-6989586621689498236"><span class="hs-identifier hs-var">providedDefn</span></a></span><span>
</span><span id="line-654"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">G.InputValueDefinition</span></span><span> </span><span class="annot"><span class="annottext">Maybe Description
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621689498232"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498232"><span class="hs-identifier hs-var">upstreamName</span></a></span></span><span> </span><span id="local-6989586621689498227"><span class="annot"><span class="annottext">GType
</span><a href="#local-6989586621689498227"><span class="hs-identifier hs-var">upstreamType</span></a></span></span><span> </span><span id="local-6989586621689498225"><span class="annot"><span class="annottext">Maybe (Value Void)
</span><a href="#local-6989586621689498225"><span class="hs-identifier hs-var">upstreamDefaultValue</span></a></span></span><span> </span><span id="local-6989586621689498229"><span class="annot"><span class="annottext">[Directive Void]
</span><a href="#local-6989586621689498229"><span class="hs-identifier hs-var">upstreamDirectives</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">InputValueDefinition
</span><a href="#local-6989586621689498235"><span class="hs-identifier hs-var">upstreamDefn</span></a></span><span>
</span><span id="line-655"></span><span>
</span><span id="line-656"></span><span class="hs-comment">-- | `validateArguments` validates the provided arguments against the corresponding</span><span>
</span><span id="line-657"></span><span class="hs-comment">--    upstream remote schema arguments.</span><span>
</span><span id="line-658"></span><span id="local-6989586621689498660"><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#validateArguments"><span class="hs-identifier hs-type">validateArguments</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-659"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadValidate</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#RoleBasedSchemaValidationError"><span class="hs-identifier hs-type">RoleBasedSchemaValidationError</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621689498660"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-660"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">MonadReader</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.SchemaDocument</span></span><span> </span><span class="annot"><a href="#local-6989586621689498660"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-661"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-662"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">G.ArgumentsDefinition</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.InputValueDefinition</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-663"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">G.ArgumentsDefinition</span></span><span> </span><span class="annot"><a href="Hasura.RQL.Types.RemoteSchema.html#RemoteSchemaInputValueDefinition"><span class="hs-identifier hs-type">RemoteSchemaInputValueDefinition</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-664"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">G.Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-665"></span><span>  </span><span class="annot"><a href="#local-6989586621689498660"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Hasura.RQL.Types.RemoteSchema.html#RemoteSchemaInputValueDefinition"><span class="hs-identifier hs-type">RemoteSchemaInputValueDefinition</span></a></span><span class="hs-special">]</span></span><span>
</span><span id="line-666"></span><span id="validateArguments"><span class="annot"><span class="annottext">validateArguments :: [InputValueDefinition]
-&gt; ArgumentsDefinition RemoteSchemaInputValueDefinition
-&gt; Name
-&gt; m (ArgumentsDefinition RemoteSchemaInputValueDefinition)
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#validateArguments"><span class="hs-identifier hs-var hs-var">validateArguments</span></a></span></span><span> </span><span id="local-6989586621689498219"><span class="annot"><span class="annottext">[InputValueDefinition]
</span><a href="#local-6989586621689498219"><span class="hs-identifier hs-var">providedArgs</span></a></span></span><span> </span><span id="local-6989586621689498218"><span class="annot"><span class="annottext">ArgumentsDefinition RemoteSchemaInputValueDefinition
</span><a href="#local-6989586621689498218"><span class="hs-identifier hs-var">upstreamArgs</span></a></span></span><span> </span><span id="local-6989586621689498217"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498217"><span class="hs-identifier hs-var">parentTypeName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-667"></span><span>  </span><span class="annot"><span class="annottext">Maybe (NonEmpty Name) -&gt; (NonEmpty Name -&gt; m ()) -&gt; m ()
forall (m :: * -&gt; *) a.
Applicative m =&gt;
Maybe a -&gt; (a -&gt; m ()) -&gt; m ()
</span><a href="Hasura.Prelude.html#onJust"><span class="hs-identifier hs-var">onJust</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Name] -&gt; Maybe (NonEmpty Name)
forall a. [a] -&gt; Maybe (NonEmpty a)
</span><span class="hs-identifier hs-var">NE.nonEmpty</span></span><span> </span><span class="annot"><span class="annottext">([Name] -&gt; Maybe (NonEmpty Name))
-&gt; [Name] -&gt; Maybe (NonEmpty Name)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HashSet Name -&gt; [Name]
forall a. HashSet a -&gt; [a]
</span><span class="hs-identifier hs-var">S.toList</span></span><span> </span><span class="annot"><span class="annottext">(HashSet Name -&gt; [Name]) -&gt; HashSet Name -&gt; [Name]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Name] -&gt; HashSet Name
forall a. (Eq a, Hashable a) =&gt; [a] -&gt; HashSet a
</span><a href="Data.List.Extended.html#duplicates"><span class="hs-identifier hs-var">duplicates</span></a></span><span> </span><span class="annot"><span class="annottext">([Name] -&gt; HashSet Name) -&gt; [Name] -&gt; HashSet Name
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(InputValueDefinition -&gt; Name) -&gt; [InputValueDefinition] -&gt; [Name]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">InputValueDefinition -&gt; Name
</span><span class="hs-identifier hs-var hs-var">G._ivdName</span></span><span> </span><span class="annot"><span class="annottext">[InputValueDefinition]
</span><a href="#local-6989586621689498219"><span class="hs-identifier hs-var">providedArgs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((NonEmpty Name -&gt; m ()) -&gt; m ())
-&gt; (NonEmpty Name -&gt; m ()) -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621689498216"><span class="annot"><span class="annottext">NonEmpty Name
</span><a href="#local-6989586621689498216"><span class="hs-identifier hs-var">dups</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-668"></span><span>    </span><span class="annot"><span class="annottext">[RoleBasedSchemaValidationError] -&gt; m ()
forall e (m :: * -&gt; *) a. MonadValidate e m =&gt; e -&gt; m a
</span><span class="hs-identifier hs-var">refute</span></span><span> </span><span class="annot"><span class="annottext">([RoleBasedSchemaValidationError] -&gt; m ())
-&gt; [RoleBasedSchemaValidationError] -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">RoleBasedSchemaValidationError -&gt; [RoleBasedSchemaValidationError]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(RoleBasedSchemaValidationError
 -&gt; [RoleBasedSchemaValidationError])
-&gt; RoleBasedSchemaValidationError
-&gt; [RoleBasedSchemaValidationError]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; NonEmpty Name -&gt; RoleBasedSchemaValidationError
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#DuplicateArguments"><span class="hs-identifier hs-var">DuplicateArguments</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498217"><span class="hs-identifier hs-var">parentTypeName</span></a></span><span> </span><span class="annot"><span class="annottext">NonEmpty Name
</span><a href="#local-6989586621689498216"><span class="hs-identifier hs-var">dups</span></a></span><span>
</span><span id="line-669"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621689498215"><span class="annot"><span class="annottext">argsDiff :: HashSet Name
</span><a href="#local-6989586621689498215"><span class="hs-identifier hs-var hs-var">argsDiff</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Name] -&gt; [Name] -&gt; HashSet Name
forall a. (Eq a, Hashable a) =&gt; [a] -&gt; [a] -&gt; HashSet a
</span><a href="Data.List.Extended.html#getDifference"><span class="hs-identifier hs-var">getDifference</span></a></span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621689498214"><span class="hs-identifier hs-var">nonNullableUpstreamArgs</span></a></span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621689498213"><span class="hs-identifier hs-var">nonNullableProvidedArgs</span></a></span><span>
</span><span id="line-670"></span><span>  </span><span class="annot"><span class="annottext">Maybe (NonEmpty Name) -&gt; (NonEmpty Name -&gt; m ()) -&gt; m ()
forall (m :: * -&gt; *) a.
Applicative m =&gt;
Maybe a -&gt; (a -&gt; m ()) -&gt; m ()
</span><a href="Hasura.Prelude.html#onJust"><span class="hs-identifier hs-var">onJust</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Name] -&gt; Maybe (NonEmpty Name)
forall a. [a] -&gt; Maybe (NonEmpty a)
</span><span class="hs-identifier hs-var">NE.nonEmpty</span></span><span> </span><span class="annot"><span class="annottext">([Name] -&gt; Maybe (NonEmpty Name))
-&gt; [Name] -&gt; Maybe (NonEmpty Name)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HashSet Name -&gt; [Name]
forall a. HashSet a -&gt; [a]
</span><span class="hs-identifier hs-var">S.toList</span></span><span> </span><span class="annot"><span class="annottext">HashSet Name
</span><a href="#local-6989586621689498215"><span class="hs-identifier hs-var">argsDiff</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((NonEmpty Name -&gt; m ()) -&gt; m ())
-&gt; (NonEmpty Name -&gt; m ()) -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621689498212"><span class="annot"><span class="annottext">NonEmpty Name
</span><a href="#local-6989586621689498212"><span class="hs-identifier hs-var">nonNullableArgs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-671"></span><span>    </span><span class="annot"><span class="annottext">[RoleBasedSchemaValidationError] -&gt; m ()
forall e (m :: * -&gt; *) a. MonadValidate e m =&gt; e -&gt; m a
</span><span class="hs-identifier hs-var">refute</span></span><span> </span><span class="annot"><span class="annottext">([RoleBasedSchemaValidationError] -&gt; m ())
-&gt; [RoleBasedSchemaValidationError] -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">RoleBasedSchemaValidationError -&gt; [RoleBasedSchemaValidationError]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(RoleBasedSchemaValidationError
 -&gt; [RoleBasedSchemaValidationError])
-&gt; RoleBasedSchemaValidationError
-&gt; [RoleBasedSchemaValidationError]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; NonEmpty Name -&gt; RoleBasedSchemaValidationError
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#MissingNonNullableArguments"><span class="hs-identifier hs-var">MissingNonNullableArguments</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498217"><span class="hs-identifier hs-var">parentTypeName</span></a></span><span> </span><span class="annot"><span class="annottext">NonEmpty Name
</span><a href="#local-6989586621689498212"><span class="hs-identifier hs-var">nonNullableArgs</span></a></span><span>
</span><span id="line-672"></span><span>  </span><span class="annot"><span class="annottext">[InputValueDefinition]
-&gt; (InputValueDefinition -&gt; m RemoteSchemaInputValueDefinition)
-&gt; m (ArgumentsDefinition RemoteSchemaInputValueDefinition)
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
t a -&gt; (a -&gt; f b) -&gt; f (t b)
</span><span class="hs-identifier hs-var">for</span></span><span> </span><span class="annot"><span class="annottext">[InputValueDefinition]
</span><a href="#local-6989586621689498219"><span class="hs-identifier hs-var">providedArgs</span></a></span><span> </span><span class="annot"><span class="annottext">((InputValueDefinition -&gt; m RemoteSchemaInputValueDefinition)
 -&gt; m (ArgumentsDefinition RemoteSchemaInputValueDefinition))
-&gt; (InputValueDefinition -&gt; m RemoteSchemaInputValueDefinition)
-&gt; m (ArgumentsDefinition RemoteSchemaInputValueDefinition)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621689498211"><span class="annot"><span class="annottext">providedArg :: InputValueDefinition
</span><a href="#local-6989586621689498211"><span class="hs-identifier hs-var">providedArg</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">G.InputValueDefinition</span></span><span> </span><span class="annot"><span class="annottext">Maybe Description
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621689498210"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498210"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="annot"><span class="annottext">GType
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Maybe (Value Void)
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[Directive Void]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-673"></span><span>    </span><span id="local-6989586621689498209"><span class="annot"><span class="annottext">InputValueDefinition
</span><a href="#local-6989586621689498209"><span class="hs-identifier hs-var">upstreamArg</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-674"></span><span>      </span><span class="annot"><span class="annottext">Maybe InputValueDefinition
-&gt; m InputValueDefinition -&gt; m InputValueDefinition
forall (m :: * -&gt; *) a. Applicative m =&gt; Maybe a -&gt; m a -&gt; m a
</span><a href="Hasura.Prelude.html#onNothing"><span class="hs-identifier hs-var">onNothing</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name
-&gt; HashMap Name InputValueDefinition -&gt; Maybe InputValueDefinition
forall k v. (Eq k, Hashable k) =&gt; k -&gt; HashMap k v -&gt; Maybe v
</span><span class="hs-identifier hs-var">Map.lookup</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498210"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap Name InputValueDefinition
</span><a href="#local-6989586621689498208"><span class="hs-identifier hs-var">upstreamArgsMap</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(m InputValueDefinition -&gt; m InputValueDefinition)
-&gt; m InputValueDefinition -&gt; m InputValueDefinition
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-675"></span><span>        </span><span class="annot"><span class="annottext">[RoleBasedSchemaValidationError] -&gt; m InputValueDefinition
forall e (m :: * -&gt; *) a. MonadValidate e m =&gt; e -&gt; m a
</span><span class="hs-identifier hs-var">refute</span></span><span> </span><span class="annot"><span class="annottext">([RoleBasedSchemaValidationError] -&gt; m InputValueDefinition)
-&gt; [RoleBasedSchemaValidationError] -&gt; m InputValueDefinition
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">RoleBasedSchemaValidationError -&gt; [RoleBasedSchemaValidationError]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(RoleBasedSchemaValidationError
 -&gt; [RoleBasedSchemaValidationError])
-&gt; RoleBasedSchemaValidationError
-&gt; [RoleBasedSchemaValidationError]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Name -&gt; RoleBasedSchemaValidationError
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#NonExistingInputArgument"><span class="hs-identifier hs-var">NonExistingInputArgument</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498217"><span class="hs-identifier hs-var">parentTypeName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498210"><span class="hs-identifier hs-var">name</span></a></span><span>
</span><span id="line-676"></span><span>    </span><span class="annot"><span class="annottext">InputValueDefinition
-&gt; InputValueDefinition
-&gt; Name
-&gt; m RemoteSchemaInputValueDefinition
forall (m :: * -&gt; *).
(MonadValidate [RoleBasedSchemaValidationError] m,
 MonadReader SchemaDocument m) =&gt;
InputValueDefinition
-&gt; InputValueDefinition
-&gt; Name
-&gt; m RemoteSchemaInputValueDefinition
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#validateInputValueDefinition"><span class="hs-identifier hs-var">validateInputValueDefinition</span></a></span><span> </span><span class="annot"><span class="annottext">InputValueDefinition
</span><a href="#local-6989586621689498211"><span class="hs-identifier hs-var">providedArg</span></a></span><span> </span><span class="annot"><span class="annottext">InputValueDefinition
</span><a href="#local-6989586621689498209"><span class="hs-identifier hs-var">upstreamArg</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498217"><span class="hs-identifier hs-var">parentTypeName</span></a></span><span>
</span><span id="line-677"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-678"></span><span>    </span><span id="local-6989586621689498208"><span class="annot"><span class="annottext">upstreamArgsMap :: HashMap Name InputValueDefinition
</span><a href="#local-6989586621689498208"><span class="hs-identifier hs-var hs-var">upstreamArgsMap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(InputValueDefinition -&gt; Name)
-&gt; [InputValueDefinition] -&gt; HashMap Name InputValueDefinition
forall k a. (Eq k, Hashable k) =&gt; (a -&gt; k) -&gt; [a] -&gt; HashMap k a
</span><a href="Hasura.Prelude.html#mapFromL"><span class="hs-identifier hs-var">mapFromL</span></a></span><span> </span><span class="annot"><span class="annottext">InputValueDefinition -&gt; Name
</span><span class="hs-identifier hs-var hs-var">G._ivdName</span></span><span> </span><span class="annot"><span class="annottext">([InputValueDefinition] -&gt; HashMap Name InputValueDefinition)
-&gt; [InputValueDefinition] -&gt; HashMap Name InputValueDefinition
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(RemoteSchemaInputValueDefinition -&gt; InputValueDefinition)
-&gt; ArgumentsDefinition RemoteSchemaInputValueDefinition
-&gt; [InputValueDefinition]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">RemoteSchemaInputValueDefinition -&gt; InputValueDefinition
</span><a href="Hasura.RQL.Types.RemoteSchema.html#_rsitdDefinition"><span class="hs-identifier hs-var hs-var">_rsitdDefinition</span></a></span><span> </span><span class="annot"><span class="annottext">ArgumentsDefinition RemoteSchemaInputValueDefinition
</span><a href="#local-6989586621689498218"><span class="hs-identifier hs-var">upstreamArgs</span></a></span><span>
</span><span id="line-679"></span><span>
</span><span id="line-680"></span><span>    </span><span id="local-6989586621689498214"><span class="annot"><span class="annottext">nonNullableUpstreamArgs :: [Name]
</span><a href="#local-6989586621689498214"><span class="hs-identifier hs-var hs-var">nonNullableUpstreamArgs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(InputValueDefinition -&gt; Name) -&gt; [InputValueDefinition] -&gt; [Name]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">InputValueDefinition -&gt; Name
</span><span class="hs-identifier hs-var hs-var">G._ivdName</span></span><span> </span><span class="annot"><span class="annottext">([InputValueDefinition] -&gt; [Name])
-&gt; [InputValueDefinition] -&gt; [Name]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(InputValueDefinition -&gt; Bool)
-&gt; [InputValueDefinition] -&gt; [InputValueDefinition]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">filter</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Bool)
-&gt; (InputValueDefinition -&gt; Bool) -&gt; InputValueDefinition -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">GType -&gt; Bool
</span><span class="hs-identifier hs-var">G.isNullable</span></span><span> </span><span class="annot"><span class="annottext">(GType -&gt; Bool)
-&gt; (InputValueDefinition -&gt; GType) -&gt; InputValueDefinition -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">InputValueDefinition -&gt; GType
</span><span class="hs-identifier hs-var hs-var">G._ivdType</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([InputValueDefinition] -&gt; [InputValueDefinition])
-&gt; [InputValueDefinition] -&gt; [InputValueDefinition]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(RemoteSchemaInputValueDefinition -&gt; InputValueDefinition)
-&gt; ArgumentsDefinition RemoteSchemaInputValueDefinition
-&gt; [InputValueDefinition]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">RemoteSchemaInputValueDefinition -&gt; InputValueDefinition
</span><a href="Hasura.RQL.Types.RemoteSchema.html#_rsitdDefinition"><span class="hs-identifier hs-var hs-var">_rsitdDefinition</span></a></span><span> </span><span class="annot"><span class="annottext">ArgumentsDefinition RemoteSchemaInputValueDefinition
</span><a href="#local-6989586621689498218"><span class="hs-identifier hs-var">upstreamArgs</span></a></span><span>
</span><span id="line-681"></span><span>
</span><span id="line-682"></span><span>    </span><span id="local-6989586621689498213"><span class="annot"><span class="annottext">nonNullableProvidedArgs :: [Name]
</span><a href="#local-6989586621689498213"><span class="hs-identifier hs-var hs-var">nonNullableProvidedArgs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(InputValueDefinition -&gt; Name) -&gt; [InputValueDefinition] -&gt; [Name]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">InputValueDefinition -&gt; Name
</span><span class="hs-identifier hs-var hs-var">G._ivdName</span></span><span> </span><span class="annot"><span class="annottext">([InputValueDefinition] -&gt; [Name])
-&gt; [InputValueDefinition] -&gt; [Name]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(InputValueDefinition -&gt; Bool)
-&gt; [InputValueDefinition] -&gt; [InputValueDefinition]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">filter</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Bool)
-&gt; (InputValueDefinition -&gt; Bool) -&gt; InputValueDefinition -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">GType -&gt; Bool
</span><span class="hs-identifier hs-var">G.isNullable</span></span><span> </span><span class="annot"><span class="annottext">(GType -&gt; Bool)
-&gt; (InputValueDefinition -&gt; GType) -&gt; InputValueDefinition -&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">InputValueDefinition -&gt; GType
</span><span class="hs-identifier hs-var hs-var">G._ivdType</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[InputValueDefinition]
</span><a href="#local-6989586621689498219"><span class="hs-identifier hs-var">providedArgs</span></a></span><span>
</span><span id="line-683"></span><span>
</span><span id="line-684"></span><span id="local-6989586621689498608"><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#validateInputObjectTypeDefinition"><span class="hs-identifier hs-type">validateInputObjectTypeDefinition</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-685"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadValidate</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#RoleBasedSchemaValidationError"><span class="hs-identifier hs-type">RoleBasedSchemaValidationError</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621689498608"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-686"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">MonadReader</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.SchemaDocument</span></span><span> </span><span class="annot"><a href="#local-6989586621689498608"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-687"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-688"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">G.InputObjectTypeDefinition</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.InputValueDefinition</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-689"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">G.InputObjectTypeDefinition</span></span><span> </span><span class="annot"><a href="Hasura.RQL.Types.RemoteSchema.html#RemoteSchemaInputValueDefinition"><span class="hs-identifier hs-type">RemoteSchemaInputValueDefinition</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-690"></span><span>  </span><span class="annot"><a href="#local-6989586621689498608"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">G.InputObjectTypeDefinition</span></span><span> </span><span class="annot"><a href="Hasura.RQL.Types.RemoteSchema.html#RemoteSchemaInputValueDefinition"><span class="hs-identifier hs-type">RemoteSchemaInputValueDefinition</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-691"></span><span id="validateInputObjectTypeDefinition"><span class="annot"><span class="annottext">validateInputObjectTypeDefinition :: InputObjectTypeDefinition InputValueDefinition
-&gt; InputObjectTypeDefinition RemoteSchemaInputValueDefinition
-&gt; m (InputObjectTypeDefinition RemoteSchemaInputValueDefinition)
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#validateInputObjectTypeDefinition"><span class="hs-identifier hs-var hs-var">validateInputObjectTypeDefinition</span></a></span></span><span> </span><span id="local-6989586621689498204"><span class="annot"><span class="annottext">InputObjectTypeDefinition InputValueDefinition
</span><a href="#local-6989586621689498204"><span class="hs-identifier hs-var">providedInputObj</span></a></span></span><span> </span><span id="local-6989586621689498203"><span class="annot"><span class="annottext">InputObjectTypeDefinition RemoteSchemaInputValueDefinition
</span><a href="#local-6989586621689498203"><span class="hs-identifier hs-var">upstreamInputObj</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-692"></span><span>  </span><span class="annot"><span class="annottext">Bool -&gt; m () -&gt; m ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">when</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498202"><span class="hs-identifier hs-var">providedName</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Name -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498201"><span class="hs-identifier hs-var">upstreamName</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(m () -&gt; m ()) -&gt; m () -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-693"></span><span>    </span><span class="annot"><span class="annottext">[RoleBasedSchemaValidationError] -&gt; m ()
forall e (m :: * -&gt; *). MonadValidate e m =&gt; e -&gt; m ()
</span><span class="hs-identifier hs-var">dispute</span></span><span> </span><span class="annot"><span class="annottext">([RoleBasedSchemaValidationError] -&gt; m ())
-&gt; [RoleBasedSchemaValidationError] -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-694"></span><span>      </span><span class="annot"><span class="annottext">RoleBasedSchemaValidationError -&gt; [RoleBasedSchemaValidationError]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(RoleBasedSchemaValidationError
 -&gt; [RoleBasedSchemaValidationError])
-&gt; RoleBasedSchemaValidationError
-&gt; [RoleBasedSchemaValidationError]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-695"></span><span>        </span><span class="annot"><span class="annottext">Name -&gt; Name -&gt; GraphQLType -&gt; RoleBasedSchemaValidationError
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#UnexpectedNonMatchingNames"><span class="hs-identifier hs-var">UnexpectedNonMatchingNames</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498202"><span class="hs-identifier hs-var">providedName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498201"><span class="hs-identifier hs-var">upstreamName</span></a></span><span> </span><span class="annot"><span class="annottext">GraphQLType
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#InputObject"><span class="hs-identifier hs-var">InputObject</span></a></span><span>
</span><span id="line-696"></span><span>  </span><span class="annot"><span class="annottext">m (Maybe (Directive Void)) -&gt; m ()
forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span><span class="hs-identifier hs-var">void</span></span><span> </span><span class="annot"><span class="annottext">(m (Maybe (Directive Void)) -&gt; m ())
-&gt; m (Maybe (Directive Void)) -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Directive Void]
-&gt; [Directive Void]
-&gt; TypeSystemDirectiveLocation
-&gt; (GraphQLType, Name)
-&gt; m (Maybe (Directive Void))
forall (m :: * -&gt; *) a.
MonadValidate [RoleBasedSchemaValidationError] m =&gt;
[Directive a]
-&gt; [Directive a]
-&gt; TypeSystemDirectiveLocation
-&gt; (GraphQLType, Name)
-&gt; m (Maybe (Directive a))
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#validateDirectives"><span class="hs-identifier hs-var">validateDirectives</span></a></span><span> </span><span class="annot"><span class="annottext">[Directive Void]
</span><a href="#local-6989586621689498200"><span class="hs-identifier hs-var">providedDirectives</span></a></span><span> </span><span class="annot"><span class="annottext">[Directive Void]
</span><a href="#local-6989586621689498199"><span class="hs-identifier hs-var">upstreamDirectives</span></a></span><span> </span><span class="annot"><span class="annottext">TypeSystemDirectiveLocation
</span><span class="hs-identifier hs-var">G.TSDLINPUT_OBJECT</span></span><span> </span><span class="annot"><span class="annottext">((GraphQLType, Name) -&gt; m (Maybe (Directive Void)))
-&gt; (GraphQLType, Name) -&gt; m (Maybe (Directive Void))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GraphQLType
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#InputObject"><span class="hs-identifier hs-var">InputObject</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498202"><span class="hs-identifier hs-var">providedName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-697"></span><span>  </span><span id="local-6989586621689498197"><span class="annot"><span class="annottext">ArgumentsDefinition RemoteSchemaInputValueDefinition
</span><a href="#local-6989586621689498197"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[InputValueDefinition]
-&gt; ArgumentsDefinition RemoteSchemaInputValueDefinition
-&gt; Name
-&gt; m (ArgumentsDefinition RemoteSchemaInputValueDefinition)
forall (m :: * -&gt; *).
(MonadValidate [RoleBasedSchemaValidationError] m,
 MonadReader SchemaDocument m) =&gt;
[InputValueDefinition]
-&gt; ArgumentsDefinition RemoteSchemaInputValueDefinition
-&gt; Name
-&gt; m (ArgumentsDefinition RemoteSchemaInputValueDefinition)
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#validateArguments"><span class="hs-identifier hs-var">validateArguments</span></a></span><span> </span><span class="annot"><span class="annottext">[InputValueDefinition]
</span><a href="#local-6989586621689498196"><span class="hs-identifier hs-var">providedArgs</span></a></span><span> </span><span class="annot"><span class="annottext">ArgumentsDefinition RemoteSchemaInputValueDefinition
</span><a href="#local-6989586621689498195"><span class="hs-identifier hs-var">upstreamArgs</span></a></span><span> </span><span class="annot"><span class="annottext">(Name -&gt; m (ArgumentsDefinition RemoteSchemaInputValueDefinition))
-&gt; Name -&gt; m (ArgumentsDefinition RemoteSchemaInputValueDefinition)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498202"><span class="hs-identifier hs-var">providedName</span></a></span><span>
</span><span id="line-698"></span><span>  </span><span class="annot"><span class="annottext">InputObjectTypeDefinition RemoteSchemaInputValueDefinition
-&gt; m (InputObjectTypeDefinition RemoteSchemaInputValueDefinition)
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(InputObjectTypeDefinition RemoteSchemaInputValueDefinition
 -&gt; m (InputObjectTypeDefinition RemoteSchemaInputValueDefinition))
-&gt; InputObjectTypeDefinition RemoteSchemaInputValueDefinition
-&gt; m (InputObjectTypeDefinition RemoteSchemaInputValueDefinition)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">InputObjectTypeDefinition InputValueDefinition
</span><a href="#local-6989586621689498204"><span class="hs-identifier hs-var">providedInputObj</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><span class="annottext">_iotdValueDefinitions :: ArgumentsDefinition RemoteSchemaInputValueDefinition
</span><span class="hs-identifier hs-var">G._iotdValueDefinitions</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ArgumentsDefinition RemoteSchemaInputValueDefinition
</span><a href="#local-6989586621689498197"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-699"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-700"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">G.InputObjectTypeDefinition</span></span><span> </span><span class="annot"><span class="annottext">Maybe Description
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621689498202"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498202"><span class="hs-identifier hs-var">providedName</span></a></span></span><span> </span><span id="local-6989586621689498200"><span class="annot"><span class="annottext">[Directive Void]
</span><a href="#local-6989586621689498200"><span class="hs-identifier hs-var">providedDirectives</span></a></span></span><span> </span><span id="local-6989586621689498196"><span class="annot"><span class="annottext">[InputValueDefinition]
</span><a href="#local-6989586621689498196"><span class="hs-identifier hs-var">providedArgs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">InputObjectTypeDefinition InputValueDefinition
</span><a href="#local-6989586621689498204"><span class="hs-identifier hs-var">providedInputObj</span></a></span><span>
</span><span id="line-701"></span><span>
</span><span id="line-702"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">G.InputObjectTypeDefinition</span></span><span> </span><span class="annot"><span class="annottext">Maybe Description
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621689498201"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498201"><span class="hs-identifier hs-var">upstreamName</span></a></span></span><span> </span><span id="local-6989586621689498199"><span class="annot"><span class="annottext">[Directive Void]
</span><a href="#local-6989586621689498199"><span class="hs-identifier hs-var">upstreamDirectives</span></a></span></span><span> </span><span id="local-6989586621689498195"><span class="annot"><span class="annottext">ArgumentsDefinition RemoteSchemaInputValueDefinition
</span><a href="#local-6989586621689498195"><span class="hs-identifier hs-var">upstreamArgs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">InputObjectTypeDefinition RemoteSchemaInputValueDefinition
</span><a href="#local-6989586621689498203"><span class="hs-identifier hs-var">upstreamInputObj</span></a></span><span>
</span><span id="line-703"></span><span>
</span><span id="line-704"></span><span id="local-6989586621689498655"><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#validateFieldDefinition"><span class="hs-identifier hs-type">validateFieldDefinition</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-705"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadValidate</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#RoleBasedSchemaValidationError"><span class="hs-identifier hs-type">RoleBasedSchemaValidationError</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621689498655"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-706"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">MonadReader</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.SchemaDocument</span></span><span> </span><span class="annot"><a href="#local-6989586621689498655"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-707"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-708"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">G.FieldDefinition</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.InputValueDefinition</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-709"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">G.FieldDefinition</span></span><span> </span><span class="annot"><a href="Hasura.RQL.Types.RemoteSchema.html#RemoteSchemaInputValueDefinition"><span class="hs-identifier hs-type">RemoteSchemaInputValueDefinition</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-710"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#FieldDefinitionType"><span class="hs-identifier hs-type">FieldDefinitionType</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.Name</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-711"></span><span>  </span><span class="annot"><a href="#local-6989586621689498655"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">G.FieldDefinition</span></span><span> </span><span class="annot"><a href="Hasura.RQL.Types.RemoteSchema.html#RemoteSchemaInputValueDefinition"><span class="hs-identifier hs-type">RemoteSchemaInputValueDefinition</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-712"></span><span id="validateFieldDefinition"><span class="annot"><span class="annottext">validateFieldDefinition :: FieldDefinition InputValueDefinition
-&gt; FieldDefinition RemoteSchemaInputValueDefinition
-&gt; (FieldDefinitionType, Name)
-&gt; m (FieldDefinition RemoteSchemaInputValueDefinition)
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#validateFieldDefinition"><span class="hs-identifier hs-var hs-var">validateFieldDefinition</span></a></span></span><span> </span><span id="local-6989586621689498192"><span class="annot"><span class="annottext">FieldDefinition InputValueDefinition
</span><a href="#local-6989586621689498192"><span class="hs-identifier hs-var">providedFieldDefinition</span></a></span></span><span> </span><span id="local-6989586621689498191"><span class="annot"><span class="annottext">FieldDefinition RemoteSchemaInputValueDefinition
</span><a href="#local-6989586621689498191"><span class="hs-identifier hs-var">upstreamFieldDefinition</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621689498190"><span class="annot"><span class="annottext">FieldDefinitionType
</span><a href="#local-6989586621689498190"><span class="hs-identifier hs-var">parentType</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621689498189"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498189"><span class="hs-identifier hs-var">parentTypeName</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-713"></span><span>  </span><span class="annot"><span class="annottext">Bool -&gt; m () -&gt; m ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">when</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498188"><span class="hs-identifier hs-var">providedName</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Name -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498187"><span class="hs-identifier hs-var">upstreamName</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(m () -&gt; m ()) -&gt; m () -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-714"></span><span>    </span><span class="annot"><span class="annottext">[RoleBasedSchemaValidationError] -&gt; m ()
forall e (m :: * -&gt; *). MonadValidate e m =&gt; e -&gt; m ()
</span><span class="hs-identifier hs-var">dispute</span></span><span> </span><span class="annot"><span class="annottext">([RoleBasedSchemaValidationError] -&gt; m ())
-&gt; [RoleBasedSchemaValidationError] -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-715"></span><span>      </span><span class="annot"><span class="annottext">RoleBasedSchemaValidationError -&gt; [RoleBasedSchemaValidationError]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(RoleBasedSchemaValidationError
 -&gt; [RoleBasedSchemaValidationError])
-&gt; RoleBasedSchemaValidationError
-&gt; [RoleBasedSchemaValidationError]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-716"></span><span>        </span><span class="annot"><span class="annottext">Name -&gt; Name -&gt; GraphQLType -&gt; RoleBasedSchemaValidationError
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#UnexpectedNonMatchingNames"><span class="hs-identifier hs-var">UnexpectedNonMatchingNames</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498188"><span class="hs-identifier hs-var">providedName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498187"><span class="hs-identifier hs-var">upstreamName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FieldDefinitionType -&gt; GraphQLType
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#Field"><span class="hs-identifier hs-var">Field</span></a></span><span> </span><span class="annot"><span class="annottext">FieldDefinitionType
</span><a href="#local-6989586621689498190"><span class="hs-identifier hs-var">parentType</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-717"></span><span>  </span><span class="annot"><span class="annottext">m (Maybe (Directive Void)) -&gt; m ()
forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span><span class="hs-identifier hs-var">void</span></span><span> </span><span class="annot"><span class="annottext">(m (Maybe (Directive Void)) -&gt; m ())
-&gt; m (Maybe (Directive Void)) -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Directive Void]
-&gt; [Directive Void]
-&gt; TypeSystemDirectiveLocation
-&gt; (GraphQLType, Name)
-&gt; m (Maybe (Directive Void))
forall (m :: * -&gt; *) a.
MonadValidate [RoleBasedSchemaValidationError] m =&gt;
[Directive a]
-&gt; [Directive a]
-&gt; TypeSystemDirectiveLocation
-&gt; (GraphQLType, Name)
-&gt; m (Maybe (Directive a))
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#validateDirectives"><span class="hs-identifier hs-var">validateDirectives</span></a></span><span> </span><span class="annot"><span class="annottext">[Directive Void]
</span><a href="#local-6989586621689498186"><span class="hs-identifier hs-var">providedDirectives</span></a></span><span> </span><span class="annot"><span class="annottext">[Directive Void]
</span><a href="#local-6989586621689498185"><span class="hs-identifier hs-var">upstreamDirectives</span></a></span><span> </span><span class="annot"><span class="annottext">TypeSystemDirectiveLocation
</span><span class="hs-identifier hs-var">G.TSDLFIELD_DEFINITION</span></span><span> </span><span class="annot"><span class="annottext">((GraphQLType, Name) -&gt; m (Maybe (Directive Void)))
-&gt; (GraphQLType, Name) -&gt; m (Maybe (Directive Void))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FieldDefinitionType -&gt; GraphQLType
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#Field"><span class="hs-identifier hs-var">Field</span></a></span><span> </span><span class="annot"><span class="annottext">FieldDefinitionType
</span><a href="#local-6989586621689498190"><span class="hs-identifier hs-var">parentType</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498189"><span class="hs-identifier hs-var">parentTypeName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-718"></span><span>  </span><span class="annot"><span class="annottext">Bool -&gt; m () -&gt; m ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">when</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GType
</span><a href="#local-6989586621689498183"><span class="hs-identifier hs-var">providedType</span></a></span><span> </span><span class="annot"><span class="annottext">GType -&gt; GType -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="annottext">GType
</span><a href="#local-6989586621689498182"><span class="hs-identifier hs-var">upstreamType</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(m () -&gt; m ()) -&gt; m () -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-719"></span><span>    </span><span class="annot"><span class="annottext">[RoleBasedSchemaValidationError] -&gt; m ()
forall e (m :: * -&gt; *). MonadValidate e m =&gt; e -&gt; m ()
</span><span class="hs-identifier hs-var">dispute</span></span><span> </span><span class="annot"><span class="annottext">([RoleBasedSchemaValidationError] -&gt; m ())
-&gt; [RoleBasedSchemaValidationError] -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">RoleBasedSchemaValidationError -&gt; [RoleBasedSchemaValidationError]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(RoleBasedSchemaValidationError
 -&gt; [RoleBasedSchemaValidationError])
-&gt; RoleBasedSchemaValidationError
-&gt; [RoleBasedSchemaValidationError]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name
-&gt; GraphQLType -&gt; GType -&gt; GType -&gt; RoleBasedSchemaValidationError
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#NonMatchingType"><span class="hs-identifier hs-var">NonMatchingType</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498188"><span class="hs-identifier hs-var">providedName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FieldDefinitionType -&gt; GraphQLType
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#Field"><span class="hs-identifier hs-var">Field</span></a></span><span> </span><span class="annot"><span class="annottext">FieldDefinitionType
</span><a href="#local-6989586621689498190"><span class="hs-identifier hs-var">parentType</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">GType
</span><a href="#local-6989586621689498182"><span class="hs-identifier hs-var">upstreamType</span></a></span><span> </span><span class="annot"><span class="annottext">GType
</span><a href="#local-6989586621689498183"><span class="hs-identifier hs-var">providedType</span></a></span><span>
</span><span id="line-720"></span><span>  </span><span id="local-6989586621689498181"><span class="annot"><span class="annottext">ArgumentsDefinition RemoteSchemaInputValueDefinition
</span><a href="#local-6989586621689498181"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[InputValueDefinition]
-&gt; ArgumentsDefinition RemoteSchemaInputValueDefinition
-&gt; Name
-&gt; m (ArgumentsDefinition RemoteSchemaInputValueDefinition)
forall (m :: * -&gt; *).
(MonadValidate [RoleBasedSchemaValidationError] m,
 MonadReader SchemaDocument m) =&gt;
[InputValueDefinition]
-&gt; ArgumentsDefinition RemoteSchemaInputValueDefinition
-&gt; Name
-&gt; m (ArgumentsDefinition RemoteSchemaInputValueDefinition)
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#validateArguments"><span class="hs-identifier hs-var">validateArguments</span></a></span><span> </span><span class="annot"><span class="annottext">[InputValueDefinition]
</span><a href="#local-6989586621689498180"><span class="hs-identifier hs-var">providedArgs</span></a></span><span> </span><span class="annot"><span class="annottext">ArgumentsDefinition RemoteSchemaInputValueDefinition
</span><a href="#local-6989586621689498179"><span class="hs-identifier hs-var">upstreamArgs</span></a></span><span> </span><span class="annot"><span class="annottext">(Name -&gt; m (ArgumentsDefinition RemoteSchemaInputValueDefinition))
-&gt; Name -&gt; m (ArgumentsDefinition RemoteSchemaInputValueDefinition)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498188"><span class="hs-identifier hs-var">providedName</span></a></span><span>
</span><span id="line-721"></span><span>  </span><span class="annot"><span class="annottext">FieldDefinition RemoteSchemaInputValueDefinition
-&gt; m (FieldDefinition RemoteSchemaInputValueDefinition)
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(FieldDefinition RemoteSchemaInputValueDefinition
 -&gt; m (FieldDefinition RemoteSchemaInputValueDefinition))
-&gt; FieldDefinition RemoteSchemaInputValueDefinition
-&gt; m (FieldDefinition RemoteSchemaInputValueDefinition)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">FieldDefinition InputValueDefinition
</span><a href="#local-6989586621689498192"><span class="hs-identifier hs-var">providedFieldDefinition</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><span class="annottext">_fldArgumentsDefinition :: ArgumentsDefinition RemoteSchemaInputValueDefinition
</span><span class="hs-identifier hs-var">G._fldArgumentsDefinition</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ArgumentsDefinition RemoteSchemaInputValueDefinition
</span><a href="#local-6989586621689498181"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-722"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-723"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">G.FieldDefinition</span></span><span> </span><span class="annot"><span class="annottext">Maybe Description
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621689498188"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498188"><span class="hs-identifier hs-var">providedName</span></a></span></span><span> </span><span id="local-6989586621689498180"><span class="annot"><span class="annottext">[InputValueDefinition]
</span><a href="#local-6989586621689498180"><span class="hs-identifier hs-var">providedArgs</span></a></span></span><span> </span><span id="local-6989586621689498183"><span class="annot"><span class="annottext">GType
</span><a href="#local-6989586621689498183"><span class="hs-identifier hs-var">providedType</span></a></span></span><span> </span><span id="local-6989586621689498186"><span class="annot"><span class="annottext">[Directive Void]
</span><a href="#local-6989586621689498186"><span class="hs-identifier hs-var">providedDirectives</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FieldDefinition InputValueDefinition
</span><a href="#local-6989586621689498192"><span class="hs-identifier hs-var">providedFieldDefinition</span></a></span><span>
</span><span id="line-724"></span><span>
</span><span id="line-725"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">G.FieldDefinition</span></span><span> </span><span class="annot"><span class="annottext">Maybe Description
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621689498187"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498187"><span class="hs-identifier hs-var">upstreamName</span></a></span></span><span> </span><span id="local-6989586621689498179"><span class="annot"><span class="annottext">ArgumentsDefinition RemoteSchemaInputValueDefinition
</span><a href="#local-6989586621689498179"><span class="hs-identifier hs-var">upstreamArgs</span></a></span></span><span> </span><span id="local-6989586621689498182"><span class="annot"><span class="annottext">GType
</span><a href="#local-6989586621689498182"><span class="hs-identifier hs-var">upstreamType</span></a></span></span><span> </span><span id="local-6989586621689498185"><span class="annot"><span class="annottext">[Directive Void]
</span><a href="#local-6989586621689498185"><span class="hs-identifier hs-var">upstreamDirectives</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FieldDefinition RemoteSchemaInputValueDefinition
</span><a href="#local-6989586621689498191"><span class="hs-identifier hs-var">upstreamFieldDefinition</span></a></span><span>
</span><span id="line-726"></span><span>
</span><span id="line-727"></span><span id="local-6989586621689498652"><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#validateFieldDefinitions"><span class="hs-identifier hs-type">validateFieldDefinitions</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-728"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadValidate</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#RoleBasedSchemaValidationError"><span class="hs-identifier hs-type">RoleBasedSchemaValidationError</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621689498652"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-729"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">MonadReader</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.SchemaDocument</span></span><span> </span><span class="annot"><a href="#local-6989586621689498652"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-730"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-731"></span><span>  </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">G.FieldDefinition</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.InputValueDefinition</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-732"></span><span>  </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">G.FieldDefinition</span></span><span> </span><span class="annot"><a href="Hasura.RQL.Types.RemoteSchema.html#RemoteSchemaInputValueDefinition"><span class="hs-identifier hs-type">RemoteSchemaInputValueDefinition</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-733"></span><span>  </span><span class="hs-comment">-- | parent type and name</span><span>
</span><span id="line-734"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#FieldDefinitionType"><span class="hs-identifier hs-type">FieldDefinitionType</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.Name</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-735"></span><span>  </span><span class="annot"><a href="#local-6989586621689498652"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">G.FieldDefinition</span></span><span> </span><span class="annot"><a href="Hasura.RQL.Types.RemoteSchema.html#RemoteSchemaInputValueDefinition"><span class="hs-identifier hs-type">RemoteSchemaInputValueDefinition</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span></span><span>
</span><span id="line-736"></span><span id="validateFieldDefinitions"><span class="annot"><span class="annottext">validateFieldDefinitions :: [FieldDefinition InputValueDefinition]
-&gt; [FieldDefinition RemoteSchemaInputValueDefinition]
-&gt; (FieldDefinitionType, Name)
-&gt; m [FieldDefinition RemoteSchemaInputValueDefinition]
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#validateFieldDefinitions"><span class="hs-identifier hs-var hs-var">validateFieldDefinitions</span></a></span></span><span> </span><span id="local-6989586621689498175"><span class="annot"><span class="annottext">[FieldDefinition InputValueDefinition]
</span><a href="#local-6989586621689498175"><span class="hs-identifier hs-var">providedFldDefnitions</span></a></span></span><span> </span><span id="local-6989586621689498174"><span class="annot"><span class="annottext">[FieldDefinition RemoteSchemaInputValueDefinition]
</span><a href="#local-6989586621689498174"><span class="hs-identifier hs-var">upstreamFldDefinitions</span></a></span></span><span> </span><span id="local-6989586621689498173"><span class="annot"><span class="annottext">(FieldDefinitionType, Name)
</span><a href="#local-6989586621689498173"><span class="hs-identifier hs-var">parentType</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-737"></span><span>  </span><span class="annot"><span class="annottext">Maybe (NonEmpty Name) -&gt; (NonEmpty Name -&gt; m ()) -&gt; m ()
forall (m :: * -&gt; *) a.
Applicative m =&gt;
Maybe a -&gt; (a -&gt; m ()) -&gt; m ()
</span><a href="Hasura.Prelude.html#onJust"><span class="hs-identifier hs-var">onJust</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Name] -&gt; Maybe (NonEmpty Name)
forall a. [a] -&gt; Maybe (NonEmpty a)
</span><span class="hs-identifier hs-var">NE.nonEmpty</span></span><span> </span><span class="annot"><span class="annottext">([Name] -&gt; Maybe (NonEmpty Name))
-&gt; [Name] -&gt; Maybe (NonEmpty Name)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HashSet Name -&gt; [Name]
forall a. HashSet a -&gt; [a]
</span><span class="hs-identifier hs-var">S.toList</span></span><span> </span><span class="annot"><span class="annottext">(HashSet Name -&gt; [Name]) -&gt; HashSet Name -&gt; [Name]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Name] -&gt; HashSet Name
forall a. (Eq a, Hashable a) =&gt; [a] -&gt; HashSet a
</span><a href="Data.List.Extended.html#duplicates"><span class="hs-identifier hs-var">duplicates</span></a></span><span> </span><span class="annot"><span class="annottext">([Name] -&gt; HashSet Name) -&gt; [Name] -&gt; HashSet Name
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(FieldDefinition InputValueDefinition -&gt; Name)
-&gt; [FieldDefinition InputValueDefinition] -&gt; [Name]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">FieldDefinition InputValueDefinition -&gt; Name
forall inputType. FieldDefinition inputType -&gt; Name
</span><span class="hs-identifier hs-var hs-var">G._fldName</span></span><span> </span><span class="annot"><span class="annottext">[FieldDefinition InputValueDefinition]
</span><a href="#local-6989586621689498175"><span class="hs-identifier hs-var">providedFldDefnitions</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((NonEmpty Name -&gt; m ()) -&gt; m ())
-&gt; (NonEmpty Name -&gt; m ()) -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621689498171"><span class="annot"><span class="annottext">NonEmpty Name
</span><a href="#local-6989586621689498171"><span class="hs-identifier hs-var">dups</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-738"></span><span>    </span><span class="annot"><span class="annottext">[RoleBasedSchemaValidationError] -&gt; m ()
forall e (m :: * -&gt; *) a. MonadValidate e m =&gt; e -&gt; m a
</span><span class="hs-identifier hs-var">refute</span></span><span> </span><span class="annot"><span class="annottext">([RoleBasedSchemaValidationError] -&gt; m ())
-&gt; [RoleBasedSchemaValidationError] -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">RoleBasedSchemaValidationError -&gt; [RoleBasedSchemaValidationError]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(RoleBasedSchemaValidationError
 -&gt; [RoleBasedSchemaValidationError])
-&gt; RoleBasedSchemaValidationError
-&gt; [RoleBasedSchemaValidationError]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(FieldDefinitionType, Name)
-&gt; NonEmpty Name -&gt; RoleBasedSchemaValidationError
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#DuplicateFields"><span class="hs-identifier hs-var">DuplicateFields</span></a></span><span> </span><span class="annot"><span class="annottext">(FieldDefinitionType, Name)
</span><a href="#local-6989586621689498173"><span class="hs-identifier hs-var">parentType</span></a></span><span> </span><span class="annot"><span class="annottext">NonEmpty Name
</span><a href="#local-6989586621689498171"><span class="hs-identifier hs-var">dups</span></a></span><span>
</span><span id="line-739"></span><span>  </span><span class="annot"><span class="annottext">[FieldDefinition InputValueDefinition]
-&gt; (FieldDefinition InputValueDefinition
    -&gt; m (FieldDefinition RemoteSchemaInputValueDefinition))
-&gt; m [FieldDefinition RemoteSchemaInputValueDefinition]
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
t a -&gt; (a -&gt; f b) -&gt; f (t b)
</span><span class="hs-identifier hs-var">for</span></span><span> </span><span class="annot"><span class="annottext">[FieldDefinition InputValueDefinition]
</span><a href="#local-6989586621689498175"><span class="hs-identifier hs-var">providedFldDefnitions</span></a></span><span> </span><span class="annot"><span class="annottext">((FieldDefinition InputValueDefinition
  -&gt; m (FieldDefinition RemoteSchemaInputValueDefinition))
 -&gt; m [FieldDefinition RemoteSchemaInputValueDefinition])
-&gt; (FieldDefinition InputValueDefinition
    -&gt; m (FieldDefinition RemoteSchemaInputValueDefinition))
-&gt; m [FieldDefinition RemoteSchemaInputValueDefinition]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621689498170"><span class="annot"><span class="annottext">fldDefn :: FieldDefinition InputValueDefinition
</span><a href="#local-6989586621689498170"><span class="hs-identifier hs-var">fldDefn</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">G.FieldDefinition</span></span><span> </span><span class="annot"><span class="annottext">Maybe Description
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621689498169"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498169"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="annot"><span class="annottext">[InputValueDefinition]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">GType
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[Directive Void]
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-740"></span><span>    </span><span id="local-6989586621689498168"><span class="annot"><span class="annottext">FieldDefinition RemoteSchemaInputValueDefinition
</span><a href="#local-6989586621689498168"><span class="hs-identifier hs-var">upstreamFldDefn</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-741"></span><span>      </span><span class="annot"><span class="annottext">Maybe (FieldDefinition RemoteSchemaInputValueDefinition)
-&gt; m (FieldDefinition RemoteSchemaInputValueDefinition)
-&gt; m (FieldDefinition RemoteSchemaInputValueDefinition)
forall (m :: * -&gt; *) a. Applicative m =&gt; Maybe a -&gt; m a -&gt; m a
</span><a href="Hasura.Prelude.html#onNothing"><span class="hs-identifier hs-var">onNothing</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name
-&gt; HashMap Name (FieldDefinition RemoteSchemaInputValueDefinition)
-&gt; Maybe (FieldDefinition RemoteSchemaInputValueDefinition)
forall k v. (Eq k, Hashable k) =&gt; k -&gt; HashMap k v -&gt; Maybe v
</span><span class="hs-identifier hs-var">Map.lookup</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498169"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap Name (FieldDefinition RemoteSchemaInputValueDefinition)
</span><a href="#local-6989586621689498167"><span class="hs-identifier hs-var">upstreamFldDefinitionsMap</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(m (FieldDefinition RemoteSchemaInputValueDefinition)
 -&gt; m (FieldDefinition RemoteSchemaInputValueDefinition))
-&gt; m (FieldDefinition RemoteSchemaInputValueDefinition)
-&gt; m (FieldDefinition RemoteSchemaInputValueDefinition)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-742"></span><span>        </span><span class="annot"><span class="annottext">[RoleBasedSchemaValidationError]
-&gt; m (FieldDefinition RemoteSchemaInputValueDefinition)
forall e (m :: * -&gt; *) a. MonadValidate e m =&gt; e -&gt; m a
</span><span class="hs-identifier hs-var">refute</span></span><span> </span><span class="annot"><span class="annottext">([RoleBasedSchemaValidationError]
 -&gt; m (FieldDefinition RemoteSchemaInputValueDefinition))
-&gt; [RoleBasedSchemaValidationError]
-&gt; m (FieldDefinition RemoteSchemaInputValueDefinition)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">RoleBasedSchemaValidationError -&gt; [RoleBasedSchemaValidationError]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(RoleBasedSchemaValidationError
 -&gt; [RoleBasedSchemaValidationError])
-&gt; RoleBasedSchemaValidationError
-&gt; [RoleBasedSchemaValidationError]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(FieldDefinitionType, Name)
-&gt; Name -&gt; RoleBasedSchemaValidationError
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#NonExistingField"><span class="hs-identifier hs-var">NonExistingField</span></a></span><span> </span><span class="annot"><span class="annottext">(FieldDefinitionType, Name)
</span><a href="#local-6989586621689498173"><span class="hs-identifier hs-var">parentType</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498169"><span class="hs-identifier hs-var">name</span></a></span><span>
</span><span id="line-743"></span><span>    </span><span class="annot"><span class="annottext">FieldDefinition InputValueDefinition
-&gt; FieldDefinition RemoteSchemaInputValueDefinition
-&gt; (FieldDefinitionType, Name)
-&gt; m (FieldDefinition RemoteSchemaInputValueDefinition)
forall (m :: * -&gt; *).
(MonadValidate [RoleBasedSchemaValidationError] m,
 MonadReader SchemaDocument m) =&gt;
FieldDefinition InputValueDefinition
-&gt; FieldDefinition RemoteSchemaInputValueDefinition
-&gt; (FieldDefinitionType, Name)
-&gt; m (FieldDefinition RemoteSchemaInputValueDefinition)
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#validateFieldDefinition"><span class="hs-identifier hs-var">validateFieldDefinition</span></a></span><span> </span><span class="annot"><span class="annottext">FieldDefinition InputValueDefinition
</span><a href="#local-6989586621689498170"><span class="hs-identifier hs-var">fldDefn</span></a></span><span> </span><span class="annot"><span class="annottext">FieldDefinition RemoteSchemaInputValueDefinition
</span><a href="#local-6989586621689498168"><span class="hs-identifier hs-var">upstreamFldDefn</span></a></span><span> </span><span class="annot"><span class="annottext">(FieldDefinitionType, Name)
</span><a href="#local-6989586621689498173"><span class="hs-identifier hs-var">parentType</span></a></span><span>
</span><span id="line-744"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-745"></span><span>    </span><span id="local-6989586621689498167"><span class="annot"><span class="annottext">upstreamFldDefinitionsMap :: HashMap Name (FieldDefinition RemoteSchemaInputValueDefinition)
</span><a href="#local-6989586621689498167"><span class="hs-identifier hs-var hs-var">upstreamFldDefinitionsMap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(FieldDefinition RemoteSchemaInputValueDefinition -&gt; Name)
-&gt; [FieldDefinition RemoteSchemaInputValueDefinition]
-&gt; HashMap Name (FieldDefinition RemoteSchemaInputValueDefinition)
forall k a. (Eq k, Hashable k) =&gt; (a -&gt; k) -&gt; [a] -&gt; HashMap k a
</span><a href="Hasura.Prelude.html#mapFromL"><span class="hs-identifier hs-var">mapFromL</span></a></span><span> </span><span class="annot"><span class="annottext">FieldDefinition RemoteSchemaInputValueDefinition -&gt; Name
forall inputType. FieldDefinition inputType -&gt; Name
</span><span class="hs-identifier hs-var hs-var">G._fldName</span></span><span> </span><span class="annot"><span class="annottext">[FieldDefinition RemoteSchemaInputValueDefinition]
</span><a href="#local-6989586621689498174"><span class="hs-identifier hs-var">upstreamFldDefinitions</span></a></span><span>
</span><span id="line-746"></span><span>
</span><span id="line-747"></span><span id="local-6989586621689498613"><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#validateInterfaceDefinition"><span class="hs-identifier hs-type">validateInterfaceDefinition</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-748"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadValidate</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#RoleBasedSchemaValidationError"><span class="hs-identifier hs-type">RoleBasedSchemaValidationError</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621689498613"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-749"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">MonadReader</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.SchemaDocument</span></span><span> </span><span class="annot"><a href="#local-6989586621689498613"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-750"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-751"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">G.InterfaceTypeDefinition</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.InputValueDefinition</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-752"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">G.InterfaceTypeDefinition</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">G.Name</span></span><span class="hs-special">]</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.RemoteSchema.html#RemoteSchemaInputValueDefinition"><span class="hs-identifier hs-type">RemoteSchemaInputValueDefinition</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-753"></span><span>  </span><span class="annot"><a href="#local-6989586621689498613"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">G.InterfaceTypeDefinition</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.RemoteSchema.html#RemoteSchemaInputValueDefinition"><span class="hs-identifier hs-type">RemoteSchemaInputValueDefinition</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-754"></span><span id="validateInterfaceDefinition"><span class="annot"><span class="annottext">validateInterfaceDefinition :: InterfaceTypeDefinition () InputValueDefinition
-&gt; InterfaceTypeDefinition [Name] RemoteSchemaInputValueDefinition
-&gt; m (InterfaceTypeDefinition () RemoteSchemaInputValueDefinition)
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#validateInterfaceDefinition"><span class="hs-identifier hs-var hs-var">validateInterfaceDefinition</span></a></span></span><span> </span><span id="local-6989586621689498165"><span class="annot"><span class="annottext">InterfaceTypeDefinition () InputValueDefinition
</span><a href="#local-6989586621689498165"><span class="hs-identifier hs-var">providedInterfaceDefn</span></a></span></span><span> </span><span id="local-6989586621689498164"><span class="annot"><span class="annottext">InterfaceTypeDefinition [Name] RemoteSchemaInputValueDefinition
</span><a href="#local-6989586621689498164"><span class="hs-identifier hs-var">upstreamInterfaceDefn</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-755"></span><span>  </span><span class="annot"><span class="annottext">Bool -&gt; m () -&gt; m ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">when</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498163"><span class="hs-identifier hs-var">providedName</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Name -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498162"><span class="hs-identifier hs-var">upstreamName</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(m () -&gt; m ()) -&gt; m () -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-756"></span><span>    </span><span class="annot"><span class="annottext">[RoleBasedSchemaValidationError] -&gt; m ()
forall e (m :: * -&gt; *). MonadValidate e m =&gt; e -&gt; m ()
</span><span class="hs-identifier hs-var">dispute</span></span><span> </span><span class="annot"><span class="annottext">([RoleBasedSchemaValidationError] -&gt; m ())
-&gt; [RoleBasedSchemaValidationError] -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-757"></span><span>      </span><span class="annot"><span class="annottext">RoleBasedSchemaValidationError -&gt; [RoleBasedSchemaValidationError]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(RoleBasedSchemaValidationError
 -&gt; [RoleBasedSchemaValidationError])
-&gt; RoleBasedSchemaValidationError
-&gt; [RoleBasedSchemaValidationError]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-758"></span><span>        </span><span class="annot"><span class="annottext">Name -&gt; Name -&gt; GraphQLType -&gt; RoleBasedSchemaValidationError
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#UnexpectedNonMatchingNames"><span class="hs-identifier hs-var">UnexpectedNonMatchingNames</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498163"><span class="hs-identifier hs-var">providedName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498162"><span class="hs-identifier hs-var">upstreamName</span></a></span><span> </span><span class="annot"><span class="annottext">GraphQLType
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#Interface"><span class="hs-identifier hs-var">Interface</span></a></span><span>
</span><span id="line-759"></span><span>  </span><span class="annot"><span class="annottext">m (Maybe (Directive Void)) -&gt; m ()
forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span><span class="hs-identifier hs-var">void</span></span><span> </span><span class="annot"><span class="annottext">(m (Maybe (Directive Void)) -&gt; m ())
-&gt; m (Maybe (Directive Void)) -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Directive Void]
-&gt; [Directive Void]
-&gt; TypeSystemDirectiveLocation
-&gt; (GraphQLType, Name)
-&gt; m (Maybe (Directive Void))
forall (m :: * -&gt; *) a.
MonadValidate [RoleBasedSchemaValidationError] m =&gt;
[Directive a]
-&gt; [Directive a]
-&gt; TypeSystemDirectiveLocation
-&gt; (GraphQLType, Name)
-&gt; m (Maybe (Directive a))
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#validateDirectives"><span class="hs-identifier hs-var">validateDirectives</span></a></span><span> </span><span class="annot"><span class="annottext">[Directive Void]
</span><a href="#local-6989586621689498161"><span class="hs-identifier hs-var">providedDirectives</span></a></span><span> </span><span class="annot"><span class="annottext">[Directive Void]
</span><a href="#local-6989586621689498160"><span class="hs-identifier hs-var">upstreamDirectives</span></a></span><span> </span><span class="annot"><span class="annottext">TypeSystemDirectiveLocation
</span><span class="hs-identifier hs-var">G.TSDLINTERFACE</span></span><span> </span><span class="annot"><span class="annottext">((GraphQLType, Name) -&gt; m (Maybe (Directive Void)))
-&gt; (GraphQLType, Name) -&gt; m (Maybe (Directive Void))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GraphQLType
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#Interface"><span class="hs-identifier hs-var">Interface</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498163"><span class="hs-identifier hs-var">providedName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-760"></span><span>  </span><span id="local-6989586621689498158"><span class="annot"><span class="annottext">[FieldDefinition RemoteSchemaInputValueDefinition]
</span><a href="#local-6989586621689498158"><span class="hs-identifier hs-var">fieldDefinitions</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[FieldDefinition InputValueDefinition]
-&gt; [FieldDefinition RemoteSchemaInputValueDefinition]
-&gt; (FieldDefinitionType, Name)
-&gt; m [FieldDefinition RemoteSchemaInputValueDefinition]
forall (m :: * -&gt; *).
(MonadValidate [RoleBasedSchemaValidationError] m,
 MonadReader SchemaDocument m) =&gt;
[FieldDefinition InputValueDefinition]
-&gt; [FieldDefinition RemoteSchemaInputValueDefinition]
-&gt; (FieldDefinitionType, Name)
-&gt; m [FieldDefinition RemoteSchemaInputValueDefinition]
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#validateFieldDefinitions"><span class="hs-identifier hs-var">validateFieldDefinitions</span></a></span><span> </span><span class="annot"><span class="annottext">[FieldDefinition InputValueDefinition]
</span><a href="#local-6989586621689498157"><span class="hs-identifier hs-var">providedFieldDefns</span></a></span><span> </span><span class="annot"><span class="annottext">[FieldDefinition RemoteSchemaInputValueDefinition]
</span><a href="#local-6989586621689498156"><span class="hs-identifier hs-var">upstreamFieldDefns</span></a></span><span> </span><span class="annot"><span class="annottext">((FieldDefinitionType, Name)
 -&gt; m [FieldDefinition RemoteSchemaInputValueDefinition])
-&gt; (FieldDefinitionType, Name)
-&gt; m [FieldDefinition RemoteSchemaInputValueDefinition]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FieldDefinitionType
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#InterfaceField"><span class="hs-identifier hs-var">InterfaceField</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498163"><span class="hs-identifier hs-var">providedName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-761"></span><span>  </span><span class="annot"><span class="annottext">InterfaceTypeDefinition () RemoteSchemaInputValueDefinition
-&gt; m (InterfaceTypeDefinition () RemoteSchemaInputValueDefinition)
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(InterfaceTypeDefinition () RemoteSchemaInputValueDefinition
 -&gt; m (InterfaceTypeDefinition () RemoteSchemaInputValueDefinition))
-&gt; InterfaceTypeDefinition () RemoteSchemaInputValueDefinition
-&gt; m (InterfaceTypeDefinition () RemoteSchemaInputValueDefinition)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">InterfaceTypeDefinition () InputValueDefinition
</span><a href="#local-6989586621689498165"><span class="hs-identifier hs-var">providedInterfaceDefn</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><span class="annottext">_itdFieldsDefinition :: [FieldDefinition RemoteSchemaInputValueDefinition]
</span><span class="hs-identifier hs-var">G._itdFieldsDefinition</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[FieldDefinition RemoteSchemaInputValueDefinition]
</span><a href="#local-6989586621689498158"><span class="hs-identifier hs-var">fieldDefinitions</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-762"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-763"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">G.InterfaceTypeDefinition</span></span><span> </span><span class="annot"><span class="annottext">Maybe Description
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621689498163"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498163"><span class="hs-identifier hs-var">providedName</span></a></span></span><span> </span><span id="local-6989586621689498161"><span class="annot"><span class="annottext">[Directive Void]
</span><a href="#local-6989586621689498161"><span class="hs-identifier hs-var">providedDirectives</span></a></span></span><span> </span><span id="local-6989586621689498157"><span class="annot"><span class="annottext">[FieldDefinition InputValueDefinition]
</span><a href="#local-6989586621689498157"><span class="hs-identifier hs-var">providedFieldDefns</span></a></span></span><span> </span><span class="annot"><span class="annottext">()
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">InterfaceTypeDefinition () InputValueDefinition
</span><a href="#local-6989586621689498165"><span class="hs-identifier hs-var">providedInterfaceDefn</span></a></span><span>
</span><span id="line-764"></span><span>
</span><span id="line-765"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">G.InterfaceTypeDefinition</span></span><span> </span><span class="annot"><span class="annottext">Maybe Description
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621689498162"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498162"><span class="hs-identifier hs-var">upstreamName</span></a></span></span><span> </span><span id="local-6989586621689498160"><span class="annot"><span class="annottext">[Directive Void]
</span><a href="#local-6989586621689498160"><span class="hs-identifier hs-var">upstreamDirectives</span></a></span></span><span> </span><span id="local-6989586621689498156"><span class="annot"><span class="annottext">[FieldDefinition RemoteSchemaInputValueDefinition]
</span><a href="#local-6989586621689498156"><span class="hs-identifier hs-var">upstreamFieldDefns</span></a></span></span><span> </span><span class="annot"><span class="annottext">[Name]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">InterfaceTypeDefinition [Name] RemoteSchemaInputValueDefinition
</span><a href="#local-6989586621689498164"><span class="hs-identifier hs-var">upstreamInterfaceDefn</span></a></span><span>
</span><span id="line-766"></span><span>
</span><span id="line-767"></span><span id="local-6989586621689498614"><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#validateScalarDefinition"><span class="hs-identifier hs-type">validateScalarDefinition</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-768"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">MonadValidate</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#RoleBasedSchemaValidationError"><span class="hs-identifier hs-type">RoleBasedSchemaValidationError</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621689498614"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-769"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">G.ScalarTypeDefinition</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-770"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">G.ScalarTypeDefinition</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-771"></span><span>  </span><span class="annot"><a href="#local-6989586621689498614"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.ScalarTypeDefinition</span></span></span><span>
</span><span id="line-772"></span><span id="validateScalarDefinition"><span class="annot"><span class="annottext">validateScalarDefinition :: ScalarTypeDefinition
-&gt; ScalarTypeDefinition -&gt; m ScalarTypeDefinition
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#validateScalarDefinition"><span class="hs-identifier hs-var hs-var">validateScalarDefinition</span></a></span></span><span> </span><span id="local-6989586621689498152"><span class="annot"><span class="annottext">ScalarTypeDefinition
</span><a href="#local-6989586621689498152"><span class="hs-identifier hs-var">providedScalar</span></a></span></span><span> </span><span id="local-6989586621689498151"><span class="annot"><span class="annottext">ScalarTypeDefinition
</span><a href="#local-6989586621689498151"><span class="hs-identifier hs-var">upstreamScalar</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-773"></span><span>  </span><span class="annot"><span class="annottext">Bool -&gt; m () -&gt; m ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">when</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498150"><span class="hs-identifier hs-var">providedName</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Name -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498149"><span class="hs-identifier hs-var">upstreamName</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(m () -&gt; m ()) -&gt; m () -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-774"></span><span>    </span><span class="annot"><span class="annottext">[RoleBasedSchemaValidationError] -&gt; m ()
forall e (m :: * -&gt; *). MonadValidate e m =&gt; e -&gt; m ()
</span><span class="hs-identifier hs-var">dispute</span></span><span> </span><span class="annot"><span class="annottext">([RoleBasedSchemaValidationError] -&gt; m ())
-&gt; [RoleBasedSchemaValidationError] -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-775"></span><span>      </span><span class="annot"><span class="annottext">RoleBasedSchemaValidationError -&gt; [RoleBasedSchemaValidationError]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(RoleBasedSchemaValidationError
 -&gt; [RoleBasedSchemaValidationError])
-&gt; RoleBasedSchemaValidationError
-&gt; [RoleBasedSchemaValidationError]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-776"></span><span>        </span><span class="annot"><span class="annottext">Name -&gt; Name -&gt; GraphQLType -&gt; RoleBasedSchemaValidationError
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#UnexpectedNonMatchingNames"><span class="hs-identifier hs-var">UnexpectedNonMatchingNames</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498150"><span class="hs-identifier hs-var">providedName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498149"><span class="hs-identifier hs-var">upstreamName</span></a></span><span> </span><span class="annot"><span class="annottext">GraphQLType
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#Scalar"><span class="hs-identifier hs-var">Scalar</span></a></span><span>
</span><span id="line-777"></span><span>  </span><span class="annot"><span class="annottext">m (Maybe (Directive Void)) -&gt; m ()
forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span><span class="hs-identifier hs-var">void</span></span><span> </span><span class="annot"><span class="annottext">(m (Maybe (Directive Void)) -&gt; m ())
-&gt; m (Maybe (Directive Void)) -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Directive Void]
-&gt; [Directive Void]
-&gt; TypeSystemDirectiveLocation
-&gt; (GraphQLType, Name)
-&gt; m (Maybe (Directive Void))
forall (m :: * -&gt; *) a.
MonadValidate [RoleBasedSchemaValidationError] m =&gt;
[Directive a]
-&gt; [Directive a]
-&gt; TypeSystemDirectiveLocation
-&gt; (GraphQLType, Name)
-&gt; m (Maybe (Directive a))
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#validateDirectives"><span class="hs-identifier hs-var">validateDirectives</span></a></span><span> </span><span class="annot"><span class="annottext">[Directive Void]
</span><a href="#local-6989586621689498148"><span class="hs-identifier hs-var">providedDirectives</span></a></span><span> </span><span class="annot"><span class="annottext">[Directive Void]
</span><a href="#local-6989586621689498147"><span class="hs-identifier hs-var">upstreamDirectives</span></a></span><span> </span><span class="annot"><span class="annottext">TypeSystemDirectiveLocation
</span><span class="hs-identifier hs-var">G.TSDLSCALAR</span></span><span> </span><span class="annot"><span class="annottext">((GraphQLType, Name) -&gt; m (Maybe (Directive Void)))
-&gt; (GraphQLType, Name) -&gt; m (Maybe (Directive Void))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GraphQLType
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#Scalar"><span class="hs-identifier hs-var">Scalar</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498150"><span class="hs-identifier hs-var">providedName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-778"></span><span>  </span><span class="annot"><span class="annottext">ScalarTypeDefinition -&gt; m ScalarTypeDefinition
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">ScalarTypeDefinition
</span><a href="#local-6989586621689498152"><span class="hs-identifier hs-var">providedScalar</span></a></span><span>
</span><span id="line-779"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-780"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">G.ScalarTypeDefinition</span></span><span> </span><span class="annot"><span class="annottext">Maybe Description
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621689498150"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498150"><span class="hs-identifier hs-var">providedName</span></a></span></span><span> </span><span id="local-6989586621689498148"><span class="annot"><span class="annottext">[Directive Void]
</span><a href="#local-6989586621689498148"><span class="hs-identifier hs-var">providedDirectives</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ScalarTypeDefinition
</span><a href="#local-6989586621689498152"><span class="hs-identifier hs-var">providedScalar</span></a></span><span>
</span><span id="line-781"></span><span>
</span><span id="line-782"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">G.ScalarTypeDefinition</span></span><span> </span><span class="annot"><span class="annottext">Maybe Description
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621689498149"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498149"><span class="hs-identifier hs-var">upstreamName</span></a></span></span><span> </span><span id="local-6989586621689498147"><span class="annot"><span class="annottext">[Directive Void]
</span><a href="#local-6989586621689498147"><span class="hs-identifier hs-var">upstreamDirectives</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ScalarTypeDefinition
</span><a href="#local-6989586621689498151"><span class="hs-identifier hs-var">upstreamScalar</span></a></span><span>
</span><span id="line-783"></span><span>
</span><span id="line-784"></span><span id="local-6989586621689498611"><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#validateUnionDefinition"><span class="hs-identifier hs-type">validateUnionDefinition</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-785"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">MonadValidate</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#RoleBasedSchemaValidationError"><span class="hs-identifier hs-type">RoleBasedSchemaValidationError</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621689498611"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-786"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">G.UnionTypeDefinition</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-787"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">G.UnionTypeDefinition</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-788"></span><span>  </span><span class="annot"><a href="#local-6989586621689498611"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.UnionTypeDefinition</span></span></span><span>
</span><span id="line-789"></span><span id="validateUnionDefinition"><span class="annot"><span class="annottext">validateUnionDefinition :: UnionTypeDefinition -&gt; UnionTypeDefinition -&gt; m UnionTypeDefinition
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#validateUnionDefinition"><span class="hs-identifier hs-var hs-var">validateUnionDefinition</span></a></span></span><span> </span><span id="local-6989586621689498144"><span class="annot"><span class="annottext">UnionTypeDefinition
</span><a href="#local-6989586621689498144"><span class="hs-identifier hs-var">providedUnion</span></a></span></span><span> </span><span id="local-6989586621689498143"><span class="annot"><span class="annottext">UnionTypeDefinition
</span><a href="#local-6989586621689498143"><span class="hs-identifier hs-var">upstreamUnion</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-790"></span><span>  </span><span class="annot"><span class="annottext">Bool -&gt; m () -&gt; m ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">when</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498142"><span class="hs-identifier hs-var">providedName</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Name -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498141"><span class="hs-identifier hs-var">upstreamName</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(m () -&gt; m ()) -&gt; m () -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-791"></span><span>    </span><span class="annot"><span class="annottext">[RoleBasedSchemaValidationError] -&gt; m ()
forall e (m :: * -&gt; *). MonadValidate e m =&gt; e -&gt; m ()
</span><span class="hs-identifier hs-var">dispute</span></span><span> </span><span class="annot"><span class="annottext">([RoleBasedSchemaValidationError] -&gt; m ())
-&gt; [RoleBasedSchemaValidationError] -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-792"></span><span>      </span><span class="annot"><span class="annottext">RoleBasedSchemaValidationError -&gt; [RoleBasedSchemaValidationError]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(RoleBasedSchemaValidationError
 -&gt; [RoleBasedSchemaValidationError])
-&gt; RoleBasedSchemaValidationError
-&gt; [RoleBasedSchemaValidationError]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-793"></span><span>        </span><span class="annot"><span class="annottext">Name -&gt; Name -&gt; GraphQLType -&gt; RoleBasedSchemaValidationError
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#UnexpectedNonMatchingNames"><span class="hs-identifier hs-var">UnexpectedNonMatchingNames</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498142"><span class="hs-identifier hs-var">providedName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498141"><span class="hs-identifier hs-var">upstreamName</span></a></span><span> </span><span class="annot"><span class="annottext">GraphQLType
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#Union"><span class="hs-identifier hs-var">Union</span></a></span><span>
</span><span id="line-794"></span><span>  </span><span class="annot"><span class="annottext">m (Maybe (Directive Void)) -&gt; m ()
forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span><span class="hs-identifier hs-var">void</span></span><span> </span><span class="annot"><span class="annottext">(m (Maybe (Directive Void)) -&gt; m ())
-&gt; m (Maybe (Directive Void)) -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Directive Void]
-&gt; [Directive Void]
-&gt; TypeSystemDirectiveLocation
-&gt; (GraphQLType, Name)
-&gt; m (Maybe (Directive Void))
forall (m :: * -&gt; *) a.
MonadValidate [RoleBasedSchemaValidationError] m =&gt;
[Directive a]
-&gt; [Directive a]
-&gt; TypeSystemDirectiveLocation
-&gt; (GraphQLType, Name)
-&gt; m (Maybe (Directive a))
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#validateDirectives"><span class="hs-identifier hs-var">validateDirectives</span></a></span><span> </span><span class="annot"><span class="annottext">[Directive Void]
</span><a href="#local-6989586621689498140"><span class="hs-identifier hs-var">providedDirectives</span></a></span><span> </span><span class="annot"><span class="annottext">[Directive Void]
</span><a href="#local-6989586621689498139"><span class="hs-identifier hs-var">upstreamDirectives</span></a></span><span> </span><span class="annot"><span class="annottext">TypeSystemDirectiveLocation
</span><span class="hs-identifier hs-var">G.TSDLUNION</span></span><span> </span><span class="annot"><span class="annottext">((GraphQLType, Name) -&gt; m (Maybe (Directive Void)))
-&gt; (GraphQLType, Name) -&gt; m (Maybe (Directive Void))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GraphQLType
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#Union"><span class="hs-identifier hs-var">Union</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498142"><span class="hs-identifier hs-var">providedName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-795"></span><span>  </span><span class="annot"><span class="annottext">Maybe (NonEmpty Name) -&gt; (NonEmpty Name -&gt; m ()) -&gt; m ()
forall (m :: * -&gt; *) a.
Applicative m =&gt;
Maybe a -&gt; (a -&gt; m ()) -&gt; m ()
</span><a href="Hasura.Prelude.html#onJust"><span class="hs-identifier hs-var">onJust</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Name] -&gt; Maybe (NonEmpty Name)
forall a. [a] -&gt; Maybe (NonEmpty a)
</span><span class="hs-identifier hs-var">NE.nonEmpty</span></span><span> </span><span class="annot"><span class="annottext">([Name] -&gt; Maybe (NonEmpty Name))
-&gt; [Name] -&gt; Maybe (NonEmpty Name)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HashSet Name -&gt; [Name]
forall a. HashSet a -&gt; [a]
</span><span class="hs-identifier hs-var">S.toList</span></span><span> </span><span class="annot"><span class="annottext">HashSet Name
</span><a href="#local-6989586621689498137"><span class="hs-identifier hs-var">memberTypesDiff</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((NonEmpty Name -&gt; m ()) -&gt; m ())
-&gt; (NonEmpty Name -&gt; m ()) -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621689498136"><span class="annot"><span class="annottext">NonEmpty Name
</span><a href="#local-6989586621689498136"><span class="hs-identifier hs-var">nonExistingMembers</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-796"></span><span>    </span><span class="annot"><span class="annottext">[RoleBasedSchemaValidationError] -&gt; m ()
forall e (m :: * -&gt; *) a. MonadValidate e m =&gt; e -&gt; m a
</span><span class="hs-identifier hs-var">refute</span></span><span> </span><span class="annot"><span class="annottext">([RoleBasedSchemaValidationError] -&gt; m ())
-&gt; [RoleBasedSchemaValidationError] -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">RoleBasedSchemaValidationError -&gt; [RoleBasedSchemaValidationError]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(RoleBasedSchemaValidationError
 -&gt; [RoleBasedSchemaValidationError])
-&gt; RoleBasedSchemaValidationError
-&gt; [RoleBasedSchemaValidationError]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; NonEmpty Name -&gt; RoleBasedSchemaValidationError
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#NonExistingUnionMemberTypes"><span class="hs-identifier hs-var">NonExistingUnionMemberTypes</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498142"><span class="hs-identifier hs-var">providedName</span></a></span><span> </span><span class="annot"><span class="annottext">NonEmpty Name
</span><a href="#local-6989586621689498136"><span class="hs-identifier hs-var">nonExistingMembers</span></a></span><span>
</span><span id="line-797"></span><span>  </span><span class="annot"><span class="annottext">UnionTypeDefinition -&gt; m UnionTypeDefinition
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">UnionTypeDefinition
</span><a href="#local-6989586621689498144"><span class="hs-identifier hs-var">providedUnion</span></a></span><span>
</span><span id="line-798"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-799"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">G.UnionTypeDefinition</span></span><span> </span><span class="annot"><span class="annottext">Maybe Description
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621689498142"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498142"><span class="hs-identifier hs-var">providedName</span></a></span></span><span> </span><span id="local-6989586621689498140"><span class="annot"><span class="annottext">[Directive Void]
</span><a href="#local-6989586621689498140"><span class="hs-identifier hs-var">providedDirectives</span></a></span></span><span> </span><span id="local-6989586621689498134"><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621689498134"><span class="hs-identifier hs-var">providedMemberTypes</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UnionTypeDefinition
</span><a href="#local-6989586621689498144"><span class="hs-identifier hs-var">providedUnion</span></a></span><span>
</span><span id="line-800"></span><span>
</span><span id="line-801"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">G.UnionTypeDefinition</span></span><span> </span><span class="annot"><span class="annottext">Maybe Description
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621689498141"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498141"><span class="hs-identifier hs-var">upstreamName</span></a></span></span><span> </span><span id="local-6989586621689498139"><span class="annot"><span class="annottext">[Directive Void]
</span><a href="#local-6989586621689498139"><span class="hs-identifier hs-var">upstreamDirectives</span></a></span></span><span> </span><span id="local-6989586621689498133"><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621689498133"><span class="hs-identifier hs-var">upstreamMemberTypes</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">UnionTypeDefinition
</span><a href="#local-6989586621689498143"><span class="hs-identifier hs-var">upstreamUnion</span></a></span><span>
</span><span id="line-802"></span><span>
</span><span id="line-803"></span><span>    </span><span id="local-6989586621689498137"><span class="annot"><span class="annottext">memberTypesDiff :: HashSet Name
</span><a href="#local-6989586621689498137"><span class="hs-identifier hs-var hs-var">memberTypesDiff</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Name] -&gt; [Name] -&gt; HashSet Name
forall a. (Eq a, Hashable a) =&gt; [a] -&gt; [a] -&gt; HashSet a
</span><a href="Data.List.Extended.html#getDifference"><span class="hs-identifier hs-var">getDifference</span></a></span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621689498134"><span class="hs-identifier hs-var">providedMemberTypes</span></a></span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621689498133"><span class="hs-identifier hs-var">upstreamMemberTypes</span></a></span><span>
</span><span id="line-804"></span><span>
</span><span id="line-805"></span><span id="local-6989586621689498612"><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#validateObjectDefinition"><span class="hs-identifier hs-type">validateObjectDefinition</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-806"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadValidate</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#RoleBasedSchemaValidationError"><span class="hs-identifier hs-type">RoleBasedSchemaValidationError</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621689498612"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-807"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">MonadReader</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.SchemaDocument</span></span><span> </span><span class="annot"><a href="#local-6989586621689498612"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-808"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-809"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">G.ObjectTypeDefinition</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.InputValueDefinition</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-810"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">G.ObjectTypeDefinition</span></span><span> </span><span class="annot"><a href="Hasura.RQL.Types.RemoteSchema.html#RemoteSchemaInputValueDefinition"><span class="hs-identifier hs-type">RemoteSchemaInputValueDefinition</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-811"></span><span>  </span><span class="hs-comment">-- | Interfaces declared by in the role-based schema</span><span>
</span><span id="line-812"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">S.HashSet</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-813"></span><span>  </span><span class="annot"><a href="#local-6989586621689498612"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">G.ObjectTypeDefinition</span></span><span> </span><span class="annot"><a href="Hasura.RQL.Types.RemoteSchema.html#RemoteSchemaInputValueDefinition"><span class="hs-identifier hs-type">RemoteSchemaInputValueDefinition</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-814"></span><span id="validateObjectDefinition"><span class="annot"><span class="annottext">validateObjectDefinition :: ObjectTypeDefinition InputValueDefinition
-&gt; ObjectTypeDefinition RemoteSchemaInputValueDefinition
-&gt; HashSet Name
-&gt; m (ObjectTypeDefinition RemoteSchemaInputValueDefinition)
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#validateObjectDefinition"><span class="hs-identifier hs-var hs-var">validateObjectDefinition</span></a></span></span><span> </span><span id="local-6989586621689498131"><span class="annot"><span class="annottext">ObjectTypeDefinition InputValueDefinition
</span><a href="#local-6989586621689498131"><span class="hs-identifier hs-var">providedObj</span></a></span></span><span> </span><span id="local-6989586621689498130"><span class="annot"><span class="annottext">ObjectTypeDefinition RemoteSchemaInputValueDefinition
</span><a href="#local-6989586621689498130"><span class="hs-identifier hs-var">upstreamObj</span></a></span></span><span> </span><span id="local-6989586621689498129"><span class="annot"><span class="annottext">HashSet Name
</span><a href="#local-6989586621689498129"><span class="hs-identifier hs-var">interfacesDeclared</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-815"></span><span>  </span><span class="annot"><span class="annottext">Bool -&gt; m () -&gt; m ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">when</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498128"><span class="hs-identifier hs-var">providedName</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Name -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498127"><span class="hs-identifier hs-var">upstreamName</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(m () -&gt; m ()) -&gt; m () -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-816"></span><span>    </span><span class="annot"><span class="annottext">[RoleBasedSchemaValidationError] -&gt; m ()
forall e (m :: * -&gt; *). MonadValidate e m =&gt; e -&gt; m ()
</span><span class="hs-identifier hs-var">dispute</span></span><span> </span><span class="annot"><span class="annottext">([RoleBasedSchemaValidationError] -&gt; m ())
-&gt; [RoleBasedSchemaValidationError] -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-817"></span><span>      </span><span class="annot"><span class="annottext">RoleBasedSchemaValidationError -&gt; [RoleBasedSchemaValidationError]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(RoleBasedSchemaValidationError
 -&gt; [RoleBasedSchemaValidationError])
-&gt; RoleBasedSchemaValidationError
-&gt; [RoleBasedSchemaValidationError]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-818"></span><span>        </span><span class="annot"><span class="annottext">Name -&gt; Name -&gt; GraphQLType -&gt; RoleBasedSchemaValidationError
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#UnexpectedNonMatchingNames"><span class="hs-identifier hs-var">UnexpectedNonMatchingNames</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498128"><span class="hs-identifier hs-var">providedName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498127"><span class="hs-identifier hs-var">upstreamName</span></a></span><span> </span><span class="annot"><span class="annottext">GraphQLType
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#Object"><span class="hs-identifier hs-var">Object</span></a></span><span>
</span><span id="line-819"></span><span>  </span><span class="annot"><span class="annottext">m (Maybe (Directive Void)) -&gt; m ()
forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span><span class="hs-identifier hs-var">void</span></span><span> </span><span class="annot"><span class="annottext">(m (Maybe (Directive Void)) -&gt; m ())
-&gt; m (Maybe (Directive Void)) -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Directive Void]
-&gt; [Directive Void]
-&gt; TypeSystemDirectiveLocation
-&gt; (GraphQLType, Name)
-&gt; m (Maybe (Directive Void))
forall (m :: * -&gt; *) a.
MonadValidate [RoleBasedSchemaValidationError] m =&gt;
[Directive a]
-&gt; [Directive a]
-&gt; TypeSystemDirectiveLocation
-&gt; (GraphQLType, Name)
-&gt; m (Maybe (Directive a))
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#validateDirectives"><span class="hs-identifier hs-var">validateDirectives</span></a></span><span> </span><span class="annot"><span class="annottext">[Directive Void]
</span><a href="#local-6989586621689498126"><span class="hs-identifier hs-var">providedDirectives</span></a></span><span> </span><span class="annot"><span class="annottext">[Directive Void]
</span><a href="#local-6989586621689498125"><span class="hs-identifier hs-var">upstreamDirectives</span></a></span><span> </span><span class="annot"><span class="annottext">TypeSystemDirectiveLocation
</span><span class="hs-identifier hs-var">G.TSDLOBJECT</span></span><span> </span><span class="annot"><span class="annottext">((GraphQLType, Name) -&gt; m (Maybe (Directive Void)))
-&gt; (GraphQLType, Name) -&gt; m (Maybe (Directive Void))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">GraphQLType
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#Object"><span class="hs-identifier hs-var">Object</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498128"><span class="hs-identifier hs-var">providedName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-820"></span><span>  </span><span class="annot"><span class="annottext">Maybe (NonEmpty Name) -&gt; (NonEmpty Name -&gt; m ()) -&gt; m ()
forall (m :: * -&gt; *) a.
Applicative m =&gt;
Maybe a -&gt; (a -&gt; m ()) -&gt; m ()
</span><a href="Hasura.Prelude.html#onJust"><span class="hs-identifier hs-var">onJust</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Name] -&gt; Maybe (NonEmpty Name)
forall a. [a] -&gt; Maybe (NonEmpty a)
</span><span class="hs-identifier hs-var">NE.nonEmpty</span></span><span> </span><span class="annot"><span class="annottext">([Name] -&gt; Maybe (NonEmpty Name))
-&gt; [Name] -&gt; Maybe (NonEmpty Name)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HashSet Name -&gt; [Name]
forall a. HashSet a -&gt; [a]
</span><span class="hs-identifier hs-var">S.toList</span></span><span> </span><span class="annot"><span class="annottext">HashSet Name
</span><a href="#local-6989586621689498123"><span class="hs-identifier hs-var">customInterfaces</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((NonEmpty Name -&gt; m ()) -&gt; m ())
-&gt; (NonEmpty Name -&gt; m ()) -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621689498122"><span class="annot"><span class="annottext">NonEmpty Name
</span><a href="#local-6989586621689498122"><span class="hs-identifier hs-var">ifaces</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-821"></span><span>    </span><span class="annot"><span class="annottext">[RoleBasedSchemaValidationError] -&gt; m ()
forall e (m :: * -&gt; *). MonadValidate e m =&gt; e -&gt; m ()
</span><span class="hs-identifier hs-var">dispute</span></span><span> </span><span class="annot"><span class="annottext">([RoleBasedSchemaValidationError] -&gt; m ())
-&gt; [RoleBasedSchemaValidationError] -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">RoleBasedSchemaValidationError -&gt; [RoleBasedSchemaValidationError]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(RoleBasedSchemaValidationError
 -&gt; [RoleBasedSchemaValidationError])
-&gt; RoleBasedSchemaValidationError
-&gt; [RoleBasedSchemaValidationError]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; NonEmpty Name -&gt; RoleBasedSchemaValidationError
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#CustomInterfacesNotAllowed"><span class="hs-identifier hs-var">CustomInterfacesNotAllowed</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498128"><span class="hs-identifier hs-var">providedName</span></a></span><span> </span><span class="annot"><span class="annottext">NonEmpty Name
</span><a href="#local-6989586621689498122"><span class="hs-identifier hs-var">ifaces</span></a></span><span>
</span><span id="line-822"></span><span>  </span><span class="annot"><span class="annottext">Maybe (NonEmpty Name) -&gt; (NonEmpty Name -&gt; m ()) -&gt; m ()
forall (m :: * -&gt; *) a.
Applicative m =&gt;
Maybe a -&gt; (a -&gt; m ()) -&gt; m ()
</span><a href="Hasura.Prelude.html#onJust"><span class="hs-identifier hs-var">onJust</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Name] -&gt; Maybe (NonEmpty Name)
forall a. [a] -&gt; Maybe (NonEmpty a)
</span><span class="hs-identifier hs-var">NE.nonEmpty</span></span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621689498121"><span class="hs-identifier hs-var">nonExistingInterfaces</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((NonEmpty Name -&gt; m ()) -&gt; m ())
-&gt; (NonEmpty Name -&gt; m ()) -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621689498120"><span class="annot"><span class="annottext">NonEmpty Name
</span><a href="#local-6989586621689498120"><span class="hs-identifier hs-var">ifaces</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-823"></span><span>    </span><span class="annot"><span class="annottext">[RoleBasedSchemaValidationError] -&gt; m ()
forall e (m :: * -&gt; *). MonadValidate e m =&gt; e -&gt; m ()
</span><span class="hs-identifier hs-var">dispute</span></span><span> </span><span class="annot"><span class="annottext">([RoleBasedSchemaValidationError] -&gt; m ())
-&gt; [RoleBasedSchemaValidationError] -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">RoleBasedSchemaValidationError -&gt; [RoleBasedSchemaValidationError]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(RoleBasedSchemaValidationError
 -&gt; [RoleBasedSchemaValidationError])
-&gt; RoleBasedSchemaValidationError
-&gt; [RoleBasedSchemaValidationError]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; NonEmpty Name -&gt; RoleBasedSchemaValidationError
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#ObjectImplementsNonExistingInterfaces"><span class="hs-identifier hs-var">ObjectImplementsNonExistingInterfaces</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498128"><span class="hs-identifier hs-var">providedName</span></a></span><span> </span><span class="annot"><span class="annottext">NonEmpty Name
</span><a href="#local-6989586621689498120"><span class="hs-identifier hs-var">ifaces</span></a></span><span>
</span><span id="line-824"></span><span>  </span><span id="local-6989586621689498119"><span class="annot"><span class="annottext">[FieldDefinition RemoteSchemaInputValueDefinition]
</span><a href="#local-6989586621689498119"><span class="hs-identifier hs-var">fieldDefinitions</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-825"></span><span>    </span><span class="annot"><span class="annottext">[FieldDefinition InputValueDefinition]
-&gt; [FieldDefinition RemoteSchemaInputValueDefinition]
-&gt; (FieldDefinitionType, Name)
-&gt; m [FieldDefinition RemoteSchemaInputValueDefinition]
forall (m :: * -&gt; *).
(MonadValidate [RoleBasedSchemaValidationError] m,
 MonadReader SchemaDocument m) =&gt;
[FieldDefinition InputValueDefinition]
-&gt; [FieldDefinition RemoteSchemaInputValueDefinition]
-&gt; (FieldDefinitionType, Name)
-&gt; m [FieldDefinition RemoteSchemaInputValueDefinition]
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#validateFieldDefinitions"><span class="hs-identifier hs-var">validateFieldDefinitions</span></a></span><span> </span><span class="annot"><span class="annottext">[FieldDefinition InputValueDefinition]
</span><a href="#local-6989586621689498118"><span class="hs-identifier hs-var">providedFldDefnitions</span></a></span><span> </span><span class="annot"><span class="annottext">[FieldDefinition RemoteSchemaInputValueDefinition]
</span><a href="#local-6989586621689498117"><span class="hs-identifier hs-var">upstreamFldDefnitions</span></a></span><span> </span><span class="annot"><span class="annottext">((FieldDefinitionType, Name)
 -&gt; m [FieldDefinition RemoteSchemaInputValueDefinition])
-&gt; (FieldDefinitionType, Name)
-&gt; m [FieldDefinition RemoteSchemaInputValueDefinition]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FieldDefinitionType
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#ObjectField"><span class="hs-identifier hs-var">ObjectField</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498128"><span class="hs-identifier hs-var">providedName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-826"></span><span>  </span><span class="annot"><span class="annottext">ObjectTypeDefinition RemoteSchemaInputValueDefinition
-&gt; m (ObjectTypeDefinition RemoteSchemaInputValueDefinition)
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(ObjectTypeDefinition RemoteSchemaInputValueDefinition
 -&gt; m (ObjectTypeDefinition RemoteSchemaInputValueDefinition))
-&gt; ObjectTypeDefinition RemoteSchemaInputValueDefinition
-&gt; m (ObjectTypeDefinition RemoteSchemaInputValueDefinition)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ObjectTypeDefinition InputValueDefinition
</span><a href="#local-6989586621689498131"><span class="hs-identifier hs-var">providedObj</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><span class="annottext">_otdFieldsDefinition :: [FieldDefinition RemoteSchemaInputValueDefinition]
</span><span class="hs-identifier hs-var">G._otdFieldsDefinition</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[FieldDefinition RemoteSchemaInputValueDefinition]
</span><a href="#local-6989586621689498119"><span class="hs-identifier hs-var">fieldDefinitions</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-827"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-828"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">G.ObjectTypeDefinition</span></span><span>
</span><span id="line-829"></span><span>      </span><span class="annot"><span class="annottext">Maybe Description
</span><span class="hs-identifier">_</span></span><span>
</span><span id="line-830"></span><span>      </span><span id="local-6989586621689498128"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498128"><span class="hs-identifier hs-var">providedName</span></a></span></span><span>
</span><span id="line-831"></span><span>      </span><span id="local-6989586621689498114"><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621689498114"><span class="hs-identifier hs-var">providedIfaces</span></a></span></span><span>
</span><span id="line-832"></span><span>      </span><span id="local-6989586621689498126"><span class="annot"><span class="annottext">[Directive Void]
</span><a href="#local-6989586621689498126"><span class="hs-identifier hs-var">providedDirectives</span></a></span></span><span>
</span><span id="line-833"></span><span>      </span><span id="local-6989586621689498118"><span class="annot"><span class="annottext">[FieldDefinition InputValueDefinition]
</span><a href="#local-6989586621689498118"><span class="hs-identifier hs-var">providedFldDefnitions</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ObjectTypeDefinition InputValueDefinition
</span><a href="#local-6989586621689498131"><span class="hs-identifier hs-var">providedObj</span></a></span><span>
</span><span id="line-834"></span><span>
</span><span id="line-835"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">G.ObjectTypeDefinition</span></span><span>
</span><span id="line-836"></span><span>      </span><span class="annot"><span class="annottext">Maybe Description
</span><span class="hs-identifier">_</span></span><span>
</span><span id="line-837"></span><span>      </span><span id="local-6989586621689498127"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498127"><span class="hs-identifier hs-var">upstreamName</span></a></span></span><span>
</span><span id="line-838"></span><span>      </span><span id="local-6989586621689498113"><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621689498113"><span class="hs-identifier hs-var">upstreamIfaces</span></a></span></span><span>
</span><span id="line-839"></span><span>      </span><span id="local-6989586621689498125"><span class="annot"><span class="annottext">[Directive Void]
</span><a href="#local-6989586621689498125"><span class="hs-identifier hs-var">upstreamDirectives</span></a></span></span><span>
</span><span id="line-840"></span><span>      </span><span id="local-6989586621689498117"><span class="annot"><span class="annottext">[FieldDefinition RemoteSchemaInputValueDefinition]
</span><a href="#local-6989586621689498117"><span class="hs-identifier hs-var">upstreamFldDefnitions</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ObjectTypeDefinition RemoteSchemaInputValueDefinition
</span><a href="#local-6989586621689498130"><span class="hs-identifier hs-var">upstreamObj</span></a></span><span>
</span><span id="line-841"></span><span>
</span><span id="line-842"></span><span>    </span><span id="local-6989586621689498112"><span class="annot"><span class="annottext">interfacesDiff :: HashSet Name
</span><a href="#local-6989586621689498112"><span class="hs-identifier hs-var hs-var">interfacesDiff</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Name] -&gt; [Name] -&gt; HashSet Name
forall a. (Eq a, Hashable a) =&gt; [a] -&gt; [a] -&gt; HashSet a
</span><a href="Data.List.Extended.html#getDifference"><span class="hs-identifier hs-var">getDifference</span></a></span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621689498114"><span class="hs-identifier hs-var">providedIfaces</span></a></span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621689498113"><span class="hs-identifier hs-var">upstreamIfaces</span></a></span><span>
</span><span id="line-843"></span><span>
</span><span id="line-844"></span><span>    </span><span id="local-6989586621689498111"><span class="annot"><span class="annottext">providedIfacesSet :: HashSet Name
</span><a href="#local-6989586621689498111"><span class="hs-identifier hs-var hs-var">providedIfacesSet</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Name] -&gt; HashSet Name
forall a. (Eq a, Hashable a) =&gt; [a] -&gt; HashSet a
</span><span class="hs-identifier hs-var">S.fromList</span></span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621689498114"><span class="hs-identifier hs-var">providedIfaces</span></a></span><span>
</span><span id="line-845"></span><span>
</span><span id="line-846"></span><span>    </span><span id="local-6989586621689498123"><span class="annot"><span class="annottext">customInterfaces :: HashSet Name
</span><a href="#local-6989586621689498123"><span class="hs-identifier hs-var hs-var">customInterfaces</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HashSet Name -&gt; HashSet Name -&gt; HashSet Name
forall a. (Eq a, Hashable a) =&gt; HashSet a -&gt; HashSet a -&gt; HashSet a
</span><span class="hs-identifier hs-var">S.intersection</span></span><span> </span><span class="annot"><span class="annottext">HashSet Name
</span><a href="#local-6989586621689498112"><span class="hs-identifier hs-var">interfacesDiff</span></a></span><span> </span><span class="annot"><span class="annottext">HashSet Name
</span><a href="#local-6989586621689498129"><span class="hs-identifier hs-var">interfacesDeclared</span></a></span><span>
</span><span id="line-847"></span><span>
</span><span id="line-848"></span><span>    </span><span id="local-6989586621689498121"><span class="annot"><span class="annottext">nonExistingInterfaces :: [Name]
</span><a href="#local-6989586621689498121"><span class="hs-identifier hs-var hs-var">nonExistingInterfaces</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HashSet Name -&gt; [Name]
forall a. HashSet a -&gt; [a]
</span><span class="hs-identifier hs-var">S.toList</span></span><span> </span><span class="annot"><span class="annottext">(HashSet Name -&gt; [Name]) -&gt; HashSet Name -&gt; [Name]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HashSet Name -&gt; HashSet Name -&gt; HashSet Name
forall a. (Eq a, Hashable a) =&gt; HashSet a -&gt; HashSet a -&gt; HashSet a
</span><span class="hs-identifier hs-var">S.difference</span></span><span> </span><span class="annot"><span class="annottext">HashSet Name
</span><a href="#local-6989586621689498112"><span class="hs-identifier hs-var">interfacesDiff</span></a></span><span> </span><span class="annot"><span class="annottext">HashSet Name
</span><a href="#local-6989586621689498111"><span class="hs-identifier hs-var">providedIfacesSet</span></a></span><span>
</span><span id="line-849"></span><span>
</span><span id="line-850"></span><span class="hs-comment">-- | helper function to validate the schema definitions mentioned in the schema</span><span>
</span><span id="line-851"></span><span class="hs-comment">-- document.</span><span>
</span><span id="line-852"></span><span id="local-6989586621689498620"><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#validateSchemaDefinitions"><span class="hs-identifier hs-type">validateSchemaDefinitions</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-853"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadValidate</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#RoleBasedSchemaValidationError"><span class="hs-identifier hs-type">RoleBasedSchemaValidationError</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621689498620"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-854"></span><span>  </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">G.SchemaDefinition</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-855"></span><span>  </span><span class="annot"><a href="#local-6989586621689498620"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.Name</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.Name</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.Name</span></span><span class="hs-special">)</span></span><span>
</span><span id="line-856"></span><span id="validateSchemaDefinitions"><span class="annot"><span class="annottext">validateSchemaDefinitions :: [SchemaDefinition] -&gt; m (Maybe Name, Maybe Name, Maybe Name)
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#validateSchemaDefinitions"><span class="hs-identifier hs-var hs-var">validateSchemaDefinitions</span></a></span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Maybe Name, Maybe Name, Maybe Name)
-&gt; m (Maybe Name, Maybe Name, Maybe Name)
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">((Maybe Name, Maybe Name, Maybe Name)
 -&gt; m (Maybe Name, Maybe Name, Maybe Name))
-&gt; (Maybe Name, Maybe Name, Maybe Name)
-&gt; m (Maybe Name, Maybe Name, Maybe Name)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe Name
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe Name
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe Name
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">)</span><span>
</span><span id="line-857"></span><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#validateSchemaDefinitions"><span class="hs-identifier hs-var">validateSchemaDefinitions</span></a></span><span> </span><span class="hs-special">[</span><span id="local-6989586621689498107"><span class="annot"><span class="annottext">SchemaDefinition
</span><a href="#local-6989586621689498107"><span class="hs-identifier hs-var">schemaDefn</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-858"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.SchemaDefinition</span></span><span> </span><span class="annot"><span class="annottext">Maybe [Directive Void]
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621689498105"><span class="annot"><span class="annottext">[RootOperationTypeDefinition]
</span><a href="#local-6989586621689498105"><span class="hs-identifier hs-var">rootOpsTypes</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SchemaDefinition
</span><a href="#local-6989586621689498107"><span class="hs-identifier hs-var">schemaDefn</span></a></span><span>
</span><span id="line-859"></span><span>      </span><span id="local-6989586621689498104"><span class="annot"><span class="annottext">rootOpsTypesMap :: HashMap OperationType RootOperationTypeDefinition
</span><a href="#local-6989586621689498104"><span class="hs-identifier hs-var hs-var">rootOpsTypesMap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(RootOperationTypeDefinition -&gt; OperationType)
-&gt; [RootOperationTypeDefinition]
-&gt; HashMap OperationType RootOperationTypeDefinition
forall k a. (Eq k, Hashable k) =&gt; (a -&gt; k) -&gt; [a] -&gt; HashMap k a
</span><a href="Hasura.Prelude.html#mapFromL"><span class="hs-identifier hs-var">mapFromL</span></a></span><span> </span><span class="annot"><span class="annottext">RootOperationTypeDefinition -&gt; OperationType
</span><span class="hs-identifier hs-var hs-var">G._rotdOperationType</span></span><span> </span><span class="annot"><span class="annottext">[RootOperationTypeDefinition]
</span><a href="#local-6989586621689498105"><span class="hs-identifier hs-var">rootOpsTypes</span></a></span><span>
</span><span id="line-860"></span><span>      </span><span id="local-6989586621689498102"><span class="annot"><span class="annottext">mQueryRootName :: Maybe Name
</span><a href="#local-6989586621689498102"><span class="hs-identifier hs-var hs-var">mQueryRootName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RootOperationTypeDefinition -&gt; Name
</span><span class="hs-identifier hs-var hs-var">G._rotdOperationTypeType</span></span><span> </span><span class="annot"><span class="annottext">(RootOperationTypeDefinition -&gt; Name)
-&gt; Maybe RootOperationTypeDefinition -&gt; Maybe Name
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">OperationType
-&gt; HashMap OperationType RootOperationTypeDefinition
-&gt; Maybe RootOperationTypeDefinition
forall k v. (Eq k, Hashable k) =&gt; k -&gt; HashMap k v -&gt; Maybe v
</span><span class="hs-identifier hs-var">Map.lookup</span></span><span> </span><span class="annot"><span class="annottext">OperationType
</span><span class="hs-identifier hs-var">G.OperationTypeQuery</span></span><span> </span><span class="annot"><span class="annottext">HashMap OperationType RootOperationTypeDefinition
</span><a href="#local-6989586621689498104"><span class="hs-identifier hs-var">rootOpsTypesMap</span></a></span><span>
</span><span id="line-861"></span><span>      </span><span id="local-6989586621689498099"><span class="annot"><span class="annottext">mMutationRootName :: Maybe Name
</span><a href="#local-6989586621689498099"><span class="hs-identifier hs-var hs-var">mMutationRootName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RootOperationTypeDefinition -&gt; Name
</span><span class="hs-identifier hs-var hs-var">G._rotdOperationTypeType</span></span><span> </span><span class="annot"><span class="annottext">(RootOperationTypeDefinition -&gt; Name)
-&gt; Maybe RootOperationTypeDefinition -&gt; Maybe Name
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">OperationType
-&gt; HashMap OperationType RootOperationTypeDefinition
-&gt; Maybe RootOperationTypeDefinition
forall k v. (Eq k, Hashable k) =&gt; k -&gt; HashMap k v -&gt; Maybe v
</span><span class="hs-identifier hs-var">Map.lookup</span></span><span> </span><span class="annot"><span class="annottext">OperationType
</span><span class="hs-identifier hs-var">G.OperationTypeMutation</span></span><span> </span><span class="annot"><span class="annottext">HashMap OperationType RootOperationTypeDefinition
</span><a href="#local-6989586621689498104"><span class="hs-identifier hs-var">rootOpsTypesMap</span></a></span><span>
</span><span id="line-862"></span><span>      </span><span id="local-6989586621689498097"><span class="annot"><span class="annottext">mSubscriptionRootName :: Maybe Name
</span><a href="#local-6989586621689498097"><span class="hs-identifier hs-var hs-var">mSubscriptionRootName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RootOperationTypeDefinition -&gt; Name
</span><span class="hs-identifier hs-var hs-var">G._rotdOperationTypeType</span></span><span> </span><span class="annot"><span class="annottext">(RootOperationTypeDefinition -&gt; Name)
-&gt; Maybe RootOperationTypeDefinition -&gt; Maybe Name
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">OperationType
-&gt; HashMap OperationType RootOperationTypeDefinition
-&gt; Maybe RootOperationTypeDefinition
forall k v. (Eq k, Hashable k) =&gt; k -&gt; HashMap k v -&gt; Maybe v
</span><span class="hs-identifier hs-var">Map.lookup</span></span><span> </span><span class="annot"><span class="annottext">OperationType
</span><span class="hs-identifier hs-var">G.OperationTypeSubscription</span></span><span> </span><span class="annot"><span class="annottext">HashMap OperationType RootOperationTypeDefinition
</span><a href="#local-6989586621689498104"><span class="hs-identifier hs-var">rootOpsTypesMap</span></a></span><span>
</span><span id="line-863"></span><span>  </span><span class="annot"><span class="annottext">(Maybe Name, Maybe Name, Maybe Name)
-&gt; m (Maybe Name, Maybe Name, Maybe Name)
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621689498102"><span class="hs-identifier hs-var">mQueryRootName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621689498099"><span class="hs-identifier hs-var">mMutationRootName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621689498097"><span class="hs-identifier hs-var">mSubscriptionRootName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-864"></span><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#validateSchemaDefinitions"><span class="hs-identifier hs-var">validateSchemaDefinitions</span></a></span><span> </span><span class="annot"><span class="annottext">[SchemaDefinition]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[RoleBasedSchemaValidationError]
-&gt; m (Maybe Name, Maybe Name, Maybe Name)
forall e (m :: * -&gt; *) a. MonadValidate e m =&gt; e -&gt; m a
</span><span class="hs-identifier hs-var">refute</span></span><span> </span><span class="annot"><span class="annottext">([RoleBasedSchemaValidationError]
 -&gt; m (Maybe Name, Maybe Name, Maybe Name))
-&gt; [RoleBasedSchemaValidationError]
-&gt; m (Maybe Name, Maybe Name, Maybe Name)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">RoleBasedSchemaValidationError -&gt; [RoleBasedSchemaValidationError]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(RoleBasedSchemaValidationError
 -&gt; [RoleBasedSchemaValidationError])
-&gt; RoleBasedSchemaValidationError
-&gt; [RoleBasedSchemaValidationError]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">RoleBasedSchemaValidationError
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#MultipleSchemaDefinitionsFound"><span class="hs-identifier hs-var">MultipleSchemaDefinitionsFound</span></a></span><span>
</span><span id="line-865"></span><span>
</span><span id="line-866"></span><span class="hs-comment">-- | Construction of the `possibleTypes` map for interfaces, while parsing the</span><span>
</span><span id="line-867"></span><span class="hs-comment">-- user provided Schema document, it doesn't include the `possibleTypes`, so</span><span>
</span><span id="line-868"></span><span class="hs-comment">-- constructing here, manually.</span><span>
</span><span id="line-869"></span><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#createPossibleTypesMap"><span class="hs-identifier hs-type">createPossibleTypesMap</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">G.ObjectTypeDefinition</span></span><span> </span><span class="annot"><a href="Hasura.RQL.Types.RemoteSchema.html#RemoteSchemaInputValueDefinition"><span class="hs-identifier hs-type">RemoteSchemaInputValueDefinition</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">HashMap</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.Name</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">G.Name</span></span><span class="hs-special">]</span><span>
</span><span id="line-870"></span><span id="createPossibleTypesMap"><span class="annot"><span class="annottext">createPossibleTypesMap :: [ObjectTypeDefinition RemoteSchemaInputValueDefinition]
-&gt; HashMap Name [Name]
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#createPossibleTypesMap"><span class="hs-identifier hs-var hs-var">createPossibleTypesMap</span></a></span></span><span> </span><span id="local-6989586621689498094"><span class="annot"><span class="annottext">[ObjectTypeDefinition RemoteSchemaInputValueDefinition]
</span><a href="#local-6989586621689498094"><span class="hs-identifier hs-var">objectDefinitions</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-871"></span><span>  </span><span class="annot"><span class="annottext">([Name] -&gt; [Name] -&gt; [Name])
-&gt; [(Name, [Name])] -&gt; HashMap Name [Name]
forall k v.
(Eq k, Hashable k) =&gt;
(v -&gt; v -&gt; v) -&gt; [(k, v)] -&gt; HashMap k v
</span><span class="hs-identifier hs-var">Map.fromListWith</span></span><span> </span><span class="annot"><span class="annottext">[Name] -&gt; [Name] -&gt; [Name]
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">(&lt;&gt;)</span></span><span> </span><span class="annot"><span class="annottext">([(Name, [Name])] -&gt; HashMap Name [Name])
-&gt; [(Name, [Name])] -&gt; HashMap Name [Name]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-872"></span><span>    </span><span id="local-6989586621689498092"><span class="annot"><span class="annottext">ObjectTypeDefinition RemoteSchemaInputValueDefinition
</span><a href="#local-6989586621689498092"><span class="hs-identifier hs-var">objectDefinition</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[ObjectTypeDefinition RemoteSchemaInputValueDefinition]
</span><a href="#local-6989586621689498094"><span class="hs-identifier hs-var">objectDefinitions</span></a></span><span>
</span><span id="line-873"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621689498091"><span class="annot"><span class="annottext">objectName :: Name
</span><a href="#local-6989586621689498091"><span class="hs-identifier hs-var hs-var">objectName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ObjectTypeDefinition RemoteSchemaInputValueDefinition -&gt; Name
forall inputType. ObjectTypeDefinition inputType -&gt; Name
</span><span class="hs-identifier hs-var hs-var">G._otdName</span></span><span> </span><span class="annot"><span class="annottext">ObjectTypeDefinition RemoteSchemaInputValueDefinition
</span><a href="#local-6989586621689498092"><span class="hs-identifier hs-var">objectDefinition</span></a></span><span>
</span><span id="line-874"></span><span>    </span><span id="local-6989586621689498089"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498089"><span class="hs-identifier hs-var">interface</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ObjectTypeDefinition RemoteSchemaInputValueDefinition -&gt; [Name]
forall inputType. ObjectTypeDefinition inputType -&gt; [Name]
</span><span class="hs-identifier hs-var hs-var">G._otdImplementsInterfaces</span></span><span> </span><span class="annot"><span class="annottext">ObjectTypeDefinition RemoteSchemaInputValueDefinition
</span><a href="#local-6989586621689498092"><span class="hs-identifier hs-var">objectDefinition</span></a></span><span>
</span><span id="line-875"></span><span>    </span><span class="annot"><span class="annottext">(Name, [Name]) -&gt; [(Name, [Name])]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498089"><span class="hs-identifier hs-var">interface</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498091"><span class="hs-identifier hs-var">objectName</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-876"></span><span>
</span><span id="line-877"></span><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#partitionTypeSystemDefinitions"><span class="hs-identifier hs-type">partitionTypeSystemDefinitions</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-878"></span><span>  </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">G.TypeSystemDefinition</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-879"></span><span>  </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">G.SchemaDefinition</span></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">G.TypeDefinition</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.InputValueDefinition</span></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-880"></span><span id="partitionTypeSystemDefinitions"><span class="annot"><span class="annottext">partitionTypeSystemDefinitions :: [TypeSystemDefinition]
-&gt; ([SchemaDefinition], [TypeDefinition () InputValueDefinition])
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#partitionTypeSystemDefinitions"><span class="hs-identifier hs-var hs-var">partitionTypeSystemDefinitions</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(TypeSystemDefinition
 -&gt; ([SchemaDefinition], [TypeDefinition () InputValueDefinition])
 -&gt; ([SchemaDefinition], [TypeDefinition () InputValueDefinition]))
-&gt; ([SchemaDefinition], [TypeDefinition () InputValueDefinition])
-&gt; [TypeSystemDefinition]
-&gt; ([SchemaDefinition], [TypeDefinition () InputValueDefinition])
forall (t :: * -&gt; *) a b.
Foldable t =&gt;
(a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">foldr</span></span><span> </span><span class="annot"><span class="annottext">TypeSystemDefinition
-&gt; ([SchemaDefinition], [TypeDefinition () InputValueDefinition])
-&gt; ([SchemaDefinition], [TypeDefinition () InputValueDefinition])
</span><a href="#local-6989586621689498085"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-881"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-882"></span><span>    </span><span id="local-6989586621689498085"><span class="annot"><span class="annottext">f :: TypeSystemDefinition
-&gt; ([SchemaDefinition], [TypeDefinition () InputValueDefinition])
-&gt; ([SchemaDefinition], [TypeDefinition () InputValueDefinition])
</span><a href="#local-6989586621689498085"><span class="hs-identifier hs-var hs-var">f</span></a></span></span><span> </span><span id="local-6989586621689498084"><span class="annot"><span class="annottext">TypeSystemDefinition
</span><a href="#local-6989586621689498084"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621689498083"><span class="annot"><span class="annottext">[SchemaDefinition]
</span><a href="#local-6989586621689498083"><span class="hs-identifier hs-var">schemaDefinitions</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621689498082"><span class="annot"><span class="annottext">[TypeDefinition () InputValueDefinition]
</span><a href="#local-6989586621689498082"><span class="hs-identifier hs-var">typeDefinitions</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">TypeSystemDefinition
</span><a href="#local-6989586621689498084"><span class="hs-identifier hs-var">d</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-883"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">G.TypeSystemDefinitionSchema</span></span><span> </span><span id="local-6989586621689498081"><span class="annot"><span class="annottext">SchemaDefinition
</span><a href="#local-6989586621689498081"><span class="hs-identifier hs-var">schemaDefinition</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">SchemaDefinition
</span><a href="#local-6989586621689498081"><span class="hs-identifier hs-var">schemaDefinition</span></a></span><span> </span><span class="annot"><span class="annottext">SchemaDefinition -&gt; [SchemaDefinition] -&gt; [SchemaDefinition]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">[SchemaDefinition]
</span><a href="#local-6989586621689498083"><span class="hs-identifier hs-var">schemaDefinitions</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[TypeDefinition () InputValueDefinition]
</span><a href="#local-6989586621689498082"><span class="hs-identifier hs-var">typeDefinitions</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-884"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">G.TypeSystemDefinitionType</span></span><span> </span><span id="local-6989586621689498080"><span class="annot"><span class="annottext">TypeDefinition () InputValueDefinition
</span><a href="#local-6989586621689498080"><span class="hs-identifier hs-var">typeDefinition</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[SchemaDefinition]
</span><a href="#local-6989586621689498083"><span class="hs-identifier hs-var">schemaDefinitions</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TypeDefinition () InputValueDefinition
</span><a href="#local-6989586621689498080"><span class="hs-identifier hs-var">typeDefinition</span></a></span><span> </span><span class="annot"><span class="annottext">TypeDefinition () InputValueDefinition
-&gt; [TypeDefinition () InputValueDefinition]
-&gt; [TypeDefinition () InputValueDefinition]
forall a. a -&gt; [a] -&gt; [a]
</span><span class="hs-glyph hs-var">:</span></span><span> </span><span class="annot"><span class="annottext">[TypeDefinition () InputValueDefinition]
</span><a href="#local-6989586621689498082"><span class="hs-identifier hs-var">typeDefinitions</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-885"></span><span>
</span><span id="line-886"></span><span class="hs-comment">-- | getSchemaDocIntrospection converts the `PartitionedTypeDefinitions` to</span><span>
</span><span id="line-887"></span><span class="hs-comment">-- `IntrospectionResult` because the function `buildRemoteParser` function which</span><span>
</span><span id="line-888"></span><span class="hs-comment">-- builds the remote schema parsers accepts an `IntrospectionResult`. The</span><span>
</span><span id="line-889"></span><span class="hs-comment">-- conversion involves converting `G.TypeDefinition ()` to `G.TypeDefinition</span><span>
</span><span id="line-890"></span><span class="hs-comment">-- [G.Name]`. The `[G.Name]` here being the list of object names that an</span><span>
</span><span id="line-891"></span><span class="hs-comment">-- interface implements. This is needed to be done here by-hand because while</span><span>
</span><span id="line-892"></span><span class="hs-comment">-- specifying the `SchemaDocument` through the GraphQL DSL, it doesn't include</span><span>
</span><span id="line-893"></span><span class="hs-comment">-- the `possibleTypes` along with an object.</span><span>
</span><span id="line-894"></span><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#getSchemaDocIntrospection"><span class="hs-identifier hs-type">getSchemaDocIntrospection</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-895"></span><span>  </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">G.TypeDefinition</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.RemoteSchema.html#RemoteSchemaInputValueDefinition"><span class="hs-identifier hs-type">RemoteSchemaInputValueDefinition</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-896"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.Name</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.Name</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.Name</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-897"></span><span>  </span><span class="annot"><a href="Hasura.RQL.Types.SchemaCache.html#IntrospectionResult"><span class="hs-identifier hs-type">IntrospectionResult</span></a></span><span>
</span><span id="line-898"></span><span id="getSchemaDocIntrospection"><span class="annot"><span class="annottext">getSchemaDocIntrospection :: [TypeDefinition () RemoteSchemaInputValueDefinition]
-&gt; (Maybe Name, Maybe Name, Maybe Name) -&gt; IntrospectionResult
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#getSchemaDocIntrospection"><span class="hs-identifier hs-var hs-var">getSchemaDocIntrospection</span></a></span></span><span> </span><span id="local-6989586621689498078"><span class="annot"><span class="annottext">[TypeDefinition () RemoteSchemaInputValueDefinition]
</span><a href="#local-6989586621689498078"><span class="hs-identifier hs-var">providedTypeDefns</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621689498077"><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621689498077"><span class="hs-identifier hs-var">queryRoot</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621689498076"><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621689498076"><span class="hs-identifier hs-var">mutationRoot</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621689498075"><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621689498075"><span class="hs-identifier hs-var">subscriptionRoot</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-899"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621689498074"><span class="annot"><span class="annottext">objects :: [ObjectTypeDefinition RemoteSchemaInputValueDefinition]
</span><a href="#local-6989586621689498074"><span class="hs-identifier hs-var hs-var">objects</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((TypeDefinition () RemoteSchemaInputValueDefinition
  -&gt; Maybe (ObjectTypeDefinition RemoteSchemaInputValueDefinition))
 -&gt; [TypeDefinition () RemoteSchemaInputValueDefinition]
 -&gt; [ObjectTypeDefinition RemoteSchemaInputValueDefinition])
-&gt; [TypeDefinition () RemoteSchemaInputValueDefinition]
-&gt; (TypeDefinition () RemoteSchemaInputValueDefinition
    -&gt; Maybe (ObjectTypeDefinition RemoteSchemaInputValueDefinition))
-&gt; [ObjectTypeDefinition RemoteSchemaInputValueDefinition]
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">(TypeDefinition () RemoteSchemaInputValueDefinition
 -&gt; Maybe (ObjectTypeDefinition RemoteSchemaInputValueDefinition))
-&gt; [TypeDefinition () RemoteSchemaInputValueDefinition]
-&gt; [ObjectTypeDefinition RemoteSchemaInputValueDefinition]
forall a b. (a -&gt; Maybe b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">mapMaybe</span></span><span> </span><span class="annot"><span class="annottext">[TypeDefinition () RemoteSchemaInputValueDefinition]
</span><a href="#local-6989586621689498078"><span class="hs-identifier hs-var">providedTypeDefns</span></a></span><span> </span><span class="annot"><span class="annottext">((TypeDefinition () RemoteSchemaInputValueDefinition
  -&gt; Maybe (ObjectTypeDefinition RemoteSchemaInputValueDefinition))
 -&gt; [ObjectTypeDefinition RemoteSchemaInputValueDefinition])
-&gt; (TypeDefinition () RemoteSchemaInputValueDefinition
    -&gt; Maybe (ObjectTypeDefinition RemoteSchemaInputValueDefinition))
-&gt; [ObjectTypeDefinition RemoteSchemaInputValueDefinition]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-900"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">G.TypeDefinitionObject</span></span><span> </span><span id="local-6989586621689498070"><span class="annot"><span class="annottext">ObjectTypeDefinition RemoteSchemaInputValueDefinition
</span><a href="#local-6989586621689498070"><span class="hs-identifier hs-var">obj</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ObjectTypeDefinition RemoteSchemaInputValueDefinition
-&gt; Maybe (ObjectTypeDefinition RemoteSchemaInputValueDefinition)
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">ObjectTypeDefinition RemoteSchemaInputValueDefinition
</span><a href="#local-6989586621689498070"><span class="hs-identifier hs-var">obj</span></a></span><span>
</span><span id="line-901"></span><span>        </span><span class="annot"><span class="annottext">TypeDefinition () RemoteSchemaInputValueDefinition
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe (ObjectTypeDefinition RemoteSchemaInputValueDefinition)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-902"></span><span>      </span><span id="local-6989586621689498069"><span class="annot"><span class="annottext">possibleTypesMap :: HashMap Name [Name]
</span><a href="#local-6989586621689498069"><span class="hs-identifier hs-var hs-var">possibleTypesMap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[ObjectTypeDefinition RemoteSchemaInputValueDefinition]
-&gt; HashMap Name [Name]
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#createPossibleTypesMap"><span class="hs-identifier hs-var">createPossibleTypesMap</span></a></span><span> </span><span class="annot"><span class="annottext">[ObjectTypeDefinition RemoteSchemaInputValueDefinition]
</span><a href="#local-6989586621689498074"><span class="hs-identifier hs-var">objects</span></a></span><span>
</span><span id="line-903"></span><span>      </span><span id="local-6989586621689498068"><span class="annot"><span class="annottext">modifiedTypeDefns :: [TypeDefinition [Name] RemoteSchemaInputValueDefinition]
</span><a href="#local-6989586621689498068"><span class="hs-identifier hs-var hs-var">modifiedTypeDefns</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-904"></span><span>        </span><span id="local-6989586621689498067"><span class="annot"><span class="annottext">TypeDefinition () RemoteSchemaInputValueDefinition
</span><a href="#local-6989586621689498067"><span class="hs-identifier hs-var">providedType</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[TypeDefinition () RemoteSchemaInputValueDefinition]
</span><a href="#local-6989586621689498078"><span class="hs-identifier hs-var">providedTypeDefns</span></a></span><span>
</span><span id="line-905"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">TypeDefinition () RemoteSchemaInputValueDefinition
</span><a href="#local-6989586621689498067"><span class="hs-identifier hs-var">providedType</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-906"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">G.TypeDefinitionInterface</span></span><span> </span><span id="local-6989586621689498065"><span class="annot"><span class="annottext">interface :: InterfaceTypeDefinition () RemoteSchemaInputValueDefinition
</span><a href="#local-6989586621689498065"><span class="hs-identifier hs-var">interface</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">G.InterfaceTypeDefinition</span></span><span> </span><span class="annot"><span class="annottext">Maybe Description
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621689498064"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498064"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="annot"><span class="annottext">[Directive Void]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">[FieldDefinition RemoteSchemaInputValueDefinition]
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">()
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-907"></span><span>            </span><span class="annot"><span class="annottext">TypeDefinition [Name] RemoteSchemaInputValueDefinition
-&gt; [TypeDefinition [Name] RemoteSchemaInputValueDefinition]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(TypeDefinition [Name] RemoteSchemaInputValueDefinition
 -&gt; [TypeDefinition [Name] RemoteSchemaInputValueDefinition])
-&gt; TypeDefinition [Name] RemoteSchemaInputValueDefinition
-&gt; [TypeDefinition [Name] RemoteSchemaInputValueDefinition]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-908"></span><span>              </span><span class="annot"><span class="annottext">InterfaceTypeDefinition [Name] RemoteSchemaInputValueDefinition
-&gt; TypeDefinition [Name] RemoteSchemaInputValueDefinition
forall possibleTypes inputType.
InterfaceTypeDefinition possibleTypes inputType
-&gt; TypeDefinition possibleTypes inputType
</span><span class="hs-identifier hs-var">G.TypeDefinitionInterface</span></span><span> </span><span class="annot"><span class="annottext">(InterfaceTypeDefinition [Name] RemoteSchemaInputValueDefinition
 -&gt; TypeDefinition [Name] RemoteSchemaInputValueDefinition)
-&gt; InterfaceTypeDefinition [Name] RemoteSchemaInputValueDefinition
-&gt; TypeDefinition [Name] RemoteSchemaInputValueDefinition
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-909"></span><span>                </span><span class="annot"><span class="annottext">InterfaceTypeDefinition () RemoteSchemaInputValueDefinition
</span><a href="#local-6989586621689498065"><span class="hs-identifier hs-var">interface</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><span class="annottext">_itdPossibleTypes :: [Name]
</span><span class="hs-identifier hs-var">G._itdPossibleTypes</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[[Name]] -&gt; [Name]
forall (t :: * -&gt; *) a. Foldable t =&gt; t [a] -&gt; [a]
</span><span class="hs-identifier hs-var">concat</span></span><span> </span><span class="annot"><span class="annottext">([[Name]] -&gt; [Name]) -&gt; [[Name]] -&gt; [Name]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Maybe [Name] -&gt; [[Name]]
forall a. Maybe a -&gt; [a]
</span><span class="hs-identifier hs-var">maybeToList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; HashMap Name [Name] -&gt; Maybe [Name]
forall k v. (Eq k, Hashable k) =&gt; k -&gt; HashMap k v -&gt; Maybe v
</span><span class="hs-identifier hs-var">Map.lookup</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498064"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap Name [Name]
</span><a href="#local-6989586621689498069"><span class="hs-identifier hs-var">possibleTypesMap</span></a></span><span class="hs-special">)</span><span class="hs-special">}</span><span>
</span><span id="line-910"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">G.TypeDefinitionScalar</span></span><span> </span><span id="local-6989586621689498060"><span class="annot"><span class="annottext">ScalarTypeDefinition
</span><a href="#local-6989586621689498060"><span class="hs-identifier hs-var">scalar</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TypeDefinition [Name] RemoteSchemaInputValueDefinition
-&gt; [TypeDefinition [Name] RemoteSchemaInputValueDefinition]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(TypeDefinition [Name] RemoteSchemaInputValueDefinition
 -&gt; [TypeDefinition [Name] RemoteSchemaInputValueDefinition])
-&gt; TypeDefinition [Name] RemoteSchemaInputValueDefinition
-&gt; [TypeDefinition [Name] RemoteSchemaInputValueDefinition]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ScalarTypeDefinition
-&gt; TypeDefinition [Name] RemoteSchemaInputValueDefinition
forall possibleTypes inputType.
ScalarTypeDefinition -&gt; TypeDefinition possibleTypes inputType
</span><span class="hs-identifier hs-var">G.TypeDefinitionScalar</span></span><span> </span><span class="annot"><span class="annottext">ScalarTypeDefinition
</span><a href="#local-6989586621689498060"><span class="hs-identifier hs-var">scalar</span></a></span><span>
</span><span id="line-911"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">G.TypeDefinitionEnum</span></span><span> </span><span id="local-6989586621689498059"><span class="annot"><span class="annottext">EnumTypeDefinition
</span><a href="#local-6989586621689498059"><span class="hs-identifier hs-var">enum</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TypeDefinition [Name] RemoteSchemaInputValueDefinition
-&gt; [TypeDefinition [Name] RemoteSchemaInputValueDefinition]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(TypeDefinition [Name] RemoteSchemaInputValueDefinition
 -&gt; [TypeDefinition [Name] RemoteSchemaInputValueDefinition])
-&gt; TypeDefinition [Name] RemoteSchemaInputValueDefinition
-&gt; [TypeDefinition [Name] RemoteSchemaInputValueDefinition]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">EnumTypeDefinition
-&gt; TypeDefinition [Name] RemoteSchemaInputValueDefinition
forall possibleTypes inputType.
EnumTypeDefinition -&gt; TypeDefinition possibleTypes inputType
</span><span class="hs-identifier hs-var">G.TypeDefinitionEnum</span></span><span> </span><span class="annot"><span class="annottext">EnumTypeDefinition
</span><a href="#local-6989586621689498059"><span class="hs-identifier hs-var">enum</span></a></span><span>
</span><span id="line-912"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">G.TypeDefinitionObject</span></span><span> </span><span id="local-6989586621689498058"><span class="annot"><span class="annottext">ObjectTypeDefinition RemoteSchemaInputValueDefinition
</span><a href="#local-6989586621689498058"><span class="hs-identifier hs-var">obj</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TypeDefinition [Name] RemoteSchemaInputValueDefinition
-&gt; [TypeDefinition [Name] RemoteSchemaInputValueDefinition]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(TypeDefinition [Name] RemoteSchemaInputValueDefinition
 -&gt; [TypeDefinition [Name] RemoteSchemaInputValueDefinition])
-&gt; TypeDefinition [Name] RemoteSchemaInputValueDefinition
-&gt; [TypeDefinition [Name] RemoteSchemaInputValueDefinition]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ObjectTypeDefinition RemoteSchemaInputValueDefinition
-&gt; TypeDefinition [Name] RemoteSchemaInputValueDefinition
forall possibleTypes inputType.
ObjectTypeDefinition inputType
-&gt; TypeDefinition possibleTypes inputType
</span><span class="hs-identifier hs-var">G.TypeDefinitionObject</span></span><span> </span><span class="annot"><span class="annottext">ObjectTypeDefinition RemoteSchemaInputValueDefinition
</span><a href="#local-6989586621689498058"><span class="hs-identifier hs-var">obj</span></a></span><span>
</span><span id="line-913"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">G.TypeDefinitionUnion</span></span><span> </span><span id="local-6989586621689498056"><span class="annot"><span class="annottext">UnionTypeDefinition
</span><a href="#local-6989586621689498056"><span class="hs-identifier hs-var">union'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TypeDefinition [Name] RemoteSchemaInputValueDefinition
-&gt; [TypeDefinition [Name] RemoteSchemaInputValueDefinition]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(TypeDefinition [Name] RemoteSchemaInputValueDefinition
 -&gt; [TypeDefinition [Name] RemoteSchemaInputValueDefinition])
-&gt; TypeDefinition [Name] RemoteSchemaInputValueDefinition
-&gt; [TypeDefinition [Name] RemoteSchemaInputValueDefinition]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">UnionTypeDefinition
-&gt; TypeDefinition [Name] RemoteSchemaInputValueDefinition
forall possibleTypes inputType.
UnionTypeDefinition -&gt; TypeDefinition possibleTypes inputType
</span><span class="hs-identifier hs-var">G.TypeDefinitionUnion</span></span><span> </span><span class="annot"><span class="annottext">UnionTypeDefinition
</span><a href="#local-6989586621689498056"><span class="hs-identifier hs-var">union'</span></a></span><span>
</span><span id="line-914"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">G.TypeDefinitionInputObject</span></span><span> </span><span id="local-6989586621689498055"><span class="annot"><span class="annottext">InputObjectTypeDefinition RemoteSchemaInputValueDefinition
</span><a href="#local-6989586621689498055"><span class="hs-identifier hs-var">inpObj</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TypeDefinition [Name] RemoteSchemaInputValueDefinition
-&gt; [TypeDefinition [Name] RemoteSchemaInputValueDefinition]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(TypeDefinition [Name] RemoteSchemaInputValueDefinition
 -&gt; [TypeDefinition [Name] RemoteSchemaInputValueDefinition])
-&gt; TypeDefinition [Name] RemoteSchemaInputValueDefinition
-&gt; [TypeDefinition [Name] RemoteSchemaInputValueDefinition]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">InputObjectTypeDefinition RemoteSchemaInputValueDefinition
-&gt; TypeDefinition [Name] RemoteSchemaInputValueDefinition
forall possibleTypes inputType.
InputObjectTypeDefinition inputType
-&gt; TypeDefinition possibleTypes inputType
</span><span class="hs-identifier hs-var">G.TypeDefinitionInputObject</span></span><span> </span><span class="annot"><span class="annottext">InputObjectTypeDefinition RemoteSchemaInputValueDefinition
</span><a href="#local-6989586621689498055"><span class="hs-identifier hs-var">inpObj</span></a></span><span>
</span><span id="line-915"></span><span>      </span><span id="local-6989586621689498054"><span class="annot"><span class="annottext">remoteSchemaIntrospection :: RemoteSchemaIntrospection
</span><a href="#local-6989586621689498054"><span class="hs-identifier hs-var hs-var">remoteSchemaIntrospection</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HashMap
  Name (TypeDefinition [Name] RemoteSchemaInputValueDefinition)
-&gt; RemoteSchemaIntrospection
</span><a href="Hasura.RQL.Types.RemoteSchema.html#RemoteSchemaIntrospection"><span class="hs-identifier hs-var">RemoteSchemaIntrospection</span></a></span><span> </span><span class="annot"><span class="annottext">(HashMap
   Name (TypeDefinition [Name] RemoteSchemaInputValueDefinition)
 -&gt; RemoteSchemaIntrospection)
-&gt; HashMap
     Name (TypeDefinition [Name] RemoteSchemaInputValueDefinition)
-&gt; RemoteSchemaIntrospection
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(TypeDefinition [Name] RemoteSchemaInputValueDefinition -&gt; Name)
-&gt; [TypeDefinition [Name] RemoteSchemaInputValueDefinition]
-&gt; HashMap
     Name (TypeDefinition [Name] RemoteSchemaInputValueDefinition)
forall k a. (Eq k, Hashable k) =&gt; (a -&gt; k) -&gt; [a] -&gt; HashMap k a
</span><a href="Data.HashMap.Strict.Extended.html#fromListOn"><span class="hs-identifier hs-var">Map.fromListOn</span></a></span><span> </span><span class="annot"><span class="annottext">TypeDefinition [Name] RemoteSchemaInputValueDefinition -&gt; Name
forall possibleTypes inputType.
TypeDefinition possibleTypes inputType -&gt; Name
</span><a href="Hasura.RQL.Types.RemoteSchema.html#getTypeName"><span class="hs-identifier hs-var">getTypeName</span></a></span><span> </span><span class="annot"><span class="annottext">[TypeDefinition [Name] RemoteSchemaInputValueDefinition]
</span><a href="#local-6989586621689498068"><span class="hs-identifier hs-var">modifiedTypeDefns</span></a></span><span>
</span><span id="line-916"></span><span>   </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">RemoteSchemaIntrospection
-&gt; Name -&gt; Maybe Name -&gt; Maybe Name -&gt; IntrospectionResult
</span><a href="Hasura.RQL.Types.SchemaCache.html#IntrospectionResult"><span class="hs-identifier hs-var">IntrospectionResult</span></a></span><span> </span><span class="annot"><span class="annottext">RemoteSchemaIntrospection
</span><a href="#local-6989586621689498054"><span class="hs-identifier hs-var">remoteSchemaIntrospection</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name -&gt; Maybe Name -&gt; Name
forall a. a -&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromMaybe</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Hasura.GraphQL.Parser.Name.TypeSystem.html#_Query"><span class="hs-identifier hs-var">GName._Query</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621689498077"><span class="hs-identifier hs-var">queryRoot</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621689498076"><span class="hs-identifier hs-var">mutationRoot</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621689498075"><span class="hs-identifier hs-var">subscriptionRoot</span></a></span><span>
</span><span id="line-917"></span><span>
</span><span id="line-918"></span><span class="hs-comment">-- | validateRemoteSchema accepts two arguments, the `SchemaDocument` of</span><span>
</span><span id="line-919"></span><span class="hs-comment">--   the role-based schema, that is provided by the user and the `SchemaIntrospection`</span><span>
</span><span id="line-920"></span><span class="hs-comment">--   of the upstream remote schema. This function, in turn calls the other validation</span><span>
</span><span id="line-921"></span><span class="hs-comment">--   functions for scalars, enums, unions, interfaces,input objects and objects.</span><span>
</span><span id="line-922"></span><span id="local-6989586621689498586"><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#validateRemoteSchema"><span class="hs-identifier hs-type">validateRemoteSchema</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-923"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadValidate</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#RoleBasedSchemaValidationError"><span class="hs-identifier hs-type">RoleBasedSchemaValidationError</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621689498586"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-924"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">MonadReader</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.SchemaDocument</span></span><span> </span><span class="annot"><a href="#local-6989586621689498586"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-925"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-926"></span><span>  </span><span class="annot"><a href="Hasura.RQL.Types.RemoteSchema.html#RemoteSchemaIntrospection"><span class="hs-identifier hs-type">RemoteSchemaIntrospection</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-927"></span><span>  </span><span class="annot"><a href="#local-6989586621689498586"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="Hasura.RQL.Types.SchemaCache.html#IntrospectionResult"><span class="hs-identifier hs-type">IntrospectionResult</span></a></span></span><span>
</span><span id="line-928"></span><span id="validateRemoteSchema"><span class="annot"><span class="annottext">validateRemoteSchema :: RemoteSchemaIntrospection -&gt; m IntrospectionResult
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#validateRemoteSchema"><span class="hs-identifier hs-var hs-var">validateRemoteSchema</span></a></span></span><span> </span><span id="local-6989586621689498046"><span class="annot"><span class="annottext">RemoteSchemaIntrospection
</span><a href="#local-6989586621689498046"><span class="hs-identifier hs-var">upstreamRemoteSchemaIntrospection</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-929"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">G.SchemaDocument</span></span><span> </span><span id="local-6989586621689498045"><span class="annot"><span class="annottext">[TypeSystemDefinition]
</span><a href="#local-6989586621689498045"><span class="hs-identifier hs-var">providedTypeSystemDefinitions</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m SchemaDocument
forall r (m :: * -&gt; *). MonadReader r m =&gt; m r
</span><span class="hs-identifier hs-var">ask</span></span><span>
</span><span id="line-930"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span class="hs-special">(</span><span id="local-6989586621689498044"><span class="annot"><span class="annottext">[SchemaDefinition]
</span><a href="#local-6989586621689498044"><span class="hs-identifier hs-var">providedSchemaDefinitions</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621689498043"><span class="annot"><span class="annottext">[TypeDefinition () InputValueDefinition]
</span><a href="#local-6989586621689498043"><span class="hs-identifier hs-var">providedTypeDefinitions</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-931"></span><span>        </span><span class="annot"><span class="annottext">[TypeSystemDefinition]
-&gt; ([SchemaDefinition], [TypeDefinition () InputValueDefinition])
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#partitionTypeSystemDefinitions"><span class="hs-identifier hs-var">partitionTypeSystemDefinitions</span></a></span><span> </span><span class="annot"><span class="annottext">[TypeSystemDefinition]
</span><a href="#local-6989586621689498045"><span class="hs-identifier hs-var">providedTypeSystemDefinitions</span></a></span><span>
</span><span id="line-932"></span><span>      </span><span id="local-6989586621689498042"><span class="annot"><span class="annottext">duplicateTypesList :: [Name]
</span><a href="#local-6989586621689498042"><span class="hs-identifier hs-var hs-var">duplicateTypesList</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HashSet Name -&gt; [Name]
forall a. HashSet a -&gt; [a]
</span><span class="hs-identifier hs-var">S.toList</span></span><span> </span><span class="annot"><span class="annottext">(HashSet Name -&gt; [Name]) -&gt; HashSet Name -&gt; [Name]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[Name] -&gt; HashSet Name
forall a. (Eq a, Hashable a) =&gt; [a] -&gt; HashSet a
</span><a href="Data.List.Extended.html#duplicates"><span class="hs-identifier hs-var">duplicates</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TypeDefinition () InputValueDefinition -&gt; Name
forall possibleTypes inputType.
TypeDefinition possibleTypes inputType -&gt; Name
</span><a href="Hasura.RQL.Types.RemoteSchema.html#getTypeName"><span class="hs-identifier hs-var">getTypeName</span></a></span><span> </span><span class="annot"><span class="annottext">(TypeDefinition () InputValueDefinition -&gt; Name)
-&gt; [TypeDefinition () InputValueDefinition] -&gt; [Name]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">[TypeDefinition () InputValueDefinition]
</span><a href="#local-6989586621689498043"><span class="hs-identifier hs-var">providedTypeDefinitions</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-933"></span><span>  </span><span class="annot"><span class="annottext">Maybe (NonEmpty Name) -&gt; (NonEmpty Name -&gt; m ()) -&gt; m ()
forall (m :: * -&gt; *) a.
Applicative m =&gt;
Maybe a -&gt; (a -&gt; m ()) -&gt; m ()
</span><a href="Hasura.Prelude.html#onJust"><span class="hs-identifier hs-var">onJust</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Name] -&gt; Maybe (NonEmpty Name)
forall a. [a] -&gt; Maybe (NonEmpty a)
</span><span class="hs-identifier hs-var">NE.nonEmpty</span></span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621689498042"><span class="hs-identifier hs-var">duplicateTypesList</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((NonEmpty Name -&gt; m ()) -&gt; m ())
-&gt; (NonEmpty Name -&gt; m ()) -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621689498041"><span class="annot"><span class="annottext">NonEmpty Name
</span><a href="#local-6989586621689498041"><span class="hs-identifier hs-var">duplicateTypeNames</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-934"></span><span>    </span><span class="annot"><span class="annottext">[RoleBasedSchemaValidationError] -&gt; m ()
forall e (m :: * -&gt; *) a. MonadValidate e m =&gt; e -&gt; m a
</span><span class="hs-identifier hs-var">refute</span></span><span> </span><span class="annot"><span class="annottext">([RoleBasedSchemaValidationError] -&gt; m ())
-&gt; [RoleBasedSchemaValidationError] -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">RoleBasedSchemaValidationError -&gt; [RoleBasedSchemaValidationError]
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(RoleBasedSchemaValidationError
 -&gt; [RoleBasedSchemaValidationError])
-&gt; RoleBasedSchemaValidationError
-&gt; [RoleBasedSchemaValidationError]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">NonEmpty Name -&gt; RoleBasedSchemaValidationError
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#DuplicateTypeNames"><span class="hs-identifier hs-var">DuplicateTypeNames</span></a></span><span> </span><span class="annot"><span class="annottext">NonEmpty Name
</span><a href="#local-6989586621689498041"><span class="hs-identifier hs-var">duplicateTypeNames</span></a></span><span>
</span><span id="line-935"></span><span>  </span><span id="local-6989586621689498040"><span class="annot"><span class="annottext">(Maybe Name, Maybe Name, Maybe Name)
</span><a href="#local-6989586621689498040"><span class="hs-identifier hs-var">rootTypeNames</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[SchemaDefinition] -&gt; m (Maybe Name, Maybe Name, Maybe Name)
forall (m :: * -&gt; *).
MonadValidate [RoleBasedSchemaValidationError] m =&gt;
[SchemaDefinition] -&gt; m (Maybe Name, Maybe Name, Maybe Name)
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#validateSchemaDefinitions"><span class="hs-identifier hs-var">validateSchemaDefinitions</span></a></span><span> </span><span class="annot"><span class="annottext">[SchemaDefinition]
</span><a href="#local-6989586621689498044"><span class="hs-identifier hs-var">providedSchemaDefinitions</span></a></span><span>
</span><span id="line-936"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621689498039"><span class="annot"><span class="annottext">providedInterfacesTypes :: HashSet Name
</span><a href="#local-6989586621689498039"><span class="hs-identifier hs-var hs-var">providedInterfacesTypes</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-937"></span><span>        </span><span class="annot"><span class="annottext">[Name] -&gt; HashSet Name
forall a. (Eq a, Hashable a) =&gt; [a] -&gt; HashSet a
</span><span class="hs-identifier hs-var">S.fromList</span></span><span> </span><span class="annot"><span class="annottext">([Name] -&gt; HashSet Name) -&gt; [Name] -&gt; HashSet Name
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-938"></span><span>          </span><span class="annot"><span class="annottext">((TypeDefinition () InputValueDefinition -&gt; Maybe Name)
 -&gt; [TypeDefinition () InputValueDefinition] -&gt; [Name])
-&gt; [TypeDefinition () InputValueDefinition]
-&gt; (TypeDefinition () InputValueDefinition -&gt; Maybe Name)
-&gt; [Name]
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">(TypeDefinition () InputValueDefinition -&gt; Maybe Name)
-&gt; [TypeDefinition () InputValueDefinition] -&gt; [Name]
forall a b. (a -&gt; Maybe b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">mapMaybe</span></span><span> </span><span class="annot"><span class="annottext">[TypeDefinition () InputValueDefinition]
</span><a href="#local-6989586621689498043"><span class="hs-identifier hs-var">providedTypeDefinitions</span></a></span><span> </span><span class="annot"><span class="annottext">((TypeDefinition () InputValueDefinition -&gt; Maybe Name) -&gt; [Name])
-&gt; (TypeDefinition () InputValueDefinition -&gt; Maybe Name) -&gt; [Name]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-939"></span><span>            </span><span class="annot"><span class="hs-identifier hs-type">G.TypeDefinitionInterface</span></span><span> </span><span id="local-6989586621689498038"><span class="annot"><span class="annottext">InterfaceTypeDefinition () InputValueDefinition
</span><a href="#local-6989586621689498038"><span class="hs-identifier hs-var">interface</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Maybe Name
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(Name -&gt; Maybe Name) -&gt; Name -&gt; Maybe Name
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">InterfaceTypeDefinition () InputValueDefinition -&gt; Name
forall possibleTypes inputType.
InterfaceTypeDefinition possibleTypes inputType -&gt; Name
</span><span class="hs-identifier hs-var hs-var">G._itdName</span></span><span> </span><span class="annot"><span class="annottext">InterfaceTypeDefinition () InputValueDefinition
</span><a href="#local-6989586621689498038"><span class="hs-identifier hs-var">interface</span></a></span><span>
</span><span id="line-940"></span><span>            </span><span class="annot"><span class="annottext">TypeDefinition () InputValueDefinition
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe Name
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-941"></span><span>  </span><span id="local-6989586621689498036"><span class="annot"><span class="annottext">[TypeDefinition () RemoteSchemaInputValueDefinition]
</span><a href="#local-6989586621689498036"><span class="hs-identifier hs-var">validatedTypeDefinitions</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-942"></span><span>    </span><span class="annot"><span class="annottext">[TypeDefinition () InputValueDefinition]
-&gt; (TypeDefinition () InputValueDefinition
    -&gt; m (TypeDefinition () RemoteSchemaInputValueDefinition))
-&gt; m [TypeDefinition () RemoteSchemaInputValueDefinition]
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
t a -&gt; (a -&gt; f b) -&gt; f (t b)
</span><span class="hs-identifier hs-var">for</span></span><span> </span><span class="annot"><span class="annottext">[TypeDefinition () InputValueDefinition]
</span><a href="#local-6989586621689498043"><span class="hs-identifier hs-var">providedTypeDefinitions</span></a></span><span> </span><span class="annot"><span class="annottext">((TypeDefinition () InputValueDefinition
  -&gt; m (TypeDefinition () RemoteSchemaInputValueDefinition))
 -&gt; m [TypeDefinition () RemoteSchemaInputValueDefinition])
-&gt; (TypeDefinition () InputValueDefinition
    -&gt; m (TypeDefinition () RemoteSchemaInputValueDefinition))
-&gt; m [TypeDefinition () RemoteSchemaInputValueDefinition]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-943"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">G.TypeDefinitionScalar</span></span><span> </span><span id="local-6989586621689498035"><span class="annot"><span class="annottext">ScalarTypeDefinition
</span><a href="#local-6989586621689498035"><span class="hs-identifier hs-var">providedScalarTypeDefn</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-944"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621689498034"><span class="annot"><span class="annottext">nameTxt :: Text
</span><a href="#local-6989586621689498034"><span class="hs-identifier hs-var hs-var">nameTxt</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Text
</span><span class="hs-identifier hs-var hs-var">G.unName</span></span><span> </span><span class="annot"><span class="annottext">(Name -&gt; Text) -&gt; Name -&gt; Text
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ScalarTypeDefinition -&gt; Name
</span><span class="hs-identifier hs-var hs-var">G._stdName</span></span><span> </span><span class="annot"><span class="annottext">ScalarTypeDefinition
</span><a href="#local-6989586621689498035"><span class="hs-identifier hs-var">providedScalarTypeDefn</span></a></span><span>
</span><span id="line-945"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689498034"><span class="hs-identifier hs-var">nameTxt</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; [Text] -&gt; Bool
forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><span class="hs-operator hs-var">`elem`</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;ID&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Int&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Float&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Boolean&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;String&quot;</span></span><span class="hs-special">]</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-946"></span><span>          </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TypeDefinition () RemoteSchemaInputValueDefinition
-&gt; m (TypeDefinition () RemoteSchemaInputValueDefinition)
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(TypeDefinition () RemoteSchemaInputValueDefinition
 -&gt; m (TypeDefinition () RemoteSchemaInputValueDefinition))
-&gt; TypeDefinition () RemoteSchemaInputValueDefinition
-&gt; m (TypeDefinition () RemoteSchemaInputValueDefinition)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ScalarTypeDefinition
-&gt; TypeDefinition () RemoteSchemaInputValueDefinition
forall possibleTypes inputType.
ScalarTypeDefinition -&gt; TypeDefinition possibleTypes inputType
</span><span class="hs-identifier hs-var">G.TypeDefinitionScalar</span></span><span> </span><span class="annot"><span class="annottext">ScalarTypeDefinition
</span><a href="#local-6989586621689498035"><span class="hs-identifier hs-var">providedScalarTypeDefn</span></a></span><span>
</span><span id="line-947"></span><span>          </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-948"></span><span>            </span><span id="local-6989586621689498031"><span class="annot"><span class="annottext">ScalarTypeDefinition
</span><a href="#local-6989586621689498031"><span class="hs-identifier hs-var">upstreamScalarTypeDefn</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-949"></span><span>              </span><span class="annot"><span class="annottext">RemoteSchemaIntrospection -&gt; Name -&gt; Maybe ScalarTypeDefinition
</span><a href="Hasura.RQL.Types.RemoteSchema.html#lookupScalar"><span class="hs-identifier hs-var">lookupScalar</span></a></span><span> </span><span class="annot"><span class="annottext">RemoteSchemaIntrospection
</span><a href="#local-6989586621689498046"><span class="hs-identifier hs-var">upstreamRemoteSchemaIntrospection</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ScalarTypeDefinition -&gt; Name
</span><span class="hs-identifier hs-var hs-var">G._stdName</span></span><span> </span><span class="annot"><span class="annottext">ScalarTypeDefinition
</span><a href="#local-6989586621689498035"><span class="hs-identifier hs-var">providedScalarTypeDefn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-950"></span><span>                </span><span class="annot"><span class="annottext">Maybe ScalarTypeDefinition
-&gt; m ScalarTypeDefinition -&gt; m ScalarTypeDefinition
forall (m :: * -&gt; *) a. Applicative m =&gt; Maybe a -&gt; m a -&gt; m a
</span><a href="Hasura.Prelude.html#onNothing"><span class="hs-operator hs-var">`onNothing`</span></a></span><span> </span><span class="annot"><span class="annottext">GraphQLType -&gt; Name -&gt; m ScalarTypeDefinition
forall (f :: * -&gt; *) (m :: * -&gt; *) a.
(MonadValidate (f RoleBasedSchemaValidationError) m,
 Applicative f) =&gt;
GraphQLType -&gt; Name -&gt; m a
</span><a href="#local-6989586621689498029"><span class="hs-identifier hs-var">typeNotFound</span></a></span><span> </span><span class="annot"><span class="annottext">GraphQLType
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#Scalar"><span class="hs-identifier hs-var">Scalar</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ScalarTypeDefinition -&gt; Name
</span><span class="hs-identifier hs-var hs-var">G._stdName</span></span><span> </span><span class="annot"><span class="annottext">ScalarTypeDefinition
</span><a href="#local-6989586621689498035"><span class="hs-identifier hs-var">providedScalarTypeDefn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-951"></span><span>            </span><span class="annot"><span class="annottext">ScalarTypeDefinition
-&gt; TypeDefinition () RemoteSchemaInputValueDefinition
forall possibleTypes inputType.
ScalarTypeDefinition -&gt; TypeDefinition possibleTypes inputType
</span><span class="hs-identifier hs-var">G.TypeDefinitionScalar</span></span><span> </span><span class="annot"><span class="annottext">(ScalarTypeDefinition
 -&gt; TypeDefinition () RemoteSchemaInputValueDefinition)
-&gt; m ScalarTypeDefinition
-&gt; m (TypeDefinition () RemoteSchemaInputValueDefinition)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">ScalarTypeDefinition
-&gt; ScalarTypeDefinition -&gt; m ScalarTypeDefinition
forall (m :: * -&gt; *).
MonadValidate [RoleBasedSchemaValidationError] m =&gt;
ScalarTypeDefinition
-&gt; ScalarTypeDefinition -&gt; m ScalarTypeDefinition
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#validateScalarDefinition"><span class="hs-identifier hs-var">validateScalarDefinition</span></a></span><span> </span><span class="annot"><span class="annottext">ScalarTypeDefinition
</span><a href="#local-6989586621689498035"><span class="hs-identifier hs-var">providedScalarTypeDefn</span></a></span><span> </span><span class="annot"><span class="annottext">ScalarTypeDefinition
</span><a href="#local-6989586621689498031"><span class="hs-identifier hs-var">upstreamScalarTypeDefn</span></a></span><span>
</span><span id="line-952"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">G.TypeDefinitionInterface</span></span><span> </span><span id="local-6989586621689498028"><span class="annot"><span class="annottext">InterfaceTypeDefinition () InputValueDefinition
</span><a href="#local-6989586621689498028"><span class="hs-identifier hs-var">providedInterfaceTypeDefn</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-953"></span><span>        </span><span id="local-6989586621689498027"><span class="annot"><span class="annottext">InterfaceTypeDefinition [Name] RemoteSchemaInputValueDefinition
</span><a href="#local-6989586621689498027"><span class="hs-identifier hs-var">upstreamInterfaceTypeDefn</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-954"></span><span>          </span><span class="annot"><span class="annottext">RemoteSchemaIntrospection
-&gt; Name
-&gt; Maybe
     (InterfaceTypeDefinition [Name] RemoteSchemaInputValueDefinition)
</span><a href="Hasura.RQL.Types.RemoteSchema.html#lookupInterface"><span class="hs-identifier hs-var">lookupInterface</span></a></span><span> </span><span class="annot"><span class="annottext">RemoteSchemaIntrospection
</span><a href="#local-6989586621689498046"><span class="hs-identifier hs-var">upstreamRemoteSchemaIntrospection</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">InterfaceTypeDefinition () InputValueDefinition -&gt; Name
forall possibleTypes inputType.
InterfaceTypeDefinition possibleTypes inputType -&gt; Name
</span><span class="hs-identifier hs-var hs-var">G._itdName</span></span><span> </span><span class="annot"><span class="annottext">InterfaceTypeDefinition () InputValueDefinition
</span><a href="#local-6989586621689498028"><span class="hs-identifier hs-var">providedInterfaceTypeDefn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-955"></span><span>            </span><span class="annot"><span class="annottext">Maybe
  (InterfaceTypeDefinition [Name] RemoteSchemaInputValueDefinition)
-&gt; m (InterfaceTypeDefinition
        [Name] RemoteSchemaInputValueDefinition)
-&gt; m (InterfaceTypeDefinition
        [Name] RemoteSchemaInputValueDefinition)
forall (m :: * -&gt; *) a. Applicative m =&gt; Maybe a -&gt; m a -&gt; m a
</span><a href="Hasura.Prelude.html#onNothing"><span class="hs-operator hs-var">`onNothing`</span></a></span><span> </span><span class="annot"><span class="annottext">GraphQLType
-&gt; Name
-&gt; m (InterfaceTypeDefinition
        [Name] RemoteSchemaInputValueDefinition)
forall (f :: * -&gt; *) (m :: * -&gt; *) a.
(MonadValidate (f RoleBasedSchemaValidationError) m,
 Applicative f) =&gt;
GraphQLType -&gt; Name -&gt; m a
</span><a href="#local-6989586621689498029"><span class="hs-identifier hs-var">typeNotFound</span></a></span><span> </span><span class="annot"><span class="annottext">GraphQLType
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#Interface"><span class="hs-identifier hs-var">Interface</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">InterfaceTypeDefinition () InputValueDefinition -&gt; Name
forall possibleTypes inputType.
InterfaceTypeDefinition possibleTypes inputType -&gt; Name
</span><span class="hs-identifier hs-var hs-var">G._itdName</span></span><span> </span><span class="annot"><span class="annottext">InterfaceTypeDefinition () InputValueDefinition
</span><a href="#local-6989586621689498028"><span class="hs-identifier hs-var">providedInterfaceTypeDefn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-956"></span><span>        </span><span class="annot"><span class="annottext">InterfaceTypeDefinition () RemoteSchemaInputValueDefinition
-&gt; TypeDefinition () RemoteSchemaInputValueDefinition
forall possibleTypes inputType.
InterfaceTypeDefinition possibleTypes inputType
-&gt; TypeDefinition possibleTypes inputType
</span><span class="hs-identifier hs-var">G.TypeDefinitionInterface</span></span><span> </span><span class="annot"><span class="annottext">(InterfaceTypeDefinition () RemoteSchemaInputValueDefinition
 -&gt; TypeDefinition () RemoteSchemaInputValueDefinition)
-&gt; m (InterfaceTypeDefinition () RemoteSchemaInputValueDefinition)
-&gt; m (TypeDefinition () RemoteSchemaInputValueDefinition)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">InterfaceTypeDefinition () InputValueDefinition
-&gt; InterfaceTypeDefinition [Name] RemoteSchemaInputValueDefinition
-&gt; m (InterfaceTypeDefinition () RemoteSchemaInputValueDefinition)
forall (m :: * -&gt; *).
(MonadValidate [RoleBasedSchemaValidationError] m,
 MonadReader SchemaDocument m) =&gt;
InterfaceTypeDefinition () InputValueDefinition
-&gt; InterfaceTypeDefinition [Name] RemoteSchemaInputValueDefinition
-&gt; m (InterfaceTypeDefinition () RemoteSchemaInputValueDefinition)
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#validateInterfaceDefinition"><span class="hs-identifier hs-var">validateInterfaceDefinition</span></a></span><span> </span><span class="annot"><span class="annottext">InterfaceTypeDefinition () InputValueDefinition
</span><a href="#local-6989586621689498028"><span class="hs-identifier hs-var">providedInterfaceTypeDefn</span></a></span><span> </span><span class="annot"><span class="annottext">InterfaceTypeDefinition [Name] RemoteSchemaInputValueDefinition
</span><a href="#local-6989586621689498027"><span class="hs-identifier hs-var">upstreamInterfaceTypeDefn</span></a></span><span>
</span><span id="line-957"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">G.TypeDefinitionObject</span></span><span> </span><span id="local-6989586621689498025"><span class="annot"><span class="annottext">ObjectTypeDefinition InputValueDefinition
</span><a href="#local-6989586621689498025"><span class="hs-identifier hs-var">providedObjectTypeDefn</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-958"></span><span>        </span><span id="local-6989586621689498024"><span class="annot"><span class="annottext">ObjectTypeDefinition RemoteSchemaInputValueDefinition
</span><a href="#local-6989586621689498024"><span class="hs-identifier hs-var">upstreamObjectTypeDefn</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-959"></span><span>          </span><span class="annot"><span class="annottext">RemoteSchemaIntrospection
-&gt; Name
-&gt; Maybe (ObjectTypeDefinition RemoteSchemaInputValueDefinition)
</span><a href="Hasura.RQL.Types.RemoteSchema.html#lookupObject"><span class="hs-identifier hs-var">lookupObject</span></a></span><span> </span><span class="annot"><span class="annottext">RemoteSchemaIntrospection
</span><a href="#local-6989586621689498046"><span class="hs-identifier hs-var">upstreamRemoteSchemaIntrospection</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ObjectTypeDefinition InputValueDefinition -&gt; Name
forall inputType. ObjectTypeDefinition inputType -&gt; Name
</span><span class="hs-identifier hs-var hs-var">G._otdName</span></span><span> </span><span class="annot"><span class="annottext">ObjectTypeDefinition InputValueDefinition
</span><a href="#local-6989586621689498025"><span class="hs-identifier hs-var">providedObjectTypeDefn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-960"></span><span>            </span><span class="annot"><span class="annottext">Maybe (ObjectTypeDefinition RemoteSchemaInputValueDefinition)
-&gt; m (ObjectTypeDefinition RemoteSchemaInputValueDefinition)
-&gt; m (ObjectTypeDefinition RemoteSchemaInputValueDefinition)
forall (m :: * -&gt; *) a. Applicative m =&gt; Maybe a -&gt; m a -&gt; m a
</span><a href="Hasura.Prelude.html#onNothing"><span class="hs-operator hs-var">`onNothing`</span></a></span><span> </span><span class="annot"><span class="annottext">GraphQLType
-&gt; Name
-&gt; m (ObjectTypeDefinition RemoteSchemaInputValueDefinition)
forall (f :: * -&gt; *) (m :: * -&gt; *) a.
(MonadValidate (f RoleBasedSchemaValidationError) m,
 Applicative f) =&gt;
GraphQLType -&gt; Name -&gt; m a
</span><a href="#local-6989586621689498029"><span class="hs-identifier hs-var">typeNotFound</span></a></span><span> </span><span class="annot"><span class="annottext">GraphQLType
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#Object"><span class="hs-identifier hs-var">Object</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ObjectTypeDefinition InputValueDefinition -&gt; Name
forall inputType. ObjectTypeDefinition inputType -&gt; Name
</span><span class="hs-identifier hs-var hs-var">G._otdName</span></span><span> </span><span class="annot"><span class="annottext">ObjectTypeDefinition InputValueDefinition
</span><a href="#local-6989586621689498025"><span class="hs-identifier hs-var">providedObjectTypeDefn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-961"></span><span>        </span><span class="annot"><span class="annottext">ObjectTypeDefinition RemoteSchemaInputValueDefinition
-&gt; TypeDefinition () RemoteSchemaInputValueDefinition
forall possibleTypes inputType.
ObjectTypeDefinition inputType
-&gt; TypeDefinition possibleTypes inputType
</span><span class="hs-identifier hs-var">G.TypeDefinitionObject</span></span><span>
</span><span id="line-962"></span><span>          </span><span class="annot"><span class="annottext">(ObjectTypeDefinition RemoteSchemaInputValueDefinition
 -&gt; TypeDefinition () RemoteSchemaInputValueDefinition)
-&gt; m (ObjectTypeDefinition RemoteSchemaInputValueDefinition)
-&gt; m (TypeDefinition () RemoteSchemaInputValueDefinition)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">ObjectTypeDefinition InputValueDefinition
-&gt; ObjectTypeDefinition RemoteSchemaInputValueDefinition
-&gt; HashSet Name
-&gt; m (ObjectTypeDefinition RemoteSchemaInputValueDefinition)
forall (m :: * -&gt; *).
(MonadValidate [RoleBasedSchemaValidationError] m,
 MonadReader SchemaDocument m) =&gt;
ObjectTypeDefinition InputValueDefinition
-&gt; ObjectTypeDefinition RemoteSchemaInputValueDefinition
-&gt; HashSet Name
-&gt; m (ObjectTypeDefinition RemoteSchemaInputValueDefinition)
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#validateObjectDefinition"><span class="hs-identifier hs-var">validateObjectDefinition</span></a></span><span> </span><span class="annot"><span class="annottext">ObjectTypeDefinition InputValueDefinition
</span><a href="#local-6989586621689498025"><span class="hs-identifier hs-var">providedObjectTypeDefn</span></a></span><span> </span><span class="annot"><span class="annottext">ObjectTypeDefinition RemoteSchemaInputValueDefinition
</span><a href="#local-6989586621689498024"><span class="hs-identifier hs-var">upstreamObjectTypeDefn</span></a></span><span> </span><span class="annot"><span class="annottext">HashSet Name
</span><a href="#local-6989586621689498039"><span class="hs-identifier hs-var">providedInterfacesTypes</span></a></span><span>
</span><span id="line-963"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">G.TypeDefinitionUnion</span></span><span> </span><span id="local-6989586621689498022"><span class="annot"><span class="annottext">UnionTypeDefinition
</span><a href="#local-6989586621689498022"><span class="hs-identifier hs-var">providedUnionTypeDefn</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-964"></span><span>        </span><span id="local-6989586621689498021"><span class="annot"><span class="annottext">UnionTypeDefinition
</span><a href="#local-6989586621689498021"><span class="hs-identifier hs-var">upstreamUnionTypeDefn</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-965"></span><span>          </span><span class="annot"><span class="annottext">RemoteSchemaIntrospection -&gt; Name -&gt; Maybe UnionTypeDefinition
</span><a href="Hasura.RQL.Types.RemoteSchema.html#lookupUnion"><span class="hs-identifier hs-var">lookupUnion</span></a></span><span> </span><span class="annot"><span class="annottext">RemoteSchemaIntrospection
</span><a href="#local-6989586621689498046"><span class="hs-identifier hs-var">upstreamRemoteSchemaIntrospection</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">UnionTypeDefinition -&gt; Name
</span><span class="hs-identifier hs-var hs-var">G._utdName</span></span><span> </span><span class="annot"><span class="annottext">UnionTypeDefinition
</span><a href="#local-6989586621689498022"><span class="hs-identifier hs-var">providedUnionTypeDefn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-966"></span><span>            </span><span class="annot"><span class="annottext">Maybe UnionTypeDefinition
-&gt; m UnionTypeDefinition -&gt; m UnionTypeDefinition
forall (m :: * -&gt; *) a. Applicative m =&gt; Maybe a -&gt; m a -&gt; m a
</span><a href="Hasura.Prelude.html#onNothing"><span class="hs-operator hs-var">`onNothing`</span></a></span><span> </span><span class="annot"><span class="annottext">GraphQLType -&gt; Name -&gt; m UnionTypeDefinition
forall (f :: * -&gt; *) (m :: * -&gt; *) a.
(MonadValidate (f RoleBasedSchemaValidationError) m,
 Applicative f) =&gt;
GraphQLType -&gt; Name -&gt; m a
</span><a href="#local-6989586621689498029"><span class="hs-identifier hs-var">typeNotFound</span></a></span><span> </span><span class="annot"><span class="annottext">GraphQLType
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#Union"><span class="hs-identifier hs-var">Union</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">UnionTypeDefinition -&gt; Name
</span><span class="hs-identifier hs-var hs-var">G._utdName</span></span><span> </span><span class="annot"><span class="annottext">UnionTypeDefinition
</span><a href="#local-6989586621689498022"><span class="hs-identifier hs-var">providedUnionTypeDefn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-967"></span><span>        </span><span class="annot"><span class="annottext">UnionTypeDefinition
-&gt; TypeDefinition () RemoteSchemaInputValueDefinition
forall possibleTypes inputType.
UnionTypeDefinition -&gt; TypeDefinition possibleTypes inputType
</span><span class="hs-identifier hs-var">G.TypeDefinitionUnion</span></span><span> </span><span class="annot"><span class="annottext">(UnionTypeDefinition
 -&gt; TypeDefinition () RemoteSchemaInputValueDefinition)
-&gt; m UnionTypeDefinition
-&gt; m (TypeDefinition () RemoteSchemaInputValueDefinition)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">UnionTypeDefinition -&gt; UnionTypeDefinition -&gt; m UnionTypeDefinition
forall (m :: * -&gt; *).
MonadValidate [RoleBasedSchemaValidationError] m =&gt;
UnionTypeDefinition -&gt; UnionTypeDefinition -&gt; m UnionTypeDefinition
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#validateUnionDefinition"><span class="hs-identifier hs-var">validateUnionDefinition</span></a></span><span> </span><span class="annot"><span class="annottext">UnionTypeDefinition
</span><a href="#local-6989586621689498022"><span class="hs-identifier hs-var">providedUnionTypeDefn</span></a></span><span> </span><span class="annot"><span class="annottext">UnionTypeDefinition
</span><a href="#local-6989586621689498021"><span class="hs-identifier hs-var">upstreamUnionTypeDefn</span></a></span><span>
</span><span id="line-968"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">G.TypeDefinitionEnum</span></span><span> </span><span id="local-6989586621689498018"><span class="annot"><span class="annottext">EnumTypeDefinition
</span><a href="#local-6989586621689498018"><span class="hs-identifier hs-var">providedEnumTypeDefn</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-969"></span><span>        </span><span id="local-6989586621689498017"><span class="annot"><span class="annottext">EnumTypeDefinition
</span><a href="#local-6989586621689498017"><span class="hs-identifier hs-var">upstreamEnumTypeDefn</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-970"></span><span>          </span><span class="annot"><span class="annottext">RemoteSchemaIntrospection -&gt; Name -&gt; Maybe EnumTypeDefinition
</span><a href="Hasura.RQL.Types.RemoteSchema.html#lookupEnum"><span class="hs-identifier hs-var">lookupEnum</span></a></span><span> </span><span class="annot"><span class="annottext">RemoteSchemaIntrospection
</span><a href="#local-6989586621689498046"><span class="hs-identifier hs-var">upstreamRemoteSchemaIntrospection</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EnumTypeDefinition -&gt; Name
</span><span class="hs-identifier hs-var hs-var">G._etdName</span></span><span> </span><span class="annot"><span class="annottext">EnumTypeDefinition
</span><a href="#local-6989586621689498018"><span class="hs-identifier hs-var">providedEnumTypeDefn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-971"></span><span>            </span><span class="annot"><span class="annottext">Maybe EnumTypeDefinition
-&gt; m EnumTypeDefinition -&gt; m EnumTypeDefinition
forall (m :: * -&gt; *) a. Applicative m =&gt; Maybe a -&gt; m a -&gt; m a
</span><a href="Hasura.Prelude.html#onNothing"><span class="hs-operator hs-var">`onNothing`</span></a></span><span> </span><span class="annot"><span class="annottext">GraphQLType -&gt; Name -&gt; m EnumTypeDefinition
forall (f :: * -&gt; *) (m :: * -&gt; *) a.
(MonadValidate (f RoleBasedSchemaValidationError) m,
 Applicative f) =&gt;
GraphQLType -&gt; Name -&gt; m a
</span><a href="#local-6989586621689498029"><span class="hs-identifier hs-var">typeNotFound</span></a></span><span> </span><span class="annot"><span class="annottext">GraphQLType
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#Enum"><span class="hs-identifier hs-var">Enum</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EnumTypeDefinition -&gt; Name
</span><span class="hs-identifier hs-var hs-var">G._etdName</span></span><span> </span><span class="annot"><span class="annottext">EnumTypeDefinition
</span><a href="#local-6989586621689498018"><span class="hs-identifier hs-var">providedEnumTypeDefn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-972"></span><span>        </span><span class="annot"><span class="annottext">EnumTypeDefinition
-&gt; TypeDefinition () RemoteSchemaInputValueDefinition
forall possibleTypes inputType.
EnumTypeDefinition -&gt; TypeDefinition possibleTypes inputType
</span><span class="hs-identifier hs-var">G.TypeDefinitionEnum</span></span><span> </span><span class="annot"><span class="annottext">(EnumTypeDefinition
 -&gt; TypeDefinition () RemoteSchemaInputValueDefinition)
-&gt; m EnumTypeDefinition
-&gt; m (TypeDefinition () RemoteSchemaInputValueDefinition)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">EnumTypeDefinition -&gt; EnumTypeDefinition -&gt; m EnumTypeDefinition
forall (m :: * -&gt; *).
MonadValidate [RoleBasedSchemaValidationError] m =&gt;
EnumTypeDefinition -&gt; EnumTypeDefinition -&gt; m EnumTypeDefinition
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#validateEnumTypeDefinition"><span class="hs-identifier hs-var">validateEnumTypeDefinition</span></a></span><span> </span><span class="annot"><span class="annottext">EnumTypeDefinition
</span><a href="#local-6989586621689498018"><span class="hs-identifier hs-var">providedEnumTypeDefn</span></a></span><span> </span><span class="annot"><span class="annottext">EnumTypeDefinition
</span><a href="#local-6989586621689498017"><span class="hs-identifier hs-var">upstreamEnumTypeDefn</span></a></span><span>
</span><span id="line-973"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">G.TypeDefinitionInputObject</span></span><span> </span><span id="local-6989586621689498014"><span class="annot"><span class="annottext">InputObjectTypeDefinition InputValueDefinition
</span><a href="#local-6989586621689498014"><span class="hs-identifier hs-var">providedInputObjectTypeDefn</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-974"></span><span>        </span><span id="local-6989586621689498013"><span class="annot"><span class="annottext">InputObjectTypeDefinition RemoteSchemaInputValueDefinition
</span><a href="#local-6989586621689498013"><span class="hs-identifier hs-var">upstreamInputObjectTypeDefn</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-975"></span><span>          </span><span class="annot"><span class="annottext">RemoteSchemaIntrospection
-&gt; Name
-&gt; Maybe
     (InputObjectTypeDefinition RemoteSchemaInputValueDefinition)
</span><a href="Hasura.RQL.Types.RemoteSchema.html#lookupInputObject"><span class="hs-identifier hs-var">lookupInputObject</span></a></span><span> </span><span class="annot"><span class="annottext">RemoteSchemaIntrospection
</span><a href="#local-6989586621689498046"><span class="hs-identifier hs-var">upstreamRemoteSchemaIntrospection</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">InputObjectTypeDefinition InputValueDefinition -&gt; Name
forall inputType. InputObjectTypeDefinition inputType -&gt; Name
</span><span class="hs-identifier hs-var hs-var">G._iotdName</span></span><span> </span><span class="annot"><span class="annottext">InputObjectTypeDefinition InputValueDefinition
</span><a href="#local-6989586621689498014"><span class="hs-identifier hs-var">providedInputObjectTypeDefn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-976"></span><span>            </span><span class="annot"><span class="annottext">Maybe (InputObjectTypeDefinition RemoteSchemaInputValueDefinition)
-&gt; m (InputObjectTypeDefinition RemoteSchemaInputValueDefinition)
-&gt; m (InputObjectTypeDefinition RemoteSchemaInputValueDefinition)
forall (m :: * -&gt; *) a. Applicative m =&gt; Maybe a -&gt; m a -&gt; m a
</span><a href="Hasura.Prelude.html#onNothing"><span class="hs-operator hs-var">`onNothing`</span></a></span><span> </span><span class="annot"><span class="annottext">GraphQLType
-&gt; Name
-&gt; m (InputObjectTypeDefinition RemoteSchemaInputValueDefinition)
forall (f :: * -&gt; *) (m :: * -&gt; *) a.
(MonadValidate (f RoleBasedSchemaValidationError) m,
 Applicative f) =&gt;
GraphQLType -&gt; Name -&gt; m a
</span><a href="#local-6989586621689498029"><span class="hs-identifier hs-var">typeNotFound</span></a></span><span> </span><span class="annot"><span class="annottext">GraphQLType
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#InputObject"><span class="hs-identifier hs-var">InputObject</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">InputObjectTypeDefinition InputValueDefinition -&gt; Name
forall inputType. InputObjectTypeDefinition inputType -&gt; Name
</span><span class="hs-identifier hs-var hs-var">G._iotdName</span></span><span> </span><span class="annot"><span class="annottext">InputObjectTypeDefinition InputValueDefinition
</span><a href="#local-6989586621689498014"><span class="hs-identifier hs-var">providedInputObjectTypeDefn</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-977"></span><span>        </span><span class="annot"><span class="annottext">InputObjectTypeDefinition RemoteSchemaInputValueDefinition
-&gt; TypeDefinition () RemoteSchemaInputValueDefinition
forall possibleTypes inputType.
InputObjectTypeDefinition inputType
-&gt; TypeDefinition possibleTypes inputType
</span><span class="hs-identifier hs-var">G.TypeDefinitionInputObject</span></span><span>
</span><span id="line-978"></span><span>          </span><span class="annot"><span class="annottext">(InputObjectTypeDefinition RemoteSchemaInputValueDefinition
 -&gt; TypeDefinition () RemoteSchemaInputValueDefinition)
-&gt; m (InputObjectTypeDefinition RemoteSchemaInputValueDefinition)
-&gt; m (TypeDefinition () RemoteSchemaInputValueDefinition)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">InputObjectTypeDefinition InputValueDefinition
-&gt; InputObjectTypeDefinition RemoteSchemaInputValueDefinition
-&gt; m (InputObjectTypeDefinition RemoteSchemaInputValueDefinition)
forall (m :: * -&gt; *).
(MonadValidate [RoleBasedSchemaValidationError] m,
 MonadReader SchemaDocument m) =&gt;
InputObjectTypeDefinition InputValueDefinition
-&gt; InputObjectTypeDefinition RemoteSchemaInputValueDefinition
-&gt; m (InputObjectTypeDefinition RemoteSchemaInputValueDefinition)
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#validateInputObjectTypeDefinition"><span class="hs-identifier hs-var">validateInputObjectTypeDefinition</span></a></span><span> </span><span class="annot"><span class="annottext">InputObjectTypeDefinition InputValueDefinition
</span><a href="#local-6989586621689498014"><span class="hs-identifier hs-var">providedInputObjectTypeDefn</span></a></span><span> </span><span class="annot"><span class="annottext">InputObjectTypeDefinition RemoteSchemaInputValueDefinition
</span><a href="#local-6989586621689498013"><span class="hs-identifier hs-var">upstreamInputObjectTypeDefn</span></a></span><span>
</span><span id="line-979"></span><span>  </span><span class="annot"><span class="annottext">IntrospectionResult -&gt; m IntrospectionResult
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(IntrospectionResult -&gt; m IntrospectionResult)
-&gt; IntrospectionResult -&gt; m IntrospectionResult
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[TypeDefinition () RemoteSchemaInputValueDefinition]
-&gt; (Maybe Name, Maybe Name, Maybe Name) -&gt; IntrospectionResult
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#getSchemaDocIntrospection"><span class="hs-identifier hs-var">getSchemaDocIntrospection</span></a></span><span> </span><span class="annot"><span class="annottext">[TypeDefinition () RemoteSchemaInputValueDefinition]
</span><a href="#local-6989586621689498036"><span class="hs-identifier hs-var">validatedTypeDefinitions</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe Name, Maybe Name, Maybe Name)
</span><a href="#local-6989586621689498040"><span class="hs-identifier hs-var">rootTypeNames</span></a></span><span>
</span><span id="line-980"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-981"></span><span>    </span><span id="local-6989586621689498029"><span class="annot"><span class="annottext">typeNotFound :: GraphQLType -&gt; Name -&gt; m a
</span><a href="#local-6989586621689498029"><span class="hs-identifier hs-var hs-var">typeNotFound</span></a></span></span><span> </span><span id="local-6989586621689498010"><span class="annot"><span class="annottext">GraphQLType
</span><a href="#local-6989586621689498010"><span class="hs-identifier hs-var">gType</span></a></span></span><span> </span><span id="local-6989586621689498009"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498009"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">f RoleBasedSchemaValidationError -&gt; m a
forall e (m :: * -&gt; *) a. MonadValidate e m =&gt; e -&gt; m a
</span><span class="hs-identifier hs-var">refute</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RoleBasedSchemaValidationError -&gt; f RoleBasedSchemaValidationError
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(RoleBasedSchemaValidationError
 -&gt; f RoleBasedSchemaValidationError)
-&gt; RoleBasedSchemaValidationError
-&gt; f RoleBasedSchemaValidationError
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">GraphQLType -&gt; Name -&gt; RoleBasedSchemaValidationError
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#TypeDoesNotExist"><span class="hs-identifier hs-var">TypeDoesNotExist</span></a></span><span> </span><span class="annot"><span class="annottext">GraphQLType
</span><a href="#local-6989586621689498010"><span class="hs-identifier hs-var">gType</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689498009"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-982"></span><span>
</span><span id="line-983"></span><span id="local-6989586621689498008"><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#resolveRoleBasedRemoteSchema"><span class="hs-identifier hs-type">resolveRoleBasedRemoteSchema</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-984"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">MonadError</span></span><span> </span><span class="annot"><a href="Hasura.Base.Error.html#QErr"><span class="hs-identifier hs-type">QErr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689498008"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-985"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">G.SchemaDocument</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-986"></span><span>  </span><span class="annot"><a href="Hasura.RQL.Types.SchemaCache.html#RemoteSchemaCtx"><span class="hs-identifier hs-type">RemoteSchemaCtx</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-987"></span><span>  </span><span class="annot"><a href="#local-6989586621689498008"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.Types.SchemaCache.html#IntrospectionResult"><span class="hs-identifier hs-type">IntrospectionResult</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Hasura.RQL.Types.SchemaCacheTypes.html#SchemaDependency"><span class="hs-identifier hs-type">SchemaDependency</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span></span><span>
</span><span id="line-988"></span><span id="resolveRoleBasedRemoteSchema"><span class="annot"><span class="annottext">resolveRoleBasedRemoteSchema :: SchemaDocument
-&gt; RemoteSchemaCtx -&gt; m (IntrospectionResult, [SchemaDependency])
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#resolveRoleBasedRemoteSchema"><span class="hs-identifier hs-var hs-var">resolveRoleBasedRemoteSchema</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">G.SchemaDocument</span></span><span> </span><span id="local-6989586621689498005"><span class="annot"><span class="annottext">[TypeSystemDefinition]
</span><a href="#local-6989586621689498005"><span class="hs-identifier hs-var">providedTypeDefns</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621689498004"><span class="annot"><span class="annottext">RemoteSchemaCtx
</span><a href="#local-6989586621689498004"><span class="hs-identifier hs-var">upstreamRemoteCtx</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-989"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621689498003"><span class="annot"><span class="annottext">providedSchemaDocWithDefaultScalars :: SchemaDocument
</span><a href="#local-6989586621689498003"><span class="hs-identifier hs-var hs-var">providedSchemaDocWithDefaultScalars</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-990"></span><span>        </span><span class="annot"><span class="annottext">[TypeSystemDefinition] -&gt; SchemaDocument
</span><span class="hs-identifier hs-var">G.SchemaDocument</span></span><span> </span><span class="annot"><span class="annottext">([TypeSystemDefinition] -&gt; SchemaDocument)
-&gt; [TypeSystemDefinition] -&gt; SchemaDocument
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-991"></span><span>          </span><span class="annot"><span class="annottext">[TypeSystemDefinition]
</span><a href="#local-6989586621689498005"><span class="hs-identifier hs-var">providedTypeDefns</span></a></span><span> </span><span class="annot"><span class="annottext">[TypeSystemDefinition]
-&gt; [TypeSystemDefinition] -&gt; [TypeSystemDefinition]
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(ScalarTypeDefinition -&gt; TypeSystemDefinition)
-&gt; [ScalarTypeDefinition] -&gt; [TypeSystemDefinition]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TypeDefinition () InputValueDefinition -&gt; TypeSystemDefinition
</span><span class="hs-identifier hs-var">G.TypeSystemDefinitionType</span></span><span> </span><span class="annot"><span class="annottext">(TypeDefinition () InputValueDefinition -&gt; TypeSystemDefinition)
-&gt; (ScalarTypeDefinition -&gt; TypeDefinition () InputValueDefinition)
-&gt; ScalarTypeDefinition
-&gt; TypeSystemDefinition
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">ScalarTypeDefinition -&gt; TypeDefinition () InputValueDefinition
forall possibleTypes inputType.
ScalarTypeDefinition -&gt; TypeDefinition possibleTypes inputType
</span><span class="hs-identifier hs-var">G.TypeDefinitionScalar</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[ScalarTypeDefinition]
</span><a href="#local-6989586621689498002"><span class="hs-identifier hs-var">defaultScalars</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-992"></span><span>  </span><span id="local-6989586621689498001"><span class="annot"><span class="annottext">IntrospectionResult
</span><a href="#local-6989586621689498001"><span class="hs-identifier hs-var">introspectionRes</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-993"></span><span>    </span><span class="annot"><span class="annottext">(Either [RoleBasedSchemaValidationError] IntrospectionResult
 -&gt; ([RoleBasedSchemaValidationError] -&gt; m IntrospectionResult)
 -&gt; m IntrospectionResult)
-&gt; ([RoleBasedSchemaValidationError] -&gt; m IntrospectionResult)
-&gt; Either [RoleBasedSchemaValidationError] IntrospectionResult
-&gt; m IntrospectionResult
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">Either [RoleBasedSchemaValidationError] IntrospectionResult
-&gt; ([RoleBasedSchemaValidationError] -&gt; m IntrospectionResult)
-&gt; m IntrospectionResult
forall (m :: * -&gt; *) e a.
Applicative m =&gt;
Either e a -&gt; (e -&gt; m a) -&gt; m a
</span><a href="Hasura.Prelude.html#onLeft"><span class="hs-identifier hs-var">onLeft</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Code -&gt; Text -&gt; m IntrospectionResult
forall (m :: * -&gt; *) a. QErrM m =&gt; Code -&gt; Text -&gt; m a
</span><a href="Hasura.Base.Error.html#throw400"><span class="hs-identifier hs-var">throw400</span></a></span><span> </span><span class="annot"><span class="annottext">Code
</span><a href="Hasura.Base.Error.html#ValidationFailed"><span class="hs-identifier hs-var">ValidationFailed</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; m IntrospectionResult)
-&gt; ([RoleBasedSchemaValidationError] -&gt; Text)
-&gt; [RoleBasedSchemaValidationError]
-&gt; m IntrospectionResult
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">[RoleBasedSchemaValidationError] -&gt; Text
</span><a href="#local-6989586621689497997"><span class="hs-identifier hs-var">showErrors</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-994"></span><span>      </span><span class="annot"><span class="annottext">(Either [RoleBasedSchemaValidationError] IntrospectionResult
 -&gt; m IntrospectionResult)
-&gt; m (Either [RoleBasedSchemaValidationError] IntrospectionResult)
-&gt; m IntrospectionResult
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">=&lt;&lt;</span></span><span> </span><span class="annot"><span class="annottext">ValidateT [RoleBasedSchemaValidationError] m IntrospectionResult
-&gt; m (Either [RoleBasedSchemaValidationError] IntrospectionResult)
forall e (m :: * -&gt; *) a.
Functor m =&gt;
ValidateT e m a -&gt; m (Either e a)
</span><span class="hs-identifier hs-var">runValidateT</span></span><span>
</span><span id="line-995"></span><span>        </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">(ReaderT
   SchemaDocument
   (ValidateT [RoleBasedSchemaValidationError] m)
   IntrospectionResult
 -&gt; SchemaDocument
 -&gt; ValidateT
      [RoleBasedSchemaValidationError] m IntrospectionResult)
-&gt; SchemaDocument
-&gt; ReaderT
     SchemaDocument
     (ValidateT [RoleBasedSchemaValidationError] m)
     IntrospectionResult
-&gt; ValidateT [RoleBasedSchemaValidationError] m IntrospectionResult
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">ReaderT
  SchemaDocument
  (ValidateT [RoleBasedSchemaValidationError] m)
  IntrospectionResult
-&gt; SchemaDocument
-&gt; ValidateT [RoleBasedSchemaValidationError] m IntrospectionResult
forall r (m :: * -&gt; *) a. ReaderT r m a -&gt; r -&gt; m a
</span><span class="hs-identifier hs-var hs-var">runReaderT</span></span><span> </span><span class="annot"><span class="annottext">SchemaDocument
</span><a href="#local-6989586621689498003"><span class="hs-identifier hs-var">providedSchemaDocWithDefaultScalars</span></a></span><span> </span><span class="annot"><span class="annottext">(ReaderT
   SchemaDocument
   (ValidateT [RoleBasedSchemaValidationError] m)
   IntrospectionResult
 -&gt; ValidateT
      [RoleBasedSchemaValidationError] m IntrospectionResult)
-&gt; ReaderT
     SchemaDocument
     (ValidateT [RoleBasedSchemaValidationError] m)
     IntrospectionResult
-&gt; ValidateT [RoleBasedSchemaValidationError] m IntrospectionResult
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-996"></span><span>            </span><span class="annot"><span class="annottext">RemoteSchemaIntrospection
-&gt; ReaderT
     SchemaDocument
     (ValidateT [RoleBasedSchemaValidationError] m)
     IntrospectionResult
forall (m :: * -&gt; *).
(MonadValidate [RoleBasedSchemaValidationError] m,
 MonadReader SchemaDocument m) =&gt;
RemoteSchemaIntrospection -&gt; m IntrospectionResult
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#validateRemoteSchema"><span class="hs-identifier hs-var">validateRemoteSchema</span></a></span><span> </span><span class="annot"><span class="annottext">(RemoteSchemaIntrospection
 -&gt; ReaderT
      SchemaDocument
      (ValidateT [RoleBasedSchemaValidationError] m)
      IntrospectionResult)
-&gt; RemoteSchemaIntrospection
-&gt; ReaderT
     SchemaDocument
     (ValidateT [RoleBasedSchemaValidationError] m)
     IntrospectionResult
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">IntrospectionResult -&gt; RemoteSchemaIntrospection
</span><a href="Hasura.RQL.Types.SchemaCache.html#irDoc"><span class="hs-identifier hs-var hs-var">irDoc</span></a></span><span> </span><span class="annot"><span class="annottext">(IntrospectionResult -&gt; RemoteSchemaIntrospection)
-&gt; IntrospectionResult -&gt; RemoteSchemaIntrospection
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">RemoteSchemaCtx -&gt; IntrospectionResult
</span><a href="Hasura.RQL.Types.SchemaCache.html#_rscIntroOriginal"><span class="hs-identifier hs-var hs-var">_rscIntroOriginal</span></a></span><span> </span><span class="annot"><span class="annottext">RemoteSchemaCtx
</span><a href="#local-6989586621689498004"><span class="hs-identifier hs-var">upstreamRemoteCtx</span></a></span><span>
</span><span id="line-997"></span><span>        </span><span class="hs-special">)</span><span>
</span><span id="line-998"></span><span>  </span><span class="annot"><span class="annottext">(IntrospectionResult, [SchemaDependency])
-&gt; m (IntrospectionResult, [SchemaDependency])
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IntrospectionResult
</span><a href="#local-6989586621689498001"><span class="hs-identifier hs-var">introspectionRes</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">SchemaDependency
</span><a href="#local-6989586621689497991"><span class="hs-identifier hs-var">schemaDependency</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-999"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-1000"></span><span>    </span><span class="annot"><a href="#local-6989586621689497997"><span class="hs-identifier hs-type">showErrors</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#RoleBasedSchemaValidationError"><span class="hs-identifier hs-type">RoleBasedSchemaValidationError</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span>
</span><span id="line-1001"></span><span>    </span><span id="local-6989586621689497997"><span class="annot"><span class="annottext">showErrors :: [RoleBasedSchemaValidationError] -&gt; Text
</span><a href="#local-6989586621689497997"><span class="hs-identifier hs-var hs-var">showErrors</span></a></span></span><span> </span><span id="local-6989586621689497990"><span class="annot"><span class="annottext">[RoleBasedSchemaValidationError]
</span><a href="#local-6989586621689497990"><span class="hs-identifier hs-var">errors</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1002"></span><span>      </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;validation for the given role-based schema failed &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689497989"><span class="hs-identifier hs-var">reasonsMessage</span></a></span><span>
</span><span id="line-1003"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-1004"></span><span>        </span><span id="local-6989586621689497989"><span class="annot"><span class="annottext">reasonsMessage :: Text
</span><a href="#local-6989586621689497989"><span class="hs-identifier hs-var hs-var">reasonsMessage</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">[RoleBasedSchemaValidationError]
</span><a href="#local-6989586621689497990"><span class="hs-identifier hs-var">errors</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-1005"></span><span>          </span><span class="hs-special">[</span><span id="local-6989586621689497988"><span class="annot"><span class="annottext">RoleBasedSchemaValidationError
</span><a href="#local-6989586621689497988"><span class="hs-identifier hs-var">singleError</span></a></span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;because &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">RoleBasedSchemaValidationError -&gt; Text
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#showRoleBasedSchemaValidationError"><span class="hs-identifier hs-var">showRoleBasedSchemaValidationError</span></a></span><span> </span><span class="annot"><span class="annottext">RoleBasedSchemaValidationError
</span><a href="#local-6989586621689497988"><span class="hs-identifier hs-var">singleError</span></a></span><span>
</span><span id="line-1006"></span><span>          </span><span class="annot"><span class="annottext">[RoleBasedSchemaValidationError]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-1007"></span><span>            </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;for the following reasons:\n&quot;</span></span><span>
</span><span id="line-1008"></span><span>              </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">[Text] -&gt; Text
</span><span class="hs-identifier hs-var">T.unlines</span></span><span>
</span><span id="line-1009"></span><span>                </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(RoleBasedSchemaValidationError -&gt; Text)
-&gt; [RoleBasedSchemaValidationError] -&gt; [Text]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; &#8226; &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Text)
-&gt; (RoleBasedSchemaValidationError -&gt; Text)
-&gt; RoleBasedSchemaValidationError
-&gt; Text
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">RoleBasedSchemaValidationError -&gt; Text
</span><a href="Hasura.RQL.DDL.RemoteSchema.Permission.html#showRoleBasedSchemaValidationError"><span class="hs-identifier hs-var">showRoleBasedSchemaValidationError</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[RoleBasedSchemaValidationError]
</span><a href="#local-6989586621689497990"><span class="hs-identifier hs-var">errors</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-1010"></span><span>
</span><span id="line-1011"></span><span>    </span><span id="local-6989586621689497991"><span class="annot"><span class="annottext">schemaDependency :: SchemaDependency
</span><a href="#local-6989586621689497991"><span class="hs-identifier hs-var hs-var">schemaDependency</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SchemaObjId -&gt; DependencyReason -&gt; SchemaDependency
</span><a href="Hasura.RQL.Types.SchemaCacheTypes.html#SchemaDependency"><span class="hs-identifier hs-var">SchemaDependency</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RemoteSchemaName -&gt; SchemaObjId
</span><a href="Hasura.RQL.Types.SchemaCacheTypes.html#SORemoteSchema"><span class="hs-identifier hs-var">SORemoteSchema</span></a></span><span> </span><span class="annot"><span class="annottext">(RemoteSchemaName -&gt; SchemaObjId)
-&gt; RemoteSchemaName -&gt; SchemaObjId
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">RemoteSchemaCtx -&gt; RemoteSchemaName
</span><a href="Hasura.RQL.Types.SchemaCache.html#_rscName"><span class="hs-identifier hs-var hs-var">_rscName</span></a></span><span> </span><span class="annot"><span class="annottext">RemoteSchemaCtx
</span><a href="#local-6989586621689498004"><span class="hs-identifier hs-var">upstreamRemoteCtx</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">DependencyReason
</span><a href="Hasura.RQL.Types.SchemaCacheTypes.html#DRRemoteSchema"><span class="hs-identifier hs-var">DRRemoteSchema</span></a></span><span>
</span><span id="line-1012"></span><span>
</span><span id="line-1013"></span><span>    </span><span id="local-6989586621689498002"><span class="annot"><span class="annottext">defaultScalars :: [ScalarTypeDefinition]
</span><a href="#local-6989586621689498002"><span class="hs-identifier hs-var hs-var">defaultScalars</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-1014"></span><span>      </span><span class="annot"><span class="annottext">(Name -&gt; ScalarTypeDefinition) -&gt; [Name] -&gt; [ScalarTypeDefinition]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621689497982"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689497982"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe Description
-&gt; Name -&gt; [Directive Void] -&gt; ScalarTypeDefinition
</span><span class="hs-identifier hs-var">G.ScalarTypeDefinition</span></span><span> </span><span class="annot"><span class="annottext">Maybe Description
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689497982"><span class="hs-identifier hs-var">n</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([Name] -&gt; [ScalarTypeDefinition])
-&gt; (HashSet Name -&gt; [Name])
-&gt; HashSet Name
-&gt; [ScalarTypeDefinition]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">HashSet Name -&gt; [Name]
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; [a]
</span><span class="hs-identifier hs-var">toList</span></span><span> </span><span class="annot"><span class="annottext">(HashSet Name -&gt; [ScalarTypeDefinition])
-&gt; HashSet Name -&gt; [ScalarTypeDefinition]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-1015"></span><span>        </span><span class="annot"><span class="annottext">HashSet Name
</span><a href="Hasura.GraphQL.Parser.Name.html#builtInScalars"><span class="hs-identifier hs-var">GName.builtInScalars</span></a></span><span>
</span><span id="line-1016"></span></pre></body></html>