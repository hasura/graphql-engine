<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Hasura.Server.App</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">graphql-engine-1.0.0: GraphQL API over Postgres</span><ul class="links" id="page-menu"><li><a href="src/Hasura.Server.App.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Hasura.Server.App</p></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:SchemaCacheRef">SchemaCacheRef</a> = <a href="#v:SchemaCacheRef">SchemaCacheRef</a> {<ul class="subs"><li><a href="#v:_scrLock">_scrLock</a> :: <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Concurrent-MVar.html#t:MVar" title="Control.Concurrent.MVar">MVar</a> ()</li><li><a href="#v:_scrCache">_scrCache</a> :: <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> (<a href="Hasura-RQL-DDL-Schema-Cache-Common.html#t:RebuildableSchemaCache" title="Hasura.RQL.DDL.Schema.Cache.Common">RebuildableSchemaCache</a>, <a href="Hasura-RQL-Types-SchemaCache.html#t:SchemaCacheVer" title="Hasura.RQL.Types.SchemaCache">SchemaCacheVer</a>)</li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:ServerCtx">ServerCtx</a> = <a href="#v:ServerCtx">ServerCtx</a> {<ul class="subs"><li><a href="#v:scLogger">scLogger</a> :: !(<a href="Hasura-Logging.html#t:Logger" title="Hasura.Logging">Logger</a> <a href="Hasura-Logging.html#t:Hasura" title="Hasura.Logging">Hasura</a>)</li><li><a href="#v:scCacheRef">scCacheRef</a> :: !<a href="Hasura-Server-App.html#t:SchemaCacheRef" title="Hasura.Server.App">SchemaCacheRef</a></li><li><a href="#v:scAuthMode">scAuthMode</a> :: !<a href="Hasura-Server-Auth.html#t:AuthMode" title="Hasura.Server.Auth">AuthMode</a></li><li><a href="#v:scManager">scManager</a> :: !Manager</li><li><a href="#v:scSQLGenCtx">scSQLGenCtx</a> :: !<a href="Hasura-RQL-Types-Common.html#t:SQLGenCtx" title="Hasura.RQL.Types.Common">SQLGenCtx</a></li><li><a href="#v:scEnabledAPIs">scEnabledAPIs</a> :: !(HashSet <a href="Hasura-Server-Init-Config.html#t:API" title="Hasura.Server.Init.Config">API</a>)</li><li><a href="#v:scInstanceId">scInstanceId</a> :: !<a href="Hasura-Server-Types.html#t:InstanceId" title="Hasura.Server.Types">InstanceId</a></li><li><a href="#v:scLQState">scLQState</a> :: !<a href="Hasura-GraphQL-Execute-LiveQuery-State.html#t:LiveQueriesState" title="Hasura.GraphQL.Execute.LiveQuery.State">LiveQueriesState</a></li><li><a href="#v:scEnableAllowlist">scEnableAllowlist</a> :: !<a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li><a href="#v:scEkgStore">scEkgStore</a> :: !(Store EmptyMetrics)</li><li><a href="#v:scResponseInternalErrorsConfig">scResponseInternalErrorsConfig</a> :: !<a href="Hasura-Server-Init-Config.html#t:ResponseInternalErrorsConfig" title="Hasura.Server.Init.Config">ResponseInternalErrorsConfig</a></li><li><a href="#v:scEnvironment">scEnvironment</a> :: !<a href="Data-Environment.html#t:Environment" title="Data.Environment">Environment</a></li><li><a href="#v:scRemoteSchemaPermsCtx">scRemoteSchemaPermsCtx</a> :: !<a href="Hasura-RQL-Types-RemoteSchema.html#t:RemoteSchemaPermsCtx" title="Hasura.RQL.Types.RemoteSchema">RemoteSchemaPermsCtx</a></li><li><a href="#v:scFunctionPermsCtx">scFunctionPermsCtx</a> :: !<a href="Hasura-RQL-Types-Function.html#t:FunctionPermissionsCtx" title="Hasura.RQL.Types.Function">FunctionPermissionsCtx</a></li><li><a href="#v:scEnableMaintenanceMode">scEnableMaintenanceMode</a> :: !<a href="Hasura-Server-Types.html#t:MaintenanceMode" title="Hasura.Server.Types">MaintenanceMode</a></li><li><a href="#v:scExperimentalFeatures">scExperimentalFeatures</a> :: !(HashSet <a href="Hasura-Server-Types.html#t:ExperimentalFeature" title="Hasura.Server.Types">ExperimentalFeature</a>)</li><li><a href="#v:scEnabledLogTypes">scEnabledLogTypes</a> :: !(HashSet (<a href="Hasura-Logging.html#t:EngineLogType" title="Hasura.Logging">EngineLogType</a> <a href="Hasura-Logging.html#t:Hasura" title="Hasura.Logging">Hasura</a>))</li><li><a href="#v:scEventingMode">scEventingMode</a> :: !<a href="Hasura-Server-Types.html#t:EventingMode" title="Hasura.Server.Types">EventingMode</a></li><li><a href="#v:scEnableReadOnlyMode">scEnableReadOnlyMode</a> :: !<a href="Hasura-Server-Types.html#t:ReadOnlyMode" title="Hasura.Server.Types">ReadOnlyMode</a></li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:HandlerCtx">HandlerCtx</a> = <a href="#v:HandlerCtx">HandlerCtx</a> {<ul class="subs"><li><a href="#v:hcServerCtx">hcServerCtx</a> :: !<a href="Hasura-Server-App.html#t:ServerCtx" title="Hasura.Server.App">ServerCtx</a></li><li><a href="#v:hcUser">hcUser</a> :: !<a href="Hasura-Session.html#t:UserInfo" title="Hasura.Session">UserInfo</a></li><li><a href="#v:hcReqHeaders">hcReqHeaders</a> :: ![Header]</li><li><a href="#v:hcRequestId">hcRequestId</a> :: !<a href="Hasura-Server-Types.html#t:RequestId" title="Hasura.Server.Types">RequestId</a></li><li><a href="#v:hcSourceIpAddress">hcSourceIpAddress</a> :: !<a href="Network-Wai-Extended.html#t:IpAddress" title="Network.Wai.Extended">IpAddress</a></li></ul>}</li><li class="src short"><span class="keyword">type</span> <a href="#t:Handler">Handler</a> m = <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Hasura-Server-App.html#t:HandlerCtx" title="Hasura.Server.App">HandlerCtx</a> (<a href="Hasura-Metadata-Class.html#t:MetadataStorageT" title="Hasura.Metadata.Class">MetadataStorageT</a> m)</li><li class="src short"><span class="keyword">data</span> <a href="#t:APIResp">APIResp</a><ul class="subs"><li>= <a href="#v:JSONResp">JSONResp</a> !(<a href="Hasura-HTTP.html#t:HttpResponse" title="Hasura.HTTP">HttpResponse</a> <a href="Hasura-EncJSON.html#t:EncJSON" title="Hasura.EncJSON">EncJSON</a>)</li><li>| <a href="#v:RawResp">RawResp</a> !(<a href="Hasura-HTTP.html#t:HttpResponse" title="Hasura.HTTP">HttpResponse</a> <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/bytestring-0.10.12.0/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a>)</li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:APIHandler">APIHandler</a> m a <span class="keyword">where</span><ul class="subs"><li><a href="#v:AHGet">AHGet</a> :: !(<a href="Hasura-Server-App.html#t:Handler" title="Hasura.Server.App">Handler</a> m (<a href="Hasura-Server-Logging.html#t:HttpLogMetadata" title="Hasura.Server.Logging">HttpLogMetadata</a> m, <a href="Hasura-Server-App.html#t:APIResp" title="Hasura.Server.App">APIResp</a>)) -&gt; <a href="Hasura-Server-App.html#t:APIHandler" title="Hasura.Server.App">APIHandler</a> m void</li><li><a href="#v:AHPost">AHPost</a> :: !(a -&gt; <a href="Hasura-Server-App.html#t:Handler" title="Hasura.Server.App">Handler</a> m (<a href="Hasura-Server-Logging.html#t:HttpLogMetadata" title="Hasura.Server.Logging">HttpLogMetadata</a> m, <a href="Hasura-Server-App.html#t:APIResp" title="Hasura.Server.App">APIResp</a>)) -&gt; <a href="Hasura-Server-App.html#t:APIHandler" title="Hasura.Server.App">APIHandler</a> m a</li><li><a href="#v:AHGraphQLRequest">AHGraphQLRequest</a> :: !(<a href="Hasura-GraphQL-Transport-HTTP-Protocol.html#t:ReqsText" title="Hasura.GraphQL.Transport.HTTP.Protocol">ReqsText</a> -&gt; <a href="Hasura-Server-App.html#t:Handler" title="Hasura.Server.App">Handler</a> m (<a href="Hasura-Server-Logging.html#t:HttpLogMetadata" title="Hasura.Server.Logging">HttpLogMetadata</a> m, <a href="Hasura-Server-App.html#t:APIResp" title="Hasura.Server.App">APIResp</a>)) -&gt; <a href="Hasura-Server-App.html#t:APIHandler" title="Hasura.Server.App">APIHandler</a> m <a href="Hasura-GraphQL-Transport-HTTP-Protocol.html#t:ReqsText" title="Hasura.GraphQL.Transport.HTTP.Protocol">ReqsText</a></li></ul></li><li class="src short"><a href="#v:boolToText">boolToText</a> :: <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; Text</li><li class="src short"><a href="#v:isAdminSecretSet">isAdminSecretSet</a> :: <a href="Hasura-Server-Auth.html#t:AuthMode" title="Hasura.Server.Auth">AuthMode</a> -&gt; Text</li><li class="src short"><a href="#v:getSCFromRef">getSCFromRef</a> :: <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="Hasura-Server-App.html#t:SchemaCacheRef" title="Hasura.Server.App">SchemaCacheRef</a> -&gt; m <a href="Hasura-RQL-Types-SchemaCache.html#t:SchemaCache" title="Hasura.RQL.Types.SchemaCache">SchemaCache</a></li><li class="src short"><a href="#v:logInconsObjs">logInconsObjs</a> :: <a href="Hasura-Logging.html#t:Logger" title="Hasura.Logging">Logger</a> <a href="Hasura-Logging.html#t:Hasura" title="Hasura.Logging">Hasura</a> -&gt; [<a href="Hasura-RQL-Types-Metadata-Object.html#t:InconsistentMetadata" title="Hasura.RQL.Types.Metadata.Object">InconsistentMetadata</a>] -&gt; <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:withSCUpdate">withSCUpdate</a> :: (<a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, MonadBaseControl <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> m) =&gt; <a href="Hasura-Server-App.html#t:SchemaCacheRef" title="Hasura.Server.App">SchemaCacheRef</a> -&gt; <a href="Hasura-Logging.html#t:Logger" title="Hasura.Logging">Logger</a> <a href="Hasura-Logging.html#t:Hasura" title="Hasura.Logging">Hasura</a> -&gt; <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/GHC-Conc.html#t:TVar" title="GHC.Conc">TVar</a> <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; m (a, <a href="Hasura-RQL-DDL-Schema-Cache-Common.html#t:RebuildableSchemaCache" title="Hasura.RQL.DDL.Schema.Cache.Common">RebuildableSchemaCache</a>) -&gt; m a</li><li class="src short"><a href="#v:mkGetHandler">mkGetHandler</a> :: <a href="Hasura-Server-App.html#t:Handler" title="Hasura.Server.App">Handler</a> m (<a href="Hasura-Server-Logging.html#t:HttpLogMetadata" title="Hasura.Server.Logging">HttpLogMetadata</a> m, <a href="Hasura-Server-App.html#t:APIResp" title="Hasura.Server.App">APIResp</a>) -&gt; <a href="Hasura-Server-App.html#t:APIHandler" title="Hasura.Server.App">APIHandler</a> m ()</li><li class="src short"><a href="#v:mkPostHandler">mkPostHandler</a> :: (a -&gt; <a href="Hasura-Server-App.html#t:Handler" title="Hasura.Server.App">Handler</a> m (<a href="Hasura-Server-Logging.html#t:HttpLogMetadata" title="Hasura.Server.Logging">HttpLogMetadata</a> m, <a href="Hasura-Server-App.html#t:APIResp" title="Hasura.Server.App">APIResp</a>)) -&gt; <a href="Hasura-Server-App.html#t:APIHandler" title="Hasura.Server.App">APIHandler</a> m a</li><li class="src short"><a href="#v:mkGQLRequestHandler">mkGQLRequestHandler</a> :: (<a href="Hasura-GraphQL-Transport-HTTP-Protocol.html#t:ReqsText" title="Hasura.GraphQL.Transport.HTTP.Protocol">ReqsText</a> -&gt; <a href="Hasura-Server-App.html#t:Handler" title="Hasura.Server.App">Handler</a> m (<a href="Hasura-Server-Logging.html#t:HttpLogMetadata" title="Hasura.Server.Logging">HttpLogMetadata</a> m, <a href="Hasura-Server-App.html#t:APIResp" title="Hasura.Server.App">APIResp</a>)) -&gt; <a href="Hasura-Server-App.html#t:APIHandler" title="Hasura.Server.App">APIHandler</a> m <a href="Hasura-GraphQL-Transport-HTTP-Protocol.html#t:ReqsText" title="Hasura.GraphQL.Transport.HTTP.Protocol">ReqsText</a></li><li class="src short"><a href="#v:mkAPIRespHandler">mkAPIRespHandler</a> :: <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> m =&gt; (a -&gt; <a href="Hasura-Server-App.html#t:Handler" title="Hasura.Server.App">Handler</a> m (<a href="Hasura-HTTP.html#t:HttpResponse" title="Hasura.HTTP">HttpResponse</a> <a href="Hasura-EncJSON.html#t:EncJSON" title="Hasura.EncJSON">EncJSON</a>)) -&gt; a -&gt; <a href="Hasura-Server-App.html#t:Handler" title="Hasura.Server.App">Handler</a> m <a href="Hasura-Server-App.html#t:APIResp" title="Hasura.Server.App">APIResp</a></li><li class="src short"><a href="#v:mkGQLAPIRespHandler">mkGQLAPIRespHandler</a> :: <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> m =&gt; (a -&gt; <a href="Hasura-Server-App.html#t:Handler" title="Hasura.Server.App">Handler</a> m (b, <a href="Hasura-HTTP.html#t:HttpResponse" title="Hasura.HTTP">HttpResponse</a> <a href="Hasura-EncJSON.html#t:EncJSON" title="Hasura.EncJSON">EncJSON</a>)) -&gt; a -&gt; <a href="Hasura-Server-App.html#t:Handler" title="Hasura.Server.App">Handler</a> m (b, <a href="Hasura-Server-App.html#t:APIResp" title="Hasura.Server.App">APIResp</a>)</li><li class="src short"><a href="#v:isMetadataEnabled">isMetadataEnabled</a> :: <a href="Hasura-Server-App.html#t:ServerCtx" title="Hasura.Server.App">ServerCtx</a> -&gt; <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:isGraphQLEnabled">isGraphQLEnabled</a> :: <a href="Hasura-Server-App.html#t:ServerCtx" title="Hasura.Server.App">ServerCtx</a> -&gt; <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:isPGDumpEnabled">isPGDumpEnabled</a> :: <a href="Hasura-Server-App.html#t:ServerCtx" title="Hasura.Server.App">ServerCtx</a> -&gt; <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:isConfigEnabled">isConfigEnabled</a> :: <a href="Hasura-Server-App.html#t:ServerCtx" title="Hasura.Server.App">ServerCtx</a> -&gt; <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:isDeveloperAPIEnabled">isDeveloperAPIEnabled</a> :: <a href="Hasura-Server-App.html#t:ServerCtx" title="Hasura.Server.App">ServerCtx</a> -&gt; <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></li><li class="src short"><a href="#v:parseBody">parseBody</a> :: (FromJSON a, <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/mtl-2.2.2/Control-Monad-Error-Class.html#t:MonadError" title="Control.Monad.Error.Class">MonadError</a> <a href="Hasura-Base-Error.html#t:QErr" title="Hasura.Base.Error">QErr</a> m) =&gt; <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/bytestring-0.10.12.0/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a> -&gt; m (Value, a)</li><li class="src short"><a href="#v:onlyAdmin">onlyAdmin</a> :: (<a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/mtl-2.2.2/Control-Monad-Error-Class.html#t:MonadError" title="Control.Monad.Error.Class">MonadError</a> <a href="Hasura-Base-Error.html#t:QErr" title="Hasura.Base.Error">QErr</a> m, <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/mtl-2.2.2/Control-Monad-Reader-Class.html#t:MonadReader" title="Control.Monad.Reader.Class">MonadReader</a> <a href="Hasura-Server-App.html#t:HandlerCtx" title="Hasura.Server.App">HandlerCtx</a> m) =&gt; m ()</li><li class="src short"><a href="#v:setHeader">setHeader</a> :: <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; Header -&gt; ActionT m ()</li><li class="src short"><span class="keyword">class</span> <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="#t:MonadMetadataApiAuthorization">MonadMetadataApiAuthorization</a> m <span class="keyword">where</span><ul class="subs"><li><a href="#v:authorizeV1QueryApi">authorizeV1QueryApi</a> :: <a href="Hasura-Server-API-Query.html#t:RQLQuery" title="Hasura.Server.API.Query">RQLQuery</a> -&gt; <a href="Hasura-Server-App.html#t:HandlerCtx" title="Hasura.Server.App">HandlerCtx</a> -&gt; m (<a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Hasura-Base-Error.html#t:QErr" title="Hasura.Base.Error">QErr</a> ())</li><li><a href="#v:authorizeV1MetadataApi">authorizeV1MetadataApi</a> :: <a href="Hasura-Server-API-Metadata.html#t:RQLMetadata" title="Hasura.Server.API.Metadata">RQLMetadata</a> -&gt; <a href="Hasura-Server-App.html#t:HandlerCtx" title="Hasura.Server.App">HandlerCtx</a> -&gt; m (<a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Hasura-Base-Error.html#t:QErr" title="Hasura.Base.Error">QErr</a> ())</li><li><a href="#v:authorizeV2QueryApi">authorizeV2QueryApi</a> :: <a href="Hasura-Server-API-V2Query.html#t:RQLQuery" title="Hasura.Server.API.V2Query">RQLQuery</a> -&gt; <a href="Hasura-Server-App.html#t:HandlerCtx" title="Hasura.Server.App">HandlerCtx</a> -&gt; m (<a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Hasura-Base-Error.html#t:QErr" title="Hasura.Base.Error">QErr</a> ())</li></ul></li><li class="src short"><span class="keyword">class</span> <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="#t:MonadConfigApiHandler">MonadConfigApiHandler</a> m <span class="keyword">where</span><ul class="subs"><li><a href="#v:runConfigApiHandler">runConfigApiHandler</a> :: <a href="Hasura-Server-App.html#t:ServerCtx" title="Hasura.Server.App">ServerCtx</a> -&gt; <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> Text -&gt; SpockCtxT () m ()</li></ul></li><li class="src short"><a href="#v:mapActionT">mapActionT</a> :: (<a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> n) =&gt; (m (StT (ActionCtxT ()) a) -&gt; n (StT (ActionCtxT ()) a)) -&gt; ActionT m a -&gt; ActionT n a</li><li class="src short"><a href="#v:mkSpockAction">mkSpockAction</a> :: (<a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, MonadBaseControl <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> m, FromJSON a, <a href="Hasura-Server-Auth.html#t:UserAuthentication" title="Hasura.Server.Auth">UserAuthentication</a> (<a href="Hasura-Tracing.html#t:TraceT" title="Hasura.Tracing">TraceT</a> m), <a href="Hasura-Server-Logging.html#t:HttpLog" title="Hasura.Server.Logging">HttpLog</a> m, <a href="Hasura-Tracing.html#t:HasReporter" title="Hasura.Tracing">HasReporter</a> m, <a href="Hasura-Server-Limits.html#t:HasResourceLimits" title="Hasura.Server.Limits">HasResourceLimits</a> m) =&gt; <a href="Hasura-Server-App.html#t:ServerCtx" title="Hasura.Server.App">ServerCtx</a> -&gt; (<a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; <a href="Hasura-Base-Error.html#t:QErr" title="Hasura.Base.Error">QErr</a> -&gt; Value) -&gt; (<a href="Hasura-Base-Error.html#t:QErr" title="Hasura.Base.Error">QErr</a> -&gt; <a href="Hasura-Base-Error.html#t:QErr" title="Hasura.Base.Error">QErr</a>) -&gt; <a href="Hasura-Server-App.html#t:APIHandler" title="Hasura.Server.App">APIHandler</a> (<a href="Hasura-Tracing.html#t:TraceT" title="Hasura.Tracing">TraceT</a> m) a -&gt; ActionT m ()</li><li class="src short"><a href="#v:v1QueryHandler">v1QueryHandler</a> :: (<a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, MonadBaseControl <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> m, <a href="Hasura-Server-App.html#t:MonadMetadataApiAuthorization" title="Hasura.Server.App">MonadMetadataApiAuthorization</a> m, <a href="Hasura-Tracing.html#t:MonadTrace" title="Hasura.Tracing">MonadTrace</a> m, <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/mtl-2.2.2/Control-Monad-Reader-Class.html#t:MonadReader" title="Control.Monad.Reader.Class">MonadReader</a> <a href="Hasura-Server-App.html#t:HandlerCtx" title="Hasura.Server.App">HandlerCtx</a> m, <a href="Hasura-Metadata-Class.html#t:MonadMetadataStorage" title="Hasura.Metadata.Class">MonadMetadataStorage</a> m, <a href="Hasura-RQL-Types-Source.html#t:MonadResolveSource" title="Hasura.RQL.Types.Source">MonadResolveSource</a> m, <a href="Hasura-GraphQL-Execute-Backend.html#t:MonadQueryTags" title="Hasura.GraphQL.Execute.Backend">MonadQueryTags</a> m) =&gt; <a href="Hasura-Server-API-Query.html#t:RQLQuery" title="Hasura.Server.API.Query">RQLQuery</a> -&gt; m (<a href="Hasura-HTTP.html#t:HttpResponse" title="Hasura.HTTP">HttpResponse</a> <a href="Hasura-EncJSON.html#t:EncJSON" title="Hasura.EncJSON">EncJSON</a>)</li><li class="src short"><a href="#v:v1MetadataHandler">v1MetadataHandler</a> :: (<a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, MonadBaseControl <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> m, <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/mtl-2.2.2/Control-Monad-Reader-Class.html#t:MonadReader" title="Control.Monad.Reader.Class">MonadReader</a> <a href="Hasura-Server-App.html#t:HandlerCtx" title="Hasura.Server.App">HandlerCtx</a> m, <a href="Hasura-Tracing.html#t:MonadTrace" title="Hasura.Tracing">MonadTrace</a> m, <a href="Hasura-Metadata-Class.html#t:MonadMetadataStorage" title="Hasura.Metadata.Class">MonadMetadataStorage</a> m, <a href="Hasura-RQL-Types-Source.html#t:MonadResolveSource" title="Hasura.RQL.Types.Source">MonadResolveSource</a> m, <a href="Hasura-Server-App.html#t:MonadMetadataApiAuthorization" title="Hasura.Server.App">MonadMetadataApiAuthorization</a> m) =&gt; <a href="Hasura-Server-API-Metadata.html#t:RQLMetadata" title="Hasura.Server.API.Metadata">RQLMetadata</a> -&gt; m (<a href="Hasura-HTTP.html#t:HttpResponse" title="Hasura.HTTP">HttpResponse</a> <a href="Hasura-EncJSON.html#t:EncJSON" title="Hasura.EncJSON">EncJSON</a>)</li><li class="src short"><a href="#v:v2QueryHandler">v2QueryHandler</a> :: (<a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, MonadBaseControl <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> m, <a href="Hasura-Server-App.html#t:MonadMetadataApiAuthorization" title="Hasura.Server.App">MonadMetadataApiAuthorization</a> m, <a href="Hasura-Tracing.html#t:MonadTrace" title="Hasura.Tracing">MonadTrace</a> m, <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/mtl-2.2.2/Control-Monad-Reader-Class.html#t:MonadReader" title="Control.Monad.Reader.Class">MonadReader</a> <a href="Hasura-Server-App.html#t:HandlerCtx" title="Hasura.Server.App">HandlerCtx</a> m, <a href="Hasura-Metadata-Class.html#t:MonadMetadataStorage" title="Hasura.Metadata.Class">MonadMetadataStorage</a> m, <a href="Hasura-RQL-Types-Source.html#t:MonadResolveSource" title="Hasura.RQL.Types.Source">MonadResolveSource</a> m, <a href="Hasura-GraphQL-Execute-Backend.html#t:MonadQueryTags" title="Hasura.GraphQL.Execute.Backend">MonadQueryTags</a> m) =&gt; <a href="Hasura-Server-API-V2Query.html#t:RQLQuery" title="Hasura.Server.API.V2Query">RQLQuery</a> -&gt; m (<a href="Hasura-HTTP.html#t:HttpResponse" title="Hasura.HTTP">HttpResponse</a> <a href="Hasura-EncJSON.html#t:EncJSON" title="Hasura.EncJSON">EncJSON</a>)</li><li class="src short"><a href="#v:v1Alpha1GQHandler">v1Alpha1GQHandler</a> :: (<a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, MonadBaseControl <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> m, <a href="Hasura-GraphQL-Execute-Common.html#t:MonadGQLExecutionCheck" title="Hasura.GraphQL.Execute.Common">MonadGQLExecutionCheck</a> m, <a href="Hasura-GraphQL-Logging.html#t:MonadQueryLog" title="Hasura.GraphQL.Logging">MonadQueryLog</a> m, <a href="Hasura-Tracing.html#t:MonadTrace" title="Hasura.Tracing">MonadTrace</a> m, <a href="Hasura-GraphQL-Transport-HTTP.html#t:MonadExecuteQuery" title="Hasura.GraphQL.Transport.HTTP">MonadExecuteQuery</a> m, <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/mtl-2.2.2/Control-Monad-Error-Class.html#t:MonadError" title="Control.Monad.Error.Class">MonadError</a> <a href="Hasura-Base-Error.html#t:QErr" title="Hasura.Base.Error">QErr</a> m, <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/mtl-2.2.2/Control-Monad-Reader-Class.html#t:MonadReader" title="Control.Monad.Reader.Class">MonadReader</a> <a href="Hasura-Server-App.html#t:HandlerCtx" title="Hasura.Server.App">HandlerCtx</a> m, <a href="Hasura-Server-Logging.html#t:HttpLog" title="Hasura.Server.Logging">HttpLog</a> m, <a href="Hasura-Metadata-Class.html#t:MonadMetadataStorage" title="Hasura.Metadata.Class">MonadMetadataStorage</a> (<a href="Hasura-Metadata-Class.html#t:MetadataStorageT" title="Hasura.Metadata.Class">MetadataStorageT</a> m), <a href="Hasura-GraphQL-Execute-Backend.html#t:MonadQueryTags" title="Hasura.GraphQL.Execute.Backend">MonadQueryTags</a> m, <a href="Hasura-Server-Limits.html#t:HasResourceLimits" title="Hasura.Server.Limits">HasResourceLimits</a> m) =&gt; <a href="Hasura-GraphQL-Execute-Types.html#t:GraphQLQueryType" title="Hasura.GraphQL.Execute.Types">GraphQLQueryType</a> -&gt; <a href="Hasura-GraphQL-Transport-HTTP-Protocol.html#t:GQLBatchedReqs" title="Hasura.GraphQL.Transport.HTTP.Protocol">GQLBatchedReqs</a> (<a href="Hasura-GraphQL-Transport-HTTP-Protocol.html#t:GQLReq" title="Hasura.GraphQL.Transport.HTTP.Protocol">GQLReq</a> <a href="Hasura-GraphQL-Transport-HTTP-Protocol.html#t:GQLQueryText" title="Hasura.GraphQL.Transport.HTTP.Protocol">GQLQueryText</a>) -&gt; m (<a href="Hasura-Server-Logging.html#t:HttpLogMetadata" title="Hasura.Server.Logging">HttpLogMetadata</a> m, <a href="Hasura-HTTP.html#t:HttpResponse" title="Hasura.HTTP">HttpResponse</a> <a href="Hasura-EncJSON.html#t:EncJSON" title="Hasura.EncJSON">EncJSON</a>)</li><li class="src short"><a href="#v:mkExecutionContext">mkExecutionContext</a> :: (<a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/mtl-2.2.2/Control-Monad-Reader-Class.html#t:MonadReader" title="Control.Monad.Reader.Class">MonadReader</a> <a href="Hasura-Server-App.html#t:HandlerCtx" title="Hasura.Server.App">HandlerCtx</a> m) =&gt; m <a href="Hasura-GraphQL-Execute.html#t:ExecutionCtx" title="Hasura.GraphQL.Execute">ExecutionCtx</a></li><li class="src short"><a href="#v:v1GQHandler">v1GQHandler</a> :: (<a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, MonadBaseControl <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> m, <a href="Hasura-GraphQL-Execute-Common.html#t:MonadGQLExecutionCheck" title="Hasura.GraphQL.Execute.Common">MonadGQLExecutionCheck</a> m, <a href="Hasura-GraphQL-Logging.html#t:MonadQueryLog" title="Hasura.GraphQL.Logging">MonadQueryLog</a> m, <a href="Hasura-Tracing.html#t:MonadTrace" title="Hasura.Tracing">MonadTrace</a> m, <a href="Hasura-GraphQL-Transport-HTTP.html#t:MonadExecuteQuery" title="Hasura.GraphQL.Transport.HTTP">MonadExecuteQuery</a> m, <a href="Hasura-Server-Logging.html#t:HttpLog" title="Hasura.Server.Logging">HttpLog</a> m, <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/mtl-2.2.2/Control-Monad-Error-Class.html#t:MonadError" title="Control.Monad.Error.Class">MonadError</a> <a href="Hasura-Base-Error.html#t:QErr" title="Hasura.Base.Error">QErr</a> m, <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/mtl-2.2.2/Control-Monad-Reader-Class.html#t:MonadReader" title="Control.Monad.Reader.Class">MonadReader</a> <a href="Hasura-Server-App.html#t:HandlerCtx" title="Hasura.Server.App">HandlerCtx</a> m, <a href="Hasura-Metadata-Class.html#t:MonadMetadataStorage" title="Hasura.Metadata.Class">MonadMetadataStorage</a> (<a href="Hasura-Metadata-Class.html#t:MetadataStorageT" title="Hasura.Metadata.Class">MetadataStorageT</a> m), <a href="Hasura-GraphQL-Execute-Backend.html#t:MonadQueryTags" title="Hasura.GraphQL.Execute.Backend">MonadQueryTags</a> m, <a href="Hasura-Server-Limits.html#t:HasResourceLimits" title="Hasura.Server.Limits">HasResourceLimits</a> m) =&gt; <a href="Hasura-GraphQL-Transport-HTTP-Protocol.html#t:GQLBatchedReqs" title="Hasura.GraphQL.Transport.HTTP.Protocol">GQLBatchedReqs</a> (<a href="Hasura-GraphQL-Transport-HTTP-Protocol.html#t:GQLReq" title="Hasura.GraphQL.Transport.HTTP.Protocol">GQLReq</a> <a href="Hasura-GraphQL-Transport-HTTP-Protocol.html#t:GQLQueryText" title="Hasura.GraphQL.Transport.HTTP.Protocol">GQLQueryText</a>) -&gt; m (<a href="Hasura-Server-Logging.html#t:HttpLogMetadata" title="Hasura.Server.Logging">HttpLogMetadata</a> m, <a href="Hasura-HTTP.html#t:HttpResponse" title="Hasura.HTTP">HttpResponse</a> <a href="Hasura-EncJSON.html#t:EncJSON" title="Hasura.EncJSON">EncJSON</a>)</li><li class="src short"><a href="#v:v1GQRelayHandler">v1GQRelayHandler</a> :: (<a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, MonadBaseControl <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> m, <a href="Hasura-GraphQL-Execute-Common.html#t:MonadGQLExecutionCheck" title="Hasura.GraphQL.Execute.Common">MonadGQLExecutionCheck</a> m, <a href="Hasura-GraphQL-Logging.html#t:MonadQueryLog" title="Hasura.GraphQL.Logging">MonadQueryLog</a> m, <a href="Hasura-Tracing.html#t:MonadTrace" title="Hasura.Tracing">MonadTrace</a> m, <a href="Hasura-Server-Logging.html#t:HttpLog" title="Hasura.Server.Logging">HttpLog</a> m, <a href="Hasura-GraphQL-Transport-HTTP.html#t:MonadExecuteQuery" title="Hasura.GraphQL.Transport.HTTP">MonadExecuteQuery</a> m, <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/mtl-2.2.2/Control-Monad-Error-Class.html#t:MonadError" title="Control.Monad.Error.Class">MonadError</a> <a href="Hasura-Base-Error.html#t:QErr" title="Hasura.Base.Error">QErr</a> m, <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/mtl-2.2.2/Control-Monad-Reader-Class.html#t:MonadReader" title="Control.Monad.Reader.Class">MonadReader</a> <a href="Hasura-Server-App.html#t:HandlerCtx" title="Hasura.Server.App">HandlerCtx</a> m, <a href="Hasura-Metadata-Class.html#t:MonadMetadataStorage" title="Hasura.Metadata.Class">MonadMetadataStorage</a> (<a href="Hasura-Metadata-Class.html#t:MetadataStorageT" title="Hasura.Metadata.Class">MetadataStorageT</a> m), <a href="Hasura-GraphQL-Execute-Backend.html#t:MonadQueryTags" title="Hasura.GraphQL.Execute.Backend">MonadQueryTags</a> m, <a href="Hasura-Server-Limits.html#t:HasResourceLimits" title="Hasura.Server.Limits">HasResourceLimits</a> m) =&gt; <a href="Hasura-GraphQL-Transport-HTTP-Protocol.html#t:GQLBatchedReqs" title="Hasura.GraphQL.Transport.HTTP.Protocol">GQLBatchedReqs</a> (<a href="Hasura-GraphQL-Transport-HTTP-Protocol.html#t:GQLReq" title="Hasura.GraphQL.Transport.HTTP.Protocol">GQLReq</a> <a href="Hasura-GraphQL-Transport-HTTP-Protocol.html#t:GQLQueryText" title="Hasura.GraphQL.Transport.HTTP.Protocol">GQLQueryText</a>) -&gt; m (<a href="Hasura-Server-Logging.html#t:HttpLogMetadata" title="Hasura.Server.Logging">HttpLogMetadata</a> m, <a href="Hasura-HTTP.html#t:HttpResponse" title="Hasura.HTTP">HttpResponse</a> <a href="Hasura-EncJSON.html#t:EncJSON" title="Hasura.EncJSON">EncJSON</a>)</li><li class="src short"><a href="#v:gqlExplainHandler">gqlExplainHandler</a> :: <span class="keyword">forall</span> m. (<a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, MonadBaseControl <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> m, <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/mtl-2.2.2/Control-Monad-Error-Class.html#t:MonadError" title="Control.Monad.Error.Class">MonadError</a> <a href="Hasura-Base-Error.html#t:QErr" title="Hasura.Base.Error">QErr</a> m, <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/mtl-2.2.2/Control-Monad-Reader-Class.html#t:MonadReader" title="Control.Monad.Reader.Class">MonadReader</a> <a href="Hasura-Server-App.html#t:HandlerCtx" title="Hasura.Server.App">HandlerCtx</a> m, <a href="Hasura-Metadata-Class.html#t:MonadMetadataStorage" title="Hasura.Metadata.Class">MonadMetadataStorage</a> (<a href="Hasura-Metadata-Class.html#t:MetadataStorageT" title="Hasura.Metadata.Class">MetadataStorageT</a> m), <a href="Hasura-GraphQL-Execute-Backend.html#t:MonadQueryTags" title="Hasura.GraphQL.Execute.Backend">MonadQueryTags</a> m) =&gt; <a href="Hasura-GraphQL-Explain.html#t:GQLExplain" title="Hasura.GraphQL.Explain">GQLExplain</a> -&gt; m (<a href="Hasura-HTTP.html#t:HttpResponse" title="Hasura.HTTP">HttpResponse</a> <a href="Hasura-EncJSON.html#t:EncJSON" title="Hasura.EncJSON">EncJSON</a>)</li><li class="src short"><a href="#v:v1Alpha1PGDumpHandler">v1Alpha1PGDumpHandler</a> :: (<a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/mtl-2.2.2/Control-Monad-Error-Class.html#t:MonadError" title="Control.Monad.Error.Class">MonadError</a> <a href="Hasura-Base-Error.html#t:QErr" title="Hasura.Base.Error">QErr</a> m, <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/mtl-2.2.2/Control-Monad-Reader-Class.html#t:MonadReader" title="Control.Monad.Reader.Class">MonadReader</a> <a href="Hasura-Server-App.html#t:HandlerCtx" title="Hasura.Server.App">HandlerCtx</a> m) =&gt; <a href="Hasura-Server-API-PGDump.html#t:PGDumpReqBody" title="Hasura.Server.API.PGDump">PGDumpReqBody</a> -&gt; m <a href="Hasura-Server-App.html#t:APIResp" title="Hasura.Server.App">APIResp</a></li><li class="src short"><a href="#v:consoleAssetsHandler">consoleAssetsHandler</a> :: (<a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Hasura-Server-Logging.html#t:HttpLog" title="Hasura.Server.Logging">HttpLog</a> m) =&gt; <a href="Hasura-Logging.html#t:Logger" title="Hasura.Logging">Logger</a> <a href="Hasura-Logging.html#t:Hasura" title="Hasura.Logging">Hasura</a> -&gt; HashSet (<a href="Hasura-Logging.html#t:EngineLogType" title="Hasura.Logging">EngineLogType</a> <a href="Hasura-Logging.html#t:Hasura" title="Hasura.Logging">Hasura</a>) -&gt; Text -&gt; <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; ActionT m ()</li><li class="src short"><span class="keyword">class</span> <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="#t:ConsoleRenderer">ConsoleRenderer</a> m <span class="keyword">where</span><ul class="subs"><li><a href="#v:renderConsole">renderConsole</a> :: Text -&gt; <a href="Hasura-Server-Auth.html#t:AuthMode" title="Hasura.Server.Auth">AuthMode</a> -&gt; <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> Text -&gt; m (<a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a> Text)</li></ul></li><li class="src short"><a href="#v:renderHtmlTemplate">renderHtmlTemplate</a> :: Template -&gt; Value -&gt; <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a> Text</li><li class="src short"><a href="#v:configApiGetHandler">configApiGetHandler</a> :: <span class="keyword">forall</span> m. (<a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, MonadBaseControl <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> m, <a href="Hasura-Server-Auth.html#t:UserAuthentication" title="Hasura.Server.Auth">UserAuthentication</a> (<a href="Hasura-Tracing.html#t:TraceT" title="Hasura.Tracing">TraceT</a> m), <a href="Hasura-Server-Logging.html#t:HttpLog" title="Hasura.Server.Logging">HttpLog</a> m, <a href="Hasura-Tracing.html#t:HasReporter" title="Hasura.Tracing">HasReporter</a> m, <a href="Hasura-Server-Limits.html#t:HasResourceLimits" title="Hasura.Server.Limits">HasResourceLimits</a> m) =&gt; <a href="Hasura-Server-App.html#t:ServerCtx" title="Hasura.Server.App">ServerCtx</a> -&gt; <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> Text -&gt; SpockCtxT () m ()</li><li class="src short"><span class="keyword">data</span> <a href="#t:HasuraApp">HasuraApp</a> = <a href="#v:HasuraApp">HasuraApp</a> {<ul class="subs"><li><a href="#v:_hapApplication">_hapApplication</a> :: !Application</li><li><a href="#v:_hapSchemaRef">_hapSchemaRef</a> :: !<a href="Hasura-Server-App.html#t:SchemaCacheRef" title="Hasura.Server.App">SchemaCacheRef</a></li><li><a href="#v:_hapAsyncActionSubscriptionState">_hapAsyncActionSubscriptionState</a> :: !<a href="Hasura-GraphQL-Execute-LiveQuery-State.html#t:AsyncActionSubscriptionState" title="Hasura.GraphQL.Execute.LiveQuery.State">AsyncActionSubscriptionState</a></li><li><a href="#v:_hapShutdownWsServer">_hapShutdownWsServer</a> :: !(<a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> ())</li></ul>}</li><li class="src short"><a href="#v:mkWaiApp">mkWaiApp</a> :: <span class="keyword">forall</span> m. (<a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Control-Monad-Stateless.html#t:MonadStateless" title="Control.Monad.Stateless">MonadStateless</a> <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> m, Forall (Pure m), <a href="Hasura-Server-App.html#t:ConsoleRenderer" title="Hasura.Server.App">ConsoleRenderer</a> m, <a href="Hasura-Server-Logging.html#t:HttpLog" title="Hasura.Server.Logging">HttpLog</a> m, <a href="Hasura-Server-Auth.html#t:UserAuthentication" title="Hasura.Server.Auth">UserAuthentication</a> (<a href="Hasura-Tracing.html#t:TraceT" title="Hasura.Tracing">TraceT</a> m), <a href="Hasura-Server-App.html#t:MonadMetadataApiAuthorization" title="Hasura.Server.App">MonadMetadataApiAuthorization</a> m, <a href="Hasura-GraphQL-Execute-Common.html#t:MonadGQLExecutionCheck" title="Hasura.GraphQL.Execute.Common">MonadGQLExecutionCheck</a> m, <a href="Hasura-Server-App.html#t:MonadConfigApiHandler" title="Hasura.Server.App">MonadConfigApiHandler</a> m, <a href="Hasura-GraphQL-Logging.html#t:MonadQueryLog" title="Hasura.GraphQL.Logging">MonadQueryLog</a> m, <a href="Hasura-GraphQL-Transport-WebSocket-Server.html#t:MonadWSLog" title="Hasura.GraphQL.Transport.WebSocket.Server">MonadWSLog</a> m, <a href="Hasura-Tracing.html#t:HasReporter" title="Hasura.Tracing">HasReporter</a> m, <a href="Hasura-GraphQL-Transport-HTTP.html#t:MonadExecuteQuery" title="Hasura.GraphQL.Transport.HTTP">MonadExecuteQuery</a> m, <a href="Hasura-Server-Limits.html#t:HasResourceLimits" title="Hasura.Server.Limits">HasResourceLimits</a> m, <a href="Hasura-Metadata-Class.html#t:MonadMetadataStorage" title="Hasura.Metadata.Class">MonadMetadataStorage</a> (<a href="Hasura-Metadata-Class.html#t:MetadataStorageT" title="Hasura.Metadata.Class">MetadataStorageT</a> m), <a href="Hasura-RQL-Types-Source.html#t:MonadResolveSource" title="Hasura.RQL.Types.Source">MonadResolveSource</a> m, <a href="Hasura-GraphQL-Execute-Backend.html#t:MonadQueryTags" title="Hasura.GraphQL.Execute.Backend">MonadQueryTags</a> m) =&gt; (<a href="Hasura-Server-App.html#t:ServerCtx" title="Hasura.Server.App">ServerCtx</a> -&gt; SpockT m ()) -&gt; <a href="Data-Environment.html#t:Environment" title="Data.Environment">Environment</a> -&gt; <a href="Hasura-Logging.html#t:Logger" title="Hasura.Logging">Logger</a> <a href="Hasura-Logging.html#t:Hasura" title="Hasura.Logging">Hasura</a> -&gt; <a href="Hasura-RQL-Types-Common.html#t:SQLGenCtx" title="Hasura.RQL.Types.Common">SQLGenCtx</a> -&gt; <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; Manager -&gt; <a href="Hasura-Server-Auth.html#t:AuthMode" title="Hasura.Server.Auth">AuthMode</a> -&gt; <a href="Hasura-Server-Cors.html#t:CorsConfig" title="Hasura.Server.Cors">CorsConfig</a> -&gt; <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> Text -&gt; <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; <a href="Hasura-Server-Types.html#t:InstanceId" title="Hasura.Server.Types">InstanceId</a> -&gt; HashSet <a href="Hasura-Server-Init-Config.html#t:API" title="Hasura.Server.Init.Config">API</a> -&gt; <a href="Hasura-GraphQL-Execute-LiveQuery-Options.html#t:LiveQueriesOptions" title="Hasura.GraphQL.Execute.LiveQuery.Options">LiveQueriesOptions</a> -&gt; <a href="Hasura-Server-Init-Config.html#t:ResponseInternalErrorsConfig" title="Hasura.Server.Init.Config">ResponseInternalErrorsConfig</a> -&gt; <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Hasura-GraphQL-Execute-LiveQuery-Poll.html#t:LiveQueryPostPollHook" title="Hasura.GraphQL.Execute.LiveQuery.Poll">LiveQueryPostPollHook</a> -&gt; <a href="Hasura-Server-App.html#t:SchemaCacheRef" title="Hasura.Server.App">SchemaCacheRef</a> -&gt; Store EmptyMetrics -&gt; <a href="Hasura-Server-Metrics.html#t:ServerMetrics" title="Hasura.Server.Metrics">ServerMetrics</a> -&gt; <a href="Hasura-RQL-Types-RemoteSchema.html#t:RemoteSchemaPermsCtx" title="Hasura.RQL.Types.RemoteSchema">RemoteSchemaPermsCtx</a> -&gt; <a href="Hasura-RQL-Types-Function.html#t:FunctionPermissionsCtx" title="Hasura.RQL.Types.Function">FunctionPermissionsCtx</a> -&gt; ConnectionOptions -&gt; <a href="Hasura-Server-Init-Config.html#t:KeepAliveDelay" title="Hasura.Server.Init.Config">KeepAliveDelay</a> -&gt; <a href="Hasura-Server-Types.html#t:MaintenanceMode" title="Hasura.Server.Types">MaintenanceMode</a> -&gt; <a href="Hasura-Server-Types.html#t:EventingMode" title="Hasura.Server.Types">EventingMode</a> -&gt; <a href="Hasura-Server-Types.html#t:ReadOnlyMode" title="Hasura.Server.Types">ReadOnlyMode</a> -&gt; HashSet <a href="Hasura-Server-Types.html#t:ExperimentalFeature" title="Hasura.Server.Types">ExperimentalFeature</a> -&gt; HashSet (<a href="Hasura-Logging.html#t:EngineLogType" title="Hasura.Logging">EngineLogType</a> <a href="Hasura-Logging.html#t:Hasura" title="Hasura.Logging">Hasura</a>) -&gt; <a href="Hasura-Server-Init-Config.html#t:WSConnectionInitTimeout" title="Hasura.Server.Init.Config">WSConnectionInitTimeout</a> -&gt; m <a href="Hasura-Server-App.html#t:HasuraApp" title="Hasura.Server.App">HasuraApp</a></li><li class="src short"><a href="#v:initialiseCache">initialiseCache</a> :: <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="Hasura-RQL-DDL-Schema-Cache-Common.html#t:RebuildableSchemaCache" title="Hasura.RQL.DDL.Schema.Cache.Common">RebuildableSchemaCache</a> -&gt; m <a href="Hasura-Server-App.html#t:SchemaCacheRef" title="Hasura.Server.App">SchemaCacheRef</a></li><li class="src short"><a href="#v:httpApp">httpApp</a> :: <span class="keyword">forall</span> m. (<a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, MonadBaseControl <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> m, <a href="Hasura-Server-App.html#t:ConsoleRenderer" title="Hasura.Server.App">ConsoleRenderer</a> m, <a href="Hasura-Server-Logging.html#t:HttpLog" title="Hasura.Server.Logging">HttpLog</a> m, <a href="Hasura-Server-Auth.html#t:UserAuthentication" title="Hasura.Server.Auth">UserAuthentication</a> (<a href="Hasura-Tracing.html#t:TraceT" title="Hasura.Tracing">TraceT</a> m), <a href="Hasura-Server-App.html#t:MonadMetadataApiAuthorization" title="Hasura.Server.App">MonadMetadataApiAuthorization</a> m, <a href="Hasura-GraphQL-Execute-Common.html#t:MonadGQLExecutionCheck" title="Hasura.GraphQL.Execute.Common">MonadGQLExecutionCheck</a> m, <a href="Hasura-Server-App.html#t:MonadConfigApiHandler" title="Hasura.Server.App">MonadConfigApiHandler</a> m, <a href="Hasura-GraphQL-Logging.html#t:MonadQueryLog" title="Hasura.GraphQL.Logging">MonadQueryLog</a> m, <a href="Hasura-Tracing.html#t:HasReporter" title="Hasura.Tracing">HasReporter</a> m, <a href="Hasura-GraphQL-Transport-HTTP.html#t:MonadExecuteQuery" title="Hasura.GraphQL.Transport.HTTP">MonadExecuteQuery</a> m, <a href="Hasura-Metadata-Class.html#t:MonadMetadataStorage" title="Hasura.Metadata.Class">MonadMetadataStorage</a> (<a href="Hasura-Metadata-Class.html#t:MetadataStorageT" title="Hasura.Metadata.Class">MetadataStorageT</a> m), <a href="Hasura-Server-Limits.html#t:HasResourceLimits" title="Hasura.Server.Limits">HasResourceLimits</a> m, <a href="Hasura-RQL-Types-Source.html#t:MonadResolveSource" title="Hasura.RQL.Types.Source">MonadResolveSource</a> m, <a href="Hasura-GraphQL-Execute-Backend.html#t:MonadQueryTags" title="Hasura.GraphQL.Execute.Backend">MonadQueryTags</a> m) =&gt; (<a href="Hasura-Server-App.html#t:ServerCtx" title="Hasura.Server.App">ServerCtx</a> -&gt; SpockT m ()) -&gt; <a href="Hasura-Server-Cors.html#t:CorsConfig" title="Hasura.Server.Cors">CorsConfig</a> -&gt; <a href="Hasura-Server-App.html#t:ServerCtx" title="Hasura.Server.App">ServerCtx</a> -&gt; <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> Text -&gt; <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; SpockT m ()</li><li class="src short"><a href="#v:raiseGenericApiError">raiseGenericApiError</a> :: (<a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Hasura-Server-Logging.html#t:HttpLog" title="Hasura.Server.Logging">HttpLog</a> m) =&gt; <a href="Hasura-Logging.html#t:Logger" title="Hasura.Logging">Logger</a> <a href="Hasura-Logging.html#t:Hasura" title="Hasura.Logging">Hasura</a> -&gt; HashSet (<a href="Hasura-Logging.html#t:EngineLogType" title="Hasura.Logging">EngineLogType</a> <a href="Hasura-Logging.html#t:Hasura" title="Hasura.Logging">Hasura</a>) -&gt; [Header] -&gt; <a href="Hasura-Base-Error.html#t:QErr" title="Hasura.Base.Error">QErr</a> -&gt; ActionT m ()</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:SchemaCacheRef" class="def">SchemaCacheRef</a> <a href="src/Hasura.Server.App.html#SchemaCacheRef" class="link">Source</a> <a href="#t:SchemaCacheRef" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:SchemaCacheRef" class="def">SchemaCacheRef</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:_scrLock" class="def">_scrLock</a> :: <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Concurrent-MVar.html#t:MVar" title="Control.Concurrent.MVar">MVar</a> ()</dfn><div class="doc"><p>The idea behind explicit locking here is to</p><ol><li>Allow maximum throughput for serving requests (<em>v1</em>graphql) (as each
      request reads the current schemacache)</li><li>We don't want to process more than one request at any point of time
      which would modify the schema cache as such queries are expensive.</li></ol><p>Another option is to consider removing this lock in place of `_scrCache ::
 MVar ...` if it's okay or in fact correct to block during schema update in
 e.g.  _wseGCtxMap. Vamshi says: It is theoretically possible to have a
 situation (in between building new schemacache and before writing it to
 the IORef) where we serve a request with a stale schemacache but I guess
 it is an okay trade-off to pay for a higher throughput (I remember doing a
 bunch of benchmarks to test this hypothesis).</p></div></li><li><dfn class="src"><a id="v:_scrCache" class="def">_scrCache</a> :: <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-IORef.html#t:IORef" title="Data.IORef">IORef</a> (<a href="Hasura-RQL-DDL-Schema-Cache-Common.html#t:RebuildableSchemaCache" title="Hasura.RQL.DDL.Schema.Cache.Common">RebuildableSchemaCache</a>, <a href="Hasura-RQL-Types-SchemaCache.html#t:SchemaCacheVer" title="Hasura.RQL.Types.SchemaCache">SchemaCacheVer</a>)</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ServerCtx" class="def">ServerCtx</a> <a href="src/Hasura.Server.App.html#ServerCtx" class="link">Source</a> <a href="#t:ServerCtx" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:ServerCtx" class="def">ServerCtx</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:scLogger" class="def">scLogger</a> :: !(<a href="Hasura-Logging.html#t:Logger" title="Hasura.Logging">Logger</a> <a href="Hasura-Logging.html#t:Hasura" title="Hasura.Logging">Hasura</a>)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:scCacheRef" class="def">scCacheRef</a> :: !<a href="Hasura-Server-App.html#t:SchemaCacheRef" title="Hasura.Server.App">SchemaCacheRef</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:scAuthMode" class="def">scAuthMode</a> :: !<a href="Hasura-Server-Auth.html#t:AuthMode" title="Hasura.Server.Auth">AuthMode</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:scManager" class="def">scManager</a> :: !Manager</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:scSQLGenCtx" class="def">scSQLGenCtx</a> :: !<a href="Hasura-RQL-Types-Common.html#t:SQLGenCtx" title="Hasura.RQL.Types.Common">SQLGenCtx</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:scEnabledAPIs" class="def">scEnabledAPIs</a> :: !(HashSet <a href="Hasura-Server-Init-Config.html#t:API" title="Hasura.Server.Init.Config">API</a>)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:scInstanceId" class="def">scInstanceId</a> :: !<a href="Hasura-Server-Types.html#t:InstanceId" title="Hasura.Server.Types">InstanceId</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:scLQState" class="def">scLQState</a> :: !<a href="Hasura-GraphQL-Execute-LiveQuery-State.html#t:LiveQueriesState" title="Hasura.GraphQL.Execute.LiveQuery.State">LiveQueriesState</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:scEnableAllowlist" class="def">scEnableAllowlist</a> :: !<a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:scEkgStore" class="def">scEkgStore</a> :: !(Store EmptyMetrics)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:scResponseInternalErrorsConfig" class="def">scResponseInternalErrorsConfig</a> :: !<a href="Hasura-Server-Init-Config.html#t:ResponseInternalErrorsConfig" title="Hasura.Server.Init.Config">ResponseInternalErrorsConfig</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:scEnvironment" class="def">scEnvironment</a> :: !<a href="Data-Environment.html#t:Environment" title="Data.Environment">Environment</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:scRemoteSchemaPermsCtx" class="def">scRemoteSchemaPermsCtx</a> :: !<a href="Hasura-RQL-Types-RemoteSchema.html#t:RemoteSchemaPermsCtx" title="Hasura.RQL.Types.RemoteSchema">RemoteSchemaPermsCtx</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:scFunctionPermsCtx" class="def">scFunctionPermsCtx</a> :: !<a href="Hasura-RQL-Types-Function.html#t:FunctionPermissionsCtx" title="Hasura.RQL.Types.Function">FunctionPermissionsCtx</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:scEnableMaintenanceMode" class="def">scEnableMaintenanceMode</a> :: !<a href="Hasura-Server-Types.html#t:MaintenanceMode" title="Hasura.Server.Types">MaintenanceMode</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:scExperimentalFeatures" class="def">scExperimentalFeatures</a> :: !(HashSet <a href="Hasura-Server-Types.html#t:ExperimentalFeature" title="Hasura.Server.Types">ExperimentalFeature</a>)</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:scEnabledLogTypes" class="def">scEnabledLogTypes</a> :: !(HashSet (<a href="Hasura-Logging.html#t:EngineLogType" title="Hasura.Logging">EngineLogType</a> <a href="Hasura-Logging.html#t:Hasura" title="Hasura.Logging">Hasura</a>))</dfn><div class="doc"><p>this is only required for the short-term fix in <a href="https://github.com/hasura/graphql-engine-mono/issues/1770">https://github.com/hasura/graphql-engine-mono/issues/1770</a></p></div></li><li><dfn class="src"><a id="v:scEventingMode" class="def">scEventingMode</a> :: !<a href="Hasura-Server-Types.html#t:EventingMode" title="Hasura.Server.Types">EventingMode</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:scEnableReadOnlyMode" class="def">scEnableReadOnlyMode</a> :: !<a href="Hasura-Server-Types.html#t:ReadOnlyMode" title="Hasura.Server.Types">ReadOnlyMode</a></dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:HandlerCtx" class="def">HandlerCtx</a> <a href="src/Hasura.Server.App.html#HandlerCtx" class="link">Source</a> <a href="#t:HandlerCtx" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:HandlerCtx" class="def">HandlerCtx</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:hcServerCtx" class="def">hcServerCtx</a> :: !<a href="Hasura-Server-App.html#t:ServerCtx" title="Hasura.Server.App">ServerCtx</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:hcUser" class="def">hcUser</a> :: !<a href="Hasura-Session.html#t:UserInfo" title="Hasura.Session">UserInfo</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:hcReqHeaders" class="def">hcReqHeaders</a> :: ![Header]</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:hcRequestId" class="def">hcRequestId</a> :: !<a href="Hasura-Server-Types.html#t:RequestId" title="Hasura.Server.Types">RequestId</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:hcSourceIpAddress" class="def">hcSourceIpAddress</a> :: !<a href="Network-Wai-Extended.html#t:IpAddress" title="Network.Wai.Extended">IpAddress</a></dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:Handler" class="def">Handler</a> m = <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> <a href="Hasura-Server-App.html#t:HandlerCtx" title="Hasura.Server.App">HandlerCtx</a> (<a href="Hasura-Metadata-Class.html#t:MetadataStorageT" title="Hasura.Metadata.Class">MetadataStorageT</a> m) <a href="src/Hasura.Server.App.html#Handler" class="link">Source</a> <a href="#t:Handler" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:APIResp" class="def">APIResp</a> <a href="src/Hasura.Server.App.html#APIResp" class="link">Source</a> <a href="#t:APIResp" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:JSONResp" class="def">JSONResp</a> !(<a href="Hasura-HTTP.html#t:HttpResponse" title="Hasura.HTTP">HttpResponse</a> <a href="Hasura-EncJSON.html#t:EncJSON" title="Hasura.EncJSON">EncJSON</a>)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:RawResp" class="def">RawResp</a> !(<a href="Hasura-HTTP.html#t:HttpResponse" title="Hasura.HTTP">HttpResponse</a> <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/bytestring-0.10.12.0/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a>)</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:APIHandler" class="def">APIHandler</a> m a <span class="keyword">where</span> <a href="src/Hasura.Server.App.html#APIHandler" class="link">Source</a> <a href="#t:APIHandler" class="selflink">#</a></p><div class="doc"><p>API request handlers for different endpoints</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:AHGet" class="def">AHGet</a> :: !(<a href="Hasura-Server-App.html#t:Handler" title="Hasura.Server.App">Handler</a> m (<a href="Hasura-Server-Logging.html#t:HttpLogMetadata" title="Hasura.Server.Logging">HttpLogMetadata</a> m, <a href="Hasura-Server-App.html#t:APIResp" title="Hasura.Server.App">APIResp</a>)) -&gt; <a href="Hasura-Server-App.html#t:APIHandler" title="Hasura.Server.App">APIHandler</a> m void</td><td class="doc"><p>A simple GET request</p></td></tr><tr><td class="src"><a id="v:AHPost" class="def">AHPost</a> :: !(a -&gt; <a href="Hasura-Server-App.html#t:Handler" title="Hasura.Server.App">Handler</a> m (<a href="Hasura-Server-Logging.html#t:HttpLogMetadata" title="Hasura.Server.Logging">HttpLogMetadata</a> m, <a href="Hasura-Server-App.html#t:APIResp" title="Hasura.Server.App">APIResp</a>)) -&gt; <a href="Hasura-Server-App.html#t:APIHandler" title="Hasura.Server.App">APIHandler</a> m a</td><td class="doc"><p>A simple POST request that expects a request body from which an <code>a</code> can be extracted</p></td></tr><tr><td class="src"><a id="v:AHGraphQLRequest" class="def">AHGraphQLRequest</a> :: !(<a href="Hasura-GraphQL-Transport-HTTP-Protocol.html#t:ReqsText" title="Hasura.GraphQL.Transport.HTTP.Protocol">ReqsText</a> -&gt; <a href="Hasura-Server-App.html#t:Handler" title="Hasura.Server.App">Handler</a> m (<a href="Hasura-Server-Logging.html#t:HttpLogMetadata" title="Hasura.Server.Logging">HttpLogMetadata</a> m, <a href="Hasura-Server-App.html#t:APIResp" title="Hasura.Server.App">APIResp</a>)) -&gt; <a href="Hasura-Server-App.html#t:APIHandler" title="Hasura.Server.App">APIHandler</a> m <a href="Hasura-GraphQL-Transport-HTTP-Protocol.html#t:ReqsText" title="Hasura.GraphQL.Transport.HTTP.Protocol">ReqsText</a></td><td class="doc"><p>A general GraphQL request (query or mutation) for which the content of the query
 is made available to the handler for authentication.
 This is a more specific version of the <code><a href="Hasura-Server-App.html#v:AHPost" title="Hasura.Server.App">AHPost</a></code> constructor.</p></td></tr></table></div></div><div class="top"><p class="src"><a id="v:boolToText" class="def">boolToText</a> :: <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; Text <a href="src/Hasura.Server.App.html#boolToText" class="link">Source</a> <a href="#v:boolToText" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:isAdminSecretSet" class="def">isAdminSecretSet</a> :: <a href="Hasura-Server-Auth.html#t:AuthMode" title="Hasura.Server.Auth">AuthMode</a> -&gt; Text <a href="src/Hasura.Server.App.html#isAdminSecretSet" class="link">Source</a> <a href="#v:isAdminSecretSet" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:getSCFromRef" class="def">getSCFromRef</a> :: <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="Hasura-Server-App.html#t:SchemaCacheRef" title="Hasura.Server.App">SchemaCacheRef</a> -&gt; m <a href="Hasura-RQL-Types-SchemaCache.html#t:SchemaCache" title="Hasura.RQL.Types.SchemaCache">SchemaCache</a> <a href="src/Hasura.Server.App.html#getSCFromRef" class="link">Source</a> <a href="#v:getSCFromRef" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:logInconsObjs" class="def">logInconsObjs</a> :: <a href="Hasura-Logging.html#t:Logger" title="Hasura.Logging">Logger</a> <a href="Hasura-Logging.html#t:Hasura" title="Hasura.Logging">Hasura</a> -&gt; [<a href="Hasura-RQL-Types-Metadata-Object.html#t:InconsistentMetadata" title="Hasura.RQL.Types.Metadata.Object">InconsistentMetadata</a>] -&gt; <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="src/Hasura.Server.App.html#logInconsObjs" class="link">Source</a> <a href="#v:logInconsObjs" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:withSCUpdate" class="def">withSCUpdate</a> :: (<a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, MonadBaseControl <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> m) =&gt; <a href="Hasura-Server-App.html#t:SchemaCacheRef" title="Hasura.Server.App">SchemaCacheRef</a> -&gt; <a href="Hasura-Logging.html#t:Logger" title="Hasura.Logging">Logger</a> <a href="Hasura-Logging.html#t:Hasura" title="Hasura.Logging">Hasura</a> -&gt; <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (<a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/GHC-Conc.html#t:TVar" title="GHC.Conc">TVar</a> <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a>) -&gt; m (a, <a href="Hasura-RQL-DDL-Schema-Cache-Common.html#t:RebuildableSchemaCache" title="Hasura.RQL.DDL.Schema.Cache.Common">RebuildableSchemaCache</a>) -&gt; m a <a href="src/Hasura.Server.App.html#withSCUpdate" class="link">Source</a> <a href="#v:withSCUpdate" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mkGetHandler" class="def">mkGetHandler</a> :: <a href="Hasura-Server-App.html#t:Handler" title="Hasura.Server.App">Handler</a> m (<a href="Hasura-Server-Logging.html#t:HttpLogMetadata" title="Hasura.Server.Logging">HttpLogMetadata</a> m, <a href="Hasura-Server-App.html#t:APIResp" title="Hasura.Server.App">APIResp</a>) -&gt; <a href="Hasura-Server-App.html#t:APIHandler" title="Hasura.Server.App">APIHandler</a> m () <a href="src/Hasura.Server.App.html#mkGetHandler" class="link">Source</a> <a href="#v:mkGetHandler" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mkPostHandler" class="def">mkPostHandler</a> :: (a -&gt; <a href="Hasura-Server-App.html#t:Handler" title="Hasura.Server.App">Handler</a> m (<a href="Hasura-Server-Logging.html#t:HttpLogMetadata" title="Hasura.Server.Logging">HttpLogMetadata</a> m, <a href="Hasura-Server-App.html#t:APIResp" title="Hasura.Server.App">APIResp</a>)) -&gt; <a href="Hasura-Server-App.html#t:APIHandler" title="Hasura.Server.App">APIHandler</a> m a <a href="src/Hasura.Server.App.html#mkPostHandler" class="link">Source</a> <a href="#v:mkPostHandler" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mkGQLRequestHandler" class="def">mkGQLRequestHandler</a> :: (<a href="Hasura-GraphQL-Transport-HTTP-Protocol.html#t:ReqsText" title="Hasura.GraphQL.Transport.HTTP.Protocol">ReqsText</a> -&gt; <a href="Hasura-Server-App.html#t:Handler" title="Hasura.Server.App">Handler</a> m (<a href="Hasura-Server-Logging.html#t:HttpLogMetadata" title="Hasura.Server.Logging">HttpLogMetadata</a> m, <a href="Hasura-Server-App.html#t:APIResp" title="Hasura.Server.App">APIResp</a>)) -&gt; <a href="Hasura-Server-App.html#t:APIHandler" title="Hasura.Server.App">APIHandler</a> m <a href="Hasura-GraphQL-Transport-HTTP-Protocol.html#t:ReqsText" title="Hasura.GraphQL.Transport.HTTP.Protocol">ReqsText</a> <a href="src/Hasura.Server.App.html#mkGQLRequestHandler" class="link">Source</a> <a href="#v:mkGQLRequestHandler" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mkAPIRespHandler" class="def">mkAPIRespHandler</a> :: <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> m =&gt; (a -&gt; <a href="Hasura-Server-App.html#t:Handler" title="Hasura.Server.App">Handler</a> m (<a href="Hasura-HTTP.html#t:HttpResponse" title="Hasura.HTTP">HttpResponse</a> <a href="Hasura-EncJSON.html#t:EncJSON" title="Hasura.EncJSON">EncJSON</a>)) -&gt; a -&gt; <a href="Hasura-Server-App.html#t:Handler" title="Hasura.Server.App">Handler</a> m <a href="Hasura-Server-App.html#t:APIResp" title="Hasura.Server.App">APIResp</a> <a href="src/Hasura.Server.App.html#mkAPIRespHandler" class="link">Source</a> <a href="#v:mkAPIRespHandler" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mkGQLAPIRespHandler" class="def">mkGQLAPIRespHandler</a> :: <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Functor.html#t:Functor" title="Data.Functor">Functor</a> m =&gt; (a -&gt; <a href="Hasura-Server-App.html#t:Handler" title="Hasura.Server.App">Handler</a> m (b, <a href="Hasura-HTTP.html#t:HttpResponse" title="Hasura.HTTP">HttpResponse</a> <a href="Hasura-EncJSON.html#t:EncJSON" title="Hasura.EncJSON">EncJSON</a>)) -&gt; a -&gt; <a href="Hasura-Server-App.html#t:Handler" title="Hasura.Server.App">Handler</a> m (b, <a href="Hasura-Server-App.html#t:APIResp" title="Hasura.Server.App">APIResp</a>) <a href="src/Hasura.Server.App.html#mkGQLAPIRespHandler" class="link">Source</a> <a href="#v:mkGQLAPIRespHandler" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:isMetadataEnabled" class="def">isMetadataEnabled</a> :: <a href="Hasura-Server-App.html#t:ServerCtx" title="Hasura.Server.App">ServerCtx</a> -&gt; <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Hasura.Server.App.html#isMetadataEnabled" class="link">Source</a> <a href="#v:isMetadataEnabled" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:isGraphQLEnabled" class="def">isGraphQLEnabled</a> :: <a href="Hasura-Server-App.html#t:ServerCtx" title="Hasura.Server.App">ServerCtx</a> -&gt; <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Hasura.Server.App.html#isGraphQLEnabled" class="link">Source</a> <a href="#v:isGraphQLEnabled" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:isPGDumpEnabled" class="def">isPGDumpEnabled</a> :: <a href="Hasura-Server-App.html#t:ServerCtx" title="Hasura.Server.App">ServerCtx</a> -&gt; <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Hasura.Server.App.html#isPGDumpEnabled" class="link">Source</a> <a href="#v:isPGDumpEnabled" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:isConfigEnabled" class="def">isConfigEnabled</a> :: <a href="Hasura-Server-App.html#t:ServerCtx" title="Hasura.Server.App">ServerCtx</a> -&gt; <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Hasura.Server.App.html#isConfigEnabled" class="link">Source</a> <a href="#v:isConfigEnabled" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:isDeveloperAPIEnabled" class="def">isDeveloperAPIEnabled</a> :: <a href="Hasura-Server-App.html#t:ServerCtx" title="Hasura.Server.App">ServerCtx</a> -&gt; <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="src/Hasura.Server.App.html#isDeveloperAPIEnabled" class="link">Source</a> <a href="#v:isDeveloperAPIEnabled" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:parseBody" class="def">parseBody</a> :: (FromJSON a, <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/mtl-2.2.2/Control-Monad-Error-Class.html#t:MonadError" title="Control.Monad.Error.Class">MonadError</a> <a href="Hasura-Base-Error.html#t:QErr" title="Hasura.Base.Error">QErr</a> m) =&gt; <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/bytestring-0.10.12.0/Data-ByteString-Lazy.html#t:ByteString" title="Data.ByteString.Lazy">ByteString</a> -&gt; m (Value, a) <a href="src/Hasura.Server.App.html#parseBody" class="link">Source</a> <a href="#v:parseBody" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:onlyAdmin" class="def">onlyAdmin</a> :: (<a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/mtl-2.2.2/Control-Monad-Error-Class.html#t:MonadError" title="Control.Monad.Error.Class">MonadError</a> <a href="Hasura-Base-Error.html#t:QErr" title="Hasura.Base.Error">QErr</a> m, <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/mtl-2.2.2/Control-Monad-Reader-Class.html#t:MonadReader" title="Control.Monad.Reader.Class">MonadReader</a> <a href="Hasura-Server-App.html#t:HandlerCtx" title="Hasura.Server.App">HandlerCtx</a> m) =&gt; m () <a href="src/Hasura.Server.App.html#onlyAdmin" class="link">Source</a> <a href="#v:onlyAdmin" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:setHeader" class="def">setHeader</a> :: <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; Header -&gt; ActionT m () <a href="src/Hasura.Server.App.html#setHeader" class="link">Source</a> <a href="#v:setHeader" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">class</span> <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a id="t:MonadMetadataApiAuthorization" class="def">MonadMetadataApiAuthorization</a> m <span class="keyword">where</span> <a href="src/Hasura.Server.App.html#MonadMetadataApiAuthorization" class="link">Source</a> <a href="#t:MonadMetadataApiAuthorization" class="selflink">#</a></p><div class="doc"><p>Typeclass representing the metadata API authorization effect</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:authorizeV1QueryApi" class="def">authorizeV1QueryApi</a> :: <a href="Hasura-Server-API-Query.html#t:RQLQuery" title="Hasura.Server.API.Query">RQLQuery</a> -&gt; <a href="Hasura-Server-App.html#t:HandlerCtx" title="Hasura.Server.App">HandlerCtx</a> -&gt; m (<a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Hasura-Base-Error.html#t:QErr" title="Hasura.Base.Error">QErr</a> ()) <a href="src/Hasura.Server.App.html#authorizeV1QueryApi" class="link">Source</a> <a href="#v:authorizeV1QueryApi" class="selflink">#</a></p><p class="src"><a id="v:authorizeV1MetadataApi" class="def">authorizeV1MetadataApi</a> :: <a href="Hasura-Server-API-Metadata.html#t:RQLMetadata" title="Hasura.Server.API.Metadata">RQLMetadata</a> -&gt; <a href="Hasura-Server-App.html#t:HandlerCtx" title="Hasura.Server.App">HandlerCtx</a> -&gt; m (<a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Hasura-Base-Error.html#t:QErr" title="Hasura.Base.Error">QErr</a> ()) <a href="src/Hasura.Server.App.html#authorizeV1MetadataApi" class="link">Source</a> <a href="#v:authorizeV1MetadataApi" class="selflink">#</a></p><p class="src"><a id="v:authorizeV2QueryApi" class="def">authorizeV2QueryApi</a> :: <a href="Hasura-Server-API-V2Query.html#t:RQLQuery" title="Hasura.Server.API.V2Query">RQLQuery</a> -&gt; <a href="Hasura-Server-App.html#t:HandlerCtx" title="Hasura.Server.App">HandlerCtx</a> -&gt; m (<a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Hasura-Base-Error.html#t:QErr" title="Hasura.Base.Error">QErr</a> ()) <a href="src/Hasura.Server.App.html#authorizeV2QueryApi" class="link">Source</a> <a href="#v:authorizeV2QueryApi" class="selflink">#</a></p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:MonadMetadataApiAuthorization">Instances</h4><details id="i:MonadMetadataApiAuthorization" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:MonadMetadataApiAuthorization:MonadMetadataApiAuthorization:1"></span> <a href="Hasura-Server-App.html#t:MonadMetadataApiAuthorization" title="Hasura.Server.App">MonadMetadataApiAuthorization</a> m =&gt; <a href="Hasura-Server-App.html#t:MonadMetadataApiAuthorization" title="Hasura.Server.App">MonadMetadataApiAuthorization</a> (<a href="Hasura-Tracing.html#t:TraceT" title="Hasura.Tracing">TraceT</a> m)</span> <a href="src/Hasura.Server.App.html#line-294" class="link">Source</a> <a href="#t:MonadMetadataApiAuthorization" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:MonadMetadataApiAuthorization:MonadMetadataApiAuthorization:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hasura-Server-App.html">Hasura.Server.App</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:authorizeV1QueryApi">authorizeV1QueryApi</a> :: <a href="Hasura-Server-API-Query.html#t:RQLQuery" title="Hasura.Server.API.Query">RQLQuery</a> -&gt; <a href="Hasura-Server-App.html#t:HandlerCtx" title="Hasura.Server.App">HandlerCtx</a> -&gt; <a href="Hasura-Tracing.html#t:TraceT" title="Hasura.Tracing">TraceT</a> m (<a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Hasura-Base-Error.html#t:QErr" title="Hasura.Base.Error">QErr</a> ()) <a href="src/Hasura.Server.App.html#authorizeV1QueryApi" class="link">Source</a> <a href="#v:authorizeV1QueryApi" class="selflink">#</a></p><p class="src"><a href="#v:authorizeV1MetadataApi">authorizeV1MetadataApi</a> :: <a href="Hasura-Server-API-Metadata.html#t:RQLMetadata" title="Hasura.Server.API.Metadata">RQLMetadata</a> -&gt; <a href="Hasura-Server-App.html#t:HandlerCtx" title="Hasura.Server.App">HandlerCtx</a> -&gt; <a href="Hasura-Tracing.html#t:TraceT" title="Hasura.Tracing">TraceT</a> m (<a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Hasura-Base-Error.html#t:QErr" title="Hasura.Base.Error">QErr</a> ()) <a href="src/Hasura.Server.App.html#authorizeV1MetadataApi" class="link">Source</a> <a href="#v:authorizeV1MetadataApi" class="selflink">#</a></p><p class="src"><a href="#v:authorizeV2QueryApi">authorizeV2QueryApi</a> :: <a href="Hasura-Server-API-V2Query.html#t:RQLQuery" title="Hasura.Server.API.V2Query">RQLQuery</a> -&gt; <a href="Hasura-Server-App.html#t:HandlerCtx" title="Hasura.Server.App">HandlerCtx</a> -&gt; <a href="Hasura-Tracing.html#t:TraceT" title="Hasura.Tracing">TraceT</a> m (<a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Hasura-Base-Error.html#t:QErr" title="Hasura.Base.Error">QErr</a> ()) <a href="src/Hasura.Server.App.html#authorizeV2QueryApi" class="link">Source</a> <a href="#v:authorizeV2QueryApi" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:MonadMetadataApiAuthorization:MonadMetadataApiAuthorization:2"></span> <a href="Hasura-Server-App.html#t:MonadMetadataApiAuthorization" title="Hasura.Server.App">MonadMetadataApiAuthorization</a> m =&gt; <a href="Hasura-Server-App.html#t:MonadMetadataApiAuthorization" title="Hasura.Server.App">MonadMetadataApiAuthorization</a> (<a href="Hasura-Metadata-Class.html#t:MetadataStorageT" title="Hasura.Metadata.Class">MetadataStorageT</a> m)</span> <a href="src/Hasura.Server.App.html#line-289" class="link">Source</a> <a href="#t:MonadMetadataApiAuthorization" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:MonadMetadataApiAuthorization:MonadMetadataApiAuthorization:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hasura-Server-App.html">Hasura.Server.App</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:authorizeV1QueryApi">authorizeV1QueryApi</a> :: <a href="Hasura-Server-API-Query.html#t:RQLQuery" title="Hasura.Server.API.Query">RQLQuery</a> -&gt; <a href="Hasura-Server-App.html#t:HandlerCtx" title="Hasura.Server.App">HandlerCtx</a> -&gt; <a href="Hasura-Metadata-Class.html#t:MetadataStorageT" title="Hasura.Metadata.Class">MetadataStorageT</a> m (<a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Hasura-Base-Error.html#t:QErr" title="Hasura.Base.Error">QErr</a> ()) <a href="src/Hasura.Server.App.html#authorizeV1QueryApi" class="link">Source</a> <a href="#v:authorizeV1QueryApi" class="selflink">#</a></p><p class="src"><a href="#v:authorizeV1MetadataApi">authorizeV1MetadataApi</a> :: <a href="Hasura-Server-API-Metadata.html#t:RQLMetadata" title="Hasura.Server.API.Metadata">RQLMetadata</a> -&gt; <a href="Hasura-Server-App.html#t:HandlerCtx" title="Hasura.Server.App">HandlerCtx</a> -&gt; <a href="Hasura-Metadata-Class.html#t:MetadataStorageT" title="Hasura.Metadata.Class">MetadataStorageT</a> m (<a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Hasura-Base-Error.html#t:QErr" title="Hasura.Base.Error">QErr</a> ()) <a href="src/Hasura.Server.App.html#authorizeV1MetadataApi" class="link">Source</a> <a href="#v:authorizeV1MetadataApi" class="selflink">#</a></p><p class="src"><a href="#v:authorizeV2QueryApi">authorizeV2QueryApi</a> :: <a href="Hasura-Server-API-V2Query.html#t:RQLQuery" title="Hasura.Server.API.V2Query">RQLQuery</a> -&gt; <a href="Hasura-Server-App.html#t:HandlerCtx" title="Hasura.Server.App">HandlerCtx</a> -&gt; <a href="Hasura-Metadata-Class.html#t:MetadataStorageT" title="Hasura.Metadata.Class">MetadataStorageT</a> m (<a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Hasura-Base-Error.html#t:QErr" title="Hasura.Base.Error">QErr</a> ()) <a href="src/Hasura.Server.App.html#authorizeV2QueryApi" class="link">Source</a> <a href="#v:authorizeV2QueryApi" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:MonadMetadataApiAuthorization:MonadMetadataApiAuthorization:3"></span> <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Hasura-Server-App.html#t:MonadMetadataApiAuthorization" title="Hasura.Server.App">MonadMetadataApiAuthorization</a> (<a href="Hasura-App.html#t:PGMetadataStorageAppT" title="Hasura.App">PGMetadataStorageAppT</a> m)</span> <a href="src/Hasura.App.html#line-1022" class="link">Source</a> <a href="#t:MonadMetadataApiAuthorization" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:MonadMetadataApiAuthorization:MonadMetadataApiAuthorization:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hasura-App.html">Hasura.App</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:authorizeV1QueryApi">authorizeV1QueryApi</a> :: <a href="Hasura-Server-API-Query.html#t:RQLQuery" title="Hasura.Server.API.Query">RQLQuery</a> -&gt; <a href="Hasura-Server-App.html#t:HandlerCtx" title="Hasura.Server.App">HandlerCtx</a> -&gt; <a href="Hasura-App.html#t:PGMetadataStorageAppT" title="Hasura.App">PGMetadataStorageAppT</a> m (<a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Hasura-Base-Error.html#t:QErr" title="Hasura.Base.Error">QErr</a> ()) <a href="src/Hasura.Server.App.html#authorizeV1QueryApi" class="link">Source</a> <a href="#v:authorizeV1QueryApi" class="selflink">#</a></p><p class="src"><a href="#v:authorizeV1MetadataApi">authorizeV1MetadataApi</a> :: <a href="Hasura-Server-API-Metadata.html#t:RQLMetadata" title="Hasura.Server.API.Metadata">RQLMetadata</a> -&gt; <a href="Hasura-Server-App.html#t:HandlerCtx" title="Hasura.Server.App">HandlerCtx</a> -&gt; <a href="Hasura-App.html#t:PGMetadataStorageAppT" title="Hasura.App">PGMetadataStorageAppT</a> m (<a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Hasura-Base-Error.html#t:QErr" title="Hasura.Base.Error">QErr</a> ()) <a href="src/Hasura.Server.App.html#authorizeV1MetadataApi" class="link">Source</a> <a href="#v:authorizeV1MetadataApi" class="selflink">#</a></p><p class="src"><a href="#v:authorizeV2QueryApi">authorizeV2QueryApi</a> :: <a href="Hasura-Server-API-V2Query.html#t:RQLQuery" title="Hasura.Server.API.V2Query">RQLQuery</a> -&gt; <a href="Hasura-Server-App.html#t:HandlerCtx" title="Hasura.Server.App">HandlerCtx</a> -&gt; <a href="Hasura-App.html#t:PGMetadataStorageAppT" title="Hasura.App">PGMetadataStorageAppT</a> m (<a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Hasura-Base-Error.html#t:QErr" title="Hasura.Base.Error">QErr</a> ()) <a href="src/Hasura.Server.App.html#authorizeV2QueryApi" class="link">Source</a> <a href="#v:authorizeV2QueryApi" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:MonadMetadataApiAuthorization:MonadMetadataApiAuthorization:4"></span> <a href="Hasura-Server-App.html#t:MonadMetadataApiAuthorization" title="Hasura.Server.App">MonadMetadataApiAuthorization</a> m =&gt; <a href="Hasura-Server-App.html#t:MonadMetadataApiAuthorization" title="Hasura.Server.App">MonadMetadataApiAuthorization</a> (<a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> r m)</span> <a href="src/Hasura.Server.App.html#line-284" class="link">Source</a> <a href="#t:MonadMetadataApiAuthorization" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:MonadMetadataApiAuthorization:MonadMetadataApiAuthorization:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hasura-Server-App.html">Hasura.Server.App</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:authorizeV1QueryApi">authorizeV1QueryApi</a> :: <a href="Hasura-Server-API-Query.html#t:RQLQuery" title="Hasura.Server.API.Query">RQLQuery</a> -&gt; <a href="Hasura-Server-App.html#t:HandlerCtx" title="Hasura.Server.App">HandlerCtx</a> -&gt; <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> r m (<a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Hasura-Base-Error.html#t:QErr" title="Hasura.Base.Error">QErr</a> ()) <a href="src/Hasura.Server.App.html#authorizeV1QueryApi" class="link">Source</a> <a href="#v:authorizeV1QueryApi" class="selflink">#</a></p><p class="src"><a href="#v:authorizeV1MetadataApi">authorizeV1MetadataApi</a> :: <a href="Hasura-Server-API-Metadata.html#t:RQLMetadata" title="Hasura.Server.API.Metadata">RQLMetadata</a> -&gt; <a href="Hasura-Server-App.html#t:HandlerCtx" title="Hasura.Server.App">HandlerCtx</a> -&gt; <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> r m (<a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Hasura-Base-Error.html#t:QErr" title="Hasura.Base.Error">QErr</a> ()) <a href="src/Hasura.Server.App.html#authorizeV1MetadataApi" class="link">Source</a> <a href="#v:authorizeV1MetadataApi" class="selflink">#</a></p><p class="src"><a href="#v:authorizeV2QueryApi">authorizeV2QueryApi</a> :: <a href="Hasura-Server-API-V2Query.html#t:RQLQuery" title="Hasura.Server.API.V2Query">RQLQuery</a> -&gt; <a href="Hasura-Server-App.html#t:HandlerCtx" title="Hasura.Server.App">HandlerCtx</a> -&gt; <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/mtl-2.2.2/Control-Monad-Reader.html#t:ReaderT" title="Control.Monad.Reader">ReaderT</a> r m (<a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Hasura-Base-Error.html#t:QErr" title="Hasura.Base.Error">QErr</a> ()) <a href="src/Hasura.Server.App.html#authorizeV2QueryApi" class="link">Source</a> <a href="#v:authorizeV2QueryApi" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a id="t:MonadConfigApiHandler" class="def">MonadConfigApiHandler</a> m <span class="keyword">where</span> <a href="src/Hasura.Server.App.html#MonadConfigApiHandler" class="link">Source</a> <a href="#t:MonadConfigApiHandler" class="selflink">#</a></p><div class="doc"><p>The config API (<em>v1alpha1</em>config) handler</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:runConfigApiHandler" class="def">runConfigApiHandler</a> <a href="src/Hasura.Server.App.html#runConfigApiHandler" class="link">Source</a> <a href="#v:runConfigApiHandler" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Hasura-Server-App.html#t:ServerCtx" title="Hasura.Server.App">ServerCtx</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> Text</td><td class="doc"><p>console assets directory</p></td></tr><tr><td class="src">-&gt; SpockCtxT () m ()</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:MonadConfigApiHandler">Instances</h4><details id="i:MonadConfigApiHandler" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:MonadConfigApiHandler:MonadConfigApiHandler:1"></span> (<a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, MonadBaseControl <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> m) =&gt; <a href="Hasura-Server-App.html#t:MonadConfigApiHandler" title="Hasura.Server.App">MonadConfigApiHandler</a> (<a href="Hasura-App.html#t:PGMetadataStorageAppT" title="Hasura.App">PGMetadataStorageAppT</a> m)</span> <a href="src/Hasura.App.html#line-1051" class="link">Source</a> <a href="#t:MonadConfigApiHandler" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:MonadConfigApiHandler:MonadConfigApiHandler:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hasura-App.html">Hasura.App</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:runConfigApiHandler">runConfigApiHandler</a> :: <a href="Hasura-Server-App.html#t:ServerCtx" title="Hasura.Server.App">ServerCtx</a> -&gt; <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> Text -&gt; SpockCtxT () (<a href="Hasura-App.html#t:PGMetadataStorageAppT" title="Hasura.App">PGMetadataStorageAppT</a> m) () <a href="src/Hasura.Server.App.html#runConfigApiHandler" class="link">Source</a> <a href="#v:runConfigApiHandler" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:mapActionT" class="def">mapActionT</a> :: (<a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m, <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> n) =&gt; (m (StT (ActionCtxT ()) a) -&gt; n (StT (ActionCtxT ()) a)) -&gt; ActionT m a -&gt; ActionT n a <a href="src/Hasura.Server.App.html#mapActionT" class="link">Source</a> <a href="#v:mapActionT" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mkSpockAction" class="def">mkSpockAction</a> <a href="src/Hasura.Server.App.html#mkSpockAction" class="link">Source</a> <a href="#v:mkSpockAction" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, MonadBaseControl <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> m, FromJSON a, <a href="Hasura-Server-Auth.html#t:UserAuthentication" title="Hasura.Server.Auth">UserAuthentication</a> (<a href="Hasura-Tracing.html#t:TraceT" title="Hasura.Tracing">TraceT</a> m), <a href="Hasura-Server-Logging.html#t:HttpLog" title="Hasura.Server.Logging">HttpLog</a> m, <a href="Hasura-Tracing.html#t:HasReporter" title="Hasura.Tracing">HasReporter</a> m, <a href="Hasura-Server-Limits.html#t:HasResourceLimits" title="Hasura.Server.Limits">HasResourceLimits</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Hasura-Server-App.html#t:ServerCtx" title="Hasura.Server.App">ServerCtx</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; (<a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; <a href="Hasura-Base-Error.html#t:QErr" title="Hasura.Base.Error">QErr</a> -&gt; Value)</td><td class="doc"><p><code><a href="Hasura-Base-Error.html#t:QErr" title="Hasura.Base.Error">QErr</a></code> JSON encoder function</p></td></tr><tr><td class="src">-&gt; (<a href="Hasura-Base-Error.html#t:QErr" title="Hasura.Base.Error">QErr</a> -&gt; <a href="Hasura-Base-Error.html#t:QErr" title="Hasura.Base.Error">QErr</a>)</td><td class="doc"><p><code><a href="Hasura-Base-Error.html#t:QErr" title="Hasura.Base.Error">QErr</a></code> modifier</p></td></tr><tr><td class="src">-&gt; <a href="Hasura-Server-App.html#t:APIHandler" title="Hasura.Server.App">APIHandler</a> (<a href="Hasura-Tracing.html#t:TraceT" title="Hasura.Tracing">TraceT</a> m) a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; ActionT m ()</td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><a id="v:v1QueryHandler" class="def">v1QueryHandler</a> :: (<a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, MonadBaseControl <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> m, <a href="Hasura-Server-App.html#t:MonadMetadataApiAuthorization" title="Hasura.Server.App">MonadMetadataApiAuthorization</a> m, <a href="Hasura-Tracing.html#t:MonadTrace" title="Hasura.Tracing">MonadTrace</a> m, <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/mtl-2.2.2/Control-Monad-Reader-Class.html#t:MonadReader" title="Control.Monad.Reader.Class">MonadReader</a> <a href="Hasura-Server-App.html#t:HandlerCtx" title="Hasura.Server.App">HandlerCtx</a> m, <a href="Hasura-Metadata-Class.html#t:MonadMetadataStorage" title="Hasura.Metadata.Class">MonadMetadataStorage</a> m, <a href="Hasura-RQL-Types-Source.html#t:MonadResolveSource" title="Hasura.RQL.Types.Source">MonadResolveSource</a> m, <a href="Hasura-GraphQL-Execute-Backend.html#t:MonadQueryTags" title="Hasura.GraphQL.Execute.Backend">MonadQueryTags</a> m) =&gt; <a href="Hasura-Server-API-Query.html#t:RQLQuery" title="Hasura.Server.API.Query">RQLQuery</a> -&gt; m (<a href="Hasura-HTTP.html#t:HttpResponse" title="Hasura.HTTP">HttpResponse</a> <a href="Hasura-EncJSON.html#t:EncJSON" title="Hasura.EncJSON">EncJSON</a>) <a href="src/Hasura.Server.App.html#v1QueryHandler" class="link">Source</a> <a href="#v:v1QueryHandler" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:v1MetadataHandler" class="def">v1MetadataHandler</a> :: (<a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, MonadBaseControl <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> m, <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/mtl-2.2.2/Control-Monad-Reader-Class.html#t:MonadReader" title="Control.Monad.Reader.Class">MonadReader</a> <a href="Hasura-Server-App.html#t:HandlerCtx" title="Hasura.Server.App">HandlerCtx</a> m, <a href="Hasura-Tracing.html#t:MonadTrace" title="Hasura.Tracing">MonadTrace</a> m, <a href="Hasura-Metadata-Class.html#t:MonadMetadataStorage" title="Hasura.Metadata.Class">MonadMetadataStorage</a> m, <a href="Hasura-RQL-Types-Source.html#t:MonadResolveSource" title="Hasura.RQL.Types.Source">MonadResolveSource</a> m, <a href="Hasura-Server-App.html#t:MonadMetadataApiAuthorization" title="Hasura.Server.App">MonadMetadataApiAuthorization</a> m) =&gt; <a href="Hasura-Server-API-Metadata.html#t:RQLMetadata" title="Hasura.Server.API.Metadata">RQLMetadata</a> -&gt; m (<a href="Hasura-HTTP.html#t:HttpResponse" title="Hasura.HTTP">HttpResponse</a> <a href="Hasura-EncJSON.html#t:EncJSON" title="Hasura.EncJSON">EncJSON</a>) <a href="src/Hasura.Server.App.html#v1MetadataHandler" class="link">Source</a> <a href="#v:v1MetadataHandler" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:v2QueryHandler" class="def">v2QueryHandler</a> :: (<a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, MonadBaseControl <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> m, <a href="Hasura-Server-App.html#t:MonadMetadataApiAuthorization" title="Hasura.Server.App">MonadMetadataApiAuthorization</a> m, <a href="Hasura-Tracing.html#t:MonadTrace" title="Hasura.Tracing">MonadTrace</a> m, <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/mtl-2.2.2/Control-Monad-Reader-Class.html#t:MonadReader" title="Control.Monad.Reader.Class">MonadReader</a> <a href="Hasura-Server-App.html#t:HandlerCtx" title="Hasura.Server.App">HandlerCtx</a> m, <a href="Hasura-Metadata-Class.html#t:MonadMetadataStorage" title="Hasura.Metadata.Class">MonadMetadataStorage</a> m, <a href="Hasura-RQL-Types-Source.html#t:MonadResolveSource" title="Hasura.RQL.Types.Source">MonadResolveSource</a> m, <a href="Hasura-GraphQL-Execute-Backend.html#t:MonadQueryTags" title="Hasura.GraphQL.Execute.Backend">MonadQueryTags</a> m) =&gt; <a href="Hasura-Server-API-V2Query.html#t:RQLQuery" title="Hasura.Server.API.V2Query">RQLQuery</a> -&gt; m (<a href="Hasura-HTTP.html#t:HttpResponse" title="Hasura.HTTP">HttpResponse</a> <a href="Hasura-EncJSON.html#t:EncJSON" title="Hasura.EncJSON">EncJSON</a>) <a href="src/Hasura.Server.App.html#v2QueryHandler" class="link">Source</a> <a href="#v:v2QueryHandler" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:v1Alpha1GQHandler" class="def">v1Alpha1GQHandler</a> :: (<a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, MonadBaseControl <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> m, <a href="Hasura-GraphQL-Execute-Common.html#t:MonadGQLExecutionCheck" title="Hasura.GraphQL.Execute.Common">MonadGQLExecutionCheck</a> m, <a href="Hasura-GraphQL-Logging.html#t:MonadQueryLog" title="Hasura.GraphQL.Logging">MonadQueryLog</a> m, <a href="Hasura-Tracing.html#t:MonadTrace" title="Hasura.Tracing">MonadTrace</a> m, <a href="Hasura-GraphQL-Transport-HTTP.html#t:MonadExecuteQuery" title="Hasura.GraphQL.Transport.HTTP">MonadExecuteQuery</a> m, <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/mtl-2.2.2/Control-Monad-Error-Class.html#t:MonadError" title="Control.Monad.Error.Class">MonadError</a> <a href="Hasura-Base-Error.html#t:QErr" title="Hasura.Base.Error">QErr</a> m, <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/mtl-2.2.2/Control-Monad-Reader-Class.html#t:MonadReader" title="Control.Monad.Reader.Class">MonadReader</a> <a href="Hasura-Server-App.html#t:HandlerCtx" title="Hasura.Server.App">HandlerCtx</a> m, <a href="Hasura-Server-Logging.html#t:HttpLog" title="Hasura.Server.Logging">HttpLog</a> m, <a href="Hasura-Metadata-Class.html#t:MonadMetadataStorage" title="Hasura.Metadata.Class">MonadMetadataStorage</a> (<a href="Hasura-Metadata-Class.html#t:MetadataStorageT" title="Hasura.Metadata.Class">MetadataStorageT</a> m), <a href="Hasura-GraphQL-Execute-Backend.html#t:MonadQueryTags" title="Hasura.GraphQL.Execute.Backend">MonadQueryTags</a> m, <a href="Hasura-Server-Limits.html#t:HasResourceLimits" title="Hasura.Server.Limits">HasResourceLimits</a> m) =&gt; <a href="Hasura-GraphQL-Execute-Types.html#t:GraphQLQueryType" title="Hasura.GraphQL.Execute.Types">GraphQLQueryType</a> -&gt; <a href="Hasura-GraphQL-Transport-HTTP-Protocol.html#t:GQLBatchedReqs" title="Hasura.GraphQL.Transport.HTTP.Protocol">GQLBatchedReqs</a> (<a href="Hasura-GraphQL-Transport-HTTP-Protocol.html#t:GQLReq" title="Hasura.GraphQL.Transport.HTTP.Protocol">GQLReq</a> <a href="Hasura-GraphQL-Transport-HTTP-Protocol.html#t:GQLQueryText" title="Hasura.GraphQL.Transport.HTTP.Protocol">GQLQueryText</a>) -&gt; m (<a href="Hasura-Server-Logging.html#t:HttpLogMetadata" title="Hasura.Server.Logging">HttpLogMetadata</a> m, <a href="Hasura-HTTP.html#t:HttpResponse" title="Hasura.HTTP">HttpResponse</a> <a href="Hasura-EncJSON.html#t:EncJSON" title="Hasura.EncJSON">EncJSON</a>) <a href="src/Hasura.Server.App.html#v1Alpha1GQHandler" class="link">Source</a> <a href="#v:v1Alpha1GQHandler" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:mkExecutionContext" class="def">mkExecutionContext</a> :: (<a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/mtl-2.2.2/Control-Monad-Reader-Class.html#t:MonadReader" title="Control.Monad.Reader.Class">MonadReader</a> <a href="Hasura-Server-App.html#t:HandlerCtx" title="Hasura.Server.App">HandlerCtx</a> m) =&gt; m <a href="Hasura-GraphQL-Execute.html#t:ExecutionCtx" title="Hasura.GraphQL.Execute">ExecutionCtx</a> <a href="src/Hasura.Server.App.html#mkExecutionContext" class="link">Source</a> <a href="#v:mkExecutionContext" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:v1GQHandler" class="def">v1GQHandler</a> :: (<a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, MonadBaseControl <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> m, <a href="Hasura-GraphQL-Execute-Common.html#t:MonadGQLExecutionCheck" title="Hasura.GraphQL.Execute.Common">MonadGQLExecutionCheck</a> m, <a href="Hasura-GraphQL-Logging.html#t:MonadQueryLog" title="Hasura.GraphQL.Logging">MonadQueryLog</a> m, <a href="Hasura-Tracing.html#t:MonadTrace" title="Hasura.Tracing">MonadTrace</a> m, <a href="Hasura-GraphQL-Transport-HTTP.html#t:MonadExecuteQuery" title="Hasura.GraphQL.Transport.HTTP">MonadExecuteQuery</a> m, <a href="Hasura-Server-Logging.html#t:HttpLog" title="Hasura.Server.Logging">HttpLog</a> m, <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/mtl-2.2.2/Control-Monad-Error-Class.html#t:MonadError" title="Control.Monad.Error.Class">MonadError</a> <a href="Hasura-Base-Error.html#t:QErr" title="Hasura.Base.Error">QErr</a> m, <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/mtl-2.2.2/Control-Monad-Reader-Class.html#t:MonadReader" title="Control.Monad.Reader.Class">MonadReader</a> <a href="Hasura-Server-App.html#t:HandlerCtx" title="Hasura.Server.App">HandlerCtx</a> m, <a href="Hasura-Metadata-Class.html#t:MonadMetadataStorage" title="Hasura.Metadata.Class">MonadMetadataStorage</a> (<a href="Hasura-Metadata-Class.html#t:MetadataStorageT" title="Hasura.Metadata.Class">MetadataStorageT</a> m), <a href="Hasura-GraphQL-Execute-Backend.html#t:MonadQueryTags" title="Hasura.GraphQL.Execute.Backend">MonadQueryTags</a> m, <a href="Hasura-Server-Limits.html#t:HasResourceLimits" title="Hasura.Server.Limits">HasResourceLimits</a> m) =&gt; <a href="Hasura-GraphQL-Transport-HTTP-Protocol.html#t:GQLBatchedReqs" title="Hasura.GraphQL.Transport.HTTP.Protocol">GQLBatchedReqs</a> (<a href="Hasura-GraphQL-Transport-HTTP-Protocol.html#t:GQLReq" title="Hasura.GraphQL.Transport.HTTP.Protocol">GQLReq</a> <a href="Hasura-GraphQL-Transport-HTTP-Protocol.html#t:GQLQueryText" title="Hasura.GraphQL.Transport.HTTP.Protocol">GQLQueryText</a>) -&gt; m (<a href="Hasura-Server-Logging.html#t:HttpLogMetadata" title="Hasura.Server.Logging">HttpLogMetadata</a> m, <a href="Hasura-HTTP.html#t:HttpResponse" title="Hasura.HTTP">HttpResponse</a> <a href="Hasura-EncJSON.html#t:EncJSON" title="Hasura.EncJSON">EncJSON</a>) <a href="src/Hasura.Server.App.html#v1GQHandler" class="link">Source</a> <a href="#v:v1GQHandler" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:v1GQRelayHandler" class="def">v1GQRelayHandler</a> :: (<a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, MonadBaseControl <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> m, <a href="Hasura-GraphQL-Execute-Common.html#t:MonadGQLExecutionCheck" title="Hasura.GraphQL.Execute.Common">MonadGQLExecutionCheck</a> m, <a href="Hasura-GraphQL-Logging.html#t:MonadQueryLog" title="Hasura.GraphQL.Logging">MonadQueryLog</a> m, <a href="Hasura-Tracing.html#t:MonadTrace" title="Hasura.Tracing">MonadTrace</a> m, <a href="Hasura-Server-Logging.html#t:HttpLog" title="Hasura.Server.Logging">HttpLog</a> m, <a href="Hasura-GraphQL-Transport-HTTP.html#t:MonadExecuteQuery" title="Hasura.GraphQL.Transport.HTTP">MonadExecuteQuery</a> m, <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/mtl-2.2.2/Control-Monad-Error-Class.html#t:MonadError" title="Control.Monad.Error.Class">MonadError</a> <a href="Hasura-Base-Error.html#t:QErr" title="Hasura.Base.Error">QErr</a> m, <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/mtl-2.2.2/Control-Monad-Reader-Class.html#t:MonadReader" title="Control.Monad.Reader.Class">MonadReader</a> <a href="Hasura-Server-App.html#t:HandlerCtx" title="Hasura.Server.App">HandlerCtx</a> m, <a href="Hasura-Metadata-Class.html#t:MonadMetadataStorage" title="Hasura.Metadata.Class">MonadMetadataStorage</a> (<a href="Hasura-Metadata-Class.html#t:MetadataStorageT" title="Hasura.Metadata.Class">MetadataStorageT</a> m), <a href="Hasura-GraphQL-Execute-Backend.html#t:MonadQueryTags" title="Hasura.GraphQL.Execute.Backend">MonadQueryTags</a> m, <a href="Hasura-Server-Limits.html#t:HasResourceLimits" title="Hasura.Server.Limits">HasResourceLimits</a> m) =&gt; <a href="Hasura-GraphQL-Transport-HTTP-Protocol.html#t:GQLBatchedReqs" title="Hasura.GraphQL.Transport.HTTP.Protocol">GQLBatchedReqs</a> (<a href="Hasura-GraphQL-Transport-HTTP-Protocol.html#t:GQLReq" title="Hasura.GraphQL.Transport.HTTP.Protocol">GQLReq</a> <a href="Hasura-GraphQL-Transport-HTTP-Protocol.html#t:GQLQueryText" title="Hasura.GraphQL.Transport.HTTP.Protocol">GQLQueryText</a>) -&gt; m (<a href="Hasura-Server-Logging.html#t:HttpLogMetadata" title="Hasura.Server.Logging">HttpLogMetadata</a> m, <a href="Hasura-HTTP.html#t:HttpResponse" title="Hasura.HTTP">HttpResponse</a> <a href="Hasura-EncJSON.html#t:EncJSON" title="Hasura.EncJSON">EncJSON</a>) <a href="src/Hasura.Server.App.html#v1GQRelayHandler" class="link">Source</a> <a href="#v:v1GQRelayHandler" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:gqlExplainHandler" class="def">gqlExplainHandler</a> :: <span class="keyword">forall</span> m. (<a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, MonadBaseControl <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> m, <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/mtl-2.2.2/Control-Monad-Error-Class.html#t:MonadError" title="Control.Monad.Error.Class">MonadError</a> <a href="Hasura-Base-Error.html#t:QErr" title="Hasura.Base.Error">QErr</a> m, <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/mtl-2.2.2/Control-Monad-Reader-Class.html#t:MonadReader" title="Control.Monad.Reader.Class">MonadReader</a> <a href="Hasura-Server-App.html#t:HandlerCtx" title="Hasura.Server.App">HandlerCtx</a> m, <a href="Hasura-Metadata-Class.html#t:MonadMetadataStorage" title="Hasura.Metadata.Class">MonadMetadataStorage</a> (<a href="Hasura-Metadata-Class.html#t:MetadataStorageT" title="Hasura.Metadata.Class">MetadataStorageT</a> m), <a href="Hasura-GraphQL-Execute-Backend.html#t:MonadQueryTags" title="Hasura.GraphQL.Execute.Backend">MonadQueryTags</a> m) =&gt; <a href="Hasura-GraphQL-Explain.html#t:GQLExplain" title="Hasura.GraphQL.Explain">GQLExplain</a> -&gt; m (<a href="Hasura-HTTP.html#t:HttpResponse" title="Hasura.HTTP">HttpResponse</a> <a href="Hasura-EncJSON.html#t:EncJSON" title="Hasura.EncJSON">EncJSON</a>) <a href="src/Hasura.Server.App.html#gqlExplainHandler" class="link">Source</a> <a href="#v:gqlExplainHandler" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:v1Alpha1PGDumpHandler" class="def">v1Alpha1PGDumpHandler</a> :: (<a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/mtl-2.2.2/Control-Monad-Error-Class.html#t:MonadError" title="Control.Monad.Error.Class">MonadError</a> <a href="Hasura-Base-Error.html#t:QErr" title="Hasura.Base.Error">QErr</a> m, <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/mtl-2.2.2/Control-Monad-Reader-Class.html#t:MonadReader" title="Control.Monad.Reader.Class">MonadReader</a> <a href="Hasura-Server-App.html#t:HandlerCtx" title="Hasura.Server.App">HandlerCtx</a> m) =&gt; <a href="Hasura-Server-API-PGDump.html#t:PGDumpReqBody" title="Hasura.Server.API.PGDump">PGDumpReqBody</a> -&gt; m <a href="Hasura-Server-App.html#t:APIResp" title="Hasura.Server.App">APIResp</a> <a href="src/Hasura.Server.App.html#v1Alpha1PGDumpHandler" class="link">Source</a> <a href="#v:v1Alpha1PGDumpHandler" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:consoleAssetsHandler" class="def">consoleAssetsHandler</a> :: (<a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Hasura-Server-Logging.html#t:HttpLog" title="Hasura.Server.Logging">HttpLog</a> m) =&gt; <a href="Hasura-Logging.html#t:Logger" title="Hasura.Logging">Logger</a> <a href="Hasura-Logging.html#t:Hasura" title="Hasura.Logging">Hasura</a> -&gt; HashSet (<a href="Hasura-Logging.html#t:EngineLogType" title="Hasura.Logging">EngineLogType</a> <a href="Hasura-Logging.html#t:Hasura" title="Hasura.Logging">Hasura</a>) -&gt; Text -&gt; <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; ActionT m () <a href="src/Hasura.Server.App.html#consoleAssetsHandler" class="link">Source</a> <a href="#v:consoleAssetsHandler" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">class</span> <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a id="t:ConsoleRenderer" class="def">ConsoleRenderer</a> m <span class="keyword">where</span> <a href="src/Hasura.Server.App.html#ConsoleRenderer" class="link">Source</a> <a href="#t:ConsoleRenderer" class="selflink">#</a></p><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:renderConsole" class="def">renderConsole</a> :: Text -&gt; <a href="Hasura-Server-Auth.html#t:AuthMode" title="Hasura.Server.Auth">AuthMode</a> -&gt; <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> Text -&gt; m (<a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a> Text) <a href="src/Hasura.Server.App.html#renderConsole" class="link">Source</a> <a href="#v:renderConsole" class="selflink">#</a></p></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:ConsoleRenderer">Instances</h4><details id="i:ConsoleRenderer" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:ConsoleRenderer:ConsoleRenderer:1"></span> <a href="Hasura-Server-App.html#t:ConsoleRenderer" title="Hasura.Server.App">ConsoleRenderer</a> m =&gt; <a href="Hasura-Server-App.html#t:ConsoleRenderer" title="Hasura.Server.App">ConsoleRenderer</a> (<a href="Hasura-Tracing.html#t:TraceT" title="Hasura.Tracing">TraceT</a> m)</span> <a href="src/Hasura.Server.App.html#line-714" class="link">Source</a> <a href="#t:ConsoleRenderer" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:ConsoleRenderer:ConsoleRenderer:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hasura-Server-App.html">Hasura.Server.App</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:renderConsole">renderConsole</a> :: Text -&gt; <a href="Hasura-Server-Auth.html#t:AuthMode" title="Hasura.Server.Auth">AuthMode</a> -&gt; <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> Text -&gt; <a href="Hasura-Tracing.html#t:TraceT" title="Hasura.Tracing">TraceT</a> m (<a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a> Text) <a href="src/Hasura.Server.App.html#renderConsole" class="link">Source</a> <a href="#v:renderConsole" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:ic:ConsoleRenderer:ConsoleRenderer:2"></span> <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad.html#t:Monad" title="Control.Monad">Monad</a> m =&gt; <a href="Hasura-Server-App.html#t:ConsoleRenderer" title="Hasura.Server.App">ConsoleRenderer</a> (<a href="Hasura-App.html#t:PGMetadataStorageAppT" title="Hasura.App">PGMetadataStorageAppT</a> m)</span> <a href="src/Hasura.App.html#line-1038" class="link">Source</a> <a href="#t:ConsoleRenderer" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:ic:ConsoleRenderer:ConsoleRenderer:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Hasura-App.html">Hasura.App</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:renderConsole">renderConsole</a> :: Text -&gt; <a href="Hasura-Server-Auth.html#t:AuthMode" title="Hasura.Server.Auth">AuthMode</a> -&gt; <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> Text -&gt; <a href="Hasura-App.html#t:PGMetadataStorageAppT" title="Hasura.App">PGMetadataStorageAppT</a> m (<a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a> Text) <a href="src/Hasura.Server.App.html#renderConsole" class="link">Source</a> <a href="#v:renderConsole" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:renderHtmlTemplate" class="def">renderHtmlTemplate</a> :: Template -&gt; Value -&gt; <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a> Text <a href="src/Hasura.Server.App.html#renderHtmlTemplate" class="link">Source</a> <a href="#v:renderHtmlTemplate" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:configApiGetHandler" class="def">configApiGetHandler</a> :: <span class="keyword">forall</span> m. (<a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, MonadBaseControl <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> m, <a href="Hasura-Server-Auth.html#t:UserAuthentication" title="Hasura.Server.Auth">UserAuthentication</a> (<a href="Hasura-Tracing.html#t:TraceT" title="Hasura.Tracing">TraceT</a> m), <a href="Hasura-Server-Logging.html#t:HttpLog" title="Hasura.Server.Logging">HttpLog</a> m, <a href="Hasura-Tracing.html#t:HasReporter" title="Hasura.Tracing">HasReporter</a> m, <a href="Hasura-Server-Limits.html#t:HasResourceLimits" title="Hasura.Server.Limits">HasResourceLimits</a> m) =&gt; <a href="Hasura-Server-App.html#t:ServerCtx" title="Hasura.Server.App">ServerCtx</a> -&gt; <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> Text -&gt; SpockCtxT () m () <a href="src/Hasura.Server.App.html#configApiGetHandler" class="link">Source</a> <a href="#v:configApiGetHandler" class="selflink">#</a></p><div class="doc"><p>Default implementation of the <code><a href="Hasura-Server-App.html#t:MonadConfigApiHandler" title="Hasura.Server.App">MonadConfigApiHandler</a></code></p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:HasuraApp" class="def">HasuraApp</a> <a href="src/Hasura.Server.App.html#HasuraApp" class="link">Source</a> <a href="#t:HasuraApp" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:HasuraApp" class="def">HasuraApp</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:_hapApplication" class="def">_hapApplication</a> :: !Application</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:_hapSchemaRef" class="def">_hapSchemaRef</a> :: !<a href="Hasura-Server-App.html#t:SchemaCacheRef" title="Hasura.Server.App">SchemaCacheRef</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:_hapAsyncActionSubscriptionState" class="def">_hapAsyncActionSubscriptionState</a> :: !<a href="Hasura-GraphQL-Execute-LiveQuery-State.html#t:AsyncActionSubscriptionState" title="Hasura.GraphQL.Execute.LiveQuery.State">AsyncActionSubscriptionState</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:_hapShutdownWsServer" class="def">_hapShutdownWsServer</a> :: !(<a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> ())</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div></div><div class="top"><p class="src"><a id="v:mkWaiApp" class="def">mkWaiApp</a> <a href="src/Hasura.Server.App.html#mkWaiApp" class="link">Source</a> <a href="#v:mkWaiApp" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <span class="keyword">forall</span> m. (<a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Control-Monad-Stateless.html#t:MonadStateless" title="Control.Monad.Stateless">MonadStateless</a> <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> m, Forall (Pure m), <a href="Hasura-Server-App.html#t:ConsoleRenderer" title="Hasura.Server.App">ConsoleRenderer</a> m, <a href="Hasura-Server-Logging.html#t:HttpLog" title="Hasura.Server.Logging">HttpLog</a> m, <a href="Hasura-Server-Auth.html#t:UserAuthentication" title="Hasura.Server.Auth">UserAuthentication</a> (<a href="Hasura-Tracing.html#t:TraceT" title="Hasura.Tracing">TraceT</a> m), <a href="Hasura-Server-App.html#t:MonadMetadataApiAuthorization" title="Hasura.Server.App">MonadMetadataApiAuthorization</a> m, <a href="Hasura-GraphQL-Execute-Common.html#t:MonadGQLExecutionCheck" title="Hasura.GraphQL.Execute.Common">MonadGQLExecutionCheck</a> m, <a href="Hasura-Server-App.html#t:MonadConfigApiHandler" title="Hasura.Server.App">MonadConfigApiHandler</a> m, <a href="Hasura-GraphQL-Logging.html#t:MonadQueryLog" title="Hasura.GraphQL.Logging">MonadQueryLog</a> m, <a href="Hasura-GraphQL-Transport-WebSocket-Server.html#t:MonadWSLog" title="Hasura.GraphQL.Transport.WebSocket.Server">MonadWSLog</a> m, <a href="Hasura-Tracing.html#t:HasReporter" title="Hasura.Tracing">HasReporter</a> m, <a href="Hasura-GraphQL-Transport-HTTP.html#t:MonadExecuteQuery" title="Hasura.GraphQL.Transport.HTTP">MonadExecuteQuery</a> m, <a href="Hasura-Server-Limits.html#t:HasResourceLimits" title="Hasura.Server.Limits">HasResourceLimits</a> m, <a href="Hasura-Metadata-Class.html#t:MonadMetadataStorage" title="Hasura.Metadata.Class">MonadMetadataStorage</a> (<a href="Hasura-Metadata-Class.html#t:MetadataStorageT" title="Hasura.Metadata.Class">MetadataStorageT</a> m), <a href="Hasura-RQL-Types-Source.html#t:MonadResolveSource" title="Hasura.RQL.Types.Source">MonadResolveSource</a> m, <a href="Hasura-GraphQL-Execute-Backend.html#t:MonadQueryTags" title="Hasura.GraphQL.Execute.Backend">MonadQueryTags</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; (<a href="Hasura-Server-App.html#t:ServerCtx" title="Hasura.Server.App">ServerCtx</a> -&gt; SpockT m ())</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Data-Environment.html#t:Environment" title="Data.Environment">Environment</a></td><td class="doc"><p>Set of environment variables for reference in UIs</p></td></tr><tr><td class="src">-&gt; <a href="Hasura-Logging.html#t:Logger" title="Hasura.Logging">Logger</a> <a href="Hasura-Logging.html#t:Hasura" title="Hasura.Logging">Hasura</a></td><td class="doc"><p>a <code><a href="Hasura-Logging.html#t:Hasura" title="Hasura.Logging">Hasura</a></code> specific logger</p></td></tr><tr><td class="src">-&gt; <a href="Hasura-RQL-Types-Common.html#t:SQLGenCtx" title="Hasura.RQL.Types.Common">SQLGenCtx</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></td><td class="doc"><p>is AllowList enabled - TODO: change this boolean to sumtype</p></td></tr><tr><td class="src">-&gt; Manager</td><td class="doc"><p>HTTP manager so that we can re-use sessions</p></td></tr><tr><td class="src">-&gt; <a href="Hasura-Server-Auth.html#t:AuthMode" title="Hasura.Server.Auth">AuthMode</a></td><td class="doc"><p><code><a href="Hasura-Server-Auth.html#t:AuthMode" title="Hasura.Server.Auth">AuthMode</a></code> in which the application should operate in</p></td></tr><tr><td class="src">-&gt; <a href="Hasura-Server-Cors.html#t:CorsConfig" title="Hasura.Server.Cors">CorsConfig</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></td><td class="doc"><p>is console enabled - TODO: better type</p></td></tr><tr><td class="src">-&gt; <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> Text</td><td class="doc"><p>filepath to the console static assets directory - TODO: better type</p></td></tr><tr><td class="src">-&gt; <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a></td><td class="doc"><p>is telemetry enabled</p></td></tr><tr><td class="src">-&gt; <a href="Hasura-Server-Types.html#t:InstanceId" title="Hasura.Server.Types">InstanceId</a></td><td class="doc"><p>each application, when run, gets an <code><a href="Hasura-Server-Types.html#t:InstanceId" title="Hasura.Server.Types">InstanceId</a></code>. this is used at various places including
 schema syncing and telemetry</p></td></tr><tr><td class="src">-&gt; HashSet <a href="Hasura-Server-Init-Config.html#t:API" title="Hasura.Server.Init.Config">API</a></td><td class="doc"><p>set of the enabled <code><a href="Hasura-Server-Init-Config.html#t:API" title="Hasura.Server.Init.Config">API</a></code>s</p></td></tr><tr><td class="src">-&gt; <a href="Hasura-GraphQL-Execute-LiveQuery-Options.html#t:LiveQueriesOptions" title="Hasura.GraphQL.Execute.LiveQuery.Options">LiveQueriesOptions</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Hasura-Server-Init-Config.html#t:ResponseInternalErrorsConfig" title="Hasura.Server.Init.Config">ResponseInternalErrorsConfig</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> <a href="Hasura-GraphQL-Execute-LiveQuery-Poll.html#t:LiveQueryPostPollHook" title="Hasura.GraphQL.Execute.LiveQuery.Poll">LiveQueryPostPollHook</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Hasura-Server-App.html#t:SchemaCacheRef" title="Hasura.Server.App">SchemaCacheRef</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; Store EmptyMetrics</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Hasura-Server-Metrics.html#t:ServerMetrics" title="Hasura.Server.Metrics">ServerMetrics</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Hasura-RQL-Types-RemoteSchema.html#t:RemoteSchemaPermsCtx" title="Hasura.RQL.Types.RemoteSchema">RemoteSchemaPermsCtx</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Hasura-RQL-Types-Function.html#t:FunctionPermissionsCtx" title="Hasura.RQL.Types.Function">FunctionPermissionsCtx</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; ConnectionOptions</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Hasura-Server-Init-Config.html#t:KeepAliveDelay" title="Hasura.Server.Init.Config">KeepAliveDelay</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Hasura-Server-Types.html#t:MaintenanceMode" title="Hasura.Server.Types">MaintenanceMode</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Hasura-Server-Types.html#t:EventingMode" title="Hasura.Server.Types">EventingMode</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Hasura-Server-Types.html#t:ReadOnlyMode" title="Hasura.Server.Types">ReadOnlyMode</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; HashSet <a href="Hasura-Server-Types.html#t:ExperimentalFeature" title="Hasura.Server.Types">ExperimentalFeature</a></td><td class="doc"><p>Set of the enabled experimental features</p></td></tr><tr><td class="src">-&gt; HashSet (<a href="Hasura-Logging.html#t:EngineLogType" title="Hasura.Logging">EngineLogType</a> <a href="Hasura-Logging.html#t:Hasura" title="Hasura.Logging">Hasura</a>)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Hasura-Server-Init-Config.html#t:WSConnectionInitTimeout" title="Hasura.Server.Init.Config">WSConnectionInitTimeout</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; m <a href="Hasura-Server-App.html#t:HasuraApp" title="Hasura.Server.App">HasuraApp</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><a id="v:initialiseCache" class="def">initialiseCache</a> :: <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="Hasura-RQL-DDL-Schema-Cache-Common.html#t:RebuildableSchemaCache" title="Hasura.RQL.DDL.Schema.Cache.Common">RebuildableSchemaCache</a> -&gt; m <a href="Hasura-Server-App.html#t:SchemaCacheRef" title="Hasura.Server.App">SchemaCacheRef</a> <a href="src/Hasura.Server.App.html#initialiseCache" class="link">Source</a> <a href="#v:initialiseCache" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:httpApp" class="def">httpApp</a> :: <span class="keyword">forall</span> m. (<a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, MonadBaseControl <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> m, <a href="Hasura-Server-App.html#t:ConsoleRenderer" title="Hasura.Server.App">ConsoleRenderer</a> m, <a href="Hasura-Server-Logging.html#t:HttpLog" title="Hasura.Server.Logging">HttpLog</a> m, <a href="Hasura-Server-Auth.html#t:UserAuthentication" title="Hasura.Server.Auth">UserAuthentication</a> (<a href="Hasura-Tracing.html#t:TraceT" title="Hasura.Tracing">TraceT</a> m), <a href="Hasura-Server-App.html#t:MonadMetadataApiAuthorization" title="Hasura.Server.App">MonadMetadataApiAuthorization</a> m, <a href="Hasura-GraphQL-Execute-Common.html#t:MonadGQLExecutionCheck" title="Hasura.GraphQL.Execute.Common">MonadGQLExecutionCheck</a> m, <a href="Hasura-Server-App.html#t:MonadConfigApiHandler" title="Hasura.Server.App">MonadConfigApiHandler</a> m, <a href="Hasura-GraphQL-Logging.html#t:MonadQueryLog" title="Hasura.GraphQL.Logging">MonadQueryLog</a> m, <a href="Hasura-Tracing.html#t:HasReporter" title="Hasura.Tracing">HasReporter</a> m, <a href="Hasura-GraphQL-Transport-HTTP.html#t:MonadExecuteQuery" title="Hasura.GraphQL.Transport.HTTP">MonadExecuteQuery</a> m, <a href="Hasura-Metadata-Class.html#t:MonadMetadataStorage" title="Hasura.Metadata.Class">MonadMetadataStorage</a> (<a href="Hasura-Metadata-Class.html#t:MetadataStorageT" title="Hasura.Metadata.Class">MetadataStorageT</a> m), <a href="Hasura-Server-Limits.html#t:HasResourceLimits" title="Hasura.Server.Limits">HasResourceLimits</a> m, <a href="Hasura-RQL-Types-Source.html#t:MonadResolveSource" title="Hasura.RQL.Types.Source">MonadResolveSource</a> m, <a href="Hasura-GraphQL-Execute-Backend.html#t:MonadQueryTags" title="Hasura.GraphQL.Execute.Backend">MonadQueryTags</a> m) =&gt; (<a href="Hasura-Server-App.html#t:ServerCtx" title="Hasura.Server.App">ServerCtx</a> -&gt; SpockT m ()) -&gt; <a href="Hasura-Server-Cors.html#t:CorsConfig" title="Hasura.Server.Cors">CorsConfig</a> -&gt; <a href="Hasura-Server-App.html#t:ServerCtx" title="Hasura.Server.App">ServerCtx</a> -&gt; <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> Text -&gt; <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> -&gt; SpockT m () <a href="src/Hasura.Server.App.html#httpApp" class="link">Source</a> <a href="#v:httpApp" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:raiseGenericApiError" class="def">raiseGenericApiError</a> :: (<a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m, <a href="Hasura-Server-Logging.html#t:HttpLog" title="Hasura.Server.Logging">HttpLog</a> m) =&gt; <a href="Hasura-Logging.html#t:Logger" title="Hasura.Logging">Logger</a> <a href="Hasura-Logging.html#t:Hasura" title="Hasura.Logging">Hasura</a> -&gt; HashSet (<a href="Hasura-Logging.html#t:EngineLogType" title="Hasura.Logging">EngineLogType</a> <a href="Hasura-Logging.html#t:Hasura" title="Hasura.Logging">Hasura</a>) -&gt; [Header] -&gt; <a href="Hasura-Base-Error.html#t:QErr" title="Hasura.Base.Error">QErr</a> -&gt; ActionT m () <a href="src/Hasura.Server.App.html#raiseGenericApiError" class="link">Source</a> <a href="#v:raiseGenericApiError" class="selflink">#</a></p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.24.2</p></div></body></html>