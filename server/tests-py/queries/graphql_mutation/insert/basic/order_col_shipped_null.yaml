- description: Insert into order table with a null value
  url: /v1alpha1/graphql
  status: 200
  response:
    data:
      insert_orders:
        returning:
        - id: 4
        affected_rows: 1
        query:
          get_orders:
          - id: 2
          - id: 3
  query:
    query: |
      mutation insert_orders{
        insert_orders(
          objects: [
            {
              placed: "2017-08-19 14:22:11.802755+02",
              shipped: null
            }
          ]
        ) {
          returning {
            id
          }
          affected_rows
          query {
            get_orders(
            args: {arg_1: "2017-08-16 14:22:11.802755+02"}
            ){
              id
            }
          }
        }
      }
- description: Delete the inserted orders
  url: /v1/query
  status: 200
  query:
    type: run_sql
    args:
      sql: |
        delete from orders;
        SELECT setval('orders_id_seq', 1, FALSE);
