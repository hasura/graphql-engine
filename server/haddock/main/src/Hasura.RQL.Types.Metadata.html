<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE TemplateHaskell #-}</span><span>
</span><span id="line-2"></span><span>
</span><span id="line-3"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Hasura.RQL.Types.Metadata</span><span>
</span><span id="line-4"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#Metadata"><span class="hs-identifier">Metadata</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-5"></span><span>    </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#MetadataM"><span class="hs-identifier">MetadataM</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-6"></span><span>    </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#MetadataModifier"><span class="hs-identifier">MetadataModifier</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-7"></span><span>    </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#MetadataNoSources"><span class="hs-identifier">MetadataNoSources</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-8"></span><span>    </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#MetadataVersion"><span class="hs-identifier">MetadataVersion</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-9"></span><span>    </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#currentMetadataVersion"><span class="hs-identifier">currentMetadataVersion</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-10"></span><span>    </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#dropComputedFieldInMetadata"><span class="hs-identifier">dropComputedFieldInMetadata</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-11"></span><span>    </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#dropEventTriggerInMetadata"><span class="hs-identifier">dropEventTriggerInMetadata</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-12"></span><span>    </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#dropFunctionInMetadata"><span class="hs-identifier">dropFunctionInMetadata</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-13"></span><span>    </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#dropPermissionInMetadata"><span class="hs-identifier">dropPermissionInMetadata</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-14"></span><span>    </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#dropRelationshipInMetadata"><span class="hs-identifier">dropRelationshipInMetadata</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-15"></span><span>    </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#dropRemoteRelationshipInMetadata"><span class="hs-identifier">dropRemoteRelationshipInMetadata</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-16"></span><span>    </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#dropTableInMetadata"><span class="hs-identifier">dropTableInMetadata</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-17"></span><span>    </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#dropRemoteSchemaInMetadata"><span class="hs-identifier">dropRemoteSchemaInMetadata</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-18"></span><span>    </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#dropRemoteSchemaPermissionInMetadata"><span class="hs-identifier">dropRemoteSchemaPermissionInMetadata</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-19"></span><span>    </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#dropRemoteSchemaRemoteRelationshipInMetadata"><span class="hs-identifier">dropRemoteSchemaRemoteRelationshipInMetadata</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-20"></span><span>    </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#emptyMetadata"><span class="hs-identifier">emptyMetadata</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-21"></span><span>    </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#functionMetadataSetter"><span class="hs-identifier">functionMetadataSetter</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-22"></span><span>    </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#metaActions"><span class="hs-identifier">metaActions</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-23"></span><span>    </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#metaAllowlist"><span class="hs-identifier">metaAllowlist</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-24"></span><span>    </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#metaApiLimits"><span class="hs-identifier">metaApiLimits</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-25"></span><span>    </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#metaBackendConfigs"><span class="hs-identifier">metaBackendConfigs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-26"></span><span>    </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#metaCronTriggers"><span class="hs-identifier">metaCronTriggers</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-27"></span><span>    </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#metaCustomTypes"><span class="hs-identifier">metaCustomTypes</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-28"></span><span>    </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#metaInheritedRoles"><span class="hs-identifier">metaInheritedRoles</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-29"></span><span>    </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#metaMetricsConfig"><span class="hs-identifier">metaMetricsConfig</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-30"></span><span>    </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#metaNetwork"><span class="hs-identifier">metaNetwork</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-31"></span><span>    </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#metaQueryCollections"><span class="hs-identifier">metaQueryCollections</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-32"></span><span>    </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#metaRemoteSchemas"><span class="hs-identifier">metaRemoteSchemas</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-33"></span><span>    </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#metaRestEndpoints"><span class="hs-identifier">metaRestEndpoints</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-34"></span><span>    </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#metaSetGraphqlIntrospectionOptions"><span class="hs-identifier">metaSetGraphqlIntrospectionOptions</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-35"></span><span>    </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#metaSources"><span class="hs-identifier">metaSources</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-36"></span><span>    </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#metadataToDTO"><span class="hs-identifier">metadataToDTO</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-37"></span><span>    </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#metadataToOrdJSON"><span class="hs-identifier">metadataToOrdJSON</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-38"></span><span>    </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#tableMetadataSetter"><span class="hs-identifier">tableMetadataSetter</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-39"></span><span>    </span><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.Common.html"><span class="hs-identifier">Hasura.RQL.Types.Metadata.Common</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-40"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-41"></span><span class="hs-keyword">where</span><span>
</span><span id="line-42"></span><span>
</span><span id="line-43"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Lens</span></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">set</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-operator">(.=)</span></span><span class="hs-special">)</span><span>
</span><span id="line-44"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.Aeson.Extended.html"><span class="hs-identifier">Data.Aeson.Extended</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Aeson.Extended.html#FromJSONWithContext"><span class="hs-identifier">FromJSONWithContext</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Aeson.Extended.html#mapWithJSONPath"><span class="hs-identifier">mapWithJSONPath</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-45"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-8.10.7/aeson-ordered-0.1.0.0/opt/doc/html/aeson-ordered/src"><span class="hs-identifier">Data.Aeson.Ordered</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">AO</span></span><span>
</span><span id="line-46"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Aeson.TH</span></span><span>
</span><span id="line-47"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Aeson.Types</span></span><span>
</span><span id="line-48"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.HashMap.Strict.InsOrd.Extended.html"><span class="hs-identifier">Data.HashMap.Strict.InsOrd.Extended</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">OM</span></span><span>
</span><span id="line-49"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Monoid</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Dual</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Endo</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-50"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.Metadata.DTO.MetadataV3.html"><span class="hs-identifier">Hasura.Metadata.DTO.MetadataV3</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.Metadata.DTO.MetadataV3.html#MetadataV3"><span class="hs-identifier">MetadataV3</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-51"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.Metadata.DTO.Placeholder.html"><span class="hs-identifier">Hasura.Metadata.DTO.Placeholder</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.Metadata.DTO.Placeholder.html#IsPlaceholder"><span class="hs-identifier">IsPlaceholder</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.Metadata.DTO.Placeholder.html#placeholder"><span class="hs-identifier">placeholder</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-52"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.Prelude.html"><span class="hs-identifier">Hasura.Prelude</span></a></span><span>
</span><span id="line-53"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Allowlist.html"><span class="hs-identifier">Hasura.RQL.Types.Allowlist</span></a></span><span>
</span><span id="line-54"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.ApiLimit.html"><span class="hs-identifier">Hasura.RQL.Types.ApiLimit</span></a></span><span>
</span><span id="line-55"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Backend.html"><span class="hs-identifier">Hasura.RQL.Types.Backend</span></a></span><span>
</span><span id="line-56"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Common.html"><span class="hs-identifier">Hasura.RQL.Types.Common</span></a></span><span>
</span><span id="line-57"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.ComputedField.html"><span class="hs-identifier">Hasura.RQL.Types.ComputedField</span></a></span><span>
</span><span id="line-58"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.CustomTypes.html"><span class="hs-identifier">Hasura.RQL.Types.CustomTypes</span></a></span><span>
</span><span id="line-59"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Endpoint.html"><span class="hs-identifier">Hasura.RQL.Types.Endpoint</span></a></span><span>
</span><span id="line-60"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.EventTrigger.html"><span class="hs-identifier">Hasura.RQL.Types.EventTrigger</span></a></span><span>
</span><span id="line-61"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Function.html"><span class="hs-identifier">Hasura.RQL.Types.Function</span></a></span><span>
</span><span id="line-62"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.GraphqlSchemaIntrospection.html"><span class="hs-identifier">Hasura.RQL.Types.GraphqlSchemaIntrospection</span></a></span><span>
</span><span id="line-63"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.Common.html"><span class="hs-identifier">Hasura.RQL.Types.Metadata.Common</span></a></span><span>
</span><span id="line-64"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.Serialization.html"><span class="hs-identifier">Hasura.RQL.Types.Metadata.Serialization</span></a></span><span>
</span><span id="line-65"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Network.html"><span class="hs-identifier">Hasura.RQL.Types.Network</span></a></span><span>
</span><span id="line-66"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Permission.html"><span class="hs-identifier">Hasura.RQL.Types.Permission</span></a></span><span>
</span><span id="line-67"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.RemoteSchema.html"><span class="hs-identifier">Hasura.RQL.Types.RemoteSchema</span></a></span><span>
</span><span id="line-68"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.SQL.AnyBackend.html"><span class="hs-identifier">Hasura.SQL.AnyBackend</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">AB</span></span><span>
</span><span id="line-69"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.SQL.Backend.html"><span class="hs-identifier">Hasura.SQL.Backend</span></a></span><span>
</span><span id="line-70"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.SQL.BackendMap.html"><span class="hs-identifier">Hasura.SQL.BackendMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.SQL.BackendMap.html#BackendMap"><span class="hs-identifier">BackendMap</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-71"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.Session.html"><span class="hs-identifier">Hasura.Session</span></a></span><span>
</span><span id="line-72"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.Tracing.html"><span class="hs-identifier">Hasura.Tracing</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.Tracing.html#TraceT"><span class="hs-identifier">TraceT</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-73"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Language.GraphQL.Draft.Syntax</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">G</span></span><span>
</span><span id="line-74"></span><span>
</span><span id="line-75"></span><span class="hs-comment">-- | Versioning the @'Metadata' JSON structure to track backwards incompatible changes.</span><span>
</span><span id="line-76"></span><span class="hs-comment">-- This value is included in the metadata JSON object at top level 'version' key.</span><span>
</span><span id="line-77"></span><span class="hs-comment">-- Always metadata is emitted in the latest version via export metadata API (@'runExportMetadata' handler).</span><span>
</span><span id="line-78"></span><span class="hs-comment">-- Adding a new value constructor to @'MetadataVersion' type bumps the metadata version.</span><span>
</span><span id="line-79"></span><span class="hs-comment">--</span><span>
</span><span id="line-80"></span><span class="hs-comment">-- NOTE: When metadata version is bumped:</span><span>
</span><span id="line-81"></span><span class="hs-comment">-- 1. The Hasura CLI and Console actively use export metadata API to read metadata.</span><span>
</span><span id="line-82"></span><span class="hs-comment">--    Hence, it is necessary to update CLI and Console to read latest metadata.</span><span>
</span><span id="line-83"></span><span class="hs-comment">--    All changes SHOULD be released hand in hand (preferebly in one pull request)</span><span>
</span><span id="line-84"></span><span class="hs-comment">-- 2. There might be other third party services (developed by Hasura users) which use</span><span>
</span><span id="line-85"></span><span class="hs-comment">--    the export metadata API. Apart from changelog, we need to establish the metadata</span><span>
</span><span id="line-86"></span><span class="hs-comment">--    version update by bumping up the minor version of the GraphQL Engine.</span><span>
</span><span id="line-87"></span><span id="local-6989586621689741403"><span id="local-6989586621689741404"></span></span><span class="hs-keyword">data</span><span> </span><span id="MetadataVersion"><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#MetadataVersion"><span class="hs-identifier hs-var">MetadataVersion</span></a></span></span><span>
</span><span id="line-88"></span><span>  </span><span class="hs-glyph">=</span><span> </span><span id="MVVersion1"><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#MVVersion1"><span class="hs-identifier hs-var">MVVersion1</span></a></span></span><span>
</span><span id="line-89"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="MVVersion2"><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#MVVersion2"><span class="hs-identifier hs-var">MVVersion2</span></a></span></span><span>
</span><span id="line-90"></span><span>  </span><span class="hs-glyph">|</span><span> </span><span id="MVVersion3"><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#MVVersion3"><span class="hs-identifier hs-var">MVVersion3</span></a></span></span><span>
</span><span id="line-91"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621689741394"><span id="local-6989586621689741396"><span id="local-6989586621689741398"><span class="annot"><span class="annottext">Int -&gt; MetadataVersion -&gt; ShowS
[MetadataVersion] -&gt; ShowS
MetadataVersion -&gt; String
(Int -&gt; MetadataVersion -&gt; ShowS)
-&gt; (MetadataVersion -&gt; String)
-&gt; ([MetadataVersion] -&gt; ShowS)
-&gt; Show MetadataVersion
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [MetadataVersion] -&gt; ShowS
$cshowList :: [MetadataVersion] -&gt; ShowS
show :: MetadataVersion -&gt; String
$cshow :: MetadataVersion -&gt; String
showsPrec :: Int -&gt; MetadataVersion -&gt; ShowS
$cshowsPrec :: Int -&gt; MetadataVersion -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621689741389"><span id="local-6989586621689741391"><span class="annot"><span class="annottext">MetadataVersion -&gt; MetadataVersion -&gt; Bool
(MetadataVersion -&gt; MetadataVersion -&gt; Bool)
-&gt; (MetadataVersion -&gt; MetadataVersion -&gt; Bool)
-&gt; Eq MetadataVersion
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: MetadataVersion -&gt; MetadataVersion -&gt; Bool
$c/= :: MetadataVersion -&gt; MetadataVersion -&gt; Bool
== :: MetadataVersion -&gt; MetadataVersion -&gt; Bool
$c== :: MetadataVersion -&gt; MetadataVersion -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(forall x. MetadataVersion -&gt; Rep MetadataVersion x)
-&gt; (forall x. Rep MetadataVersion x -&gt; MetadataVersion)
-&gt; Generic MetadataVersion
forall x. Rep MetadataVersion x -&gt; MetadataVersion
forall x. MetadataVersion -&gt; Rep MetadataVersion x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cto :: forall x. Rep MetadataVersion x -&gt; MetadataVersion
$cfrom :: forall x. MetadataVersion -&gt; Rep MetadataVersion x
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></span><span class="hs-special">)</span><span>
</span><span id="line-92"></span><span>
</span><span id="line-93"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621689741378"><span id="local-6989586621689741380"><span id="local-6989586621689741382"><span class="annot"><span class="hs-identifier hs-type">ToJSON</span></span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#MetadataVersion"><span class="hs-identifier hs-type">MetadataVersion</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-94"></span><span>  </span><span id="local-6989586621689741376"><span class="annot"><span class="annottext">toJSON :: MetadataVersion -&gt; Value
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">toJSON</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-95"></span><span>    </span><span class="annot"><span class="annottext">MetadataVersion
</span><a href="Hasura.RQL.Types.Metadata.html#MVVersion1"><span class="hs-identifier hs-var">MVVersion1</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Value
forall a. ToJSON a =&gt; a -&gt; Value
</span><span class="hs-identifier hs-var">toJSON</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span>
</span><span id="line-96"></span><span>    </span><span class="annot"><span class="annottext">MetadataVersion
</span><a href="Hasura.RQL.Types.Metadata.html#MVVersion2"><span class="hs-identifier hs-var">MVVersion2</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Value
forall a. ToJSON a =&gt; a -&gt; Value
</span><span class="hs-identifier hs-var">toJSON</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span>
</span><span id="line-97"></span><span>    </span><span class="annot"><span class="annottext">MetadataVersion
</span><a href="Hasura.RQL.Types.Metadata.html#MVVersion3"><span class="hs-identifier hs-var">MVVersion3</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Value
forall a. ToJSON a =&gt; a -&gt; Value
</span><span class="hs-identifier hs-var">toJSON</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">3</span></span><span>
</span><span id="line-98"></span><span>
</span><span id="line-99"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621689741372"><span class="annot"><span class="hs-identifier hs-type">FromJSON</span></span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#MetadataVersion"><span class="hs-identifier hs-type">MetadataVersion</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-100"></span><span>  </span><span id="local-6989586621689741370"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser MetadataVersion
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">parseJSON</span></span></span><span> </span><span id="local-6989586621689741368"><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621689741368"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-101"></span><span>    </span><span id="local-6989586621689741367"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621689741367"><span class="hs-identifier hs-var">version</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Value -&gt; Parser Int
forall a. FromJSON a =&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">parseJSON</span></span><span> </span><span class="annot"><span class="annottext">Value
</span><a href="#local-6989586621689741368"><span class="hs-identifier hs-var">v</span></a></span><span>
</span><span id="line-102"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621689741367"><span class="hs-identifier hs-var">version</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-103"></span><span>      </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MetadataVersion -&gt; Parser MetadataVersion
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">MetadataVersion
</span><a href="Hasura.RQL.Types.Metadata.html#MVVersion1"><span class="hs-identifier hs-var">MVVersion1</span></a></span><span>
</span><span id="line-104"></span><span>      </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MetadataVersion -&gt; Parser MetadataVersion
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">MetadataVersion
</span><a href="Hasura.RQL.Types.Metadata.html#MVVersion2"><span class="hs-identifier hs-var">MVVersion2</span></a></span><span>
</span><span id="line-105"></span><span>      </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">3</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MetadataVersion -&gt; Parser MetadataVersion
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">MetadataVersion
</span><a href="Hasura.RQL.Types.Metadata.html#MVVersion3"><span class="hs-identifier hs-var">MVVersion3</span></a></span><span>
</span><span id="line-106"></span><span>      </span><span id="local-6989586621689741366"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621689741366"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String -&gt; Parser MetadataVersion
forall (m :: * -&gt; *) a. MonadFail m =&gt; String -&gt; m a
</span><span class="hs-identifier hs-var">fail</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Parser MetadataVersion)
-&gt; String -&gt; Parser MetadataVersion
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;expected 1, 2 or 3, encountered &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621689741366"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-107"></span><span>
</span><span id="line-108"></span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#currentMetadataVersion"><span class="hs-identifier hs-type">currentMetadataVersion</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#MetadataVersion"><span class="hs-identifier hs-type">MetadataVersion</span></a></span><span>
</span><span id="line-109"></span><span id="currentMetadataVersion"><span class="annot"><span class="annottext">currentMetadataVersion :: MetadataVersion
</span><a href="Hasura.RQL.Types.Metadata.html#currentMetadataVersion"><span class="hs-identifier hs-var hs-var">currentMetadataVersion</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MetadataVersion
</span><a href="Hasura.RQL.Types.Metadata.html#MVVersion3"><span class="hs-identifier hs-var">MVVersion3</span></a></span><span>
</span><span id="line-110"></span><span>
</span><span id="line-111"></span><span class="hs-comment">-- | A complete GraphQL Engine metadata representation to be stored,</span><span>
</span><span id="line-112"></span><span class="hs-comment">-- exported/replaced via metadata queries.</span><span>
</span><span id="line-113"></span><span id="local-6989586621689741363"><span id="local-6989586621689741364"></span></span><span class="hs-keyword">data</span><span> </span><span id="Metadata"><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#Metadata"><span class="hs-identifier hs-var">Metadata</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Metadata"><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#Metadata"><span class="hs-identifier hs-var">Metadata</span></a></span></span><span>
</span><span id="line-114"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="_metaSources"><span class="annot"><span class="annottext">Metadata -&gt; Sources
</span><a href="Hasura.RQL.Types.Metadata.html#_metaSources"><span class="hs-identifier hs-var hs-var">_metaSources</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.Common.html#Sources"><span class="hs-identifier hs-type">Sources</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-115"></span><span>    </span><span id="_metaRemoteSchemas"><span class="annot"><span class="annottext">Metadata -&gt; RemoteSchemas
</span><a href="Hasura.RQL.Types.Metadata.html#_metaRemoteSchemas"><span class="hs-identifier hs-var hs-var">_metaRemoteSchemas</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.Common.html#RemoteSchemas"><span class="hs-identifier hs-type">RemoteSchemas</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-116"></span><span>    </span><span id="_metaQueryCollections"><span class="annot"><span class="annottext">Metadata -&gt; QueryCollections
</span><a href="Hasura.RQL.Types.Metadata.html#_metaQueryCollections"><span class="hs-identifier hs-var hs-var">_metaQueryCollections</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.QueryCollection.html#QueryCollections"><span class="hs-identifier hs-type">QueryCollections</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-117"></span><span>    </span><span id="_metaAllowlist"><span class="annot"><span class="annottext">Metadata -&gt; MetadataAllowlist
</span><a href="Hasura.RQL.Types.Metadata.html#_metaAllowlist"><span class="hs-identifier hs-var hs-var">_metaAllowlist</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Allowlist.html#MetadataAllowlist"><span class="hs-identifier hs-type">MetadataAllowlist</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-118"></span><span>    </span><span id="_metaCustomTypes"><span class="annot"><span class="annottext">Metadata -&gt; CustomTypes
</span><a href="Hasura.RQL.Types.Metadata.html#_metaCustomTypes"><span class="hs-identifier hs-var hs-var">_metaCustomTypes</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.CustomTypes.html#CustomTypes"><span class="hs-identifier hs-type">CustomTypes</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-119"></span><span>    </span><span id="_metaActions"><span class="annot"><span class="annottext">Metadata -&gt; Actions
</span><a href="Hasura.RQL.Types.Metadata.html#_metaActions"><span class="hs-identifier hs-var hs-var">_metaActions</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.Common.html#Actions"><span class="hs-identifier hs-type">Actions</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-120"></span><span>    </span><span id="_metaCronTriggers"><span class="annot"><span class="annottext">Metadata -&gt; CronTriggers
</span><a href="Hasura.RQL.Types.Metadata.html#_metaCronTriggers"><span class="hs-identifier hs-var hs-var">_metaCronTriggers</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.Common.html#CronTriggers"><span class="hs-identifier hs-type">CronTriggers</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-121"></span><span>    </span><span id="_metaRestEndpoints"><span class="annot"><span class="annottext">Metadata -&gt; Endpoints
</span><a href="Hasura.RQL.Types.Metadata.html#_metaRestEndpoints"><span class="hs-identifier hs-var hs-var">_metaRestEndpoints</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.Common.html#Endpoints"><span class="hs-identifier hs-type">Endpoints</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-122"></span><span>    </span><span id="_metaApiLimits"><span class="annot"><span class="annottext">Metadata -&gt; ApiLimit
</span><a href="Hasura.RQL.Types.Metadata.html#_metaApiLimits"><span class="hs-identifier hs-var hs-var">_metaApiLimits</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.ApiLimit.html#ApiLimit"><span class="hs-identifier hs-type">ApiLimit</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-123"></span><span>    </span><span id="_metaMetricsConfig"><span class="annot"><span class="annottext">Metadata -&gt; MetricsConfig
</span><a href="Hasura.RQL.Types.Metadata.html#_metaMetricsConfig"><span class="hs-identifier hs-var hs-var">_metaMetricsConfig</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Common.html#MetricsConfig"><span class="hs-identifier hs-type">MetricsConfig</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-124"></span><span>    </span><span id="_metaInheritedRoles"><span class="annot"><span class="annottext">Metadata -&gt; InheritedRoles
</span><a href="Hasura.RQL.Types.Metadata.html#_metaInheritedRoles"><span class="hs-identifier hs-var hs-var">_metaInheritedRoles</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.Common.html#InheritedRoles"><span class="hs-identifier hs-type">InheritedRoles</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-125"></span><span>    </span><span id="_metaSetGraphqlIntrospectionOptions"><span class="annot"><span class="annottext">Metadata -&gt; SetGraphqlIntrospectionOptions
</span><a href="Hasura.RQL.Types.Metadata.html#_metaSetGraphqlIntrospectionOptions"><span class="hs-identifier hs-var hs-var">_metaSetGraphqlIntrospectionOptions</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.GraphqlSchemaIntrospection.html#SetGraphqlIntrospectionOptions"><span class="hs-identifier hs-type">SetGraphqlIntrospectionOptions</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-126"></span><span>    </span><span id="_metaNetwork"><span class="annot"><span class="annottext">Metadata -&gt; Network
</span><a href="Hasura.RQL.Types.Metadata.html#_metaNetwork"><span class="hs-identifier hs-var hs-var">_metaNetwork</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Network.html#Network"><span class="hs-identifier hs-type">Network</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-127"></span><span>    </span><span id="_metaBackendConfigs"><span class="annot"><span class="annottext">Metadata -&gt; BackendMap BackendConfigWrapper
</span><a href="Hasura.RQL.Types.Metadata.html#_metaBackendConfigs"><span class="hs-identifier hs-var hs-var">_metaBackendConfigs</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.SQL.BackendMap.html#BackendMap"><span class="hs-identifier hs-type">BackendMap</span></a></span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.Common.html#BackendConfigWrapper"><span class="hs-identifier hs-type">BackendConfigWrapper</span></a></span><span>
</span><span id="line-128"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-129"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621689741342"><span id="local-6989586621689741344"><span id="local-6989586621689741346"><span class="annot"><span class="annottext">Int -&gt; Metadata -&gt; ShowS
[Metadata] -&gt; ShowS
Metadata -&gt; String
(Int -&gt; Metadata -&gt; ShowS)
-&gt; (Metadata -&gt; String) -&gt; ([Metadata] -&gt; ShowS) -&gt; Show Metadata
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [Metadata] -&gt; ShowS
$cshowList :: [Metadata] -&gt; ShowS
show :: Metadata -&gt; String
$cshow :: Metadata -&gt; String
showsPrec :: Int -&gt; Metadata -&gt; ShowS
$cshowsPrec :: Int -&gt; Metadata -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621689741338"><span id="local-6989586621689741340"><span class="annot"><span class="annottext">Metadata -&gt; Metadata -&gt; Bool
(Metadata -&gt; Metadata -&gt; Bool)
-&gt; (Metadata -&gt; Metadata -&gt; Bool) -&gt; Eq Metadata
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: Metadata -&gt; Metadata -&gt; Bool
$c/= :: Metadata -&gt; Metadata -&gt; Bool
== :: Metadata -&gt; Metadata -&gt; Bool
$c== :: Metadata -&gt; Metadata -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(forall x. Metadata -&gt; Rep Metadata x)
-&gt; (forall x. Rep Metadata x -&gt; Metadata) -&gt; Generic Metadata
forall x. Rep Metadata x -&gt; Metadata
forall x. Metadata -&gt; Rep Metadata x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cto :: forall x. Rep Metadata x -&gt; Metadata
$cfrom :: forall x. Metadata -&gt; Rep Metadata x
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></span><span class="hs-special">)</span><span>
</span><span id="line-130"></span><span>
</span><span id="line-131"></span><span class="hs-special">$(</span><span id="metaSources"><span id="metaSetGraphqlIntrospectionOptions"><span id="metaRestEndpoints"><span id="metaRemoteSchemas"><span id="metaQueryCollections"><span id="metaNetwork"><span id="metaMetricsConfig"><span id="metaInheritedRoles"><span id="metaCustomTypes"><span id="metaCronTriggers"><span id="metaBackendConfigs"><span id="metaApiLimits"><span id="metaAllowlist"><span id="metaActions"><span class="hs-identifier">makeLenses</span><span> </span><span class="hs-special">''</span><span class="hs-identifier">Metadata</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-132"></span><span>
</span><span id="line-133"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621689741333"><span class="annot"><span class="hs-identifier hs-type">FromJSON</span></span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#Metadata"><span class="hs-identifier hs-type">Metadata</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-134"></span><span>  </span><span id="local-6989586621689741332"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser Metadata
</span><a href="#local-6989586621689741332"><span class="hs-identifier hs-var hs-var hs-var hs-var">parseJSON</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; (Object -&gt; Parser Metadata) -&gt; Value -&gt; Parser Metadata
forall a. String -&gt; (Object -&gt; Parser a) -&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">withObject</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Metadata&quot;</span></span><span> </span><span class="annot"><span class="annottext">((Object -&gt; Parser Metadata) -&gt; Value -&gt; Parser Metadata)
-&gt; (Object -&gt; Parser Metadata) -&gt; Value -&gt; Parser Metadata
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621689741330"><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689741330"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-135"></span><span>    </span><span id="local-6989586621689741329"><span class="annot"><span class="annottext">MetadataVersion
</span><a href="#local-6989586621689741329"><span class="hs-identifier hs-var">version</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689741330"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser (Maybe MetadataVersion)
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser (Maybe a)
</span><span class="hs-operator hs-var">.:?</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;version&quot;</span></span><span> </span><span class="annot"><span class="annottext">Parser (Maybe MetadataVersion)
-&gt; MetadataVersion -&gt; Parser MetadataVersion
forall a. Parser (Maybe a) -&gt; a -&gt; Parser a
</span><span class="hs-operator hs-var">.!=</span></span><span> </span><span class="annot"><span class="annottext">MetadataVersion
</span><a href="Hasura.RQL.Types.Metadata.html#MVVersion1"><span class="hs-identifier hs-var">MVVersion1</span></a></span><span>
</span><span id="line-136"></span><span>    </span><span class="annot"><span class="annottext">Bool -&gt; Parser () -&gt; Parser ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">when</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MetadataVersion
</span><a href="#local-6989586621689741329"><span class="hs-identifier hs-var">version</span></a></span><span> </span><span class="annot"><span class="annottext">MetadataVersion -&gt; MetadataVersion -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="annottext">MetadataVersion
</span><a href="Hasura.RQL.Types.Metadata.html#MVVersion3"><span class="hs-identifier hs-var">MVVersion3</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Parser () -&gt; Parser ()) -&gt; Parser () -&gt; Parser ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-137"></span><span>      </span><span class="annot"><span class="annottext">String -&gt; Parser ()
forall (m :: * -&gt; *) a. MonadFail m =&gt; String -&gt; m a
</span><span class="hs-identifier hs-var">fail</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Parser ()) -&gt; String -&gt; Parser ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;unexpected metadata version from storage: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">MetadataVersion -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">MetadataVersion
</span><a href="#local-6989586621689741329"><span class="hs-identifier hs-var">version</span></a></span><span>
</span><span id="line-138"></span><span>    </span><span id="local-6989586621689741324"><span class="annot"><span class="annottext">[Value]
</span><a href="#local-6989586621689741324"><span class="hs-identifier hs-var">rawSources</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689741330"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser [Value]
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><span class="hs-operator hs-var">.:</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;sources&quot;</span></span><span>
</span><span id="line-139"></span><span>    </span><span id="local-6989586621689741322"><span class="annot"><span class="annottext">BackendMap BackendConfigWrapper
</span><a href="#local-6989586621689741322"><span class="hs-identifier hs-var">backendConfigs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689741330"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser (Maybe (BackendMap BackendConfigWrapper))
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser (Maybe a)
</span><span class="hs-operator hs-var">.:?</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;backend_configs&quot;</span></span><span> </span><span class="annot"><span class="annottext">Parser (Maybe (BackendMap BackendConfigWrapper))
-&gt; BackendMap BackendConfigWrapper
-&gt; Parser (BackendMap BackendConfigWrapper)
forall a. Parser (Maybe a) -&gt; a -&gt; Parser a
</span><span class="hs-operator hs-var">.!=</span></span><span> </span><span class="annot"><span class="annottext">BackendMap BackendConfigWrapper
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-140"></span><span>    </span><span id="local-6989586621689741321"><span class="annot"><span class="annottext">Sources
</span><a href="#local-6989586621689741321"><span class="hs-identifier hs-var">sources</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(BackendSourceMetadata -&gt; SourceName)
-&gt; [BackendSourceMetadata] -&gt; Sources
forall k a.
(Eq k, Hashable k) =&gt;
(a -&gt; k) -&gt; [a] -&gt; InsOrdHashMap k a
</span><a href="Hasura.Prelude.html#oMapFromL"><span class="hs-identifier hs-var">oMapFromL</span></a></span><span> </span><span class="annot"><span class="annottext">BackendSourceMetadata -&gt; SourceName
</span><a href="Hasura.RQL.Types.Metadata.Common.html#getSourceName"><span class="hs-identifier hs-var">getSourceName</span></a></span><span> </span><span class="annot"><span class="annottext">([BackendSourceMetadata] -&gt; Sources)
-&gt; Parser [BackendSourceMetadata] -&gt; Parser Sources
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">(Value -&gt; Parser BackendSourceMetadata)
-&gt; [Value] -&gt; Parser [BackendSourceMetadata]
forall a b. (a -&gt; Parser b) -&gt; [a] -&gt; Parser [b]
</span><a href="Data.Aeson.Extended.html#mapWithJSONPath"><span class="hs-identifier hs-var">mapWithJSONPath</span></a></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Parser BackendSourceMetadata
</span><a href="#local-6989586621689741317"><span class="hs-identifier hs-var">parseSourceMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">[Value]
</span><a href="#local-6989586621689741324"><span class="hs-identifier hs-var">rawSources</span></a></span><span> </span><span class="annot"><span class="annottext">Parser [BackendSourceMetadata]
-&gt; JSONPathElement -&gt; Parser [BackendSourceMetadata]
forall a. Parser a -&gt; JSONPathElement -&gt; Parser a
</span><span class="hs-operator hs-var">&lt;?&gt;</span></span><span> </span><span class="annot"><span class="annottext">Key -&gt; JSONPathElement
</span><span class="hs-identifier hs-var">Key</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;sources&quot;</span></span><span>
</span><span id="line-141"></span><span>    </span><span id="local-6989586621689741314"><span class="annot"><span class="annottext">Endpoints
</span><a href="#local-6989586621689741314"><span class="hs-identifier hs-var">endpoints</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(EndpointMetadata QueryReference -&gt; EndpointName)
-&gt; [EndpointMetadata QueryReference] -&gt; Endpoints
forall k a.
(Eq k, Hashable k) =&gt;
(a -&gt; k) -&gt; [a] -&gt; InsOrdHashMap k a
</span><a href="Hasura.Prelude.html#oMapFromL"><span class="hs-identifier hs-var">oMapFromL</span></a></span><span> </span><span class="annot"><span class="annottext">EndpointMetadata QueryReference -&gt; EndpointName
forall query. EndpointMetadata query -&gt; EndpointName
</span><a href="Hasura.RQL.Types.Endpoint.html#_ceName"><span class="hs-identifier hs-var hs-var">_ceName</span></a></span><span> </span><span class="annot"><span class="annottext">([EndpointMetadata QueryReference] -&gt; Endpoints)
-&gt; Parser [EndpointMetadata QueryReference] -&gt; Parser Endpoints
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689741330"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser (Maybe [EndpointMetadata QueryReference])
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser (Maybe a)
</span><span class="hs-operator hs-var">.:?</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;rest_endpoints&quot;</span></span><span> </span><span class="annot"><span class="annottext">Parser (Maybe [EndpointMetadata QueryReference])
-&gt; [EndpointMetadata QueryReference]
-&gt; Parser [EndpointMetadata QueryReference]
forall a. Parser (Maybe a) -&gt; a -&gt; Parser a
</span><span class="hs-operator hs-var">.!=</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-142"></span><span>    </span><span id="local-6989586621689741312"><span class="annot"><span class="annottext">Network
</span><a href="#local-6989586621689741312"><span class="hs-identifier hs-var">network</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689741330"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser (Maybe Network)
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser (Maybe a)
</span><span class="hs-operator hs-var">.:?</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;network&quot;</span></span><span> </span><span class="annot"><span class="annottext">Parser (Maybe Network) -&gt; Network -&gt; Parser Network
forall a. Parser (Maybe a) -&gt; a -&gt; Parser a
</span><span class="hs-operator hs-var">.!=</span></span><span> </span><span class="annot"><span class="annottext">Network
</span><a href="Hasura.RQL.Types.Network.html#emptyNetwork"><span class="hs-identifier hs-var">emptyNetwork</span></a></span><span>
</span><span id="line-143"></span><span>    </span><span class="hs-special">(</span><span> </span><span id="local-6989586621689741310"><span class="annot"><span class="annottext">RemoteSchemas
</span><a href="#local-6989586621689741310"><span class="hs-identifier hs-var">remoteSchemas</span></a></span></span><span class="hs-special">,</span><span>
</span><span id="line-144"></span><span>      </span><span id="local-6989586621689741309"><span class="annot"><span class="annottext">QueryCollections
</span><a href="#local-6989586621689741309"><span class="hs-identifier hs-var">queryCollections</span></a></span></span><span class="hs-special">,</span><span>
</span><span id="line-145"></span><span>      </span><span id="local-6989586621689741308"><span class="annot"><span class="annottext">MetadataAllowlist
</span><a href="#local-6989586621689741308"><span class="hs-identifier hs-var">allowlist</span></a></span></span><span class="hs-special">,</span><span>
</span><span id="line-146"></span><span>      </span><span id="local-6989586621689741307"><span class="annot"><span class="annottext">CustomTypes
</span><a href="#local-6989586621689741307"><span class="hs-identifier hs-var">customTypes</span></a></span></span><span class="hs-special">,</span><span>
</span><span id="line-147"></span><span>      </span><span id="local-6989586621689741306"><span class="annot"><span class="annottext">Actions
</span><a href="#local-6989586621689741306"><span class="hs-identifier hs-var">actions</span></a></span></span><span class="hs-special">,</span><span>
</span><span id="line-148"></span><span>      </span><span id="local-6989586621689741305"><span class="annot"><span class="annottext">CronTriggers
</span><a href="#local-6989586621689741305"><span class="hs-identifier hs-var">cronTriggers</span></a></span></span><span class="hs-special">,</span><span>
</span><span id="line-149"></span><span>      </span><span id="local-6989586621689741304"><span class="annot"><span class="annottext">ApiLimit
</span><a href="#local-6989586621689741304"><span class="hs-identifier hs-var">apiLimits</span></a></span></span><span class="hs-special">,</span><span>
</span><span id="line-150"></span><span>      </span><span id="local-6989586621689741303"><span class="annot"><span class="annottext">MetricsConfig
</span><a href="#local-6989586621689741303"><span class="hs-identifier hs-var">metricsConfig</span></a></span></span><span class="hs-special">,</span><span>
</span><span id="line-151"></span><span>      </span><span id="local-6989586621689741302"><span class="annot"><span class="annottext">InheritedRoles
</span><a href="#local-6989586621689741302"><span class="hs-identifier hs-var">inheritedRoles</span></a></span></span><span class="hs-special">,</span><span>
</span><span id="line-152"></span><span>      </span><span id="local-6989586621689741301"><span class="annot"><span class="annottext">SetGraphqlIntrospectionOptions
</span><a href="#local-6989586621689741301"><span class="hs-identifier hs-var">disabledSchemaIntrospectionRoles</span></a></span></span><span>
</span><span id="line-153"></span><span>      </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-154"></span><span>      </span><span class="annot"><span class="annottext">Object
-&gt; Parser
     (RemoteSchemas, QueryCollections, MetadataAllowlist, CustomTypes,
      Actions, CronTriggers, ApiLimit, MetricsConfig, InheritedRoles,
      SetGraphqlIntrospectionOptions)
</span><a href="Hasura.RQL.Types.Metadata.Common.html#parseNonSourcesMetadata"><span class="hs-identifier hs-var">parseNonSourcesMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689741330"><span class="hs-identifier hs-var">o</span></a></span><span>
</span><span id="line-155"></span><span>    </span><span class="annot"><span class="annottext">Metadata -&gt; Parser Metadata
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(Metadata -&gt; Parser Metadata) -&gt; Metadata -&gt; Parser Metadata
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-156"></span><span>      </span><span class="annot"><span class="annottext">Sources
-&gt; RemoteSchemas
-&gt; QueryCollections
-&gt; MetadataAllowlist
-&gt; CustomTypes
-&gt; Actions
-&gt; CronTriggers
-&gt; Endpoints
-&gt; ApiLimit
-&gt; MetricsConfig
-&gt; InheritedRoles
-&gt; SetGraphqlIntrospectionOptions
-&gt; Network
-&gt; BackendMap BackendConfigWrapper
-&gt; Metadata
</span><a href="Hasura.RQL.Types.Metadata.html#Metadata"><span class="hs-identifier hs-var">Metadata</span></a></span><span>
</span><span id="line-157"></span><span>        </span><span class="annot"><span class="annottext">Sources
</span><a href="#local-6989586621689741321"><span class="hs-identifier hs-var">sources</span></a></span><span>
</span><span id="line-158"></span><span>        </span><span class="annot"><span class="annottext">RemoteSchemas
</span><a href="#local-6989586621689741310"><span class="hs-identifier hs-var">remoteSchemas</span></a></span><span>
</span><span id="line-159"></span><span>        </span><span class="annot"><span class="annottext">QueryCollections
</span><a href="#local-6989586621689741309"><span class="hs-identifier hs-var">queryCollections</span></a></span><span>
</span><span id="line-160"></span><span>        </span><span class="annot"><span class="annottext">MetadataAllowlist
</span><a href="#local-6989586621689741308"><span class="hs-identifier hs-var">allowlist</span></a></span><span>
</span><span id="line-161"></span><span>        </span><span class="annot"><span class="annottext">CustomTypes
</span><a href="#local-6989586621689741307"><span class="hs-identifier hs-var">customTypes</span></a></span><span>
</span><span id="line-162"></span><span>        </span><span class="annot"><span class="annottext">Actions
</span><a href="#local-6989586621689741306"><span class="hs-identifier hs-var">actions</span></a></span><span>
</span><span id="line-163"></span><span>        </span><span class="annot"><span class="annottext">CronTriggers
</span><a href="#local-6989586621689741305"><span class="hs-identifier hs-var">cronTriggers</span></a></span><span>
</span><span id="line-164"></span><span>        </span><span class="annot"><span class="annottext">Endpoints
</span><a href="#local-6989586621689741314"><span class="hs-identifier hs-var">endpoints</span></a></span><span>
</span><span id="line-165"></span><span>        </span><span class="annot"><span class="annottext">ApiLimit
</span><a href="#local-6989586621689741304"><span class="hs-identifier hs-var">apiLimits</span></a></span><span>
</span><span id="line-166"></span><span>        </span><span class="annot"><span class="annottext">MetricsConfig
</span><a href="#local-6989586621689741303"><span class="hs-identifier hs-var">metricsConfig</span></a></span><span>
</span><span id="line-167"></span><span>        </span><span class="annot"><span class="annottext">InheritedRoles
</span><a href="#local-6989586621689741302"><span class="hs-identifier hs-var">inheritedRoles</span></a></span><span>
</span><span id="line-168"></span><span>        </span><span class="annot"><span class="annottext">SetGraphqlIntrospectionOptions
</span><a href="#local-6989586621689741301"><span class="hs-identifier hs-var">disabledSchemaIntrospectionRoles</span></a></span><span>
</span><span id="line-169"></span><span>        </span><span class="annot"><span class="annottext">Network
</span><a href="#local-6989586621689741312"><span class="hs-identifier hs-var">network</span></a></span><span>
</span><span id="line-170"></span><span>        </span><span class="annot"><span class="annottext">BackendMap BackendConfigWrapper
</span><a href="#local-6989586621689741322"><span class="hs-identifier hs-var">backendConfigs</span></a></span><span>
</span><span id="line-171"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-172"></span><span>      </span><span class="annot"><a href="#local-6989586621689741317"><span class="hs-identifier hs-type">parseSourceMetadata</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Value</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Parser</span></span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.Common.html#BackendSourceMetadata"><span class="hs-identifier hs-type">BackendSourceMetadata</span></a></span><span>
</span><span id="line-173"></span><span>      </span><span id="local-6989586621689741317"><span class="annot"><span class="annottext">parseSourceMetadata :: Value -&gt; Parser BackendSourceMetadata
</span><a href="#local-6989586621689741317"><span class="hs-identifier hs-var hs-var">parseSourceMetadata</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
-&gt; (Object -&gt; Parser BackendSourceMetadata)
-&gt; Value
-&gt; Parser BackendSourceMetadata
forall a. String -&gt; (Object -&gt; Parser a) -&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">withObject</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;SourceMetadata&quot;</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621689741299"><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689741299"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-174"></span><span>        </span><span id="local-6989586621689741298"><span class="annot"><span class="annottext">AnyBackend BackendSourceKind
</span><a href="#local-6989586621689741298"><span class="hs-identifier hs-var">backendSourceKind</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Value -&gt; Parser (AnyBackend BackendSourceKind))
-&gt; Object -&gt; Key -&gt; Parser (Maybe (AnyBackend BackendSourceKind))
forall a. (Value -&gt; Parser a) -&gt; Object -&gt; Key -&gt; Parser (Maybe a)
</span><span class="hs-identifier hs-var">explicitParseFieldMaybe</span></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Parser (AnyBackend BackendSourceKind)
</span><a href="Hasura.SQL.AnyBackend.html#parseBackendSourceKindFromJSON"><span class="hs-identifier hs-var">AB.parseBackendSourceKindFromJSON</span></a></span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689741299"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;kind&quot;</span></span><span> </span><span class="annot"><span class="annottext">Parser (Maybe (AnyBackend BackendSourceKind))
-&gt; AnyBackend BackendSourceKind
-&gt; Parser (AnyBackend BackendSourceKind)
forall a. Parser (Maybe a) -&gt; a -&gt; Parser a
</span><span class="hs-operator hs-var">.!=</span></span><span> </span><span class="annot"><span class="annottext">BackendSourceKind ('Postgres 'Vanilla)
-&gt; AnyBackend BackendSourceKind
forall (b :: BackendType) (i :: BackendType -&gt; *).
HasTag b =&gt;
i b -&gt; AnyBackend i
</span><a href="Hasura.SQL.AnyBackend.html#mkAnyBackend"><span class="hs-identifier hs-var">AB.mkAnyBackend</span></a></span><span> </span><span class="annot"><span class="annottext">BackendSourceKind ('Postgres 'Vanilla)
</span><a href="Hasura.SQL.Backend.html#PostgresVanillaKind"><span class="hs-identifier hs-var">PostgresVanillaKind</span></a></span><span>
</span><span id="line-175"></span><span>        </span><span class="annot"><span class="annottext">AnyBackend BackendSourceKind
-&gt; (forall (b :: BackendType).
    Backend b =&gt;
    BackendSourceKind b -&gt; Parser BackendSourceMetadata)
-&gt; Parser BackendSourceMetadata
forall (c :: BackendType -&gt; Constraint) (i :: BackendType -&gt; *) r.
AllBackendsSatisfy c =&gt;
AnyBackend i -&gt; (forall (b :: BackendType). c b =&gt; i b -&gt; r) -&gt; r
</span><a href="Hasura.SQL.AnyBackend.html#dispatchAnyBackend"><span class="hs-identifier hs-var">AB.dispatchAnyBackend</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="Hasura.RQL.Types.Backend.html#Backend"><span class="hs-identifier hs-type">Backend</span></a></span><span>
</span><span id="line-176"></span><span>          </span><span class="annot"><span class="annottext">AnyBackend BackendSourceKind
</span><a href="#local-6989586621689741298"><span class="hs-identifier hs-var">backendSourceKind</span></a></span><span>
</span><span id="line-177"></span><span>          </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span class="hs-special">(</span><span id="local-6989586621689741292"><span id="local-6989586621689741291"><span class="annot"><span class="annottext">BackendSourceKind b
</span><a href="#local-6989586621689741291"><span class="hs-identifier hs-var">kind</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.SQL.Backend.html#BackendSourceKind"><span class="hs-identifier hs-type">BackendSourceKind</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689741292"><span class="hs-identifier hs-type">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-178"></span><span>              </span><span class="annot"><span class="annottext">AnyBackend SourceMetadata -&gt; BackendSourceMetadata
</span><a href="Hasura.RQL.Types.Metadata.Common.html#BackendSourceMetadata"><span class="hs-identifier hs-var">BackendSourceMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">(AnyBackend SourceMetadata -&gt; BackendSourceMetadata)
-&gt; (SourceMetadata b -&gt; AnyBackend SourceMetadata)
-&gt; SourceMetadata b
-&gt; BackendSourceMetadata
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">forall (b :: BackendType) (i :: BackendType -&gt; *).
HasTag b =&gt;
i b -&gt; AnyBackend i
forall (i :: BackendType -&gt; *). HasTag b =&gt; i b -&gt; AnyBackend i
</span><a href="Hasura.SQL.AnyBackend.html#mkAnyBackend"><span class="hs-identifier hs-var">AB.mkAnyBackend</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621689741292"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><span class="annottext">(SourceMetadata b -&gt; BackendSourceMetadata)
-&gt; Parser (SourceMetadata b) -&gt; Parser BackendSourceMetadata
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">BackendSourceKind b -&gt; Value -&gt; Parser (SourceMetadata b)
forall ctx a. FromJSONWithContext ctx a =&gt; ctx -&gt; Value -&gt; Parser a
</span><a href="Data.Aeson.Extended.html#parseJSONWithContext"><span class="hs-identifier hs-var">parseJSONWithContext</span></a></span><span> </span><span class="annot"><span class="annottext">BackendSourceKind b
</span><a href="#local-6989586621689741291"><span class="hs-identifier hs-var">kind</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Object -&gt; Value
</span><span class="hs-identifier hs-var">Object</span></span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689741299"><span class="hs-identifier hs-var">o</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-179"></span><span>          </span><span class="hs-special">)</span><span>
</span><span id="line-180"></span><span>
</span><span id="line-181"></span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#emptyMetadata"><span class="hs-identifier hs-type">emptyMetadata</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#Metadata"><span class="hs-identifier hs-type">Metadata</span></a></span><span>
</span><span id="line-182"></span><span id="emptyMetadata"><span class="annot"><span class="annottext">emptyMetadata :: Metadata
</span><a href="Hasura.RQL.Types.Metadata.html#emptyMetadata"><span class="hs-identifier hs-var hs-var">emptyMetadata</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-183"></span><span>  </span><span class="annot"><span class="annottext">Metadata :: Sources
-&gt; RemoteSchemas
-&gt; QueryCollections
-&gt; MetadataAllowlist
-&gt; CustomTypes
-&gt; Actions
-&gt; CronTriggers
-&gt; Endpoints
-&gt; ApiLimit
-&gt; MetricsConfig
-&gt; InheritedRoles
-&gt; SetGraphqlIntrospectionOptions
-&gt; Network
-&gt; BackendMap BackendConfigWrapper
-&gt; Metadata
</span><a href="Hasura.RQL.Types.Metadata.html#Metadata"><span class="hs-identifier hs-type">Metadata</span></a></span><span>
</span><span id="line-184"></span><span>    </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">_metaSources :: Sources
</span><a href="Hasura.RQL.Types.Metadata.html#_metaSources"><span class="hs-identifier hs-var">_metaSources</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Sources
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span class="hs-special">,</span><span>
</span><span id="line-185"></span><span>      </span><span class="annot"><span class="annottext">_metaRemoteSchemas :: RemoteSchemas
</span><a href="Hasura.RQL.Types.Metadata.html#_metaRemoteSchemas"><span class="hs-identifier hs-var">_metaRemoteSchemas</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RemoteSchemas
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span class="hs-special">,</span><span>
</span><span id="line-186"></span><span>      </span><span class="annot"><span class="annottext">_metaQueryCollections :: QueryCollections
</span><a href="Hasura.RQL.Types.Metadata.html#_metaQueryCollections"><span class="hs-identifier hs-var">_metaQueryCollections</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">QueryCollections
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span class="hs-special">,</span><span>
</span><span id="line-187"></span><span>      </span><span class="annot"><span class="annottext">_metaAllowlist :: MetadataAllowlist
</span><a href="Hasura.RQL.Types.Metadata.html#_metaAllowlist"><span class="hs-identifier hs-var">_metaAllowlist</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MetadataAllowlist
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span class="hs-special">,</span><span>
</span><span id="line-188"></span><span>      </span><span class="annot"><span class="annottext">_metaActions :: Actions
</span><a href="Hasura.RQL.Types.Metadata.html#_metaActions"><span class="hs-identifier hs-var">_metaActions</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Actions
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span class="hs-special">,</span><span>
</span><span id="line-189"></span><span>      </span><span class="annot"><span class="annottext">_metaCronTriggers :: CronTriggers
</span><a href="Hasura.RQL.Types.Metadata.html#_metaCronTriggers"><span class="hs-identifier hs-var">_metaCronTriggers</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CronTriggers
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span class="hs-special">,</span><span>
</span><span id="line-190"></span><span>      </span><span class="annot"><span class="annottext">_metaRestEndpoints :: Endpoints
</span><a href="Hasura.RQL.Types.Metadata.html#_metaRestEndpoints"><span class="hs-identifier hs-var">_metaRestEndpoints</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Endpoints
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span class="hs-special">,</span><span>
</span><span id="line-191"></span><span>      </span><span class="annot"><span class="annottext">_metaInheritedRoles :: InheritedRoles
</span><a href="Hasura.RQL.Types.Metadata.html#_metaInheritedRoles"><span class="hs-identifier hs-var">_metaInheritedRoles</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">InheritedRoles
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span class="hs-special">,</span><span>
</span><span id="line-192"></span><span>      </span><span class="annot"><span class="annottext">_metaSetGraphqlIntrospectionOptions :: SetGraphqlIntrospectionOptions
</span><a href="Hasura.RQL.Types.Metadata.html#_metaSetGraphqlIntrospectionOptions"><span class="hs-identifier hs-var">_metaSetGraphqlIntrospectionOptions</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SetGraphqlIntrospectionOptions
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span class="hs-special">,</span><span>
</span><span id="line-193"></span><span>      </span><span class="annot"><span class="annottext">_metaCustomTypes :: CustomTypes
</span><a href="Hasura.RQL.Types.Metadata.html#_metaCustomTypes"><span class="hs-identifier hs-var">_metaCustomTypes</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CustomTypes
</span><a href="Hasura.RQL.Types.CustomTypes.html#emptyCustomTypes"><span class="hs-identifier hs-var">emptyCustomTypes</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-194"></span><span>      </span><span class="annot"><span class="annottext">_metaApiLimits :: ApiLimit
</span><a href="Hasura.RQL.Types.Metadata.html#_metaApiLimits"><span class="hs-identifier hs-var">_metaApiLimits</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ApiLimit
</span><a href="Hasura.RQL.Types.ApiLimit.html#emptyApiLimit"><span class="hs-identifier hs-var">emptyApiLimit</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-195"></span><span>      </span><span class="annot"><span class="annottext">_metaMetricsConfig :: MetricsConfig
</span><a href="Hasura.RQL.Types.Metadata.html#_metaMetricsConfig"><span class="hs-identifier hs-var">_metaMetricsConfig</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">MetricsConfig
</span><a href="Hasura.RQL.Types.Common.html#emptyMetricsConfig"><span class="hs-identifier hs-var">emptyMetricsConfig</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-196"></span><span>      </span><span class="annot"><span class="annottext">_metaNetwork :: Network
</span><a href="Hasura.RQL.Types.Metadata.html#_metaNetwork"><span class="hs-identifier hs-var">_metaNetwork</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Network
</span><a href="Hasura.RQL.Types.Network.html#emptyNetwork"><span class="hs-identifier hs-var">emptyNetwork</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-197"></span><span>      </span><span class="annot"><span class="annottext">_metaBackendConfigs :: BackendMap BackendConfigWrapper
</span><a href="Hasura.RQL.Types.Metadata.html#_metaBackendConfigs"><span class="hs-identifier hs-var">_metaBackendConfigs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BackendMap BackendConfigWrapper
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-198"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-199"></span><span>
</span><span id="line-200"></span><span id="local-6989586621689741283"><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#tableMetadataSetter"><span class="hs-identifier hs-type">tableMetadataSetter</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-201"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.Types.Backend.html#Backend"><span class="hs-identifier hs-type">Backend</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689741283"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-202"></span><span>  </span><span class="annot"><a href="Hasura.RQL.Types.Common.html#SourceName"><span class="hs-identifier hs-type">SourceName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-203"></span><span>  </span><span class="annot"><a href="Hasura.RQL.Types.Backend.html#TableName"><span class="hs-identifier hs-type">TableName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689741283"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-204"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">ASetter'</span></span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#Metadata"><span class="hs-identifier hs-type">Metadata</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.Types.Metadata.Common.html#TableMetadata"><span class="hs-identifier hs-type">TableMetadata</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689741283"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-205"></span><span id="tableMetadataSetter"><span class="annot"><span class="annottext">tableMetadataSetter :: SourceName -&gt; TableName b -&gt; ASetter' Metadata (TableMetadata b)
</span><a href="Hasura.RQL.Types.Metadata.html#tableMetadataSetter"><span class="hs-identifier hs-var hs-var">tableMetadataSetter</span></a></span></span><span> </span><span id="local-6989586621689741282"><span class="annot"><span class="annottext">SourceName
</span><a href="#local-6989586621689741282"><span class="hs-identifier hs-var">source</span></a></span></span><span> </span><span id="local-6989586621689741281"><span class="annot"><span class="annottext">TableName b
</span><a href="#local-6989586621689741281"><span class="hs-identifier hs-var">table</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-206"></span><span>  </span><span class="annot"><span class="annottext">(Sources -&gt; Identity Sources) -&gt; Metadata -&gt; Identity Metadata
Lens' Metadata Sources
</span><a href="Hasura.RQL.Types.Metadata.html#metaSources"><span class="hs-identifier hs-var">metaSources</span></a></span><span> </span><span class="annot"><span class="annottext">((Sources -&gt; Identity Sources) -&gt; Metadata -&gt; Identity Metadata)
-&gt; ((TableMetadata b -&gt; Identity (TableMetadata b))
    -&gt; Sources -&gt; Identity Sources)
-&gt; ASetter' Metadata (TableMetadata b)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Index Sources -&gt; Traversal' Sources (IxValue Sources)
forall m. Ixed m =&gt; Index m -&gt; Traversal' m (IxValue m)
</span><span class="hs-identifier hs-var">ix</span></span><span> </span><span class="annot"><span class="annottext">Index Sources
SourceName
</span><a href="#local-6989586621689741282"><span class="hs-identifier hs-var">source</span></a></span><span> </span><span class="annot"><span class="annottext">((BackendSourceMetadata -&gt; Identity BackendSourceMetadata)
 -&gt; Sources -&gt; Identity Sources)
-&gt; ((TableMetadata b -&gt; Identity (TableMetadata b))
    -&gt; BackendSourceMetadata -&gt; Identity BackendSourceMetadata)
-&gt; (TableMetadata b -&gt; Identity (TableMetadata b))
-&gt; Sources
-&gt; Identity Sources
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(SourceMetadata b -&gt; Identity (SourceMetadata b))
-&gt; BackendSourceMetadata -&gt; Identity BackendSourceMetadata
forall (b :: BackendType).
Backend b =&gt;
Prism' BackendSourceMetadata (SourceMetadata b)
</span><a href="Hasura.RQL.Types.Metadata.Common.html#toSourceMetadata"><span class="hs-identifier hs-var">toSourceMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">((SourceMetadata b -&gt; Identity (SourceMetadata b))
 -&gt; BackendSourceMetadata -&gt; Identity BackendSourceMetadata)
-&gt; ((TableMetadata b -&gt; Identity (TableMetadata b))
    -&gt; SourceMetadata b -&gt; Identity (SourceMetadata b))
-&gt; (TableMetadata b -&gt; Identity (TableMetadata b))
-&gt; BackendSourceMetadata
-&gt; Identity BackendSourceMetadata
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(InsOrdHashMap (TableName b) (TableMetadata b)
 -&gt; Identity (InsOrdHashMap (TableName b) (TableMetadata b)))
-&gt; SourceMetadata b -&gt; Identity (SourceMetadata b)
forall (b :: BackendType). Lens' (SourceMetadata b) (Tables b)
</span><a href="Hasura.RQL.Types.Metadata.Common.html#smTables"><span class="hs-identifier hs-var">smTables</span></a></span><span> </span><span class="annot"><span class="annottext">((InsOrdHashMap (TableName b) (TableMetadata b)
  -&gt; Identity (InsOrdHashMap (TableName b) (TableMetadata b)))
 -&gt; SourceMetadata b -&gt; Identity (SourceMetadata b))
-&gt; ((TableMetadata b -&gt; Identity (TableMetadata b))
    -&gt; InsOrdHashMap (TableName b) (TableMetadata b)
    -&gt; Identity (InsOrdHashMap (TableName b) (TableMetadata b)))
-&gt; (TableMetadata b -&gt; Identity (TableMetadata b))
-&gt; SourceMetadata b
-&gt; Identity (SourceMetadata b)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Index (InsOrdHashMap (TableName b) (TableMetadata b))
-&gt; Traversal'
     (InsOrdHashMap (TableName b) (TableMetadata b))
     (IxValue (InsOrdHashMap (TableName b) (TableMetadata b)))
forall m. Ixed m =&gt; Index m -&gt; Traversal' m (IxValue m)
</span><span class="hs-identifier hs-var">ix</span></span><span> </span><span class="annot"><span class="annottext">Index (InsOrdHashMap (TableName b) (TableMetadata b))
TableName b
</span><a href="#local-6989586621689741281"><span class="hs-identifier hs-var">table</span></a></span><span>
</span><span id="line-207"></span><span>
</span><span id="line-208"></span><span class="hs-comment">-- | A lens setter for the metadata of a specific function as identified by</span><span>
</span><span id="line-209"></span><span class="hs-comment">--   the source name and function name.</span><span>
</span><span id="line-210"></span><span id="local-6989586621689741277"><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#functionMetadataSetter"><span class="hs-identifier hs-type">functionMetadataSetter</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-211"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.Types.Backend.html#Backend"><span class="hs-identifier hs-type">Backend</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689741277"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-212"></span><span>  </span><span class="annot"><a href="Hasura.RQL.Types.Common.html#SourceName"><span class="hs-identifier hs-type">SourceName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-213"></span><span>  </span><span class="annot"><a href="Hasura.RQL.Types.Backend.html#FunctionName"><span class="hs-identifier hs-type">FunctionName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689741277"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-214"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">ASetter'</span></span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#Metadata"><span class="hs-identifier hs-type">Metadata</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.Types.Metadata.Common.html#FunctionMetadata"><span class="hs-identifier hs-type">FunctionMetadata</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689741277"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-215"></span><span id="functionMetadataSetter"><span class="annot"><span class="annottext">functionMetadataSetter :: SourceName
-&gt; FunctionName b -&gt; ASetter' Metadata (FunctionMetadata b)
</span><a href="Hasura.RQL.Types.Metadata.html#functionMetadataSetter"><span class="hs-identifier hs-var hs-var">functionMetadataSetter</span></a></span></span><span> </span><span id="local-6989586621689741276"><span class="annot"><span class="annottext">SourceName
</span><a href="#local-6989586621689741276"><span class="hs-identifier hs-var">source</span></a></span></span><span> </span><span id="local-6989586621689741275"><span class="annot"><span class="annottext">FunctionName b
</span><a href="#local-6989586621689741275"><span class="hs-identifier hs-var">function</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-216"></span><span>  </span><span class="annot"><span class="annottext">(Sources -&gt; Identity Sources) -&gt; Metadata -&gt; Identity Metadata
Lens' Metadata Sources
</span><a href="Hasura.RQL.Types.Metadata.html#metaSources"><span class="hs-identifier hs-var">metaSources</span></a></span><span> </span><span class="annot"><span class="annottext">((Sources -&gt; Identity Sources) -&gt; Metadata -&gt; Identity Metadata)
-&gt; ((FunctionMetadata b -&gt; Identity (FunctionMetadata b))
    -&gt; Sources -&gt; Identity Sources)
-&gt; ASetter' Metadata (FunctionMetadata b)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Index Sources -&gt; Traversal' Sources (IxValue Sources)
forall m. Ixed m =&gt; Index m -&gt; Traversal' m (IxValue m)
</span><span class="hs-identifier hs-var">ix</span></span><span> </span><span class="annot"><span class="annottext">Index Sources
SourceName
</span><a href="#local-6989586621689741276"><span class="hs-identifier hs-var">source</span></a></span><span> </span><span class="annot"><span class="annottext">((BackendSourceMetadata -&gt; Identity BackendSourceMetadata)
 -&gt; Sources -&gt; Identity Sources)
-&gt; ((FunctionMetadata b -&gt; Identity (FunctionMetadata b))
    -&gt; BackendSourceMetadata -&gt; Identity BackendSourceMetadata)
-&gt; (FunctionMetadata b -&gt; Identity (FunctionMetadata b))
-&gt; Sources
-&gt; Identity Sources
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(SourceMetadata b -&gt; Identity (SourceMetadata b))
-&gt; BackendSourceMetadata -&gt; Identity BackendSourceMetadata
forall (b :: BackendType).
Backend b =&gt;
Prism' BackendSourceMetadata (SourceMetadata b)
</span><a href="Hasura.RQL.Types.Metadata.Common.html#toSourceMetadata"><span class="hs-identifier hs-var">toSourceMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">((SourceMetadata b -&gt; Identity (SourceMetadata b))
 -&gt; BackendSourceMetadata -&gt; Identity BackendSourceMetadata)
-&gt; ((FunctionMetadata b -&gt; Identity (FunctionMetadata b))
    -&gt; SourceMetadata b -&gt; Identity (SourceMetadata b))
-&gt; (FunctionMetadata b -&gt; Identity (FunctionMetadata b))
-&gt; BackendSourceMetadata
-&gt; Identity BackendSourceMetadata
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(InsOrdHashMap (FunctionName b) (FunctionMetadata b)
 -&gt; Identity (InsOrdHashMap (FunctionName b) (FunctionMetadata b)))
-&gt; SourceMetadata b -&gt; Identity (SourceMetadata b)
forall (b :: BackendType). Lens' (SourceMetadata b) (Functions b)
</span><a href="Hasura.RQL.Types.Metadata.Common.html#smFunctions"><span class="hs-identifier hs-var">smFunctions</span></a></span><span> </span><span class="annot"><span class="annottext">((InsOrdHashMap (FunctionName b) (FunctionMetadata b)
  -&gt; Identity (InsOrdHashMap (FunctionName b) (FunctionMetadata b)))
 -&gt; SourceMetadata b -&gt; Identity (SourceMetadata b))
-&gt; ((FunctionMetadata b -&gt; Identity (FunctionMetadata b))
    -&gt; InsOrdHashMap (FunctionName b) (FunctionMetadata b)
    -&gt; Identity (InsOrdHashMap (FunctionName b) (FunctionMetadata b)))
-&gt; (FunctionMetadata b -&gt; Identity (FunctionMetadata b))
-&gt; SourceMetadata b
-&gt; Identity (SourceMetadata b)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Index (InsOrdHashMap (FunctionName b) (FunctionMetadata b))
-&gt; Traversal'
     (InsOrdHashMap (FunctionName b) (FunctionMetadata b))
     (IxValue (InsOrdHashMap (FunctionName b) (FunctionMetadata b)))
forall m. Ixed m =&gt; Index m -&gt; Traversal' m (IxValue m)
</span><span class="hs-identifier hs-var">ix</span></span><span> </span><span class="annot"><span class="annottext">Index (InsOrdHashMap (FunctionName b) (FunctionMetadata b))
FunctionName b
</span><a href="#local-6989586621689741275"><span class="hs-identifier hs-var">function</span></a></span><span>
</span><span id="line-217"></span><span>
</span><span id="line-218"></span><span class="hs-comment">-- | A simple monad class which enables fetching and setting @'Metadata'</span><span>
</span><span id="line-219"></span><span class="hs-comment">-- in the state.</span><span>
</span><span id="line-220"></span><span class="hs-keyword">class</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621689741522"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span id="MetadataM"><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#MetadataM"><span class="hs-identifier hs-var">MetadataM</span></a></span></span><span> </span><span id="local-6989586621689741522"><span class="annot"><a href="#local-6989586621689741522"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-221"></span><span>  </span><span id="getMetadata"><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#getMetadata"><span class="hs-identifier hs-type">getMetadata</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621689741522"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#Metadata"><span class="hs-identifier hs-type">Metadata</span></a></span><span>
</span><span id="line-222"></span><span>  </span><span id="putMetadata"><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#putMetadata"><span class="hs-identifier hs-type">putMetadata</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#Metadata"><span class="hs-identifier hs-type">Metadata</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621689741522"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-223"></span><span>
</span><span id="line-224"></span><span id="local-6989586621689741270"><span id="local-6989586621689741271"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#MetadataM"><span class="hs-identifier hs-type">MetadataM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689741271"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#MetadataM"><span class="hs-identifier hs-type">MetadataM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ReaderT</span></span><span> </span><span class="annot"><a href="#local-6989586621689741270"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689741271"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-225"></span><span>  </span><span id="local-6989586621689741265"><span class="annot"><span class="annottext">getMetadata :: ReaderT r m Metadata
</span><a href="#local-6989586621689741265"><span class="hs-identifier hs-var hs-var hs-var hs-var">getMetadata</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">m Metadata -&gt; ReaderT r m Metadata
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><span class="hs-identifier hs-var">lift</span></span><span> </span><span class="annot"><span class="annottext">m Metadata
forall (m :: * -&gt; *). MetadataM m =&gt; m Metadata
</span><a href="Hasura.RQL.Types.Metadata.html#getMetadata"><span class="hs-identifier hs-var">getMetadata</span></a></span><span>
</span><span id="line-226"></span><span>  </span><span id="local-6989586621689741263"><span class="annot"><span class="annottext">putMetadata :: Metadata -&gt; ReaderT r m ()
</span><a href="#local-6989586621689741263"><span class="hs-identifier hs-var hs-var hs-var hs-var">putMetadata</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">m () -&gt; ReaderT r m ()
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><span class="hs-identifier hs-var">lift</span></span><span> </span><span class="annot"><span class="annottext">(m () -&gt; ReaderT r m ())
-&gt; (Metadata -&gt; m ()) -&gt; Metadata -&gt; ReaderT r m ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Metadata -&gt; m ()
forall (m :: * -&gt; *). MetadataM m =&gt; Metadata -&gt; m ()
</span><a href="Hasura.RQL.Types.Metadata.html#putMetadata"><span class="hs-identifier hs-var">putMetadata</span></a></span></span></span><span>
</span><span id="line-227"></span><span>
</span><span id="line-228"></span><span id="local-6989586621689741261"><span id="local-6989586621689741262"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#MetadataM"><span class="hs-identifier hs-type">MetadataM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689741262"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#MetadataM"><span class="hs-identifier hs-type">MetadataM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">StateT</span></span><span> </span><span class="annot"><a href="#local-6989586621689741261"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689741262"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-229"></span><span>  </span><span id="local-6989586621689741257"><span class="annot"><span class="annottext">getMetadata :: StateT r m Metadata
</span><a href="#local-6989586621689741257"><span class="hs-identifier hs-var hs-var hs-var hs-var">getMetadata</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">m Metadata -&gt; StateT r m Metadata
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><span class="hs-identifier hs-var">lift</span></span><span> </span><span class="annot"><span class="annottext">m Metadata
forall (m :: * -&gt; *). MetadataM m =&gt; m Metadata
</span><a href="Hasura.RQL.Types.Metadata.html#getMetadata"><span class="hs-identifier hs-var">getMetadata</span></a></span><span>
</span><span id="line-230"></span><span>  </span><span id="local-6989586621689741256"><span class="annot"><span class="annottext">putMetadata :: Metadata -&gt; StateT r m ()
</span><a href="#local-6989586621689741256"><span class="hs-identifier hs-var hs-var hs-var hs-var">putMetadata</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">m () -&gt; StateT r m ()
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><span class="hs-identifier hs-var">lift</span></span><span> </span><span class="annot"><span class="annottext">(m () -&gt; StateT r m ())
-&gt; (Metadata -&gt; m ()) -&gt; Metadata -&gt; StateT r m ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Metadata -&gt; m ()
forall (m :: * -&gt; *). MetadataM m =&gt; Metadata -&gt; m ()
</span><a href="Hasura.RQL.Types.Metadata.html#putMetadata"><span class="hs-identifier hs-var">putMetadata</span></a></span></span></span><span>
</span><span id="line-231"></span><span>
</span><span id="line-232"></span><span id="local-6989586621689741255"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#MetadataM"><span class="hs-identifier hs-type">MetadataM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689741255"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#MetadataM"><span class="hs-identifier hs-type">MetadataM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.Tracing.html#TraceT"><span class="hs-identifier hs-type">TraceT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689741255"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-233"></span><span>  </span><span id="local-6989586621689741251"><span class="annot"><span class="annottext">getMetadata :: TraceT m Metadata
</span><a href="#local-6989586621689741251"><span class="hs-identifier hs-var hs-var hs-var hs-var">getMetadata</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">m Metadata -&gt; TraceT m Metadata
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><span class="hs-identifier hs-var">lift</span></span><span> </span><span class="annot"><span class="annottext">m Metadata
forall (m :: * -&gt; *). MetadataM m =&gt; m Metadata
</span><a href="Hasura.RQL.Types.Metadata.html#getMetadata"><span class="hs-identifier hs-var">getMetadata</span></a></span><span>
</span><span id="line-234"></span><span>  </span><span id="local-6989586621689741250"><span class="annot"><span class="annottext">putMetadata :: Metadata -&gt; TraceT m ()
</span><a href="#local-6989586621689741250"><span class="hs-identifier hs-var hs-var hs-var hs-var">putMetadata</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">m () -&gt; TraceT m ()
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><span class="hs-identifier hs-var">lift</span></span><span> </span><span class="annot"><span class="annottext">(m () -&gt; TraceT m ())
-&gt; (Metadata -&gt; m ()) -&gt; Metadata -&gt; TraceT m ()
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Metadata -&gt; m ()
forall (m :: * -&gt; *). MetadataM m =&gt; Metadata -&gt; m ()
</span><a href="Hasura.RQL.Types.Metadata.html#putMetadata"><span class="hs-identifier hs-var">putMetadata</span></a></span></span><span>
</span><span id="line-235"></span><span>
</span><span id="line-236"></span><span class="hs-keyword">data</span><span> </span><span id="MetadataNoSources"><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#MetadataNoSources"><span class="hs-identifier hs-var">MetadataNoSources</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="MetadataNoSources"><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#MetadataNoSources"><span class="hs-identifier hs-var">MetadataNoSources</span></a></span></span><span>
</span><span id="line-237"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="_mnsTables"><span class="annot"><span class="annottext">MetadataNoSources -&gt; Tables ('Postgres 'Vanilla)
</span><a href="Hasura.RQL.Types.Metadata.html#_mnsTables"><span class="hs-identifier hs-var hs-var">_mnsTables</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.Common.html#Tables"><span class="hs-identifier hs-type">Tables</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Hasura.SQL.Backend.html#Postgres"><span class="hs-identifier hs-type">Postgres</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Hasura.SQL.Backend.html#Vanilla"><span class="hs-identifier hs-type">Vanilla</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-238"></span><span>    </span><span id="_mnsFunctions"><span class="annot"><span class="annottext">MetadataNoSources -&gt; Functions ('Postgres 'Vanilla)
</span><a href="Hasura.RQL.Types.Metadata.html#_mnsFunctions"><span class="hs-identifier hs-var hs-var">_mnsFunctions</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.Common.html#Functions"><span class="hs-identifier hs-type">Functions</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">'</span><span class="annot"><a href="Hasura.SQL.Backend.html#Postgres"><span class="hs-identifier hs-type">Postgres</span></a></span><span> </span><span class="hs-special">'</span><span class="annot"><a href="Hasura.SQL.Backend.html#Vanilla"><span class="hs-identifier hs-type">Vanilla</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-239"></span><span>    </span><span id="_mnsRemoteSchemas"><span class="annot"><span class="annottext">MetadataNoSources -&gt; RemoteSchemas
</span><a href="Hasura.RQL.Types.Metadata.html#_mnsRemoteSchemas"><span class="hs-identifier hs-var hs-var">_mnsRemoteSchemas</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.Common.html#RemoteSchemas"><span class="hs-identifier hs-type">RemoteSchemas</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-240"></span><span>    </span><span id="_mnsQueryCollections"><span class="annot"><span class="annottext">MetadataNoSources -&gt; QueryCollections
</span><a href="Hasura.RQL.Types.Metadata.html#_mnsQueryCollections"><span class="hs-identifier hs-var hs-var">_mnsQueryCollections</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.QueryCollection.html#QueryCollections"><span class="hs-identifier hs-type">QueryCollections</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-241"></span><span>    </span><span id="_mnsAllowlist"><span class="annot"><span class="annottext">MetadataNoSources -&gt; MetadataAllowlist
</span><a href="Hasura.RQL.Types.Metadata.html#_mnsAllowlist"><span class="hs-identifier hs-var hs-var">_mnsAllowlist</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Allowlist.html#MetadataAllowlist"><span class="hs-identifier hs-type">MetadataAllowlist</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-242"></span><span>    </span><span id="_mnsCustomTypes"><span class="annot"><span class="annottext">MetadataNoSources -&gt; CustomTypes
</span><a href="Hasura.RQL.Types.Metadata.html#_mnsCustomTypes"><span class="hs-identifier hs-var hs-var">_mnsCustomTypes</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.CustomTypes.html#CustomTypes"><span class="hs-identifier hs-type">CustomTypes</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-243"></span><span>    </span><span id="_mnsActions"><span class="annot"><span class="annottext">MetadataNoSources -&gt; Actions
</span><a href="Hasura.RQL.Types.Metadata.html#_mnsActions"><span class="hs-identifier hs-var hs-var">_mnsActions</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.Common.html#Actions"><span class="hs-identifier hs-type">Actions</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-244"></span><span>    </span><span id="_mnsCronTriggers"><span class="annot"><span class="annottext">MetadataNoSources -&gt; CronTriggers
</span><a href="Hasura.RQL.Types.Metadata.html#_mnsCronTriggers"><span class="hs-identifier hs-var hs-var">_mnsCronTriggers</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.Common.html#CronTriggers"><span class="hs-identifier hs-type">CronTriggers</span></a></span><span>
</span><span id="line-245"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-246"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621689741237"><span id="local-6989586621689741239"><span class="annot"><span class="annottext">MetadataNoSources -&gt; MetadataNoSources -&gt; Bool
(MetadataNoSources -&gt; MetadataNoSources -&gt; Bool)
-&gt; (MetadataNoSources -&gt; MetadataNoSources -&gt; Bool)
-&gt; Eq MetadataNoSources
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: MetadataNoSources -&gt; MetadataNoSources -&gt; Bool
$c/= :: MetadataNoSources -&gt; MetadataNoSources -&gt; Bool
== :: MetadataNoSources -&gt; MetadataNoSources -&gt; Bool
$c== :: MetadataNoSources -&gt; MetadataNoSources -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-247"></span><span>
</span><span id="line-248"></span><span class="hs-special">$(</span><span id="local-6989586621689741229"><span id="local-6989586621689741231"><span id="local-6989586621689741233"><span id="local-6989586621689741235"><span class="hs-identifier">deriveToJSON</span><span> </span><span class="hs-identifier">hasuraJSON</span><span> </span><span class="hs-special">''</span><span class="hs-identifier">MetadataNoSources</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-249"></span><span>
</span><span id="line-250"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621689741225"><span class="annot"><span class="hs-identifier hs-type">FromJSON</span></span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#MetadataNoSources"><span class="hs-identifier hs-type">MetadataNoSources</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-251"></span><span>  </span><span id="local-6989586621689741224"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser MetadataNoSources
</span><a href="#local-6989586621689741224"><span class="hs-identifier hs-var hs-var hs-var hs-var">parseJSON</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
-&gt; (Object -&gt; Parser MetadataNoSources)
-&gt; Value
-&gt; Parser MetadataNoSources
forall a. String -&gt; (Object -&gt; Parser a) -&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">withObject</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;MetadataNoSources&quot;</span></span><span> </span><span class="annot"><span class="annottext">((Object -&gt; Parser MetadataNoSources)
 -&gt; Value -&gt; Parser MetadataNoSources)
-&gt; (Object -&gt; Parser MetadataNoSources)
-&gt; Value
-&gt; Parser MetadataNoSources
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621689741223"><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689741223"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-252"></span><span>    </span><span id="local-6989586621689741222"><span class="annot"><span class="annottext">MetadataVersion
</span><a href="#local-6989586621689741222"><span class="hs-identifier hs-var">version</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689741223"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser (Maybe MetadataVersion)
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser (Maybe a)
</span><span class="hs-operator hs-var">.:?</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;version&quot;</span></span><span> </span><span class="annot"><span class="annottext">Parser (Maybe MetadataVersion)
-&gt; MetadataVersion -&gt; Parser MetadataVersion
forall a. Parser (Maybe a) -&gt; a -&gt; Parser a
</span><span class="hs-operator hs-var">.!=</span></span><span> </span><span class="annot"><span class="annottext">MetadataVersion
</span><a href="Hasura.RQL.Types.Metadata.html#MVVersion1"><span class="hs-identifier hs-var">MVVersion1</span></a></span><span>
</span><span id="line-253"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621689741221"><span class="annot"><span class="annottext">InsOrdHashMap QualifiedTable (TableMetadata ('Postgres 'Vanilla))
</span><a href="#local-6989586621689741221"><span class="hs-identifier hs-var">tables</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621689741220"><span class="annot"><span class="annottext">InsOrdHashMap
  QualifiedFunction (FunctionMetadata ('Postgres 'Vanilla))
</span><a href="#local-6989586621689741220"><span class="hs-identifier hs-var">functions</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-254"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">MetadataVersion
</span><a href="#local-6989586621689741222"><span class="hs-identifier hs-var">version</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-255"></span><span>        </span><span class="annot"><span class="annottext">MetadataVersion
</span><a href="Hasura.RQL.Types.Metadata.html#MVVersion1"><span class="hs-identifier hs-var">MVVersion1</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-256"></span><span>          </span><span id="local-6989586621689741219"><span class="annot"><span class="annottext">InsOrdHashMap QualifiedTable (TableMetadata ('Postgres 'Vanilla))
</span><a href="#local-6989586621689741219"><span class="hs-identifier hs-var">tables</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(TableMetadata ('Postgres 'Vanilla) -&gt; QualifiedTable)
-&gt; [TableMetadata ('Postgres 'Vanilla)]
-&gt; InsOrdHashMap
     QualifiedTable (TableMetadata ('Postgres 'Vanilla))
forall k a.
(Eq k, Hashable k) =&gt;
(a -&gt; k) -&gt; [a] -&gt; InsOrdHashMap k a
</span><a href="Hasura.Prelude.html#oMapFromL"><span class="hs-identifier hs-var">oMapFromL</span></a></span><span> </span><span class="annot"><span class="annottext">TableMetadata ('Postgres 'Vanilla) -&gt; QualifiedTable
forall (b :: BackendType). TableMetadata b -&gt; TableName b
</span><a href="Hasura.RQL.Types.Metadata.Common.html#_tmTable"><span class="hs-identifier hs-var hs-var">_tmTable</span></a></span><span> </span><span class="annot"><span class="annottext">([TableMetadata ('Postgres 'Vanilla)]
 -&gt; InsOrdHashMap
      QualifiedTable (TableMetadata ('Postgres 'Vanilla)))
-&gt; Parser [TableMetadata ('Postgres 'Vanilla)]
-&gt; Parser
     (InsOrdHashMap QualifiedTable (TableMetadata ('Postgres 'Vanilla)))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689741223"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser [TableMetadata ('Postgres 'Vanilla)]
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><span class="hs-operator hs-var">.:</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;tables&quot;</span></span><span>
</span><span id="line-257"></span><span>          </span><span id="local-6989586621689741217"><span class="annot"><span class="annottext">[QualifiedFunction]
</span><a href="#local-6989586621689741217"><span class="hs-identifier hs-var">functionList</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689741223"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser (Maybe [QualifiedFunction])
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser (Maybe a)
</span><span class="hs-operator hs-var">.:?</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;functions&quot;</span></span><span> </span><span class="annot"><span class="annottext">Parser (Maybe [QualifiedFunction])
-&gt; [QualifiedFunction] -&gt; Parser [QualifiedFunction]
forall a. Parser (Maybe a) -&gt; a -&gt; Parser a
</span><span class="hs-operator hs-var">.!=</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-258"></span><span>          </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621689741216"><span class="annot"><span class="annottext">functions :: InsOrdHashMap
  QualifiedFunction (FunctionMetadata ('Postgres 'Vanilla))
</span><a href="#local-6989586621689741216"><span class="hs-identifier hs-var hs-var">functions</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(QualifiedFunction, FunctionMetadata ('Postgres 'Vanilla))]
-&gt; InsOrdHashMap
     QualifiedFunction (FunctionMetadata ('Postgres 'Vanilla))
forall k v. (Eq k, Hashable k) =&gt; [(k, v)] -&gt; InsOrdHashMap k v
</span><span class="hs-identifier hs-var">OM.fromList</span></span><span> </span><span class="annot"><span class="annottext">([(QualifiedFunction, FunctionMetadata ('Postgres 'Vanilla))]
 -&gt; InsOrdHashMap
      QualifiedFunction (FunctionMetadata ('Postgres 'Vanilla)))
-&gt; [(QualifiedFunction, FunctionMetadata ('Postgres 'Vanilla))]
-&gt; InsOrdHashMap
     QualifiedFunction (FunctionMetadata ('Postgres 'Vanilla))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-259"></span><span>                </span><span class="annot"><span class="annottext">((QualifiedFunction
  -&gt; (QualifiedFunction, FunctionMetadata ('Postgres 'Vanilla)))
 -&gt; [QualifiedFunction]
 -&gt; [(QualifiedFunction, FunctionMetadata ('Postgres 'Vanilla))])
-&gt; [QualifiedFunction]
-&gt; (QualifiedFunction
    -&gt; (QualifiedFunction, FunctionMetadata ('Postgres 'Vanilla)))
-&gt; [(QualifiedFunction, FunctionMetadata ('Postgres 'Vanilla))]
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">(QualifiedFunction
 -&gt; (QualifiedFunction, FunctionMetadata ('Postgres 'Vanilla)))
-&gt; [QualifiedFunction]
-&gt; [(QualifiedFunction, FunctionMetadata ('Postgres 'Vanilla))]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">[QualifiedFunction]
</span><a href="#local-6989586621689741217"><span class="hs-identifier hs-var">functionList</span></a></span><span> </span><span class="annot"><span class="annottext">((QualifiedFunction
  -&gt; (QualifiedFunction, FunctionMetadata ('Postgres 'Vanilla)))
 -&gt; [(QualifiedFunction, FunctionMetadata ('Postgres 'Vanilla))])
-&gt; (QualifiedFunction
    -&gt; (QualifiedFunction, FunctionMetadata ('Postgres 'Vanilla)))
-&gt; [(QualifiedFunction, FunctionMetadata ('Postgres 'Vanilla))]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-260"></span><span>                  </span><span class="hs-glyph">\</span><span id="local-6989586621689741213"><span class="annot"><span class="annottext">QualifiedFunction
</span><a href="#local-6989586621689741213"><span class="hs-identifier hs-var">function</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">QualifiedFunction
</span><a href="#local-6989586621689741213"><span class="hs-identifier hs-var">function</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">FunctionName ('Postgres 'Vanilla)
-&gt; FunctionConfig
-&gt; [FunctionPermissionInfo]
-&gt; Maybe Text
-&gt; FunctionMetadata ('Postgres 'Vanilla)
forall (b :: BackendType).
FunctionName b
-&gt; FunctionConfig
-&gt; [FunctionPermissionInfo]
-&gt; Maybe Text
-&gt; FunctionMetadata b
</span><a href="Hasura.RQL.Types.Metadata.Common.html#FunctionMetadata"><span class="hs-identifier hs-var">FunctionMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">FunctionName ('Postgres 'Vanilla)
QualifiedFunction
</span><a href="#local-6989586621689741213"><span class="hs-identifier hs-var">function</span></a></span><span> </span><span class="annot"><span class="annottext">FunctionConfig
</span><a href="Hasura.RQL.Types.Function.html#emptyFunctionConfig"><span class="hs-identifier hs-var">emptyFunctionConfig</span></a></span><span> </span><span class="annot"><span class="annottext">[FunctionPermissionInfo]
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span> </span><span class="annot"><span class="annottext">Maybe Text
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">)</span><span>
</span><span id="line-261"></span><span>          </span><span class="annot"><span class="annottext">(InsOrdHashMap QualifiedTable (TableMetadata ('Postgres 'Vanilla)),
 InsOrdHashMap
   QualifiedFunction (FunctionMetadata ('Postgres 'Vanilla)))
-&gt; Parser
     (InsOrdHashMap QualifiedTable (TableMetadata ('Postgres 'Vanilla)),
      InsOrdHashMap
        QualifiedFunction (FunctionMetadata ('Postgres 'Vanilla)))
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">InsOrdHashMap QualifiedTable (TableMetadata ('Postgres 'Vanilla))
</span><a href="#local-6989586621689741219"><span class="hs-identifier hs-var">tables</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">InsOrdHashMap
  QualifiedFunction (FunctionMetadata ('Postgres 'Vanilla))
</span><a href="#local-6989586621689741216"><span class="hs-identifier hs-var">functions</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-262"></span><span>        </span><span class="annot"><span class="annottext">MetadataVersion
</span><a href="Hasura.RQL.Types.Metadata.html#MVVersion2"><span class="hs-identifier hs-var">MVVersion2</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-263"></span><span>          </span><span id="local-6989586621689741210"><span class="annot"><span class="annottext">InsOrdHashMap QualifiedTable (TableMetadata ('Postgres 'Vanilla))
</span><a href="#local-6989586621689741210"><span class="hs-identifier hs-var">tables</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(TableMetadata ('Postgres 'Vanilla) -&gt; QualifiedTable)
-&gt; [TableMetadata ('Postgres 'Vanilla)]
-&gt; InsOrdHashMap
     QualifiedTable (TableMetadata ('Postgres 'Vanilla))
forall k a.
(Eq k, Hashable k) =&gt;
(a -&gt; k) -&gt; [a] -&gt; InsOrdHashMap k a
</span><a href="Hasura.Prelude.html#oMapFromL"><span class="hs-identifier hs-var">oMapFromL</span></a></span><span> </span><span class="annot"><span class="annottext">TableMetadata ('Postgres 'Vanilla) -&gt; QualifiedTable
forall (b :: BackendType). TableMetadata b -&gt; TableName b
</span><a href="Hasura.RQL.Types.Metadata.Common.html#_tmTable"><span class="hs-identifier hs-var hs-var">_tmTable</span></a></span><span> </span><span class="annot"><span class="annottext">([TableMetadata ('Postgres 'Vanilla)]
 -&gt; InsOrdHashMap
      QualifiedTable (TableMetadata ('Postgres 'Vanilla)))
-&gt; Parser [TableMetadata ('Postgres 'Vanilla)]
-&gt; Parser
     (InsOrdHashMap QualifiedTable (TableMetadata ('Postgres 'Vanilla)))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689741223"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser [TableMetadata ('Postgres 'Vanilla)]
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><span class="hs-operator hs-var">.:</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;tables&quot;</span></span><span>
</span><span id="line-264"></span><span>          </span><span id="local-6989586621689741209"><span class="annot"><span class="annottext">InsOrdHashMap
  QualifiedFunction (FunctionMetadata ('Postgres 'Vanilla))
</span><a href="#local-6989586621689741209"><span class="hs-identifier hs-var">functions</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(FunctionMetadata ('Postgres 'Vanilla) -&gt; QualifiedFunction)
-&gt; [FunctionMetadata ('Postgres 'Vanilla)]
-&gt; InsOrdHashMap
     QualifiedFunction (FunctionMetadata ('Postgres 'Vanilla))
forall k a.
(Eq k, Hashable k) =&gt;
(a -&gt; k) -&gt; [a] -&gt; InsOrdHashMap k a
</span><a href="Hasura.Prelude.html#oMapFromL"><span class="hs-identifier hs-var">oMapFromL</span></a></span><span> </span><span class="annot"><span class="annottext">FunctionMetadata ('Postgres 'Vanilla) -&gt; QualifiedFunction
forall (b :: BackendType). FunctionMetadata b -&gt; FunctionName b
</span><a href="Hasura.RQL.Types.Metadata.Common.html#_fmFunction"><span class="hs-identifier hs-var hs-var">_fmFunction</span></a></span><span> </span><span class="annot"><span class="annottext">([FunctionMetadata ('Postgres 'Vanilla)]
 -&gt; InsOrdHashMap
      QualifiedFunction (FunctionMetadata ('Postgres 'Vanilla)))
-&gt; Parser [FunctionMetadata ('Postgres 'Vanilla)]
-&gt; Parser
     (InsOrdHashMap
        QualifiedFunction (FunctionMetadata ('Postgres 'Vanilla)))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689741223"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object
-&gt; Key -&gt; Parser (Maybe [FunctionMetadata ('Postgres 'Vanilla)])
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser (Maybe a)
</span><span class="hs-operator hs-var">.:?</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;functions&quot;</span></span><span> </span><span class="annot"><span class="annottext">Parser (Maybe [FunctionMetadata ('Postgres 'Vanilla)])
-&gt; [FunctionMetadata ('Postgres 'Vanilla)]
-&gt; Parser [FunctionMetadata ('Postgres 'Vanilla)]
forall a. Parser (Maybe a) -&gt; a -&gt; Parser a
</span><span class="hs-operator hs-var">.!=</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-265"></span><span>          </span><span class="annot"><span class="annottext">(InsOrdHashMap QualifiedTable (TableMetadata ('Postgres 'Vanilla)),
 InsOrdHashMap
   QualifiedFunction (FunctionMetadata ('Postgres 'Vanilla)))
-&gt; Parser
     (InsOrdHashMap QualifiedTable (TableMetadata ('Postgres 'Vanilla)),
      InsOrdHashMap
        QualifiedFunction (FunctionMetadata ('Postgres 'Vanilla)))
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">InsOrdHashMap QualifiedTable (TableMetadata ('Postgres 'Vanilla))
</span><a href="#local-6989586621689741210"><span class="hs-identifier hs-var">tables</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">InsOrdHashMap
  QualifiedFunction (FunctionMetadata ('Postgres 'Vanilla))
</span><a href="#local-6989586621689741209"><span class="hs-identifier hs-var">functions</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-266"></span><span>        </span><span class="annot"><span class="annottext">MetadataVersion
</span><a href="Hasura.RQL.Types.Metadata.html#MVVersion3"><span class="hs-identifier hs-var">MVVersion3</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">String
-&gt; Parser
     (InsOrdHashMap QualifiedTable (TableMetadata ('Postgres 'Vanilla)),
      InsOrdHashMap
        QualifiedFunction (FunctionMetadata ('Postgres 'Vanilla)))
forall (m :: * -&gt; *) a. MonadFail m =&gt; String -&gt; m a
</span><span class="hs-identifier hs-var">fail</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;unexpected version for metadata without sources: 3&quot;</span></span><span>
</span><span id="line-267"></span><span>    </span><span class="hs-special">(</span><span> </span><span id="local-6989586621689741207"><span class="annot"><span class="annottext">RemoteSchemas
</span><a href="#local-6989586621689741207"><span class="hs-identifier hs-var">remoteSchemas</span></a></span></span><span class="hs-special">,</span><span>
</span><span id="line-268"></span><span>      </span><span id="local-6989586621689741206"><span class="annot"><span class="annottext">QueryCollections
</span><a href="#local-6989586621689741206"><span class="hs-identifier hs-var">queryCollections</span></a></span></span><span class="hs-special">,</span><span>
</span><span id="line-269"></span><span>      </span><span id="local-6989586621689741205"><span class="annot"><span class="annottext">MetadataAllowlist
</span><a href="#local-6989586621689741205"><span class="hs-identifier hs-var">allowlist</span></a></span></span><span class="hs-special">,</span><span>
</span><span id="line-270"></span><span>      </span><span id="local-6989586621689741204"><span class="annot"><span class="annottext">CustomTypes
</span><a href="#local-6989586621689741204"><span class="hs-identifier hs-var">customTypes</span></a></span></span><span class="hs-special">,</span><span>
</span><span id="line-271"></span><span>      </span><span id="local-6989586621689741203"><span class="annot"><span class="annottext">Actions
</span><a href="#local-6989586621689741203"><span class="hs-identifier hs-var">actions</span></a></span></span><span class="hs-special">,</span><span>
</span><span id="line-272"></span><span>      </span><span id="local-6989586621689741202"><span class="annot"><span class="annottext">CronTriggers
</span><a href="#local-6989586621689741202"><span class="hs-identifier hs-var">cronTriggers</span></a></span></span><span class="hs-special">,</span><span>
</span><span id="line-273"></span><span>      </span><span class="annot"><span class="annottext">ApiLimit
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span>
</span><span id="line-274"></span><span>      </span><span class="annot"><span class="annottext">MetricsConfig
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span>
</span><span id="line-275"></span><span>      </span><span class="annot"><span class="annottext">InheritedRoles
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span>
</span><span id="line-276"></span><span>      </span><span class="annot"><span class="annottext">SetGraphqlIntrospectionOptions
</span><span class="hs-identifier">_</span></span><span>
</span><span id="line-277"></span><span>      </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-278"></span><span>      </span><span class="annot"><span class="annottext">Object
-&gt; Parser
     (RemoteSchemas, QueryCollections, MetadataAllowlist, CustomTypes,
      Actions, CronTriggers, ApiLimit, MetricsConfig, InheritedRoles,
      SetGraphqlIntrospectionOptions)
</span><a href="Hasura.RQL.Types.Metadata.Common.html#parseNonSourcesMetadata"><span class="hs-identifier hs-var">parseNonSourcesMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689741223"><span class="hs-identifier hs-var">o</span></a></span><span>
</span><span id="line-279"></span><span>    </span><span class="annot"><span class="annottext">MetadataNoSources -&gt; Parser MetadataNoSources
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(MetadataNoSources -&gt; Parser MetadataNoSources)
-&gt; MetadataNoSources -&gt; Parser MetadataNoSources
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-280"></span><span>      </span><span class="annot"><span class="annottext">Tables ('Postgres 'Vanilla)
-&gt; Functions ('Postgres 'Vanilla)
-&gt; RemoteSchemas
-&gt; QueryCollections
-&gt; MetadataAllowlist
-&gt; CustomTypes
-&gt; Actions
-&gt; CronTriggers
-&gt; MetadataNoSources
</span><a href="Hasura.RQL.Types.Metadata.html#MetadataNoSources"><span class="hs-identifier hs-var">MetadataNoSources</span></a></span><span>
</span><span id="line-281"></span><span>        </span><span class="annot"><span class="annottext">Tables ('Postgres 'Vanilla)
InsOrdHashMap QualifiedTable (TableMetadata ('Postgres 'Vanilla))
</span><a href="#local-6989586621689741221"><span class="hs-identifier hs-var">tables</span></a></span><span>
</span><span id="line-282"></span><span>        </span><span class="annot"><span class="annottext">Functions ('Postgres 'Vanilla)
InsOrdHashMap
  QualifiedFunction (FunctionMetadata ('Postgres 'Vanilla))
</span><a href="#local-6989586621689741220"><span class="hs-identifier hs-var">functions</span></a></span><span>
</span><span id="line-283"></span><span>        </span><span class="annot"><span class="annottext">RemoteSchemas
</span><a href="#local-6989586621689741207"><span class="hs-identifier hs-var">remoteSchemas</span></a></span><span>
</span><span id="line-284"></span><span>        </span><span class="annot"><span class="annottext">QueryCollections
</span><a href="#local-6989586621689741206"><span class="hs-identifier hs-var">queryCollections</span></a></span><span>
</span><span id="line-285"></span><span>        </span><span class="annot"><span class="annottext">MetadataAllowlist
</span><a href="#local-6989586621689741205"><span class="hs-identifier hs-var">allowlist</span></a></span><span>
</span><span id="line-286"></span><span>        </span><span class="annot"><span class="annottext">CustomTypes
</span><a href="#local-6989586621689741204"><span class="hs-identifier hs-var">customTypes</span></a></span><span>
</span><span id="line-287"></span><span>        </span><span class="annot"><span class="annottext">Actions
</span><a href="#local-6989586621689741203"><span class="hs-identifier hs-var">actions</span></a></span><span>
</span><span id="line-288"></span><span>        </span><span class="annot"><span class="annottext">CronTriggers
</span><a href="#local-6989586621689741202"><span class="hs-identifier hs-var">cronTriggers</span></a></span><span>
</span><span id="line-289"></span><span>
</span><span id="line-290"></span><span class="hs-keyword">newtype</span><span> </span><span id="MetadataModifier"><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#MetadataModifier"><span class="hs-identifier hs-var">MetadataModifier</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="MetadataModifier"><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#MetadataModifier"><span class="hs-identifier hs-var">MetadataModifier</span></a></span></span><span> </span><span class="hs-special">{</span><span id="runMetadataModifier"><span class="annot"><span class="annottext">MetadataModifier -&gt; Metadata -&gt; Metadata
</span><a href="Hasura.RQL.Types.Metadata.html#runMetadataModifier"><span class="hs-identifier hs-var hs-var">runMetadataModifier</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#Metadata"><span class="hs-identifier hs-type">Metadata</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#Metadata"><span class="hs-identifier hs-type">Metadata</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-291"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621689741194"><span id="local-6989586621689741196"><span id="local-6989586621689741198"><span class="annot"><span class="annottext">b -&gt; MetadataModifier -&gt; MetadataModifier
NonEmpty MetadataModifier -&gt; MetadataModifier
MetadataModifier -&gt; MetadataModifier -&gt; MetadataModifier
(MetadataModifier -&gt; MetadataModifier -&gt; MetadataModifier)
-&gt; (NonEmpty MetadataModifier -&gt; MetadataModifier)
-&gt; (forall b.
    Integral b =&gt;
    b -&gt; MetadataModifier -&gt; MetadataModifier)
-&gt; Semigroup MetadataModifier
forall b. Integral b =&gt; b -&gt; MetadataModifier -&gt; MetadataModifier
forall a.
(a -&gt; a -&gt; a)
-&gt; (NonEmpty a -&gt; a)
-&gt; (forall b. Integral b =&gt; b -&gt; a -&gt; a)
-&gt; Semigroup a
stimes :: b -&gt; MetadataModifier -&gt; MetadataModifier
$cstimes :: forall b. Integral b =&gt; b -&gt; MetadataModifier -&gt; MetadataModifier
sconcat :: NonEmpty MetadataModifier -&gt; MetadataModifier
$csconcat :: NonEmpty MetadataModifier -&gt; MetadataModifier
&lt;&gt; :: MetadataModifier -&gt; MetadataModifier -&gt; MetadataModifier
$c&lt;&gt; :: MetadataModifier -&gt; MetadataModifier -&gt; MetadataModifier
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Semigroup</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621689741186"><span id="local-6989586621689741188"><span id="local-6989586621689741190"><span class="annot"><span class="annottext">Semigroup MetadataModifier
MetadataModifier
Semigroup MetadataModifier
-&gt; MetadataModifier
-&gt; (MetadataModifier -&gt; MetadataModifier -&gt; MetadataModifier)
-&gt; ([MetadataModifier] -&gt; MetadataModifier)
-&gt; Monoid MetadataModifier
[MetadataModifier] -&gt; MetadataModifier
MetadataModifier -&gt; MetadataModifier -&gt; MetadataModifier
forall a.
Semigroup a -&gt; a -&gt; (a -&gt; a -&gt; a) -&gt; ([a] -&gt; a) -&gt; Monoid a
mconcat :: [MetadataModifier] -&gt; MetadataModifier
$cmconcat :: [MetadataModifier] -&gt; MetadataModifier
mappend :: MetadataModifier -&gt; MetadataModifier -&gt; MetadataModifier
$cmappend :: MetadataModifier -&gt; MetadataModifier -&gt; MetadataModifier
mempty :: MetadataModifier
$cmempty :: MetadataModifier
$cp1Monoid :: Semigroup MetadataModifier
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Monoid</span></span></span></span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">via</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Dual</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Endo</span></span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#Metadata"><span class="hs-identifier hs-type">Metadata</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-292"></span><span>
</span><span id="line-293"></span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#dropTableInMetadata"><span class="hs-identifier hs-type">dropTableInMetadata</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-294"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621689741184"><span class="annot"><a href="#local-6989586621689741184"><span class="hs-identifier hs-type">b</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.Types.Backend.html#Backend"><span class="hs-identifier hs-type">Backend</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689741184"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Common.html#SourceName"><span class="hs-identifier hs-type">SourceName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Backend.html#TableName"><span class="hs-identifier hs-type">TableName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689741184"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#MetadataModifier"><span class="hs-identifier hs-type">MetadataModifier</span></a></span><span>
</span><span id="line-295"></span><span id="dropTableInMetadata"><span class="annot"><span class="annottext">dropTableInMetadata :: SourceName -&gt; TableName b -&gt; MetadataModifier
</span><a href="Hasura.RQL.Types.Metadata.html#dropTableInMetadata"><span class="hs-identifier hs-var hs-var">dropTableInMetadata</span></a></span></span><span> </span><span id="local-6989586621689741183"><span class="annot"><span class="annottext">SourceName
</span><a href="#local-6989586621689741183"><span class="hs-identifier hs-var">source</span></a></span></span><span> </span><span id="local-6989586621689741182"><span class="annot"><span class="annottext">TableName b
</span><a href="#local-6989586621689741182"><span class="hs-identifier hs-var">table</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-296"></span><span>  </span><span class="annot"><span class="annottext">(Metadata -&gt; Metadata) -&gt; MetadataModifier
</span><a href="Hasura.RQL.Types.Metadata.html#MetadataModifier"><span class="hs-identifier hs-var">MetadataModifier</span></a></span><span> </span><span class="annot"><span class="annottext">((Metadata -&gt; Metadata) -&gt; MetadataModifier)
-&gt; (Metadata -&gt; Metadata) -&gt; MetadataModifier
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(Sources -&gt; Identity Sources) -&gt; Metadata -&gt; Identity Metadata
Lens' Metadata Sources
</span><a href="Hasura.RQL.Types.Metadata.html#metaSources"><span class="hs-identifier hs-var">metaSources</span></a></span><span> </span><span class="annot"><span class="annottext">((Sources -&gt; Identity Sources) -&gt; Metadata -&gt; Identity Metadata)
-&gt; ((InsOrdHashMap (TableName b) (TableMetadata b)
     -&gt; Identity (InsOrdHashMap (TableName b) (TableMetadata b)))
    -&gt; Sources -&gt; Identity Sources)
-&gt; (InsOrdHashMap (TableName b) (TableMetadata b)
    -&gt; Identity (InsOrdHashMap (TableName b) (TableMetadata b)))
-&gt; Metadata
-&gt; Identity Metadata
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Index Sources -&gt; Traversal' Sources (IxValue Sources)
forall m. Ixed m =&gt; Index m -&gt; Traversal' m (IxValue m)
</span><span class="hs-identifier hs-var">ix</span></span><span> </span><span class="annot"><span class="annottext">Index Sources
SourceName
</span><a href="#local-6989586621689741183"><span class="hs-identifier hs-var">source</span></a></span><span> </span><span class="annot"><span class="annottext">((BackendSourceMetadata -&gt; Identity BackendSourceMetadata)
 -&gt; Sources -&gt; Identity Sources)
-&gt; ((InsOrdHashMap (TableName b) (TableMetadata b)
     -&gt; Identity (InsOrdHashMap (TableName b) (TableMetadata b)))
    -&gt; BackendSourceMetadata -&gt; Identity BackendSourceMetadata)
-&gt; (InsOrdHashMap (TableName b) (TableMetadata b)
    -&gt; Identity (InsOrdHashMap (TableName b) (TableMetadata b)))
-&gt; Sources
-&gt; Identity Sources
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Backend b =&gt; Prism' BackendSourceMetadata (SourceMetadata b)
forall (b :: BackendType).
Backend b =&gt;
Prism' BackendSourceMetadata (SourceMetadata b)
</span><a href="Hasura.RQL.Types.Metadata.Common.html#toSourceMetadata"><span class="hs-identifier hs-var">toSourceMetadata</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621689741184"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((SourceMetadata b -&gt; Identity (SourceMetadata b))
 -&gt; BackendSourceMetadata -&gt; Identity BackendSourceMetadata)
-&gt; ((InsOrdHashMap (TableName b) (TableMetadata b)
     -&gt; Identity (InsOrdHashMap (TableName b) (TableMetadata b)))
    -&gt; SourceMetadata b -&gt; Identity (SourceMetadata b))
-&gt; (InsOrdHashMap (TableName b) (TableMetadata b)
    -&gt; Identity (InsOrdHashMap (TableName b) (TableMetadata b)))
-&gt; BackendSourceMetadata
-&gt; Identity BackendSourceMetadata
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(InsOrdHashMap (TableName b) (TableMetadata b)
 -&gt; Identity (InsOrdHashMap (TableName b) (TableMetadata b)))
-&gt; SourceMetadata b -&gt; Identity (SourceMetadata b)
forall (b :: BackendType). Lens' (SourceMetadata b) (Tables b)
</span><a href="Hasura.RQL.Types.Metadata.Common.html#smTables"><span class="hs-identifier hs-var">smTables</span></a></span><span> </span><span class="annot"><span class="annottext">((InsOrdHashMap (TableName b) (TableMetadata b)
  -&gt; Identity (InsOrdHashMap (TableName b) (TableMetadata b)))
 -&gt; Metadata -&gt; Identity Metadata)
-&gt; (InsOrdHashMap (TableName b) (TableMetadata b)
    -&gt; InsOrdHashMap (TableName b) (TableMetadata b))
-&gt; Metadata
-&gt; Metadata
forall s t a b. ASetter s t a b -&gt; (a -&gt; b) -&gt; s -&gt; t
</span><span class="hs-operator hs-var">%~</span></span><span> </span><span class="annot"><span class="annottext">TableName b
-&gt; InsOrdHashMap (TableName b) (TableMetadata b)
-&gt; InsOrdHashMap (TableName b) (TableMetadata b)
forall k v.
(Eq k, Hashable k) =&gt;
k -&gt; InsOrdHashMap k v -&gt; InsOrdHashMap k v
</span><span class="hs-identifier hs-var">OM.delete</span></span><span> </span><span class="annot"><span class="annottext">TableName b
</span><a href="#local-6989586621689741182"><span class="hs-identifier hs-var">table</span></a></span><span>
</span><span id="line-297"></span><span>
</span><span id="line-298"></span><span id="local-6989586621689741179"><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#dropRelationshipInMetadata"><span class="hs-identifier hs-type">dropRelationshipInMetadata</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-299"></span><span>  </span><span class="annot"><a href="Hasura.RQL.Types.Common.html#RelName"><span class="hs-identifier hs-type">RelName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.Common.html#TableMetadata"><span class="hs-identifier hs-type">TableMetadata</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689741179"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.Common.html#TableMetadata"><span class="hs-identifier hs-type">TableMetadata</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689741179"><span class="hs-identifier hs-type">b</span></a></span></span><span>
</span><span id="line-300"></span><span id="dropRelationshipInMetadata"><span class="annot"><span class="annottext">dropRelationshipInMetadata :: RelName -&gt; TableMetadata b -&gt; TableMetadata b
</span><a href="Hasura.RQL.Types.Metadata.html#dropRelationshipInMetadata"><span class="hs-identifier hs-var hs-var">dropRelationshipInMetadata</span></a></span></span><span> </span><span id="local-6989586621689741178"><span class="annot"><span class="annottext">RelName
</span><a href="#local-6989586621689741178"><span class="hs-identifier hs-var">relName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-301"></span><span>  </span><span class="hs-comment">-- Since the name of a relationship is unique in a table, the relationship</span><span>
</span><span id="line-302"></span><span>  </span><span class="hs-comment">-- with given name may present in either array or object relationships but</span><span>
</span><span id="line-303"></span><span>  </span><span class="hs-comment">-- not in both.</span><span>
</span><span id="line-304"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Relationships (ObjRelDef b)
 -&gt; Identity (Relationships (ObjRelDef b)))
-&gt; TableMetadata b -&gt; Identity (TableMetadata b)
forall (b :: BackendType).
Lens' (TableMetadata b) (Relationships (ObjRelDef b))
</span><a href="Hasura.RQL.Types.Metadata.Common.html#tmObjectRelationships"><span class="hs-identifier hs-var">tmObjectRelationships</span></a></span><span> </span><span class="annot"><span class="annottext">((Relationships (ObjRelDef b)
  -&gt; Identity (Relationships (ObjRelDef b)))
 -&gt; TableMetadata b -&gt; Identity (TableMetadata b))
-&gt; (Relationships (ObjRelDef b) -&gt; Relationships (ObjRelDef b))
-&gt; TableMetadata b
-&gt; TableMetadata b
forall s t a b. ASetter s t a b -&gt; (a -&gt; b) -&gt; s -&gt; t
</span><span class="hs-operator hs-var">%~</span></span><span> </span><span class="annot"><span class="annottext">RelName
-&gt; Relationships (ObjRelDef b) -&gt; Relationships (ObjRelDef b)
forall k v.
(Eq k, Hashable k) =&gt;
k -&gt; InsOrdHashMap k v -&gt; InsOrdHashMap k v
</span><span class="hs-identifier hs-var">OM.delete</span></span><span> </span><span class="annot"><span class="annottext">RelName
</span><a href="#local-6989586621689741178"><span class="hs-identifier hs-var">relName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-305"></span><span>    </span><span class="annot"><span class="annottext">(TableMetadata b -&gt; TableMetadata b)
-&gt; (TableMetadata b -&gt; TableMetadata b)
-&gt; TableMetadata b
-&gt; TableMetadata b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(Relationships (ArrRelDef b)
 -&gt; Identity (Relationships (ArrRelDef b)))
-&gt; TableMetadata b -&gt; Identity (TableMetadata b)
forall (b :: BackendType).
Lens' (TableMetadata b) (Relationships (ArrRelDef b))
</span><a href="Hasura.RQL.Types.Metadata.Common.html#tmArrayRelationships"><span class="hs-identifier hs-var">tmArrayRelationships</span></a></span><span> </span><span class="annot"><span class="annottext">((Relationships (ArrRelDef b)
  -&gt; Identity (Relationships (ArrRelDef b)))
 -&gt; TableMetadata b -&gt; Identity (TableMetadata b))
-&gt; (Relationships (ArrRelDef b) -&gt; Relationships (ArrRelDef b))
-&gt; TableMetadata b
-&gt; TableMetadata b
forall s t a b. ASetter s t a b -&gt; (a -&gt; b) -&gt; s -&gt; t
</span><span class="hs-operator hs-var">%~</span></span><span> </span><span class="annot"><span class="annottext">RelName
-&gt; Relationships (ArrRelDef b) -&gt; Relationships (ArrRelDef b)
forall k v.
(Eq k, Hashable k) =&gt;
k -&gt; InsOrdHashMap k v -&gt; InsOrdHashMap k v
</span><span class="hs-identifier hs-var">OM.delete</span></span><span> </span><span class="annot"><span class="annottext">RelName
</span><a href="#local-6989586621689741178"><span class="hs-identifier hs-var">relName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-306"></span><span>
</span><span id="line-307"></span><span id="local-6989586621689741175"><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#dropPermissionInMetadata"><span class="hs-identifier hs-type">dropPermissionInMetadata</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-308"></span><span>  </span><span class="annot"><a href="Hasura.Session.html#RoleName"><span class="hs-identifier hs-type">RoleName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Permission.html#PermType"><span class="hs-identifier hs-type">PermType</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.Common.html#TableMetadata"><span class="hs-identifier hs-type">TableMetadata</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689741175"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.Common.html#TableMetadata"><span class="hs-identifier hs-type">TableMetadata</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689741175"><span class="hs-identifier hs-type">b</span></a></span></span><span>
</span><span id="line-309"></span><span id="dropPermissionInMetadata"><span class="annot"><span class="annottext">dropPermissionInMetadata :: RoleName -&gt; PermType -&gt; TableMetadata b -&gt; TableMetadata b
</span><a href="Hasura.RQL.Types.Metadata.html#dropPermissionInMetadata"><span class="hs-identifier hs-var hs-var">dropPermissionInMetadata</span></a></span></span><span> </span><span id="local-6989586621689741174"><span class="annot"><span class="annottext">RoleName
</span><a href="#local-6989586621689741174"><span class="hs-identifier hs-var">rn</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-310"></span><span>  </span><span class="annot"><span class="annottext">PermType
</span><a href="Hasura.RQL.Types.Permission.html#PTInsert"><span class="hs-identifier hs-var">PTInsert</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Permissions (InsPermDef b)
 -&gt; Identity (Permissions (InsPermDef b)))
-&gt; TableMetadata b -&gt; Identity (TableMetadata b)
forall (b :: BackendType).
Lens' (TableMetadata b) (Permissions (InsPermDef b))
</span><a href="Hasura.RQL.Types.Metadata.Common.html#tmInsertPermissions"><span class="hs-identifier hs-var">tmInsertPermissions</span></a></span><span> </span><span class="annot"><span class="annottext">((Permissions (InsPermDef b)
  -&gt; Identity (Permissions (InsPermDef b)))
 -&gt; TableMetadata b -&gt; Identity (TableMetadata b))
-&gt; (Permissions (InsPermDef b) -&gt; Permissions (InsPermDef b))
-&gt; TableMetadata b
-&gt; TableMetadata b
forall s t a b. ASetter s t a b -&gt; (a -&gt; b) -&gt; s -&gt; t
</span><span class="hs-operator hs-var">%~</span></span><span> </span><span class="annot"><span class="annottext">RoleName
-&gt; Permissions (InsPermDef b) -&gt; Permissions (InsPermDef b)
forall k v.
(Eq k, Hashable k) =&gt;
k -&gt; InsOrdHashMap k v -&gt; InsOrdHashMap k v
</span><span class="hs-identifier hs-var">OM.delete</span></span><span> </span><span class="annot"><span class="annottext">RoleName
</span><a href="#local-6989586621689741174"><span class="hs-identifier hs-var">rn</span></a></span><span>
</span><span id="line-311"></span><span>  </span><span class="annot"><span class="annottext">PermType
</span><a href="Hasura.RQL.Types.Permission.html#PTSelect"><span class="hs-identifier hs-var">PTSelect</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Permissions (SelPermDef b)
 -&gt; Identity (Permissions (SelPermDef b)))
-&gt; TableMetadata b -&gt; Identity (TableMetadata b)
forall (b :: BackendType).
Lens' (TableMetadata b) (Permissions (SelPermDef b))
</span><a href="Hasura.RQL.Types.Metadata.Common.html#tmSelectPermissions"><span class="hs-identifier hs-var">tmSelectPermissions</span></a></span><span> </span><span class="annot"><span class="annottext">((Permissions (SelPermDef b)
  -&gt; Identity (Permissions (SelPermDef b)))
 -&gt; TableMetadata b -&gt; Identity (TableMetadata b))
-&gt; (Permissions (SelPermDef b) -&gt; Permissions (SelPermDef b))
-&gt; TableMetadata b
-&gt; TableMetadata b
forall s t a b. ASetter s t a b -&gt; (a -&gt; b) -&gt; s -&gt; t
</span><span class="hs-operator hs-var">%~</span></span><span> </span><span class="annot"><span class="annottext">RoleName
-&gt; Permissions (SelPermDef b) -&gt; Permissions (SelPermDef b)
forall k v.
(Eq k, Hashable k) =&gt;
k -&gt; InsOrdHashMap k v -&gt; InsOrdHashMap k v
</span><span class="hs-identifier hs-var">OM.delete</span></span><span> </span><span class="annot"><span class="annottext">RoleName
</span><a href="#local-6989586621689741174"><span class="hs-identifier hs-var">rn</span></a></span><span>
</span><span id="line-312"></span><span>  </span><span class="annot"><span class="annottext">PermType
</span><a href="Hasura.RQL.Types.Permission.html#PTDelete"><span class="hs-identifier hs-var">PTDelete</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Permissions (DelPermDef b)
 -&gt; Identity (Permissions (DelPermDef b)))
-&gt; TableMetadata b -&gt; Identity (TableMetadata b)
forall (b :: BackendType).
Lens' (TableMetadata b) (Permissions (DelPermDef b))
</span><a href="Hasura.RQL.Types.Metadata.Common.html#tmDeletePermissions"><span class="hs-identifier hs-var">tmDeletePermissions</span></a></span><span> </span><span class="annot"><span class="annottext">((Permissions (DelPermDef b)
  -&gt; Identity (Permissions (DelPermDef b)))
 -&gt; TableMetadata b -&gt; Identity (TableMetadata b))
-&gt; (Permissions (DelPermDef b) -&gt; Permissions (DelPermDef b))
-&gt; TableMetadata b
-&gt; TableMetadata b
forall s t a b. ASetter s t a b -&gt; (a -&gt; b) -&gt; s -&gt; t
</span><span class="hs-operator hs-var">%~</span></span><span> </span><span class="annot"><span class="annottext">RoleName
-&gt; Permissions (DelPermDef b) -&gt; Permissions (DelPermDef b)
forall k v.
(Eq k, Hashable k) =&gt;
k -&gt; InsOrdHashMap k v -&gt; InsOrdHashMap k v
</span><span class="hs-identifier hs-var">OM.delete</span></span><span> </span><span class="annot"><span class="annottext">RoleName
</span><a href="#local-6989586621689741174"><span class="hs-identifier hs-var">rn</span></a></span><span>
</span><span id="line-313"></span><span>  </span><span class="annot"><span class="annottext">PermType
</span><a href="Hasura.RQL.Types.Permission.html#PTUpdate"><span class="hs-identifier hs-var">PTUpdate</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Permissions (UpdPermDef b)
 -&gt; Identity (Permissions (UpdPermDef b)))
-&gt; TableMetadata b -&gt; Identity (TableMetadata b)
forall (b :: BackendType).
Lens' (TableMetadata b) (Permissions (UpdPermDef b))
</span><a href="Hasura.RQL.Types.Metadata.Common.html#tmUpdatePermissions"><span class="hs-identifier hs-var">tmUpdatePermissions</span></a></span><span> </span><span class="annot"><span class="annottext">((Permissions (UpdPermDef b)
  -&gt; Identity (Permissions (UpdPermDef b)))
 -&gt; TableMetadata b -&gt; Identity (TableMetadata b))
-&gt; (Permissions (UpdPermDef b) -&gt; Permissions (UpdPermDef b))
-&gt; TableMetadata b
-&gt; TableMetadata b
forall s t a b. ASetter s t a b -&gt; (a -&gt; b) -&gt; s -&gt; t
</span><span class="hs-operator hs-var">%~</span></span><span> </span><span class="annot"><span class="annottext">RoleName
-&gt; Permissions (UpdPermDef b) -&gt; Permissions (UpdPermDef b)
forall k v.
(Eq k, Hashable k) =&gt;
k -&gt; InsOrdHashMap k v -&gt; InsOrdHashMap k v
</span><span class="hs-identifier hs-var">OM.delete</span></span><span> </span><span class="annot"><span class="annottext">RoleName
</span><a href="#local-6989586621689741174"><span class="hs-identifier hs-var">rn</span></a></span><span>
</span><span id="line-314"></span><span>
</span><span id="line-315"></span><span id="local-6989586621689741165"><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#dropComputedFieldInMetadata"><span class="hs-identifier hs-type">dropComputedFieldInMetadata</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-316"></span><span>  </span><span class="annot"><a href="Hasura.RQL.Types.ComputedField.html#ComputedFieldName"><span class="hs-identifier hs-type">ComputedFieldName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.Common.html#TableMetadata"><span class="hs-identifier hs-type">TableMetadata</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689741165"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.Common.html#TableMetadata"><span class="hs-identifier hs-type">TableMetadata</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689741165"><span class="hs-identifier hs-type">b</span></a></span></span><span>
</span><span id="line-317"></span><span id="dropComputedFieldInMetadata"><span class="annot"><span class="annottext">dropComputedFieldInMetadata :: ComputedFieldName -&gt; TableMetadata b -&gt; TableMetadata b
</span><a href="Hasura.RQL.Types.Metadata.html#dropComputedFieldInMetadata"><span class="hs-identifier hs-var hs-var">dropComputedFieldInMetadata</span></a></span></span><span> </span><span id="local-6989586621689741164"><span class="annot"><span class="annottext">ComputedFieldName
</span><a href="#local-6989586621689741164"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-318"></span><span>  </span><span class="annot"><span class="annottext">(ComputedFields b -&gt; Identity (ComputedFields b))
-&gt; TableMetadata b -&gt; Identity (TableMetadata b)
forall (b :: BackendType).
Lens' (TableMetadata b) (ComputedFields b)
</span><a href="Hasura.RQL.Types.Metadata.Common.html#tmComputedFields"><span class="hs-identifier hs-var">tmComputedFields</span></a></span><span> </span><span class="annot"><span class="annottext">((ComputedFields b -&gt; Identity (ComputedFields b))
 -&gt; TableMetadata b -&gt; Identity (TableMetadata b))
-&gt; (ComputedFields b -&gt; ComputedFields b)
-&gt; TableMetadata b
-&gt; TableMetadata b
forall s t a b. ASetter s t a b -&gt; (a -&gt; b) -&gt; s -&gt; t
</span><span class="hs-operator hs-var">%~</span></span><span> </span><span class="annot"><span class="annottext">ComputedFieldName -&gt; ComputedFields b -&gt; ComputedFields b
forall k v.
(Eq k, Hashable k) =&gt;
k -&gt; InsOrdHashMap k v -&gt; InsOrdHashMap k v
</span><span class="hs-identifier hs-var">OM.delete</span></span><span> </span><span class="annot"><span class="annottext">ComputedFieldName
</span><a href="#local-6989586621689741164"><span class="hs-identifier hs-var">name</span></a></span><span>
</span><span id="line-319"></span><span>
</span><span id="line-320"></span><span id="local-6989586621689741162"><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#dropEventTriggerInMetadata"><span class="hs-identifier hs-type">dropEventTriggerInMetadata</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.EventTrigger.html#TriggerName"><span class="hs-identifier hs-type">TriggerName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.Common.html#TableMetadata"><span class="hs-identifier hs-type">TableMetadata</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689741162"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.Common.html#TableMetadata"><span class="hs-identifier hs-type">TableMetadata</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689741162"><span class="hs-identifier hs-type">b</span></a></span></span><span>
</span><span id="line-321"></span><span id="dropEventTriggerInMetadata"><span class="annot"><span class="annottext">dropEventTriggerInMetadata :: TriggerName -&gt; TableMetadata b -&gt; TableMetadata b
</span><a href="Hasura.RQL.Types.Metadata.html#dropEventTriggerInMetadata"><span class="hs-identifier hs-var hs-var">dropEventTriggerInMetadata</span></a></span></span><span> </span><span id="local-6989586621689741161"><span class="annot"><span class="annottext">TriggerName
</span><a href="#local-6989586621689741161"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-322"></span><span>  </span><span class="annot"><span class="annottext">(EventTriggers b -&gt; Identity (EventTriggers b))
-&gt; TableMetadata b -&gt; Identity (TableMetadata b)
forall (b :: BackendType).
Lens' (TableMetadata b) (EventTriggers b)
</span><a href="Hasura.RQL.Types.Metadata.Common.html#tmEventTriggers"><span class="hs-identifier hs-var">tmEventTriggers</span></a></span><span> </span><span class="annot"><span class="annottext">((EventTriggers b -&gt; Identity (EventTriggers b))
 -&gt; TableMetadata b -&gt; Identity (TableMetadata b))
-&gt; (EventTriggers b -&gt; EventTriggers b)
-&gt; TableMetadata b
-&gt; TableMetadata b
forall s t a b. ASetter s t a b -&gt; (a -&gt; b) -&gt; s -&gt; t
</span><span class="hs-operator hs-var">%~</span></span><span> </span><span class="annot"><span class="annottext">TriggerName -&gt; EventTriggers b -&gt; EventTriggers b
forall k v.
(Eq k, Hashable k) =&gt;
k -&gt; InsOrdHashMap k v -&gt; InsOrdHashMap k v
</span><span class="hs-identifier hs-var">OM.delete</span></span><span> </span><span class="annot"><span class="annottext">TriggerName
</span><a href="#local-6989586621689741161"><span class="hs-identifier hs-var">name</span></a></span><span>
</span><span id="line-323"></span><span>
</span><span id="line-324"></span><span id="local-6989586621689741159"><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#dropRemoteRelationshipInMetadata"><span class="hs-identifier hs-type">dropRemoteRelationshipInMetadata</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-325"></span><span>  </span><span class="annot"><a href="Hasura.RQL.Types.Common.html#RelName"><span class="hs-identifier hs-type">RelName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.Common.html#TableMetadata"><span class="hs-identifier hs-type">TableMetadata</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689741159"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.Common.html#TableMetadata"><span class="hs-identifier hs-type">TableMetadata</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689741159"><span class="hs-identifier hs-type">b</span></a></span></span><span>
</span><span id="line-326"></span><span id="dropRemoteRelationshipInMetadata"><span class="annot"><span class="annottext">dropRemoteRelationshipInMetadata :: RelName -&gt; TableMetadata b -&gt; TableMetadata b
</span><a href="Hasura.RQL.Types.Metadata.html#dropRemoteRelationshipInMetadata"><span class="hs-identifier hs-var hs-var">dropRemoteRelationshipInMetadata</span></a></span></span><span> </span><span id="local-6989586621689741158"><span class="annot"><span class="annottext">RelName
</span><a href="#local-6989586621689741158"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-327"></span><span>  </span><span class="annot"><span class="annottext">(RemoteRelationships -&gt; Identity RemoteRelationships)
-&gt; TableMetadata b -&gt; Identity (TableMetadata b)
forall (b :: BackendType).
Lens' (TableMetadata b) RemoteRelationships
</span><a href="Hasura.RQL.Types.Metadata.Common.html#tmRemoteRelationships"><span class="hs-identifier hs-var">tmRemoteRelationships</span></a></span><span> </span><span class="annot"><span class="annottext">((RemoteRelationships -&gt; Identity RemoteRelationships)
 -&gt; TableMetadata b -&gt; Identity (TableMetadata b))
-&gt; (RemoteRelationships -&gt; RemoteRelationships)
-&gt; TableMetadata b
-&gt; TableMetadata b
forall s t a b. ASetter s t a b -&gt; (a -&gt; b) -&gt; s -&gt; t
</span><span class="hs-operator hs-var">%~</span></span><span> </span><span class="annot"><span class="annottext">RelName -&gt; RemoteRelationships -&gt; RemoteRelationships
forall k v.
(Eq k, Hashable k) =&gt;
k -&gt; InsOrdHashMap k v -&gt; InsOrdHashMap k v
</span><span class="hs-identifier hs-var">OM.delete</span></span><span> </span><span class="annot"><span class="annottext">RelName
</span><a href="#local-6989586621689741158"><span class="hs-identifier hs-var">name</span></a></span><span>
</span><span id="line-328"></span><span>
</span><span id="line-329"></span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#dropFunctionInMetadata"><span class="hs-identifier hs-type">dropFunctionInMetadata</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-330"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621689741156"><span class="annot"><a href="#local-6989586621689741156"><span class="hs-identifier hs-type">b</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.Types.Backend.html#Backend"><span class="hs-identifier hs-type">Backend</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689741156"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Common.html#SourceName"><span class="hs-identifier hs-type">SourceName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Backend.html#FunctionName"><span class="hs-identifier hs-type">FunctionName</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689741156"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#MetadataModifier"><span class="hs-identifier hs-type">MetadataModifier</span></a></span><span>
</span><span id="line-331"></span><span id="dropFunctionInMetadata"><span class="annot"><span class="annottext">dropFunctionInMetadata :: SourceName -&gt; FunctionName b -&gt; MetadataModifier
</span><a href="Hasura.RQL.Types.Metadata.html#dropFunctionInMetadata"><span class="hs-identifier hs-var hs-var">dropFunctionInMetadata</span></a></span></span><span> </span><span id="local-6989586621689741155"><span class="annot"><span class="annottext">SourceName
</span><a href="#local-6989586621689741155"><span class="hs-identifier hs-var">source</span></a></span></span><span> </span><span id="local-6989586621689741154"><span class="annot"><span class="annottext">FunctionName b
</span><a href="#local-6989586621689741154"><span class="hs-identifier hs-var">function</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-332"></span><span>  </span><span class="annot"><span class="annottext">(Metadata -&gt; Metadata) -&gt; MetadataModifier
</span><a href="Hasura.RQL.Types.Metadata.html#MetadataModifier"><span class="hs-identifier hs-var">MetadataModifier</span></a></span><span> </span><span class="annot"><span class="annottext">((Metadata -&gt; Metadata) -&gt; MetadataModifier)
-&gt; (Metadata -&gt; Metadata) -&gt; MetadataModifier
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-333"></span><span>    </span><span class="annot"><span class="annottext">(Sources -&gt; Identity Sources) -&gt; Metadata -&gt; Identity Metadata
Lens' Metadata Sources
</span><a href="Hasura.RQL.Types.Metadata.html#metaSources"><span class="hs-identifier hs-var">metaSources</span></a></span><span> </span><span class="annot"><span class="annottext">((Sources -&gt; Identity Sources) -&gt; Metadata -&gt; Identity Metadata)
-&gt; ((InsOrdHashMap (FunctionName b) (FunctionMetadata b)
     -&gt; Identity (InsOrdHashMap (FunctionName b) (FunctionMetadata b)))
    -&gt; Sources -&gt; Identity Sources)
-&gt; (InsOrdHashMap (FunctionName b) (FunctionMetadata b)
    -&gt; Identity (InsOrdHashMap (FunctionName b) (FunctionMetadata b)))
-&gt; Metadata
-&gt; Identity Metadata
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Index Sources -&gt; Traversal' Sources (IxValue Sources)
forall m. Ixed m =&gt; Index m -&gt; Traversal' m (IxValue m)
</span><span class="hs-identifier hs-var">ix</span></span><span> </span><span class="annot"><span class="annottext">Index Sources
SourceName
</span><a href="#local-6989586621689741155"><span class="hs-identifier hs-var">source</span></a></span><span> </span><span class="annot"><span class="annottext">((BackendSourceMetadata -&gt; Identity BackendSourceMetadata)
 -&gt; Sources -&gt; Identity Sources)
-&gt; ((InsOrdHashMap (FunctionName b) (FunctionMetadata b)
     -&gt; Identity (InsOrdHashMap (FunctionName b) (FunctionMetadata b)))
    -&gt; BackendSourceMetadata -&gt; Identity BackendSourceMetadata)
-&gt; (InsOrdHashMap (FunctionName b) (FunctionMetadata b)
    -&gt; Identity (InsOrdHashMap (FunctionName b) (FunctionMetadata b)))
-&gt; Sources
-&gt; Identity Sources
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(SourceMetadata b -&gt; Identity (SourceMetadata b))
-&gt; BackendSourceMetadata -&gt; Identity BackendSourceMetadata
forall (b :: BackendType).
Backend b =&gt;
Prism' BackendSourceMetadata (SourceMetadata b)
</span><a href="Hasura.RQL.Types.Metadata.Common.html#toSourceMetadata"><span class="hs-identifier hs-var">toSourceMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">((SourceMetadata b -&gt; Identity (SourceMetadata b))
 -&gt; BackendSourceMetadata -&gt; Identity BackendSourceMetadata)
-&gt; ((InsOrdHashMap (FunctionName b) (FunctionMetadata b)
     -&gt; Identity (InsOrdHashMap (FunctionName b) (FunctionMetadata b)))
    -&gt; SourceMetadata b -&gt; Identity (SourceMetadata b))
-&gt; (InsOrdHashMap (FunctionName b) (FunctionMetadata b)
    -&gt; Identity (InsOrdHashMap (FunctionName b) (FunctionMetadata b)))
-&gt; BackendSourceMetadata
-&gt; Identity BackendSourceMetadata
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">forall (b :: BackendType). Lens' (SourceMetadata b) (Functions b)
Lens'
  (SourceMetadata b)
  (InsOrdHashMap (FunctionName b) (FunctionMetadata b))
</span><a href="Hasura.RQL.Types.Metadata.Common.html#smFunctions"><span class="hs-identifier hs-var">smFunctions</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621689741156"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">((InsOrdHashMap (FunctionName b) (FunctionMetadata b)
  -&gt; Identity (InsOrdHashMap (FunctionName b) (FunctionMetadata b)))
 -&gt; Metadata -&gt; Identity Metadata)
-&gt; (InsOrdHashMap (FunctionName b) (FunctionMetadata b)
    -&gt; InsOrdHashMap (FunctionName b) (FunctionMetadata b))
-&gt; Metadata
-&gt; Metadata
forall s t a b. ASetter s t a b -&gt; (a -&gt; b) -&gt; s -&gt; t
</span><span class="hs-operator hs-var">%~</span></span><span> </span><span class="annot"><span class="annottext">FunctionName b
-&gt; InsOrdHashMap (FunctionName b) (FunctionMetadata b)
-&gt; InsOrdHashMap (FunctionName b) (FunctionMetadata b)
forall k v.
(Eq k, Hashable k) =&gt;
k -&gt; InsOrdHashMap k v -&gt; InsOrdHashMap k v
</span><span class="hs-identifier hs-var">OM.delete</span></span><span> </span><span class="annot"><span class="annottext">FunctionName b
</span><a href="#local-6989586621689741154"><span class="hs-identifier hs-var">function</span></a></span><span>
</span><span id="line-334"></span><span>
</span><span id="line-335"></span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#dropRemoteSchemaInMetadata"><span class="hs-identifier hs-type">dropRemoteSchemaInMetadata</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.RemoteSchema.html#RemoteSchemaName"><span class="hs-identifier hs-type">RemoteSchemaName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#MetadataModifier"><span class="hs-identifier hs-type">MetadataModifier</span></a></span><span>
</span><span id="line-336"></span><span id="dropRemoteSchemaInMetadata"><span class="annot"><span class="annottext">dropRemoteSchemaInMetadata :: RemoteSchemaName -&gt; MetadataModifier
</span><a href="Hasura.RQL.Types.Metadata.html#dropRemoteSchemaInMetadata"><span class="hs-identifier hs-var hs-var">dropRemoteSchemaInMetadata</span></a></span></span><span> </span><span id="local-6989586621689741153"><span class="annot"><span class="annottext">RemoteSchemaName
</span><a href="#local-6989586621689741153"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-337"></span><span>  </span><span class="annot"><span class="annottext">(Metadata -&gt; Metadata) -&gt; MetadataModifier
</span><a href="Hasura.RQL.Types.Metadata.html#MetadataModifier"><span class="hs-identifier hs-var">MetadataModifier</span></a></span><span> </span><span class="annot"><span class="annottext">((Metadata -&gt; Metadata) -&gt; MetadataModifier)
-&gt; (Metadata -&gt; Metadata) -&gt; MetadataModifier
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(RemoteSchemas -&gt; Identity RemoteSchemas)
-&gt; Metadata -&gt; Identity Metadata
Lens' Metadata RemoteSchemas
</span><a href="Hasura.RQL.Types.Metadata.html#metaRemoteSchemas"><span class="hs-identifier hs-var">metaRemoteSchemas</span></a></span><span> </span><span class="annot"><span class="annottext">((RemoteSchemas -&gt; Identity RemoteSchemas)
 -&gt; Metadata -&gt; Identity Metadata)
-&gt; (RemoteSchemas -&gt; RemoteSchemas) -&gt; Metadata -&gt; Metadata
forall s t a b. ASetter s t a b -&gt; (a -&gt; b) -&gt; s -&gt; t
</span><span class="hs-operator hs-var">%~</span></span><span> </span><span class="annot"><span class="annottext">RemoteSchemaName -&gt; RemoteSchemas -&gt; RemoteSchemas
forall k v.
(Eq k, Hashable k) =&gt;
k -&gt; InsOrdHashMap k v -&gt; InsOrdHashMap k v
</span><span class="hs-identifier hs-var">OM.delete</span></span><span> </span><span class="annot"><span class="annottext">RemoteSchemaName
</span><a href="#local-6989586621689741153"><span class="hs-identifier hs-var">name</span></a></span><span>
</span><span id="line-338"></span><span>
</span><span id="line-339"></span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#dropRemoteSchemaPermissionInMetadata"><span class="hs-identifier hs-type">dropRemoteSchemaPermissionInMetadata</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.RemoteSchema.html#RemoteSchemaName"><span class="hs-identifier hs-type">RemoteSchemaName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Hasura.Session.html#RoleName"><span class="hs-identifier hs-type">RoleName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#MetadataModifier"><span class="hs-identifier hs-type">MetadataModifier</span></a></span><span>
</span><span id="line-340"></span><span id="dropRemoteSchemaPermissionInMetadata"><span class="annot"><span class="annottext">dropRemoteSchemaPermissionInMetadata :: RemoteSchemaName -&gt; RoleName -&gt; MetadataModifier
</span><a href="Hasura.RQL.Types.Metadata.html#dropRemoteSchemaPermissionInMetadata"><span class="hs-identifier hs-var hs-var">dropRemoteSchemaPermissionInMetadata</span></a></span></span><span> </span><span id="local-6989586621689741152"><span class="annot"><span class="annottext">RemoteSchemaName
</span><a href="#local-6989586621689741152"><span class="hs-identifier hs-var">remoteSchemaName</span></a></span></span><span> </span><span id="local-6989586621689741151"><span class="annot"><span class="annottext">RoleName
</span><a href="#local-6989586621689741151"><span class="hs-identifier hs-var">roleName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-341"></span><span>  </span><span class="annot"><span class="annottext">(Metadata -&gt; Metadata) -&gt; MetadataModifier
</span><a href="Hasura.RQL.Types.Metadata.html#MetadataModifier"><span class="hs-identifier hs-var">MetadataModifier</span></a></span><span> </span><span class="annot"><span class="annottext">((Metadata -&gt; Metadata) -&gt; MetadataModifier)
-&gt; (Metadata -&gt; Metadata) -&gt; MetadataModifier
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(RemoteSchemas -&gt; Identity RemoteSchemas)
-&gt; Metadata -&gt; Identity Metadata
Lens' Metadata RemoteSchemas
</span><a href="Hasura.RQL.Types.Metadata.html#metaRemoteSchemas"><span class="hs-identifier hs-var">metaRemoteSchemas</span></a></span><span> </span><span class="annot"><span class="annottext">((RemoteSchemas -&gt; Identity RemoteSchemas)
 -&gt; Metadata -&gt; Identity Metadata)
-&gt; (([RemoteSchemaPermissionMetadata]
     -&gt; Identity [RemoteSchemaPermissionMetadata])
    -&gt; RemoteSchemas -&gt; Identity RemoteSchemas)
-&gt; ([RemoteSchemaPermissionMetadata]
    -&gt; Identity [RemoteSchemaPermissionMetadata])
-&gt; Metadata
-&gt; Identity Metadata
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Index RemoteSchemas
-&gt; Traversal' RemoteSchemas (IxValue RemoteSchemas)
forall m. Ixed m =&gt; Index m -&gt; Traversal' m (IxValue m)
</span><span class="hs-identifier hs-var">ix</span></span><span> </span><span class="annot"><span class="annottext">Index RemoteSchemas
RemoteSchemaName
</span><a href="#local-6989586621689741152"><span class="hs-identifier hs-var">remoteSchemaName</span></a></span><span> </span><span class="annot"><span class="annottext">((RemoteSchemaMetadata -&gt; Identity RemoteSchemaMetadata)
 -&gt; RemoteSchemas -&gt; Identity RemoteSchemas)
-&gt; (([RemoteSchemaPermissionMetadata]
     -&gt; Identity [RemoteSchemaPermissionMetadata])
    -&gt; RemoteSchemaMetadata -&gt; Identity RemoteSchemaMetadata)
-&gt; ([RemoteSchemaPermissionMetadata]
    -&gt; Identity [RemoteSchemaPermissionMetadata])
-&gt; RemoteSchemas
-&gt; Identity RemoteSchemas
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">([RemoteSchemaPermissionMetadata]
 -&gt; Identity [RemoteSchemaPermissionMetadata])
-&gt; RemoteSchemaMetadata -&gt; Identity RemoteSchemaMetadata
Lens' RemoteSchemaMetadata [RemoteSchemaPermissionMetadata]
</span><a href="Hasura.RQL.Types.Metadata.Common.html#rsmPermissions"><span class="hs-identifier hs-var">rsmPermissions</span></a></span><span> </span><span class="annot"><span class="annottext">(([RemoteSchemaPermissionMetadata]
  -&gt; Identity [RemoteSchemaPermissionMetadata])
 -&gt; Metadata -&gt; Identity Metadata)
-&gt; ([RemoteSchemaPermissionMetadata]
    -&gt; [RemoteSchemaPermissionMetadata])
-&gt; Metadata
-&gt; Metadata
forall s t a b. ASetter s t a b -&gt; (a -&gt; b) -&gt; s -&gt; t
</span><span class="hs-operator hs-var">%~</span></span><span> </span><span class="annot"><span class="annottext">(RemoteSchemaPermissionMetadata -&gt; Bool)
-&gt; [RemoteSchemaPermissionMetadata]
-&gt; [RemoteSchemaPermissionMetadata]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">filter</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RoleName -&gt; RoleName -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">(/=)</span></span><span> </span><span class="annot"><span class="annottext">RoleName
</span><a href="#local-6989586621689741151"><span class="hs-identifier hs-var">roleName</span></a></span><span> </span><span class="annot"><span class="annottext">(RoleName -&gt; Bool)
-&gt; (RemoteSchemaPermissionMetadata -&gt; RoleName)
-&gt; RemoteSchemaPermissionMetadata
-&gt; Bool
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">RemoteSchemaPermissionMetadata -&gt; RoleName
</span><a href="Hasura.RQL.Types.Metadata.Common.html#_rspmRole"><span class="hs-identifier hs-var hs-var">_rspmRole</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-342"></span><span>
</span><span id="line-343"></span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#dropRemoteSchemaRemoteRelationshipInMetadata"><span class="hs-identifier hs-type">dropRemoteSchemaRemoteRelationshipInMetadata</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.RemoteSchema.html#RemoteSchemaName"><span class="hs-identifier hs-type">RemoteSchemaName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Common.html#RelName"><span class="hs-identifier hs-type">RelName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#MetadataModifier"><span class="hs-identifier hs-type">MetadataModifier</span></a></span><span>
</span><span id="line-344"></span><span id="dropRemoteSchemaRemoteRelationshipInMetadata"><span class="annot"><span class="annottext">dropRemoteSchemaRemoteRelationshipInMetadata :: RemoteSchemaName -&gt; Name -&gt; RelName -&gt; MetadataModifier
</span><a href="Hasura.RQL.Types.Metadata.html#dropRemoteSchemaRemoteRelationshipInMetadata"><span class="hs-identifier hs-var hs-var">dropRemoteSchemaRemoteRelationshipInMetadata</span></a></span></span><span> </span><span id="local-6989586621689741148"><span class="annot"><span class="annottext">RemoteSchemaName
</span><a href="#local-6989586621689741148"><span class="hs-identifier hs-var">remoteSchemaName</span></a></span></span><span> </span><span id="local-6989586621689741147"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689741147"><span class="hs-identifier hs-var">typeName</span></a></span></span><span> </span><span id="local-6989586621689741146"><span class="annot"><span class="annottext">RelName
</span><a href="#local-6989586621689741146"><span class="hs-identifier hs-var">relationshipName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-345"></span><span>  </span><span class="annot"><span class="annottext">(Metadata -&gt; Metadata) -&gt; MetadataModifier
</span><a href="Hasura.RQL.Types.Metadata.html#MetadataModifier"><span class="hs-identifier hs-var">MetadataModifier</span></a></span><span> </span><span class="annot"><span class="annottext">((Metadata -&gt; Metadata) -&gt; MetadataModifier)
-&gt; (Metadata -&gt; Metadata) -&gt; MetadataModifier
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-346"></span><span>    </span><span class="annot"><span class="annottext">(RemoteSchemas -&gt; Identity RemoteSchemas)
-&gt; Metadata -&gt; Identity Metadata
Lens' Metadata RemoteSchemas
</span><a href="Hasura.RQL.Types.Metadata.html#metaRemoteSchemas"><span class="hs-identifier hs-var">metaRemoteSchemas</span></a></span><span>
</span><span id="line-347"></span><span>      </span><span class="annot"><span class="annottext">((RemoteSchemas -&gt; Identity RemoteSchemas)
 -&gt; Metadata -&gt; Identity Metadata)
-&gt; ((RemoteRelationships -&gt; Identity RemoteRelationships)
    -&gt; RemoteSchemas -&gt; Identity RemoteSchemas)
-&gt; (RemoteRelationships -&gt; Identity RemoteRelationships)
-&gt; Metadata
-&gt; Identity Metadata
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Index RemoteSchemas
-&gt; Traversal' RemoteSchemas (IxValue RemoteSchemas)
forall m. Ixed m =&gt; Index m -&gt; Traversal' m (IxValue m)
</span><span class="hs-identifier hs-var">ix</span></span><span> </span><span class="annot"><span class="annottext">Index RemoteSchemas
RemoteSchemaName
</span><a href="#local-6989586621689741148"><span class="hs-identifier hs-var">remoteSchemaName</span></a></span><span>
</span><span id="line-348"></span><span>      </span><span class="annot"><span class="annottext">((RemoteSchemaMetadata -&gt; Identity RemoteSchemaMetadata)
 -&gt; RemoteSchemas -&gt; Identity RemoteSchemas)
-&gt; ((RemoteRelationships -&gt; Identity RemoteRelationships)
    -&gt; RemoteSchemaMetadata -&gt; Identity RemoteSchemaMetadata)
-&gt; (RemoteRelationships -&gt; Identity RemoteRelationships)
-&gt; RemoteSchemas
-&gt; Identity RemoteSchemas
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(SchemaRemoteRelationships -&gt; Identity SchemaRemoteRelationships)
-&gt; RemoteSchemaMetadata -&gt; Identity RemoteSchemaMetadata
Lens' RemoteSchemaMetadata SchemaRemoteRelationships
</span><a href="Hasura.RQL.Types.Metadata.Common.html#rsmRemoteRelationships"><span class="hs-identifier hs-var">rsmRemoteRelationships</span></a></span><span>
</span><span id="line-349"></span><span>      </span><span class="annot"><span class="annottext">((SchemaRemoteRelationships -&gt; Identity SchemaRemoteRelationships)
 -&gt; RemoteSchemaMetadata -&gt; Identity RemoteSchemaMetadata)
-&gt; ((RemoteRelationships -&gt; Identity RemoteRelationships)
    -&gt; SchemaRemoteRelationships -&gt; Identity SchemaRemoteRelationships)
-&gt; (RemoteRelationships -&gt; Identity RemoteRelationships)
-&gt; RemoteSchemaMetadata
-&gt; Identity RemoteSchemaMetadata
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Index SchemaRemoteRelationships
-&gt; Traversal'
     SchemaRemoteRelationships (IxValue SchemaRemoteRelationships)
forall m. Ixed m =&gt; Index m -&gt; Traversal' m (IxValue m)
</span><span class="hs-identifier hs-var">ix</span></span><span> </span><span class="annot"><span class="annottext">Index SchemaRemoteRelationships
Name
</span><a href="#local-6989586621689741147"><span class="hs-identifier hs-var">typeName</span></a></span><span>
</span><span id="line-350"></span><span>      </span><span class="annot"><span class="annottext">((RemoteSchemaTypeRelationships
  -&gt; Identity RemoteSchemaTypeRelationships)
 -&gt; SchemaRemoteRelationships -&gt; Identity SchemaRemoteRelationships)
-&gt; ((RemoteRelationships -&gt; Identity RemoteRelationships)
    -&gt; RemoteSchemaTypeRelationships
    -&gt; Identity RemoteSchemaTypeRelationships)
-&gt; (RemoteRelationships -&gt; Identity RemoteRelationships)
-&gt; SchemaRemoteRelationships
-&gt; Identity SchemaRemoteRelationships
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(RemoteRelationships -&gt; Identity RemoteRelationships)
-&gt; RemoteSchemaTypeRelationships
-&gt; Identity RemoteSchemaTypeRelationships
Lens' RemoteSchemaTypeRelationships RemoteRelationships
</span><a href="Hasura.RQL.Types.Metadata.Common.html#rstrsRelationships"><span class="hs-identifier hs-var">rstrsRelationships</span></a></span><span>
</span><span id="line-351"></span><span>      </span><span class="annot"><span class="annottext">((RemoteRelationships -&gt; Identity RemoteRelationships)
 -&gt; Metadata -&gt; Identity Metadata)
-&gt; (RemoteRelationships -&gt; RemoteRelationships)
-&gt; Metadata
-&gt; Metadata
forall s t a b. ASetter s t a b -&gt; (a -&gt; b) -&gt; s -&gt; t
</span><span class="hs-operator hs-var">%~</span></span><span> </span><span class="annot"><span class="annottext">RelName -&gt; RemoteRelationships -&gt; RemoteRelationships
forall k v.
(Eq k, Hashable k) =&gt;
k -&gt; InsOrdHashMap k v -&gt; InsOrdHashMap k v
</span><span class="hs-identifier hs-var">OM.delete</span></span><span> </span><span class="annot"><span class="annottext">RelName
</span><a href="#local-6989586621689741146"><span class="hs-identifier hs-var">relationshipName</span></a></span><span>
</span><span id="line-352"></span><span>
</span><span id="line-353"></span><span class="hs-comment">-- | Encode 'Metadata' to JSON with deterministic ordering (e.g. &quot;version&quot; being at the top).</span><span>
</span><span id="line-354"></span><span class="hs-comment">-- The CLI system stores metadata in files and has option to show changes in git diff style.</span><span>
</span><span id="line-355"></span><span class="hs-comment">-- The diff shouldn't appear different for no metadata changes. So, the ordering of object keys and</span><span>
</span><span id="line-356"></span><span class="hs-comment">-- array elements should  remain consistent across versions of graphql-engine if possible.</span><span>
</span><span id="line-357"></span><span class="hs-comment">--</span><span>
</span><span id="line-358"></span><span class="hs-comment">-- Note: While modifying any part of the code below, make sure the encoded JSON of each type is</span><span>
</span><span id="line-359"></span><span class="hs-comment">-- parsable via its 'FromJSON' instance.</span><span>
</span><span id="line-360"></span><span class="hs-comment">--</span><span>
</span><span id="line-361"></span><span class="hs-comment">-- TODO: we can use 'aeson-pretty' to serialize in a consistent way, and to specify a (partial)</span><span>
</span><span id="line-362"></span><span class="hs-comment">-- order of keys, while getting the benefits of auto-generated To/FromJSON instances.</span><span>
</span><span id="line-363"></span><span class="hs-comment">-- `FromJSON TableMetadata` complicates this though...</span><span>
</span><span id="line-364"></span><span class="hs-comment">--</span><span>
</span><span id="line-365"></span><span class="hs-comment">-- See: https://github.com/hasura/graphql-engine/issues/6348</span><span>
</span><span id="line-366"></span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#metadataToOrdJSON"><span class="hs-identifier hs-type">metadataToOrdJSON</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#Metadata"><span class="hs-identifier hs-type">Metadata</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-8.10.7/aeson-ordered-0.1.0.0/opt/doc/html/aeson-ordered/src"><span class="hs-identifier hs-type">AO.Value</span></a></span><span>
</span><span id="line-367"></span><span id="metadataToOrdJSON"><span class="annot"><span class="annottext">metadataToOrdJSON :: Metadata -&gt; Value
</span><a href="Hasura.RQL.Types.Metadata.html#metadataToOrdJSON"><span class="hs-identifier hs-var hs-var">metadataToOrdJSON</span></a></span></span><span>
</span><span id="line-368"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#Metadata"><span class="hs-identifier hs-type">Metadata</span></a></span><span>
</span><span id="line-369"></span><span>      </span><span id="local-6989586621689741143"><span class="annot"><span class="annottext">Sources
</span><a href="#local-6989586621689741143"><span class="hs-identifier hs-var">sources</span></a></span></span><span>
</span><span id="line-370"></span><span>      </span><span id="local-6989586621689741142"><span class="annot"><span class="annottext">RemoteSchemas
</span><a href="#local-6989586621689741142"><span class="hs-identifier hs-var">remoteSchemas</span></a></span></span><span>
</span><span id="line-371"></span><span>      </span><span id="local-6989586621689741141"><span class="annot"><span class="annottext">QueryCollections
</span><a href="#local-6989586621689741141"><span class="hs-identifier hs-var">queryCollections</span></a></span></span><span>
</span><span id="line-372"></span><span>      </span><span id="local-6989586621689741140"><span class="annot"><span class="annottext">MetadataAllowlist
</span><a href="#local-6989586621689741140"><span class="hs-identifier hs-var">allowlist</span></a></span></span><span>
</span><span id="line-373"></span><span>      </span><span id="local-6989586621689741139"><span class="annot"><span class="annottext">CustomTypes
</span><a href="#local-6989586621689741139"><span class="hs-identifier hs-var">customTypes</span></a></span></span><span>
</span><span id="line-374"></span><span>      </span><span id="local-6989586621689741138"><span class="annot"><span class="annottext">Actions
</span><a href="#local-6989586621689741138"><span class="hs-identifier hs-var">actions</span></a></span></span><span>
</span><span id="line-375"></span><span>      </span><span id="local-6989586621689741137"><span class="annot"><span class="annottext">CronTriggers
</span><a href="#local-6989586621689741137"><span class="hs-identifier hs-var">cronTriggers</span></a></span></span><span>
</span><span id="line-376"></span><span>      </span><span id="local-6989586621689741136"><span class="annot"><span class="annottext">Endpoints
</span><a href="#local-6989586621689741136"><span class="hs-identifier hs-var">endpoints</span></a></span></span><span>
</span><span id="line-377"></span><span>      </span><span id="local-6989586621689741135"><span class="annot"><span class="annottext">ApiLimit
</span><a href="#local-6989586621689741135"><span class="hs-identifier hs-var">apiLimits</span></a></span></span><span>
</span><span id="line-378"></span><span>      </span><span id="local-6989586621689741134"><span class="annot"><span class="annottext">MetricsConfig
</span><a href="#local-6989586621689741134"><span class="hs-identifier hs-var">metricsConfig</span></a></span></span><span>
</span><span id="line-379"></span><span>      </span><span id="local-6989586621689741133"><span class="annot"><span class="annottext">InheritedRoles
</span><a href="#local-6989586621689741133"><span class="hs-identifier hs-var">inheritedRoles</span></a></span></span><span>
</span><span id="line-380"></span><span>      </span><span id="local-6989586621689741132"><span class="annot"><span class="annottext">SetGraphqlIntrospectionOptions
</span><a href="#local-6989586621689741132"><span class="hs-identifier hs-var">introspectionDisabledRoles</span></a></span></span><span>
</span><span id="line-381"></span><span>      </span><span id="local-6989586621689741131"><span class="annot"><span class="annottext">Network
</span><a href="#local-6989586621689741131"><span class="hs-identifier hs-var">networkConfig</span></a></span></span><span>
</span><span id="line-382"></span><span>      </span><span id="local-6989586621689741130"><span class="annot"><span class="annottext">BackendMap BackendConfigWrapper
</span><a href="#local-6989586621689741130"><span class="hs-identifier hs-var">backendConfigs</span></a></span></span><span>
</span><span id="line-383"></span><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-384"></span><span>    </span><span class="annot"><span class="annottext">[(Text, Value)] -&gt; Value
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-8.10.7/aeson-ordered-0.1.0.0/opt/doc/html/aeson-ordered/src"><span class="hs-identifier hs-var">AO.object</span></a></span><span> </span><span class="annot"><span class="annottext">([(Text, Value)] -&gt; Value) -&gt; [(Text, Value)] -&gt; Value
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-385"></span><span>      </span><span class="hs-special">[</span><span class="annot"><span class="annottext">(Text, Value)
</span><a href="#local-6989586621689741128"><span class="hs-identifier hs-var">versionPair</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(Text, Value)
</span><a href="#local-6989586621689741127"><span class="hs-identifier hs-var">sourcesPair</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-386"></span><span>        </span><span class="annot"><span class="annottext">[(Text, Value)] -&gt; [(Text, Value)] -&gt; [(Text, Value)]
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">[Maybe (Text, Value)] -&gt; [(Text, Value)]
forall (f :: * -&gt; *) a. Filterable f =&gt; f (Maybe a) -&gt; f a
</span><span class="hs-identifier hs-var">catMaybes</span></span><span>
</span><span id="line-387"></span><span>          </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Maybe (Text, Value)
</span><a href="#local-6989586621689741125"><span class="hs-identifier hs-var">remoteSchemasPair</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-388"></span><span>            </span><span class="annot"><span class="annottext">Maybe (Text, Value)
</span><a href="#local-6989586621689741124"><span class="hs-identifier hs-var">queryCollectionsPair</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-389"></span><span>            </span><span class="annot"><span class="annottext">Maybe (Text, Value)
</span><a href="#local-6989586621689741123"><span class="hs-identifier hs-var">allowlistPair</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-390"></span><span>            </span><span class="annot"><span class="annottext">Maybe (Text, Value)
</span><a href="#local-6989586621689741122"><span class="hs-identifier hs-var">actionsPair</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-391"></span><span>            </span><span class="annot"><span class="annottext">Maybe (Text, Value)
</span><a href="#local-6989586621689741121"><span class="hs-identifier hs-var">customTypesPair</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-392"></span><span>            </span><span class="annot"><span class="annottext">Maybe (Text, Value)
</span><a href="#local-6989586621689741120"><span class="hs-identifier hs-var">cronTriggersPair</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-393"></span><span>            </span><span class="annot"><span class="annottext">Maybe (Text, Value)
</span><a href="#local-6989586621689741119"><span class="hs-identifier hs-var">endpointsPair</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-394"></span><span>            </span><span class="annot"><span class="annottext">Maybe (Text, Value)
</span><a href="#local-6989586621689741118"><span class="hs-identifier hs-var">apiLimitsPair</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-395"></span><span>            </span><span class="annot"><span class="annottext">Maybe (Text, Value)
</span><a href="#local-6989586621689741117"><span class="hs-identifier hs-var">metricsConfigPair</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-396"></span><span>            </span><span class="annot"><span class="annottext">Maybe (Text, Value)
</span><a href="#local-6989586621689741116"><span class="hs-identifier hs-var">inheritedRolesPair</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-397"></span><span>            </span><span class="annot"><span class="annottext">Maybe (Text, Value)
</span><a href="#local-6989586621689741115"><span class="hs-identifier hs-var">introspectionDisabledRolesPair</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-398"></span><span>            </span><span class="annot"><span class="annottext">Maybe (Text, Value)
</span><a href="#local-6989586621689741114"><span class="hs-identifier hs-var">networkPair</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-399"></span><span>            </span><span class="annot"><span class="annottext">Maybe (Text, Value)
</span><a href="#local-6989586621689741113"><span class="hs-identifier hs-var">backendConfigsPair</span></a></span><span>
</span><span id="line-400"></span><span>          </span><span class="hs-special">]</span><span>
</span><span id="line-401"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-402"></span><span>      </span><span id="local-6989586621689741128"><span class="annot"><span class="annottext">versionPair :: (Text, Value)
</span><a href="#local-6989586621689741128"><span class="hs-identifier hs-var hs-var">versionPair</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;version&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">MetadataVersion -&gt; Value
forall a. ToJSON a =&gt; a -&gt; Value
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-8.10.7/aeson-ordered-0.1.0.0/opt/doc/html/aeson-ordered/src"><span class="hs-identifier hs-var">AO.toOrdered</span></a></span><span> </span><span class="annot"><span class="annottext">MetadataVersion
</span><a href="Hasura.RQL.Types.Metadata.html#currentMetadataVersion"><span class="hs-identifier hs-var">currentMetadataVersion</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-403"></span><span>      </span><span id="local-6989586621689741127"><span class="annot"><span class="annottext">sourcesPair :: (Text, Value)
</span><a href="#local-6989586621689741127"><span class="hs-identifier hs-var hs-var">sourcesPair</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;sources&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Array -&gt; Value
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-8.10.7/aeson-ordered-0.1.0.0/opt/doc/html/aeson-ordered/src"><span class="hs-identifier hs-var">AO.Array</span></a></span><span> </span><span class="annot"><span class="annottext">(Array -&gt; Value) -&gt; Array -&gt; Value
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Sources -&gt; Array
</span><a href="Hasura.RQL.Types.Metadata.Serialization.html#sourcesToOrdJSONList"><span class="hs-identifier hs-var">sourcesToOrdJSONList</span></a></span><span> </span><span class="annot"><span class="annottext">Sources
</span><a href="#local-6989586621689741143"><span class="hs-identifier hs-var">sources</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-404"></span><span>      </span><span id="local-6989586621689741125"><span class="annot"><span class="annottext">remoteSchemasPair :: Maybe (Text, Value)
</span><a href="#local-6989586621689741125"><span class="hs-identifier hs-var hs-var">remoteSchemasPair</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;remote_schemas&quot;</span></span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Value -&gt; (Text, Value))
-&gt; (Array -&gt; Value) -&gt; Array -&gt; (Text, Value)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Array -&gt; Value
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-8.10.7/aeson-ordered-0.1.0.0/opt/doc/html/aeson-ordered/src"><span class="hs-identifier hs-var">AO.Array</span></a></span><span> </span><span class="annot"><span class="annottext">(Array -&gt; (Text, Value)) -&gt; Maybe Array -&gt; Maybe (Text, Value)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">RemoteSchemas -&gt; Maybe Array
</span><a href="Hasura.RQL.Types.Metadata.Serialization.html#remoteSchemasToOrdJSONList"><span class="hs-identifier hs-var">remoteSchemasToOrdJSONList</span></a></span><span> </span><span class="annot"><span class="annottext">RemoteSchemas
</span><a href="#local-6989586621689741142"><span class="hs-identifier hs-var">remoteSchemas</span></a></span><span>
</span><span id="line-405"></span><span>      </span><span id="local-6989586621689741124"><span class="annot"><span class="annottext">queryCollectionsPair :: Maybe (Text, Value)
</span><a href="#local-6989586621689741124"><span class="hs-identifier hs-var hs-var">queryCollectionsPair</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;query_collections&quot;</span></span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Value -&gt; (Text, Value))
-&gt; (Array -&gt; Value) -&gt; Array -&gt; (Text, Value)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Array -&gt; Value
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-8.10.7/aeson-ordered-0.1.0.0/opt/doc/html/aeson-ordered/src"><span class="hs-identifier hs-var">AO.Array</span></a></span><span> </span><span class="annot"><span class="annottext">(Array -&gt; (Text, Value)) -&gt; Maybe Array -&gt; Maybe (Text, Value)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">QueryCollections -&gt; Maybe Array
</span><a href="Hasura.RQL.Types.Metadata.Serialization.html#queryCollectionsToOrdJSONList"><span class="hs-identifier hs-var">queryCollectionsToOrdJSONList</span></a></span><span> </span><span class="annot"><span class="annottext">QueryCollections
</span><a href="#local-6989586621689741141"><span class="hs-identifier hs-var">queryCollections</span></a></span><span>
</span><span id="line-406"></span><span>      </span><span id="local-6989586621689741123"><span class="annot"><span class="annottext">allowlistPair :: Maybe (Text, Value)
</span><a href="#local-6989586621689741123"><span class="hs-identifier hs-var hs-var">allowlistPair</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;allowlist&quot;</span></span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Value -&gt; (Text, Value))
-&gt; (Array -&gt; Value) -&gt; Array -&gt; (Text, Value)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Array -&gt; Value
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-8.10.7/aeson-ordered-0.1.0.0/opt/doc/html/aeson-ordered/src"><span class="hs-identifier hs-var">AO.Array</span></a></span><span> </span><span class="annot"><span class="annottext">(Array -&gt; (Text, Value)) -&gt; Maybe Array -&gt; Maybe (Text, Value)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">MetadataAllowlist -&gt; Maybe Array
</span><a href="Hasura.RQL.Types.Metadata.Serialization.html#allowlistToOrdJSONList"><span class="hs-identifier hs-var">allowlistToOrdJSONList</span></a></span><span> </span><span class="annot"><span class="annottext">MetadataAllowlist
</span><a href="#local-6989586621689741140"><span class="hs-identifier hs-var">allowlist</span></a></span><span>
</span><span id="line-407"></span><span>      </span><span id="local-6989586621689741121"><span class="annot"><span class="annottext">customTypesPair :: Maybe (Text, Value)
</span><a href="#local-6989586621689741121"><span class="hs-identifier hs-var hs-var">customTypesPair</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;custom_types&quot;</span></span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Value -&gt; (Text, Value))
-&gt; (Object -&gt; Value) -&gt; Object -&gt; (Text, Value)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Value
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-8.10.7/aeson-ordered-0.1.0.0/opt/doc/html/aeson-ordered/src"><span class="hs-identifier hs-var">AO.Object</span></a></span><span> </span><span class="annot"><span class="annottext">(Object -&gt; (Text, Value)) -&gt; Maybe Object -&gt; Maybe (Text, Value)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">CustomTypes -&gt; Maybe Object
</span><a href="Hasura.RQL.Types.Metadata.Serialization.html#customTypesToOrdJSON"><span class="hs-identifier hs-var">customTypesToOrdJSON</span></a></span><span> </span><span class="annot"><span class="annottext">CustomTypes
</span><a href="#local-6989586621689741139"><span class="hs-identifier hs-var">customTypes</span></a></span><span>
</span><span id="line-408"></span><span>      </span><span id="local-6989586621689741122"><span class="annot"><span class="annottext">actionsPair :: Maybe (Text, Value)
</span><a href="#local-6989586621689741122"><span class="hs-identifier hs-var hs-var">actionsPair</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;actions&quot;</span></span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Value -&gt; (Text, Value))
-&gt; (Array -&gt; Value) -&gt; Array -&gt; (Text, Value)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Array -&gt; Value
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-8.10.7/aeson-ordered-0.1.0.0/opt/doc/html/aeson-ordered/src"><span class="hs-identifier hs-var">AO.Array</span></a></span><span> </span><span class="annot"><span class="annottext">(Array -&gt; (Text, Value)) -&gt; Maybe Array -&gt; Maybe (Text, Value)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Actions -&gt; Maybe Array
</span><a href="Hasura.RQL.Types.Metadata.Serialization.html#actionMetadataToOrdJSONList"><span class="hs-identifier hs-var">actionMetadataToOrdJSONList</span></a></span><span> </span><span class="annot"><span class="annottext">Actions
</span><a href="#local-6989586621689741138"><span class="hs-identifier hs-var">actions</span></a></span><span>
</span><span id="line-409"></span><span>      </span><span id="local-6989586621689741120"><span class="annot"><span class="annottext">cronTriggersPair :: Maybe (Text, Value)
</span><a href="#local-6989586621689741120"><span class="hs-identifier hs-var hs-var">cronTriggersPair</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;cron_triggers&quot;</span></span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Value -&gt; (Text, Value))
-&gt; (Array -&gt; Value) -&gt; Array -&gt; (Text, Value)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Array -&gt; Value
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-8.10.7/aeson-ordered-0.1.0.0/opt/doc/html/aeson-ordered/src"><span class="hs-identifier hs-var">AO.Array</span></a></span><span> </span><span class="annot"><span class="annottext">(Array -&gt; (Text, Value)) -&gt; Maybe Array -&gt; Maybe (Text, Value)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">CronTriggers -&gt; Maybe Array
</span><a href="Hasura.RQL.Types.Metadata.Serialization.html#cronTriggersToOrdJSONList"><span class="hs-identifier hs-var">cronTriggersToOrdJSONList</span></a></span><span> </span><span class="annot"><span class="annottext">CronTriggers
</span><a href="#local-6989586621689741137"><span class="hs-identifier hs-var">cronTriggers</span></a></span><span>
</span><span id="line-410"></span><span>      </span><span id="local-6989586621689741116"><span class="annot"><span class="annottext">inheritedRolesPair :: Maybe (Text, Value)
</span><a href="#local-6989586621689741116"><span class="hs-identifier hs-var hs-var">inheritedRolesPair</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;inherited_roles&quot;</span></span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Value -&gt; (Text, Value))
-&gt; (Array -&gt; Value) -&gt; Array -&gt; (Text, Value)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Array -&gt; Value
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-8.10.7/aeson-ordered-0.1.0.0/opt/doc/html/aeson-ordered/src"><span class="hs-identifier hs-var">AO.Array</span></a></span><span> </span><span class="annot"><span class="annottext">(Array -&gt; (Text, Value)) -&gt; Maybe Array -&gt; Maybe (Text, Value)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">InheritedRoles -&gt; Maybe Array
</span><a href="Hasura.RQL.Types.Metadata.Serialization.html#inheritedRolesToOrdJSONList"><span class="hs-identifier hs-var">inheritedRolesToOrdJSONList</span></a></span><span> </span><span class="annot"><span class="annottext">InheritedRoles
</span><a href="#local-6989586621689741133"><span class="hs-identifier hs-var">inheritedRoles</span></a></span><span>
</span><span id="line-411"></span><span>      </span><span id="local-6989586621689741119"><span class="annot"><span class="annottext">endpointsPair :: Maybe (Text, Value)
</span><a href="#local-6989586621689741119"><span class="hs-identifier hs-var hs-var">endpointsPair</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;rest_endpoints&quot;</span></span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Value -&gt; (Text, Value))
-&gt; (Array -&gt; Value) -&gt; Array -&gt; (Text, Value)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Array -&gt; Value
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-8.10.7/aeson-ordered-0.1.0.0/opt/doc/html/aeson-ordered/src"><span class="hs-identifier hs-var">AO.Array</span></a></span><span> </span><span class="annot"><span class="annottext">(Array -&gt; (Text, Value)) -&gt; Maybe Array -&gt; Maybe (Text, Value)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Endpoints -&gt; Maybe Array
</span><a href="Hasura.RQL.Types.Metadata.Serialization.html#endpointsToOrdJSONList"><span class="hs-identifier hs-var">endpointsToOrdJSONList</span></a></span><span> </span><span class="annot"><span class="annottext">Endpoints
</span><a href="#local-6989586621689741136"><span class="hs-identifier hs-var">endpoints</span></a></span><span>
</span><span id="line-412"></span><span>      </span><span id="local-6989586621689741118"><span class="annot"><span class="annottext">apiLimitsPair :: Maybe (Text, Value)
</span><a href="#local-6989586621689741118"><span class="hs-identifier hs-var hs-var">apiLimitsPair</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;api_limits&quot;</span></span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Value -&gt; (Text, Value)) -&gt; Maybe Value -&gt; Maybe (Text, Value)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">ApiLimit -&gt; Maybe Value
</span><a href="Hasura.RQL.Types.Metadata.Serialization.html#apiLimitsToOrdJSON"><span class="hs-identifier hs-var">apiLimitsToOrdJSON</span></a></span><span> </span><span class="annot"><span class="annottext">ApiLimit
</span><a href="#local-6989586621689741135"><span class="hs-identifier hs-var">apiLimits</span></a></span><span>
</span><span id="line-413"></span><span>      </span><span id="local-6989586621689741117"><span class="annot"><span class="annottext">metricsConfigPair :: Maybe (Text, Value)
</span><a href="#local-6989586621689741117"><span class="hs-identifier hs-var hs-var">metricsConfigPair</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;metrics_config&quot;</span></span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Value -&gt; (Text, Value)) -&gt; Maybe Value -&gt; Maybe (Text, Value)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">MetricsConfig -&gt; Maybe Value
</span><a href="Hasura.RQL.Types.Metadata.Serialization.html#metricsConfigToOrdJSON"><span class="hs-identifier hs-var">metricsConfigToOrdJSON</span></a></span><span> </span><span class="annot"><span class="annottext">MetricsConfig
</span><a href="#local-6989586621689741134"><span class="hs-identifier hs-var">metricsConfig</span></a></span><span>
</span><span id="line-414"></span><span>      </span><span id="local-6989586621689741115"><span class="annot"><span class="annottext">introspectionDisabledRolesPair :: Maybe (Text, Value)
</span><a href="#local-6989586621689741115"><span class="hs-identifier hs-var hs-var">introspectionDisabledRolesPair</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-415"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;graphql_schema_introspection&quot;</span></span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Value -&gt; (Text, Value)) -&gt; Maybe Value -&gt; Maybe (Text, Value)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">SetGraphqlIntrospectionOptions -&gt; Maybe Value
</span><a href="Hasura.RQL.Types.Metadata.Serialization.html#introspectionDisabledRolesToOrdJSON"><span class="hs-identifier hs-var">introspectionDisabledRolesToOrdJSON</span></a></span><span> </span><span class="annot"><span class="annottext">SetGraphqlIntrospectionOptions
</span><a href="#local-6989586621689741132"><span class="hs-identifier hs-var">introspectionDisabledRoles</span></a></span><span>
</span><span id="line-416"></span><span>      </span><span id="local-6989586621689741114"><span class="annot"><span class="annottext">networkPair :: Maybe (Text, Value)
</span><a href="#local-6989586621689741114"><span class="hs-identifier hs-var hs-var">networkPair</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;network&quot;</span></span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Value -&gt; (Text, Value)) -&gt; Maybe Value -&gt; Maybe (Text, Value)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Network -&gt; Maybe Value
</span><a href="Hasura.RQL.Types.Metadata.Serialization.html#networkConfigToOrdJSON"><span class="hs-identifier hs-var">networkConfigToOrdJSON</span></a></span><span> </span><span class="annot"><span class="annottext">Network
</span><a href="#local-6989586621689741131"><span class="hs-identifier hs-var">networkConfig</span></a></span><span>
</span><span id="line-417"></span><span>      </span><span id="local-6989586621689741113"><span class="annot"><span class="annottext">backendConfigsPair :: Maybe (Text, Value)
</span><a href="#local-6989586621689741113"><span class="hs-identifier hs-var hs-var">backendConfigsPair</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;backend_configs&quot;</span></span><span class="hs-special">,</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Value -&gt; (Text, Value)) -&gt; Maybe Value -&gt; Maybe (Text, Value)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">BackendMap BackendConfigWrapper -&gt; Maybe Value
</span><a href="Hasura.RQL.Types.Metadata.Serialization.html#backendConfigsToOrdJSON"><span class="hs-identifier hs-var">backendConfigsToOrdJSON</span></a></span><span> </span><span class="annot"><span class="annottext">BackendMap BackendConfigWrapper
</span><a href="#local-6989586621689741130"><span class="hs-identifier hs-var">backendConfigs</span></a></span><span>
</span><span id="line-418"></span><span>
</span><span id="line-419"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621689741089"><span id="local-6989586621689741091"><span id="local-6989586621689741093"><span class="annot"><span class="hs-identifier hs-type">ToJSON</span></span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#Metadata"><span class="hs-identifier hs-type">Metadata</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-420"></span><span>  </span><span id="local-6989586621689741088"><span class="annot"><span class="annottext">toJSON :: Metadata -&gt; Value
</span><a href="#local-6989586621689741088"><span class="hs-identifier hs-var hs-var hs-var hs-var">toJSON</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Value -&gt; Value
</span><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-8.10.7/aeson-ordered-0.1.0.0/opt/doc/html/aeson-ordered/src"><span class="hs-identifier hs-var">AO.fromOrdered</span></a></span><span> </span><span class="annot"><span class="annottext">(Value -&gt; Value) -&gt; (Metadata -&gt; Value) -&gt; Metadata -&gt; Value
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Metadata -&gt; Value
</span><a href="Hasura.RQL.Types.Metadata.html#metadataToOrdJSON"><span class="hs-identifier hs-var">metadataToOrdJSON</span></a></span><span>
</span><span id="line-421"></span><span>
</span><span id="line-422"></span><span class="hs-comment">-- | Convert 'Metadata' to a DTO for serialization. In the near future the plan</span><span>
</span><span id="line-423"></span><span class="hs-comment">-- is to use this function instead of the 'ToJSON' instance of 'Metadata'.</span><span>
</span><span id="line-424"></span><span class="hs-comment">-- For the time being DTO serialization does not match the same order of object</span><span>
</span><span id="line-425"></span><span class="hs-comment">-- keys as the 'ToJSON' instance - we can't switch to using this function until</span><span>
</span><span id="line-426"></span><span class="hs-comment">-- that issue is resolved. See https://hasurahq.atlassian.net/browse/MM-29</span><span>
</span><span id="line-427"></span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#metadataToDTO"><span class="hs-identifier hs-type">metadataToDTO</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#Metadata"><span class="hs-identifier hs-type">Metadata</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Hasura.Metadata.DTO.MetadataV3.html#MetadataV3"><span class="hs-identifier hs-type">MetadataV3</span></a></span><span>
</span><span id="line-428"></span><span id="metadataToDTO"><span class="annot"><span class="annottext">metadataToDTO :: Metadata -&gt; MetadataV3
</span><a href="Hasura.RQL.Types.Metadata.html#metadataToDTO"><span class="hs-identifier hs-var hs-var">metadataToDTO</span></a></span></span><span>
</span><span id="line-429"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#Metadata"><span class="hs-identifier hs-type">Metadata</span></a></span><span>
</span><span id="line-430"></span><span>      </span><span id="local-6989586621689741086"><span class="annot"><span class="annottext">Sources
</span><a href="#local-6989586621689741086"><span class="hs-identifier hs-var">sources</span></a></span></span><span>
</span><span id="line-431"></span><span>      </span><span id="local-6989586621689741085"><span class="annot"><span class="annottext">RemoteSchemas
</span><a href="#local-6989586621689741085"><span class="hs-identifier hs-var">remoteSchemas</span></a></span></span><span>
</span><span id="line-432"></span><span>      </span><span id="local-6989586621689741084"><span class="annot"><span class="annottext">QueryCollections
</span><a href="#local-6989586621689741084"><span class="hs-identifier hs-var">queryCollections</span></a></span></span><span>
</span><span id="line-433"></span><span>      </span><span id="local-6989586621689741083"><span class="annot"><span class="annottext">MetadataAllowlist
</span><a href="#local-6989586621689741083"><span class="hs-identifier hs-var">allowlist</span></a></span></span><span>
</span><span id="line-434"></span><span>      </span><span id="local-6989586621689741082"><span class="annot"><span class="annottext">CustomTypes
</span><a href="#local-6989586621689741082"><span class="hs-identifier hs-var">customTypes</span></a></span></span><span>
</span><span id="line-435"></span><span>      </span><span id="local-6989586621689741081"><span class="annot"><span class="annottext">Actions
</span><a href="#local-6989586621689741081"><span class="hs-identifier hs-var">actions</span></a></span></span><span>
</span><span id="line-436"></span><span>      </span><span id="local-6989586621689741080"><span class="annot"><span class="annottext">CronTriggers
</span><a href="#local-6989586621689741080"><span class="hs-identifier hs-var">cronTriggers</span></a></span></span><span>
</span><span id="line-437"></span><span>      </span><span id="local-6989586621689741079"><span class="annot"><span class="annottext">Endpoints
</span><a href="#local-6989586621689741079"><span class="hs-identifier hs-var">endpoints</span></a></span></span><span>
</span><span id="line-438"></span><span>      </span><span id="local-6989586621689741078"><span class="annot"><span class="annottext">ApiLimit
</span><a href="#local-6989586621689741078"><span class="hs-identifier hs-var">apiLimits</span></a></span></span><span>
</span><span id="line-439"></span><span>      </span><span id="local-6989586621689741077"><span class="annot"><span class="annottext">MetricsConfig
</span><a href="#local-6989586621689741077"><span class="hs-identifier hs-var">metricsConfig</span></a></span></span><span>
</span><span id="line-440"></span><span>      </span><span id="local-6989586621689741076"><span class="annot"><span class="annottext">InheritedRoles
</span><a href="#local-6989586621689741076"><span class="hs-identifier hs-var">inheritedRoles</span></a></span></span><span>
</span><span id="line-441"></span><span>      </span><span id="local-6989586621689741075"><span class="annot"><span class="annottext">SetGraphqlIntrospectionOptions
</span><a href="#local-6989586621689741075"><span class="hs-identifier hs-var">introspectionDisabledRoles</span></a></span></span><span>
</span><span id="line-442"></span><span>      </span><span id="local-6989586621689741074"><span class="annot"><span class="annottext">Network
</span><a href="#local-6989586621689741074"><span class="hs-identifier hs-var">networkConfig</span></a></span></span><span>
</span><span id="line-443"></span><span>      </span><span id="local-6989586621689741073"><span class="annot"><span class="annottext">BackendMap BackendConfigWrapper
</span><a href="#local-6989586621689741073"><span class="hs-identifier hs-var">backendConfigs</span></a></span></span><span>
</span><span id="line-444"></span><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-445"></span><span>    </span><span class="annot"><span class="annottext">MetadataV3 :: Sources
-&gt; Maybe PlaceholderArray
-&gt; Maybe PlaceholderArray
-&gt; Maybe PlaceholderArray
-&gt; Maybe PlaceholderArray
-&gt; Maybe PlaceholderObject
-&gt; Maybe PlaceholderArray
-&gt; Maybe PlaceholderArray
-&gt; Maybe PlaceholderObject
-&gt; Maybe PlaceholderObject
-&gt; Maybe PlaceholderArray
-&gt; Maybe PlaceholderObject
-&gt; Maybe PlaceholderObject
-&gt; Maybe PlaceholderObject
-&gt; MetadataV3
</span><a href="Hasura.Metadata.DTO.MetadataV3.html#MetadataV3"><span class="hs-identifier hs-type">MetadataV3</span></a></span><span>
</span><span id="line-446"></span><span>      </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">metaV3Sources :: Sources
</span><a href="Hasura.Metadata.DTO.MetadataV3.html#metaV3Sources"><span class="hs-identifier hs-var">metaV3Sources</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Sources
</span><a href="#local-6989586621689741086"><span class="hs-identifier hs-var">sources</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-447"></span><span>        </span><span class="annot"><span class="annottext">metaV3RemoteSchemas :: Maybe PlaceholderArray
</span><a href="Hasura.Metadata.DTO.MetadataV3.html#metaV3RemoteSchemas"><span class="hs-identifier hs-var">metaV3RemoteSchemas</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Array -&gt; PlaceholderArray
forall p a. IsPlaceholder p a =&gt; a -&gt; p
</span><a href="Hasura.Metadata.DTO.Placeholder.html#placeholder"><span class="hs-identifier hs-var">placeholder</span></a></span><span> </span><span class="annot"><span class="annottext">(Array -&gt; PlaceholderArray)
-&gt; Maybe Array -&gt; Maybe PlaceholderArray
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">RemoteSchemas -&gt; Maybe Array
</span><a href="Hasura.RQL.Types.Metadata.Serialization.html#remoteSchemasToOrdJSONList"><span class="hs-identifier hs-var">remoteSchemasToOrdJSONList</span></a></span><span> </span><span class="annot"><span class="annottext">RemoteSchemas
</span><a href="#local-6989586621689741085"><span class="hs-identifier hs-var">remoteSchemas</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-448"></span><span>        </span><span class="annot"><span class="annottext">metaV3QueryCollections :: Maybe PlaceholderArray
</span><a href="Hasura.Metadata.DTO.MetadataV3.html#metaV3QueryCollections"><span class="hs-identifier hs-var">metaV3QueryCollections</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Array -&gt; PlaceholderArray
forall p a. IsPlaceholder p a =&gt; a -&gt; p
</span><a href="Hasura.Metadata.DTO.Placeholder.html#placeholder"><span class="hs-identifier hs-var">placeholder</span></a></span><span> </span><span class="annot"><span class="annottext">(Array -&gt; PlaceholderArray)
-&gt; Maybe Array -&gt; Maybe PlaceholderArray
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">QueryCollections -&gt; Maybe Array
</span><a href="Hasura.RQL.Types.Metadata.Serialization.html#queryCollectionsToOrdJSONList"><span class="hs-identifier hs-var">queryCollectionsToOrdJSONList</span></a></span><span> </span><span class="annot"><span class="annottext">QueryCollections
</span><a href="#local-6989586621689741084"><span class="hs-identifier hs-var">queryCollections</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-449"></span><span>        </span><span class="annot"><span class="annottext">metaV3Allowlist :: Maybe PlaceholderArray
</span><a href="Hasura.Metadata.DTO.MetadataV3.html#metaV3Allowlist"><span class="hs-identifier hs-var">metaV3Allowlist</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Array -&gt; PlaceholderArray
forall p a. IsPlaceholder p a =&gt; a -&gt; p
</span><a href="Hasura.Metadata.DTO.Placeholder.html#placeholder"><span class="hs-identifier hs-var">placeholder</span></a></span><span> </span><span class="annot"><span class="annottext">(Array -&gt; PlaceholderArray)
-&gt; Maybe Array -&gt; Maybe PlaceholderArray
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">MetadataAllowlist -&gt; Maybe Array
</span><a href="Hasura.RQL.Types.Metadata.Serialization.html#allowlistToOrdJSONList"><span class="hs-identifier hs-var">allowlistToOrdJSONList</span></a></span><span> </span><span class="annot"><span class="annottext">MetadataAllowlist
</span><a href="#local-6989586621689741083"><span class="hs-identifier hs-var">allowlist</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-450"></span><span>        </span><span class="annot"><span class="annottext">metaV3Actions :: Maybe PlaceholderArray
</span><a href="Hasura.Metadata.DTO.MetadataV3.html#metaV3Actions"><span class="hs-identifier hs-var">metaV3Actions</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Array -&gt; PlaceholderArray
forall p a. IsPlaceholder p a =&gt; a -&gt; p
</span><a href="Hasura.Metadata.DTO.Placeholder.html#placeholder"><span class="hs-identifier hs-var">placeholder</span></a></span><span> </span><span class="annot"><span class="annottext">(Array -&gt; PlaceholderArray)
-&gt; Maybe Array -&gt; Maybe PlaceholderArray
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Actions -&gt; Maybe Array
</span><a href="Hasura.RQL.Types.Metadata.Serialization.html#actionMetadataToOrdJSONList"><span class="hs-identifier hs-var">actionMetadataToOrdJSONList</span></a></span><span> </span><span class="annot"><span class="annottext">Actions
</span><a href="#local-6989586621689741081"><span class="hs-identifier hs-var">actions</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-451"></span><span>        </span><span class="annot"><span class="annottext">metaV3CustomTypes :: Maybe PlaceholderObject
</span><a href="Hasura.Metadata.DTO.MetadataV3.html#metaV3CustomTypes"><span class="hs-identifier hs-var">metaV3CustomTypes</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Object -&gt; PlaceholderObject
forall p a. IsPlaceholder p a =&gt; a -&gt; p
</span><a href="Hasura.Metadata.DTO.Placeholder.html#placeholder"><span class="hs-identifier hs-var">placeholder</span></a></span><span> </span><span class="annot"><span class="annottext">(Object -&gt; PlaceholderObject)
-&gt; Maybe Object -&gt; Maybe PlaceholderObject
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">CustomTypes -&gt; Maybe Object
</span><a href="Hasura.RQL.Types.Metadata.Serialization.html#customTypesToOrdJSON"><span class="hs-identifier hs-var">customTypesToOrdJSON</span></a></span><span> </span><span class="annot"><span class="annottext">CustomTypes
</span><a href="#local-6989586621689741082"><span class="hs-identifier hs-var">customTypes</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-452"></span><span>        </span><span class="annot"><span class="annottext">metaV3CronTriggers :: Maybe PlaceholderArray
</span><a href="Hasura.Metadata.DTO.MetadataV3.html#metaV3CronTriggers"><span class="hs-identifier hs-var">metaV3CronTriggers</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Array -&gt; PlaceholderArray
forall p a. IsPlaceholder p a =&gt; a -&gt; p
</span><a href="Hasura.Metadata.DTO.Placeholder.html#placeholder"><span class="hs-identifier hs-var">placeholder</span></a></span><span> </span><span class="annot"><span class="annottext">(Array -&gt; PlaceholderArray)
-&gt; Maybe Array -&gt; Maybe PlaceholderArray
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">CronTriggers -&gt; Maybe Array
</span><a href="Hasura.RQL.Types.Metadata.Serialization.html#cronTriggersToOrdJSONList"><span class="hs-identifier hs-var">cronTriggersToOrdJSONList</span></a></span><span> </span><span class="annot"><span class="annottext">CronTriggers
</span><a href="#local-6989586621689741080"><span class="hs-identifier hs-var">cronTriggers</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-453"></span><span>        </span><span class="annot"><span class="annottext">metaV3RestEndpoints :: Maybe PlaceholderArray
</span><a href="Hasura.Metadata.DTO.MetadataV3.html#metaV3RestEndpoints"><span class="hs-identifier hs-var">metaV3RestEndpoints</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Array -&gt; PlaceholderArray
forall p a. IsPlaceholder p a =&gt; a -&gt; p
</span><a href="Hasura.Metadata.DTO.Placeholder.html#placeholder"><span class="hs-identifier hs-var">placeholder</span></a></span><span> </span><span class="annot"><span class="annottext">(Array -&gt; PlaceholderArray)
-&gt; Maybe Array -&gt; Maybe PlaceholderArray
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Endpoints -&gt; Maybe Array
</span><a href="Hasura.RQL.Types.Metadata.Serialization.html#endpointsToOrdJSONList"><span class="hs-identifier hs-var">endpointsToOrdJSONList</span></a></span><span> </span><span class="annot"><span class="annottext">Endpoints
</span><a href="#local-6989586621689741079"><span class="hs-identifier hs-var">endpoints</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-454"></span><span>        </span><span class="annot"><span class="annottext">metaV3ApiLimits :: Maybe PlaceholderObject
</span><a href="Hasura.Metadata.DTO.MetadataV3.html#metaV3ApiLimits"><span class="hs-identifier hs-var">metaV3ApiLimits</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Object -&gt; PlaceholderObject
forall p a. IsPlaceholder p a =&gt; a -&gt; p
</span><a href="Hasura.Metadata.DTO.Placeholder.html#placeholder"><span class="hs-identifier hs-var">placeholder</span></a></span><span> </span><span class="annot"><span class="annottext">(Object -&gt; PlaceholderObject)
-&gt; (Value -&gt; Object) -&gt; Value -&gt; PlaceholderObject
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Object
</span><a href="#local-6989586621689741062"><span class="hs-identifier hs-var">objectFromOrdJSON</span></a></span><span> </span><span class="annot"><span class="annottext">(Value -&gt; PlaceholderObject)
-&gt; Maybe Value -&gt; Maybe PlaceholderObject
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">ApiLimit -&gt; Maybe Value
</span><a href="Hasura.RQL.Types.Metadata.Serialization.html#apiLimitsToOrdJSON"><span class="hs-identifier hs-var">apiLimitsToOrdJSON</span></a></span><span> </span><span class="annot"><span class="annottext">ApiLimit
</span><a href="#local-6989586621689741078"><span class="hs-identifier hs-var">apiLimits</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-455"></span><span>        </span><span class="annot"><span class="annottext">metaV3MetricsConfig :: Maybe PlaceholderObject
</span><a href="Hasura.Metadata.DTO.MetadataV3.html#metaV3MetricsConfig"><span class="hs-identifier hs-var">metaV3MetricsConfig</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Object -&gt; PlaceholderObject
forall p a. IsPlaceholder p a =&gt; a -&gt; p
</span><a href="Hasura.Metadata.DTO.Placeholder.html#placeholder"><span class="hs-identifier hs-var">placeholder</span></a></span><span> </span><span class="annot"><span class="annottext">(Object -&gt; PlaceholderObject)
-&gt; (Value -&gt; Object) -&gt; Value -&gt; PlaceholderObject
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Object
</span><a href="#local-6989586621689741062"><span class="hs-identifier hs-var">objectFromOrdJSON</span></a></span><span> </span><span class="annot"><span class="annottext">(Value -&gt; PlaceholderObject)
-&gt; Maybe Value -&gt; Maybe PlaceholderObject
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">MetricsConfig -&gt; Maybe Value
</span><a href="Hasura.RQL.Types.Metadata.Serialization.html#metricsConfigToOrdJSON"><span class="hs-identifier hs-var">metricsConfigToOrdJSON</span></a></span><span> </span><span class="annot"><span class="annottext">MetricsConfig
</span><a href="#local-6989586621689741077"><span class="hs-identifier hs-var">metricsConfig</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-456"></span><span>        </span><span class="annot"><span class="annottext">metaV3InheritedRoles :: Maybe PlaceholderArray
</span><a href="Hasura.Metadata.DTO.MetadataV3.html#metaV3InheritedRoles"><span class="hs-identifier hs-var">metaV3InheritedRoles</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Array -&gt; PlaceholderArray
forall p a. IsPlaceholder p a =&gt; a -&gt; p
</span><a href="Hasura.Metadata.DTO.Placeholder.html#placeholder"><span class="hs-identifier hs-var">placeholder</span></a></span><span> </span><span class="annot"><span class="annottext">(Array -&gt; PlaceholderArray)
-&gt; Maybe Array -&gt; Maybe PlaceholderArray
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">InheritedRoles -&gt; Maybe Array
</span><a href="Hasura.RQL.Types.Metadata.Serialization.html#inheritedRolesToOrdJSONList"><span class="hs-identifier hs-var">inheritedRolesToOrdJSONList</span></a></span><span> </span><span class="annot"><span class="annottext">InheritedRoles
</span><a href="#local-6989586621689741076"><span class="hs-identifier hs-var">inheritedRoles</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-457"></span><span>        </span><span class="annot"><span class="annottext">metaV3GraphqlSchemaIntrospection :: Maybe PlaceholderObject
</span><a href="Hasura.Metadata.DTO.MetadataV3.html#metaV3GraphqlSchemaIntrospection"><span class="hs-identifier hs-var">metaV3GraphqlSchemaIntrospection</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Object -&gt; PlaceholderObject
forall p a. IsPlaceholder p a =&gt; a -&gt; p
</span><a href="Hasura.Metadata.DTO.Placeholder.html#placeholder"><span class="hs-identifier hs-var">placeholder</span></a></span><span> </span><span class="annot"><span class="annottext">(Object -&gt; PlaceholderObject)
-&gt; (Value -&gt; Object) -&gt; Value -&gt; PlaceholderObject
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Object
</span><a href="#local-6989586621689741062"><span class="hs-identifier hs-var">objectFromOrdJSON</span></a></span><span> </span><span class="annot"><span class="annottext">(Value -&gt; PlaceholderObject)
-&gt; Maybe Value -&gt; Maybe PlaceholderObject
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">SetGraphqlIntrospectionOptions -&gt; Maybe Value
</span><a href="Hasura.RQL.Types.Metadata.Serialization.html#introspectionDisabledRolesToOrdJSON"><span class="hs-identifier hs-var">introspectionDisabledRolesToOrdJSON</span></a></span><span> </span><span class="annot"><span class="annottext">SetGraphqlIntrospectionOptions
</span><a href="#local-6989586621689741075"><span class="hs-identifier hs-var">introspectionDisabledRoles</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-458"></span><span>        </span><span class="annot"><span class="annottext">metaV3Network :: Maybe PlaceholderObject
</span><a href="Hasura.Metadata.DTO.MetadataV3.html#metaV3Network"><span class="hs-identifier hs-var">metaV3Network</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Object -&gt; PlaceholderObject
forall p a. IsPlaceholder p a =&gt; a -&gt; p
</span><a href="Hasura.Metadata.DTO.Placeholder.html#placeholder"><span class="hs-identifier hs-var">placeholder</span></a></span><span> </span><span class="annot"><span class="annottext">(Object -&gt; PlaceholderObject)
-&gt; (Value -&gt; Object) -&gt; Value -&gt; PlaceholderObject
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Object
</span><a href="#local-6989586621689741062"><span class="hs-identifier hs-var">objectFromOrdJSON</span></a></span><span> </span><span class="annot"><span class="annottext">(Value -&gt; PlaceholderObject)
-&gt; Maybe Value -&gt; Maybe PlaceholderObject
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Network -&gt; Maybe Value
</span><a href="Hasura.RQL.Types.Metadata.Serialization.html#networkConfigToOrdJSON"><span class="hs-identifier hs-var">networkConfigToOrdJSON</span></a></span><span> </span><span class="annot"><span class="annottext">Network
</span><a href="#local-6989586621689741074"><span class="hs-identifier hs-var">networkConfig</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-459"></span><span>        </span><span class="annot"><span class="annottext">metaV3BackendConfigs :: Maybe PlaceholderObject
</span><a href="Hasura.Metadata.DTO.MetadataV3.html#metaV3BackendConfigs"><span class="hs-identifier hs-var">metaV3BackendConfigs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Object -&gt; PlaceholderObject
forall p a. IsPlaceholder p a =&gt; a -&gt; p
</span><a href="Hasura.Metadata.DTO.Placeholder.html#placeholder"><span class="hs-identifier hs-var">placeholder</span></a></span><span> </span><span class="annot"><span class="annottext">(Object -&gt; PlaceholderObject)
-&gt; (Value -&gt; Object) -&gt; Value -&gt; PlaceholderObject
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Object
</span><a href="#local-6989586621689741062"><span class="hs-identifier hs-var">objectFromOrdJSON</span></a></span><span> </span><span class="annot"><span class="annottext">(Value -&gt; PlaceholderObject)
-&gt; Maybe Value -&gt; Maybe PlaceholderObject
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">BackendMap BackendConfigWrapper -&gt; Maybe Value
</span><a href="Hasura.RQL.Types.Metadata.Serialization.html#backendConfigsToOrdJSON"><span class="hs-identifier hs-var">backendConfigsToOrdJSON</span></a></span><span> </span><span class="annot"><span class="annottext">BackendMap BackendConfigWrapper
</span><a href="#local-6989586621689741073"><span class="hs-identifier hs-var">backendConfigs</span></a></span><span>
</span><span id="line-460"></span><span>      </span><span class="hs-special">}</span><span>
</span><span id="line-461"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-462"></span><span>      </span><span class="hs-comment">-- This is a /partial/ function to unwrap a JSON object</span><span>
</span><span id="line-463"></span><span>      </span><span id="local-6989586621689741062"><span class="annot"><span class="annottext">objectFromOrdJSON :: Value -&gt; Object
</span><a href="#local-6989586621689741062"><span class="hs-identifier hs-var hs-var">objectFromOrdJSON</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-8.10.7/aeson-ordered-0.1.0.0/opt/doc/html/aeson-ordered/src"><span class="hs-identifier hs-type">AO.Object</span></a></span><span> </span><span id="local-6989586621689741056"><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689741056"><span class="hs-identifier hs-var">obj</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689741056"><span class="hs-identifier hs-var">obj</span></a></span><span>
</span><span id="line-464"></span><span>      </span><span class="annot"><a href="#local-6989586621689741062"><span class="hs-identifier hs-var">objectFromOrdJSON</span></a></span><span> </span><span class="annot"><span class="annottext">Value
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Object
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;expected an object&quot;</span></span><span>
</span><span id="line-465"></span></pre></body></html>