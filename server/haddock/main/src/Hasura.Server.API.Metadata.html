<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="annot"><span class="hs-comment">-- | The RQL metadata query ('/v1/metadata')</span></span><span>
</span><span id="line-2"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Hasura.Server.API.Metadata</span><span>
</span><span id="line-3"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Hasura.Server.API.Metadata.html#RQLMetadata"><span class="hs-identifier">RQLMetadata</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-4"></span><span>    </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RQLMetadataV1"><span class="hs-identifier">RQLMetadataV1</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-5"></span><span>    </span><span class="annot"><a href="Hasura.Server.API.Metadata.html#runMetadataQuery"><span class="hs-identifier">runMetadataQuery</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-6"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-7"></span><span class="hs-keyword">where</span><span>
</span><span id="line-8"></span><span>
</span><span id="line-9"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/lens-5.2.2-70a68698e02c1d9dc133c543e6497a7241e5514570afd4815da4baf2a001e00e/share/doc/html/src/Control.Lens.html"><span class="hs-identifier">Control.Lens</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/lens-5.2.2-70a68698e02c1d9dc133c543e6497a7241e5514570afd4815da4baf2a001e00e/share/doc/html/src/Control.Lens.Prism.html#_Just"><span class="hs-identifier">_Just</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-10"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/monad-control-1.0.3.1-92f8a47f193bc8ca499a8b94581fad6cb68b7a26370b271798ac2ec617c05064/share/doc/html/src/Control.Monad.Trans.Control.html"><span class="hs-identifier">Control.Monad.Trans.Control</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/monad-control-1.0.3.1-92f8a47f193bc8ca499a8b94581fad6cb68b7a26370b271798ac2ec617c05064/share/doc/html/src/Control.Monad.Trans.Control.html#MonadBaseControl"><span class="hs-identifier">MonadBaseControl</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-11"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/aeson-2.1.2.1-78f82c0a41c76fc62260cf94c4b206816c9efb8c3788f4fbd6184398938cf6fb/share/doc/html/src/Data.Aeson.html"><span class="hs-identifier">Data.Aeson</span></a></span><span>
</span><span id="line-12"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-extras-1.0.0/opt/doc/html/hasura-extras/src/Data.Environment.html"><span class="hs-identifier">Data.Environment</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Env</span></span><span>
</span><span id="line-13"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/data-has-0.4.0.0-046b1b301c44f043005ecffcde95c748cd1a5249e8b9e9ea3eaa14bac0030231/share/doc/html/src/Data.Has.html"><span class="hs-identifier">Data.Has</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/data-has-0.4.0.0-046b1b301c44f043005ecffcde95c748cd1a5249e8b9e9ea3eaa14bac0030231/share/doc/html/src/Data.Has.html#Has"><span class="hs-identifier">Has</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-14"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/unordered-containers-0.2.19.1-a5b4fa803c841f948b5080a5c7a22f4e3b108a71ab10582fd155001f6f7ca093/share/doc/html/src/Data.HashMap.Strict.html"><span class="hs-identifier">Data.HashMap.Strict</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">HashMap</span></span><span>
</span><span id="line-15"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/text-2.0.1-27d8e86ddce8dd754c06549efa10988301d41e208fc11cac9fe9ed6d99d6eb35/share/doc/html/src/Data.Text.html"><span class="hs-identifier">Data.Text</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">T</span></span><span>
</span><span id="line-16"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-extras-1.0.0/opt/doc/html/hasura-extras/src/GHC.Generics.Extended.html"><span class="hs-identifier">GHC.Generics.Extended</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-extras-1.0.0/opt/doc/html/hasura-extras/src/GHC.Generics.Extended.html#constrName"><span class="hs-identifier">constrName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-17"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.App.State.html"><span class="hs-identifier">Hasura.App.State</span></a></span><span>
</span><span id="line-18"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-base-1.0.0/opt/doc/html/hasura-base/src/Hasura.Base.Error.html"><span class="hs-identifier">Hasura.Base.Error</span></a></span><span>
</span><span id="line-19"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-json-encoding-1.0.0/opt/doc/html/hasura-json-encoding/src/Hasura.EncJSON.html"><span class="hs-identifier">Hasura.EncJSON</span></a></span><span>
</span><span id="line-20"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.Eventing.Backend.html"><span class="hs-identifier">Hasura.Eventing.Backend</span></a></span><span>
</span><span id="line-21"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.Function.API.html"><span class="hs-identifier">Hasura.Function.API</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Functions</span></span><span>
</span><span id="line-22"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Transport.WebSocket.html"><span class="hs-identifier">Hasura.GraphQL.Transport.WebSocket</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">WS</span></span><span>
</span><span id="line-23"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.Logging.html"><span class="hs-identifier">Hasura.Logging</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">L</span></span><span>
</span><span id="line-24"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.LogicalModel.API.html"><span class="hs-identifier">Hasura.LogicalModel.API</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">LogicalModel</span></span><span>
</span><span id="line-25"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.Metadata.Class.html"><span class="hs-identifier">Hasura.Metadata.Class</span></a></span><span>
</span><span id="line-26"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.NativeQuery.API.html"><span class="hs-identifier">Hasura.NativeQuery.API</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">NativeQueries</span></span><span>
</span><span id="line-27"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/src/Hasura.Prelude.html"><span class="hs-identifier">Hasura.Prelude</span></a></span><span> </span><span class="hs-keyword">hiding</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">first</span></span><span class="hs-special">)</span><span>
</span><span id="line-28"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.DDL.Action.html"><span class="hs-identifier">Hasura.RQL.DDL.Action</span></a></span><span>
</span><span id="line-29"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.DDL.Action.Lenses.html"><span class="hs-identifier">Hasura.RQL.DDL.Action.Lenses</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.DDL.Action.Lenses.html#caDefinition"><span class="hs-identifier">caDefinition</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hasura.RQL.DDL.Action.Lenses.html#uaDefinition"><span class="hs-identifier">uaDefinition</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-30"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.DDL.ApiLimit.html"><span class="hs-identifier">Hasura.RQL.DDL.ApiLimit</span></a></span><span>
</span><span id="line-31"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.DDL.ComputedField.html"><span class="hs-identifier">Hasura.RQL.DDL.ComputedField</span></a></span><span>
</span><span id="line-32"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.DDL.ConnectionTemplate.html"><span class="hs-identifier">Hasura.RQL.DDL.ConnectionTemplate</span></a></span><span>
</span><span id="line-33"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.DDL.CustomTypes.html"><span class="hs-identifier">Hasura.RQL.DDL.CustomTypes</span></a></span><span>
</span><span id="line-34"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.DDL.DataConnector.html"><span class="hs-identifier">Hasura.RQL.DDL.DataConnector</span></a></span><span>
</span><span id="line-35"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.DDL.Endpoint.html"><span class="hs-identifier">Hasura.RQL.DDL.Endpoint</span></a></span><span>
</span><span id="line-36"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.DDL.EventTrigger.html"><span class="hs-identifier">Hasura.RQL.DDL.EventTrigger</span></a></span><span>
</span><span id="line-37"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.DDL.GraphqlSchemaIntrospection.html"><span class="hs-identifier">Hasura.RQL.DDL.GraphqlSchemaIntrospection</span></a></span><span>
</span><span id="line-38"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.DDL.InheritedRoles.html"><span class="hs-identifier">Hasura.RQL.DDL.InheritedRoles</span></a></span><span>
</span><span id="line-39"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.DDL.Metadata.html"><span class="hs-identifier">Hasura.RQL.DDL.Metadata</span></a></span><span>
</span><span id="line-40"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.DDL.Network.html"><span class="hs-identifier">Hasura.RQL.DDL.Network</span></a></span><span>
</span><span id="line-41"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.DDL.OpenTelemetry.html"><span class="hs-identifier">Hasura.RQL.DDL.OpenTelemetry</span></a></span><span>
</span><span id="line-42"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.DDL.Permission.html"><span class="hs-identifier">Hasura.RQL.DDL.Permission</span></a></span><span>
</span><span id="line-43"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.DDL.QueryCollection.html"><span class="hs-identifier">Hasura.RQL.DDL.QueryCollection</span></a></span><span>
</span><span id="line-44"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.DDL.QueryTags.html"><span class="hs-identifier">Hasura.RQL.DDL.QueryTags</span></a></span><span>
</span><span id="line-45"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.DDL.Relationship.html"><span class="hs-identifier">Hasura.RQL.DDL.Relationship</span></a></span><span>
</span><span id="line-46"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.DDL.Relationship.Rename.html"><span class="hs-identifier">Hasura.RQL.DDL.Relationship.Rename</span></a></span><span>
</span><span id="line-47"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.DDL.Relationship.Suggest.html"><span class="hs-identifier">Hasura.RQL.DDL.Relationship.Suggest</span></a></span><span>
</span><span id="line-48"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.DDL.RemoteRelationship.html"><span class="hs-identifier">Hasura.RQL.DDL.RemoteRelationship</span></a></span><span>
</span><span id="line-49"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.DDL.ScheduledTrigger.html"><span class="hs-identifier">Hasura.RQL.DDL.ScheduledTrigger</span></a></span><span>
</span><span id="line-50"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.DDL.Schema.html"><span class="hs-identifier">Hasura.RQL.DDL.Schema</span></a></span><span>
</span><span id="line-51"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.DDL.Schema.Cache.Config.html"><span class="hs-identifier">Hasura.RQL.DDL.Schema.Cache.Config</span></a></span><span>
</span><span id="line-52"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.DDL.Schema.Source.html"><span class="hs-identifier">Hasura.RQL.DDL.Schema.Source</span></a></span><span>
</span><span id="line-53"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.DDL.SourceKinds.html"><span class="hs-identifier">Hasura.RQL.DDL.SourceKinds</span></a></span><span>
</span><span id="line-54"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.DDL.Webhook.Transform.Validation.html"><span class="hs-identifier">Hasura.RQL.DDL.Webhook.Transform.Validation</span></a></span><span>
</span><span id="line-55"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Action.html"><span class="hs-identifier">Hasura.RQL.Types.Action</span></a></span><span>
</span><span id="line-56"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Common.html"><span class="hs-identifier">Hasura.RQL.Types.Common</span></a></span><span>
</span><span id="line-57"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html"><span class="hs-identifier">Hasura.RQL.Types.Metadata</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#Metadata"><span class="hs-identifier">Metadata</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#MetadataModifier"><span class="hs-identifier">MetadataModifier</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#MetadataModifier"><span class="hs-identifier">MetadataModifier</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#emptyMetadataDefaults"><span class="hs-identifier">emptyMetadataDefaults</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-58"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.Backend.html"><span class="hs-identifier">Hasura.RQL.Types.Metadata.Backend</span></a></span><span>
</span><span id="line-59"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.Object.html"><span class="hs-identifier">Hasura.RQL.Types.Metadata.Object</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.Types.Metadata.Object.html#MetadataObjId"><span class="hs-identifier">MetadataObjId</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-60"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Permission.html"><span class="hs-identifier">Hasura.RQL.Types.Permission</span></a></span><span>
</span><span id="line-61"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.ScheduledTrigger.html"><span class="hs-identifier">Hasura.RQL.Types.ScheduledTrigger</span></a></span><span>
</span><span id="line-62"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Schema.Options.html"><span class="hs-identifier">Hasura.RQL.Types.Schema.Options</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Options</span></span><span>
</span><span id="line-63"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.SchemaCache.html"><span class="hs-identifier">Hasura.RQL.Types.SchemaCache</span></a></span><span>
</span><span id="line-64"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.SchemaCache.Build.html"><span class="hs-identifier">Hasura.RQL.Types.SchemaCache.Build</span></a></span><span>
</span><span id="line-65"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Source.html"><span class="hs-identifier">Hasura.RQL.Types.Source</span></a></span><span>
</span><span id="line-66"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RemoteSchema.MetadataAPI.html"><span class="hs-identifier">Hasura.RemoteSchema.MetadataAPI</span></a></span><span>
</span><span id="line-67"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.SQL.AnyBackend.html"><span class="hs-identifier">Hasura.SQL.AnyBackend</span></a></span><span>
</span><span id="line-68"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.Server.API.Instances.html"><span class="hs-identifier">Hasura.Server.API.Instances</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-69"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.Server.API.Metadata.Instances.html"><span class="hs-identifier">Hasura.Server.API.Metadata.Instances</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-70"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html"><span class="hs-identifier">Hasura.Server.API.Metadata.Types</span></a></span><span>
</span><span id="line-71"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.Server.Init.FeatureFlag.html"><span class="hs-identifier">Hasura.Server.Init.FeatureFlag</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.Server.Init.FeatureFlag.html#HasFeatureFlagChecker"><span class="hs-identifier">HasFeatureFlagChecker</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-72"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.Server.Logging.html"><span class="hs-identifier">Hasura.Server.Logging</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.Server.Logging.html#SchemaSyncLog"><span class="hs-identifier">SchemaSyncLog</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hasura.Server.Logging.html#SchemaSyncThreadType"><span class="hs-identifier">SchemaSyncThreadType</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.Server.Logging.html#TTMetadataApi"><span class="hs-identifier">TTMetadataApi</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-73"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.Server.Types.html"><span class="hs-identifier">Hasura.Server.Types</span></a></span><span>
</span><span id="line-74"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.Services.html"><span class="hs-identifier">Hasura.Services</span></a></span><span>
</span><span id="line-75"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.Session.html"><span class="hs-identifier">Hasura.Session</span></a></span><span>
</span><span id="line-76"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.StoredProcedure.API.html"><span class="hs-identifier">Hasura.StoredProcedure.API</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">StoredProcedures</span></span><span>
</span><span id="line-77"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.Tracing.html"><span class="hs-identifier">Hasura.Tracing</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Tracing</span></span><span>
</span><span id="line-78"></span><span>
</span><span id="line-79"></span><span class="hs-comment">-- | The payload for the @/v1/metadata@ endpoint. See:</span><span>
</span><span id="line-80"></span><span class="hs-comment">--</span><span>
</span><span id="line-81"></span><span class="hs-comment">-- https://hasura.io/docs/latest/graphql/core/api-reference/metadata-api/index/</span><span>
</span><span id="line-82"></span><span class="hs-keyword">data</span><span> </span><span id="RQLMetadata"><span class="annot"><a href="Hasura.Server.API.Metadata.html#RQLMetadata"><span class="hs-identifier hs-var">RQLMetadata</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="RQLMetadata"><span class="annot"><a href="Hasura.Server.API.Metadata.html#RQLMetadata"><span class="hs-identifier hs-var">RQLMetadata</span></a></span></span><span>
</span><span id="line-83"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="_rqlMetadataResourceVersion"><span class="annot"><span class="annottext">RQLMetadata -&gt; Maybe MetadataResourceVersion
</span><a href="Hasura.Server.API.Metadata.html#_rqlMetadataResourceVersion"><span class="hs-identifier hs-var hs-var">_rqlMetadataResourceVersion</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Hasura.RQL.Types.SchemaCache.html#MetadataResourceVersion"><span class="hs-identifier hs-type">MetadataResourceVersion</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-84"></span><span>    </span><span id="_rqlMetadata"><span class="annot"><span class="annottext">RQLMetadata -&gt; RQLMetadataRequest
</span><a href="Hasura.Server.API.Metadata.html#_rqlMetadata"><span class="hs-identifier hs-var hs-var">_rqlMetadata</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RQLMetadataRequest"><span class="hs-identifier hs-type">RQLMetadataRequest</span></a></span><span>
</span><span id="line-85"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-86"></span><span>
</span><span id="line-87"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621687564648"><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/aeson-2.1.2.1-78f82c0a41c76fc62260cf94c4b206816c9efb8c3788f4fbd6184398938cf6fb/share/doc/html/src/Data.Aeson.Types.FromJSON.html#FromJSON"><span class="hs-identifier hs-type">FromJSON</span></a></span><span> </span><span class="annot"><a href="Hasura.Server.API.Metadata.html#RQLMetadata"><span class="hs-identifier hs-type">RQLMetadata</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-88"></span><span>  </span><span id="local-6989586621687564663"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser RQLMetadata
</span><a href="#local-6989586621687564663"><span class="hs-identifier hs-var hs-var hs-var hs-var">parseJSON</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
-&gt; (Object -&gt; Parser RQLMetadata) -&gt; Value -&gt; Parser RQLMetadata
forall a. String -&gt; (Object -&gt; Parser a) -&gt; Value -&gt; Parser a
</span><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/aeson-2.1.2.1-78f82c0a41c76fc62260cf94c4b206816c9efb8c3788f4fbd6184398938cf6fb/share/doc/html/src/Data.Aeson.Types.FromJSON.html#withObject"><span class="hs-identifier hs-var">withObject</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;RQLMetadata&quot;</span></span><span> </span><span class="annot"><span class="annottext">((Object -&gt; Parser RQLMetadata) -&gt; Value -&gt; Parser RQLMetadata)
-&gt; (Object -&gt; Parser RQLMetadata) -&gt; Value -&gt; Parser RQLMetadata
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621687564666"><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621687564666"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-89"></span><span>    </span><span id="local-6989586621687564667"><span class="annot"><span class="annottext">Maybe MetadataResourceVersion
</span><a href="#local-6989586621687564667"><span class="hs-identifier hs-var">_rqlMetadataResourceVersion</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621687564666"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser (Maybe MetadataResourceVersion)
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser (Maybe a)
</span><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/aeson-2.1.2.1-78f82c0a41c76fc62260cf94c4b206816c9efb8c3788f4fbd6184398938cf6fb/share/doc/html/src/Data.Aeson.Types.FromJSON.html#.%3A%3F"><span class="hs-operator hs-var">.:?</span></a></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;resource_version&quot;</span></span><span>
</span><span id="line-90"></span><span>    </span><span id="local-6989586621687564669"><span class="annot"><span class="annottext">RQLMetadataRequest
</span><a href="#local-6989586621687564669"><span class="hs-identifier hs-var">_rqlMetadata</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Value -&gt; Parser RQLMetadataRequest
forall a. FromJSON a =&gt; Value -&gt; Parser a
</span><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/aeson-2.1.2.1-78f82c0a41c76fc62260cf94c4b206816c9efb8c3788f4fbd6184398938cf6fb/share/doc/html/src/Data.Aeson.Types.FromJSON.html#parseJSON"><span class="hs-identifier hs-var">parseJSON</span></a></span><span> </span><span class="annot"><span class="annottext">(Value -&gt; Parser RQLMetadataRequest)
-&gt; Value -&gt; Parser RQLMetadataRequest
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Value
</span><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/aeson-2.1.2.1-78f82c0a41c76fc62260cf94c4b206816c9efb8c3788f4fbd6184398938cf6fb/share/doc/html/src/Data.Aeson.Types.Internal.html#Object"><span class="hs-identifier hs-var">Object</span></a></span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621687564666"><span class="hs-identifier hs-var">o</span></a></span><span>
</span><span id="line-91"></span><span>    </span><span class="annot"><span class="annottext">RQLMetadata -&gt; Parser RQLMetadata
forall a. a -&gt; Parser a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><a href="Hasura.Server.API.Metadata.html#RQLMetadata"><span class="hs-identifier hs-type">RQLMetadata</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><span class="annottext">Maybe MetadataResourceVersion
RQLMetadataRequest
_rqlMetadataResourceVersion :: Maybe MetadataResourceVersion
_rqlMetadata :: RQLMetadataRequest
_rqlMetadataResourceVersion :: Maybe MetadataResourceVersion
_rqlMetadata :: RQLMetadataRequest
</span><a href="Hasura.Server.API.Metadata.html#_rqlMetadataResourceVersion"><span class="hs-glyph hs-var hs-var hs-var hs-var">..</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-92"></span><span>
</span><span id="line-93"></span><span id="local-6989586621687563927"><span class="annot"><a href="Hasura.Server.API.Metadata.html#runMetadataQuery"><span class="hs-identifier hs-type">runMetadataQuery</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-94"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621687563927"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-95"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">MonadError</span></span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-base-1.0.0/opt/doc/html/hasura-base/src/Hasura.Base.Error.html#QErr"><span class="hs-identifier hs-type">QErr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687563927"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-96"></span><span>    </span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/monad-control-1.0.3.1-92f8a47f193bc8ca499a8b94581fad6cb68b7a26370b271798ac2ec617c05064/share/doc/html/src/Control.Monad.Trans.Control.html#MonadBaseControl"><span class="hs-identifier hs-type">MonadBaseControl</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621687563927"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-97"></span><span>    </span><span class="annot"><a href="Hasura.App.State.html#HasAppEnv"><span class="hs-identifier hs-type">HasAppEnv</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687563927"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-98"></span><span>    </span><span class="annot"><a href="Hasura.RQL.DDL.Schema.Cache.Config.html#HasCacheStaticConfig"><span class="hs-identifier hs-type">HasCacheStaticConfig</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687563927"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-99"></span><span>    </span><span class="annot"><a href="Hasura.Server.Init.FeatureFlag.html#HasFeatureFlagChecker"><span class="hs-identifier hs-type">HasFeatureFlagChecker</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687563927"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-100"></span><span>    </span><span class="annot"><a href="Hasura.Tracing.Class.html#MonadTrace"><span class="hs-identifier hs-type">Tracing.MonadTrace</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687563927"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-101"></span><span>    </span><span class="annot"><a href="Hasura.Metadata.Class.html#MonadMetadataStorage"><span class="hs-identifier hs-type">MonadMetadataStorage</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687563927"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-102"></span><span>    </span><span class="annot"><a href="Hasura.RQL.Types.Source.html#MonadResolveSource"><span class="hs-identifier hs-type">MonadResolveSource</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687563927"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-103"></span><span>    </span><span class="annot"><a href="Hasura.RQL.DDL.EventTrigger.html#MonadEventLogCleanup"><span class="hs-identifier hs-type">MonadEventLogCleanup</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687563927"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-104"></span><span>    </span><span class="annot"><a href="Hasura.Services.html#ProvidesHasuraServices"><span class="hs-identifier hs-type">ProvidesHasuraServices</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687563927"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-105"></span><span>    </span><span class="annot"><a href="Hasura.Server.Types.html#MonadGetPolicies"><span class="hs-identifier hs-type">MonadGetPolicies</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687563927"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-106"></span><span>    </span><span class="annot"><a href="Hasura.RQL.Types.Session.html#UserInfoM"><span class="hs-identifier hs-type">UserInfoM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687563927"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-107"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-108"></span><span>  </span><span class="annot"><a href="Hasura.App.State.html#AppContext"><span class="hs-identifier hs-type">AppContext</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-109"></span><span>  </span><span class="annot"><a href="Hasura.RQL.DDL.Schema.Cache.Common.html#RebuildableSchemaCache"><span class="hs-identifier hs-type">RebuildableSchemaCache</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-110"></span><span>  </span><span class="annot"><a href="Hasura.GraphQL.Transport.WebSocket.html#WebsocketCloseOnMetadataChangeAction"><span class="hs-identifier hs-type">WS.WebsocketCloseOnMetadataChangeAction</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-111"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.html#RQLMetadata"><span class="hs-identifier hs-type">RQLMetadata</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-112"></span><span>  </span><span class="annot"><a href="#local-6989586621687563927"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-json-encoding-1.0.0/opt/doc/html/hasura-json-encoding/src/Hasura.EncJSON.html#EncJSON"><span class="hs-identifier hs-type">EncJSON</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hasura.RQL.DDL.Schema.Cache.Common.html#RebuildableSchemaCache"><span class="hs-identifier hs-type">RebuildableSchemaCache</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-113"></span><span id="runMetadataQuery"><span class="annot"><span class="annottext">runMetadataQuery :: forall (m :: * -&gt; *).
(MonadIO m, MonadError QErr m, MonadBaseControl IO m, HasAppEnv m,
 HasCacheStaticConfig m, HasFeatureFlagChecker m, MonadTrace m,
 MonadMetadataStorage m, MonadResolveSource m,
 MonadEventLogCleanup m, ProvidesHasuraServices m,
 MonadGetPolicies m, UserInfoM m) =&gt;
AppContext
-&gt; RebuildableSchemaCache
-&gt; WebsocketCloseOnMetadataChangeAction
-&gt; RQLMetadata
-&gt; m (EncJSON, RebuildableSchemaCache)
</span><a href="Hasura.Server.API.Metadata.html#runMetadataQuery"><span class="hs-identifier hs-var hs-var">runMetadataQuery</span></a></span></span><span> </span><span id="local-6989586621687564841"><span class="annot"><span class="annottext">AppContext
</span><a href="#local-6989586621687564841"><span class="hs-identifier hs-var">appContext</span></a></span></span><span> </span><span id="local-6989586621687564842"><span class="annot"><span class="annottext">RebuildableSchemaCache
</span><a href="#local-6989586621687564842"><span class="hs-identifier hs-var">schemaCache</span></a></span></span><span> </span><span id="local-6989586621687564843"><span class="annot"><span class="annottext">WebsocketCloseOnMetadataChangeAction
</span><a href="#local-6989586621687564843"><span class="hs-identifier hs-var">closeWebsocketsOnMetadataChange</span></a></span></span><span> </span><span class="annot"><a href="Hasura.Server.API.Metadata.html#RQLMetadata"><span class="hs-identifier hs-type">RQLMetadata</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621687564844"><span id="local-6989586621687564845"><span class="annot"><span class="annottext">Maybe MetadataResourceVersion
RQLMetadataRequest
_rqlMetadataResourceVersion :: RQLMetadata -&gt; Maybe MetadataResourceVersion
_rqlMetadata :: RQLMetadata -&gt; RQLMetadataRequest
_rqlMetadataResourceVersion :: Maybe MetadataResourceVersion
_rqlMetadata :: RQLMetadataRequest
</span><a href="Hasura.Server.API.Metadata.html#_rqlMetadataResourceVersion"><span class="hs-glyph hs-var hs-var hs-var hs-var">..</span></a></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-114"></span><span>  </span><span class="annot"><a href="Hasura.App.State.html#AppEnv"><span class="hs-identifier hs-type">AppEnv</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621687564847"><span id="local-6989586621687564848"><span id="local-6989586621687564849"><span id="local-6989586621687564850"><span id="local-6989586621687564851"><span id="local-6989586621687564852"><span id="local-6989586621687564853"><span id="local-6989586621687564854"><span id="local-6989586621687564855"><span id="local-6989586621687564856"><span id="local-6989586621687564857"><span id="local-6989586621687564858"><span id="local-6989586621687564859"><span id="local-6989586621687564860"><span id="local-6989586621687564861"><span id="local-6989586621687564862"><span id="local-6989586621687564863"><span id="local-6989586621687564864"><span id="local-6989586621687564865"><span id="local-6989586621687564866"><span id="local-6989586621687564867"><span id="local-6989586621687564868"><span id="local-6989586621687564869"><span id="local-6989586621687564870"><span id="local-6989586621687564871"><span id="local-6989586621687564872"><span id="local-6989586621687564873"><span id="local-6989586621687564874"><span id="local-6989586621687564875"><span id="local-6989586621687564876"><span id="local-6989586621687564877"><span class="annot"><span class="annottext">Int
Maybe Text
Maybe PGPool
Maybe (CredentialCache AgentLicenseKey)
SamplingPolicy
HostPreference
Manager
TxIsolation
ConnParams
PGPool
Refined NonNegative Seconds
TMVar MetadataResourceVersion
ConnectionOptions
CheckFeatureFlag
ServerMetrics
EventingMode
ReadOnlyMode
MaintenanceMode ()
InstanceId
PrometheusMetrics
ShutdownLatch
LoggingSettings
LockedEventsCtx
WSConnectionInitTimeout
KeepAliveDelay
OptionalInterval
Port
SubscriptionsState
Loggers
appEnvPort :: Port
appEnvHost :: HostPreference
appEnvMetadataDbPool :: PGPool
appEnvIntrospectionDbPool :: Maybe PGPool
appEnvManager :: Manager
appEnvLoggers :: Loggers
appEnvMetadataVersionRef :: TMVar MetadataResourceVersion
appEnvInstanceId :: InstanceId
appEnvEnableMaintenanceMode :: MaintenanceMode ()
appEnvLoggingSettings :: LoggingSettings
appEnvEventingMode :: EventingMode
appEnvEnableReadOnlyMode :: ReadOnlyMode
appEnvServerMetrics :: ServerMetrics
appEnvShutdownLatch :: ShutdownLatch
appEnvMetaVersionRef :: TMVar MetadataResourceVersion
appEnvPrometheusMetrics :: PrometheusMetrics
appEnvTraceSamplingPolicy :: SamplingPolicy
appEnvSubscriptionState :: SubscriptionsState
appEnvLockedEventsCtx :: LockedEventsCtx
appEnvConnParams :: ConnParams
appEnvTxIso :: TxIsolation
appEnvConsoleAssetsDir :: Maybe Text
appEnvConsoleSentryDsn :: Maybe Text
appEnvConnectionOptions :: ConnectionOptions
appEnvWebSocketKeepAlive :: KeepAliveDelay
appEnvWebSocketConnectionInitTimeout :: WSConnectionInitTimeout
appEnvGracefulShutdownTimeout :: Refined NonNegative Seconds
appEnvSchemaPollInterval :: OptionalInterval
appEnvCheckFeatureFlag :: CheckFeatureFlag
appEnvLicenseKeyCache :: Maybe (CredentialCache AgentLicenseKey)
appEnvMaxTotalHeaderLength :: Int
appEnvPort :: AppEnv -&gt; Port
appEnvHost :: AppEnv -&gt; HostPreference
appEnvMetadataDbPool :: AppEnv -&gt; PGPool
appEnvIntrospectionDbPool :: AppEnv -&gt; Maybe PGPool
appEnvManager :: AppEnv -&gt; Manager
appEnvLoggers :: AppEnv -&gt; Loggers
appEnvMetadataVersionRef :: AppEnv -&gt; TMVar MetadataResourceVersion
appEnvInstanceId :: AppEnv -&gt; InstanceId
appEnvEnableMaintenanceMode :: AppEnv -&gt; MaintenanceMode ()
appEnvLoggingSettings :: AppEnv -&gt; LoggingSettings
appEnvEventingMode :: AppEnv -&gt; EventingMode
appEnvEnableReadOnlyMode :: AppEnv -&gt; ReadOnlyMode
appEnvServerMetrics :: AppEnv -&gt; ServerMetrics
appEnvShutdownLatch :: AppEnv -&gt; ShutdownLatch
appEnvMetaVersionRef :: AppEnv -&gt; TMVar MetadataResourceVersion
appEnvPrometheusMetrics :: AppEnv -&gt; PrometheusMetrics
appEnvTraceSamplingPolicy :: AppEnv -&gt; SamplingPolicy
appEnvSubscriptionState :: AppEnv -&gt; SubscriptionsState
appEnvLockedEventsCtx :: AppEnv -&gt; LockedEventsCtx
appEnvConnParams :: AppEnv -&gt; ConnParams
appEnvTxIso :: AppEnv -&gt; TxIsolation
appEnvConsoleAssetsDir :: AppEnv -&gt; Maybe Text
appEnvConsoleSentryDsn :: AppEnv -&gt; Maybe Text
appEnvConnectionOptions :: AppEnv -&gt; ConnectionOptions
appEnvWebSocketKeepAlive :: AppEnv -&gt; KeepAliveDelay
appEnvWebSocketConnectionInitTimeout :: AppEnv -&gt; WSConnectionInitTimeout
appEnvGracefulShutdownTimeout :: AppEnv -&gt; Refined NonNegative Seconds
appEnvSchemaPollInterval :: AppEnv -&gt; OptionalInterval
appEnvCheckFeatureFlag :: AppEnv -&gt; CheckFeatureFlag
appEnvLicenseKeyCache :: AppEnv -&gt; Maybe (CredentialCache AgentLicenseKey)
appEnvMaxTotalHeaderLength :: AppEnv -&gt; Int
</span><a href="#local-6989586621687564847"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m AppEnv
forall (m :: * -&gt; *). HasAppEnv m =&gt; m AppEnv
</span><a href="Hasura.App.State.html#askAppEnv"><span class="hs-identifier hs-var">askAppEnv</span></a></span><span>
</span><span id="line-115"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621687564910"><span class="annot"><span class="annottext">logger :: Logger Hasura
</span><a href="#local-6989586621687564910"><span class="hs-identifier hs-var hs-var">logger</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Loggers -&gt; Logger Hasura
</span><a href="Hasura.App.State.html#_lsLogger"><span class="hs-identifier hs-var">_lsLogger</span></a></span><span> </span><span class="annot"><span class="annottext">Loggers
</span><a href="#local-6989586621687564852"><span class="hs-identifier hs-var">appEnvLoggers</span></a></span><span>
</span><span id="line-116"></span><span>  </span><span class="annot"><a href="Hasura.RQL.Types.SchemaCache.html#MetadataWithResourceVersion"><span class="hs-identifier hs-type">MetadataWithResourceVersion</span></a></span><span> </span><span id="local-6989586621687564913"><span class="annot"><span class="annottext">Metadata
</span><a href="#local-6989586621687564913"><span class="hs-identifier hs-var">metadata</span></a></span></span><span> </span><span id="local-6989586621687564914"><span class="annot"><span class="annottext">MetadataResourceVersion
</span><a href="#local-6989586621687564914"><span class="hs-identifier hs-var">currentResourceVersion</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Text
-&gt; m MetadataWithResourceVersion -&gt; m MetadataWithResourceVersion
forall (m :: * -&gt; *) a.
(MonadIO m, MonadTrace m) =&gt;
Text -&gt; m a -&gt; m a
</span><a href="Hasura.Tracing.Class.html#newSpan"><span class="hs-identifier hs-var">Tracing.newSpan</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;fetchMetadata&quot;</span></span><span> </span><span class="annot"><span class="annottext">(m MetadataWithResourceVersion -&gt; m MetadataWithResourceVersion)
-&gt; m MetadataWithResourceVersion -&gt; m MetadataWithResourceVersion
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">m (Either QErr MetadataWithResourceVersion)
-&gt; m MetadataWithResourceVersion
forall e (m :: * -&gt; *) a. MonadError e m =&gt; m (Either e a) -&gt; m a
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/src/Hasura.Prelude.html#liftEitherM"><span class="hs-identifier hs-var">liftEitherM</span></a></span><span> </span><span class="annot"><span class="annottext">m (Either QErr MetadataWithResourceVersion)
forall (m :: * -&gt; *).
MonadMetadataStorage m =&gt;
m (Either QErr MetadataWithResourceVersion)
</span><a href="Hasura.Metadata.Class.html#fetchMetadata"><span class="hs-identifier hs-var">fetchMetadata</span></a></span><span>
</span><span id="line-117"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621687564918"><span class="annot"><span class="annottext">exportsMetadata :: RQLMetadataRequest -&gt; Bool
</span><a href="#local-6989586621687564918"><span class="hs-identifier hs-var hs-var">exportsMetadata</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-118"></span><span>        </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMV1"><span class="hs-identifier hs-type">RMV1</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMExportMetadata"><span class="hs-identifier hs-type">RMExportMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">ExportMetadata
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-119"></span><span>        </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMV2"><span class="hs-identifier hs-type">RMV2</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMV2ExportMetadata"><span class="hs-identifier hs-type">RMV2ExportMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">ExportMetadata
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-120"></span><span>        </span><span class="annot"><span class="annottext">RQLMetadataRequest
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-121"></span><span>      </span><span id="local-6989586621687564923"><span class="annot"><span class="annottext">metadataDefaults :: MetadataDefaults
</span><a href="#local-6989586621687564923"><span class="hs-identifier hs-var hs-var">metadataDefaults</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-122"></span><span>        </span><span class="hs-comment">-- Note: The following check is performed to determine if the metadata defaults can</span><span>
</span><span id="line-123"></span><span>        </span><span class="hs-comment">--       be safely merged into the reader at this point.</span><span>
</span><span id="line-124"></span><span>        </span><span class="hs-comment">--</span><span>
</span><span id="line-125"></span><span>        </span><span class="hs-comment">-- We want to prevent scenarios:</span><span>
</span><span id="line-126"></span><span>        </span><span class="hs-comment">-- \* Exporting defaults - Contradicting the &quot;roundtrip&quot; principle of metadata operations</span><span>
</span><span id="line-127"></span><span>        </span><span class="hs-comment">-- \* Serializing defaults into the metadata storage - Putting data into the users hdb_catalog</span><span>
</span><span id="line-128"></span><span>        </span><span class="hs-comment">--</span><span>
</span><span id="line-129"></span><span>        </span><span class="hs-comment">-- While this check does have the desired effect it relies on the fact that the only</span><span>
</span><span id="line-130"></span><span>        </span><span class="hs-comment">-- operations that need access to the defaults here do not export or modify metadata.</span><span>
</span><span id="line-131"></span><span>        </span><span class="hs-comment">-- If at some point in future an operation needs access to the defaults and also needs to</span><span>
</span><span id="line-132"></span><span>        </span><span class="hs-comment">-- export/modify metadata, then another approach will need to be taken.</span><span>
</span><span id="line-133"></span><span>        </span><span class="hs-comment">--</span><span>
</span><span id="line-134"></span><span>        </span><span class="hs-comment">-- Luckily, most actual need for defaults access exists within the schema cache build phase,</span><span>
</span><span id="line-135"></span><span>        </span><span class="hs-comment">-- so metadata operations don't need &quot;smarts&quot; that require defaults access.</span><span>
</span><span id="line-136"></span><span>        </span><span class="hs-comment">--</span><span>
</span><span id="line-137"></span><span>        </span><span class="hs-keyword">if</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RQLMetadataRequest -&gt; Bool
</span><a href="#local-6989586621687564918"><span class="hs-identifier hs-var">exportsMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">RQLMetadataRequest
</span><a href="#local-6989586621687564845"><span class="hs-identifier hs-var">_rqlMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">RQLMetadataRequest -&gt; Bool
</span><a href="Hasura.Server.API.Metadata.html#queryModifiesMetadata"><span class="hs-identifier hs-var">queryModifiesMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">RQLMetadataRequest
</span><a href="#local-6989586621687564845"><span class="hs-identifier hs-var">_rqlMetadata</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-138"></span><span>          </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">MetadataDefaults
</span><a href="Hasura.RQL.Types.Metadata.html#emptyMetadataDefaults"><span class="hs-identifier hs-var">emptyMetadataDefaults</span></a></span><span>
</span><span id="line-139"></span><span>          </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">AppContext -&gt; MetadataDefaults
</span><a href="Hasura.App.State.html#acMetadataDefaults"><span class="hs-identifier hs-var">acMetadataDefaults</span></a></span><span> </span><span class="annot"><span class="annottext">AppContext
</span><a href="#local-6989586621687564841"><span class="hs-identifier hs-var">appContext</span></a></span><span>
</span><span id="line-140"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621687564927"><span class="annot"><span class="annottext">dynamicConfig :: CacheDynamicConfig
</span><a href="#local-6989586621687564927"><span class="hs-identifier hs-var hs-var">dynamicConfig</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AppContext -&gt; CacheDynamicConfig
</span><a href="Hasura.App.State.html#buildCacheDynamicConfig"><span class="hs-identifier hs-var">buildCacheDynamicConfig</span></a></span><span> </span><span class="annot"><span class="annottext">AppContext
</span><a href="#local-6989586621687564841"><span class="hs-identifier hs-var">appContext</span></a></span><span>
</span><span id="line-141"></span><span>  </span><span class="hs-special">(</span><span class="hs-special">(</span><span id="local-6989586621687564929"><span class="annot"><span class="annottext">EncJSON
</span><a href="#local-6989586621687564929"><span class="hs-identifier hs-var">r</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621687564930"><span class="annot"><span class="annottext">Metadata
</span><a href="#local-6989586621687564930"><span class="hs-identifier hs-var">modMetadata</span></a></span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span id="local-6989586621687564931"><span class="annot"><span class="annottext">RebuildableSchemaCache
</span><a href="#local-6989586621687564931"><span class="hs-identifier hs-var">modSchemaCache</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621687564932"><span class="annot"><span class="annottext">CacheInvalidations
</span><a href="#local-6989586621687564932"><span class="hs-identifier hs-var">cacheInvalidations</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621687564933"><span class="annot"><span class="annottext">SourcesIntrospectionStatus
</span><a href="#local-6989586621687564933"><span class="hs-identifier hs-var">sourcesIntrospection</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621687564934"><span class="annot"><span class="annottext">SchemaRegistryAction
</span><a href="#local-6989586621687564934"><span class="hs-identifier hs-var">schemaRegistryAction</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-142"></span><span>    </span><span class="annot"><span class="annottext">Environment
-&gt; CheckFeatureFlag
-&gt; RemoteSchemaPermissions
-&gt; MetadataResourceVersion
-&gt; RQLMetadataRequest
-&gt; ReaderT (Logger Hasura) (MetadataT (CacheRWT m)) EncJSON
forall (m :: * -&gt; *) r.
(MonadIO m, MonadBaseControl IO m, CacheRWM m, MonadTrace m,
 UserInfoM m, MetadataM m, MonadMetadataStorage m, MonadReader r m,
 Has (Logger Hasura) r, MonadError QErr m, MonadEventLogCleanup m,
 ProvidesHasuraServices m, MonadGetPolicies m,
 HasFeatureFlagChecker m) =&gt;
Environment
-&gt; CheckFeatureFlag
-&gt; RemoteSchemaPermissions
-&gt; MetadataResourceVersion
-&gt; RQLMetadataRequest
-&gt; m EncJSON
</span><a href="Hasura.Server.API.Metadata.html#runMetadataQueryM"><span class="hs-identifier hs-var">runMetadataQueryM</span></a></span><span>
</span><span id="line-143"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AppContext -&gt; Environment
</span><a href="Hasura.App.State.html#acEnvironment"><span class="hs-identifier hs-var">acEnvironment</span></a></span><span> </span><span class="annot"><span class="annottext">AppContext
</span><a href="#local-6989586621687564841"><span class="hs-identifier hs-var">appContext</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-144"></span><span>      </span><span class="annot"><span class="annottext">CheckFeatureFlag
</span><a href="#local-6989586621687564875"><span class="hs-identifier hs-var">appEnvCheckFeatureFlag</span></a></span><span>
</span><span id="line-145"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">AppContext -&gt; RemoteSchemaPermissions
</span><a href="Hasura.App.State.html#acRemoteSchemaPermsCtx"><span class="hs-identifier hs-var">acRemoteSchemaPermsCtx</span></a></span><span> </span><span class="annot"><span class="annottext">AppContext
</span><a href="#local-6989586621687564841"><span class="hs-identifier hs-var">appContext</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-146"></span><span>      </span><span class="annot"><span class="annottext">MetadataResourceVersion
</span><a href="#local-6989586621687564914"><span class="hs-identifier hs-var">currentResourceVersion</span></a></span><span>
</span><span id="line-147"></span><span>      </span><span class="annot"><span class="annottext">RQLMetadataRequest
</span><a href="#local-6989586621687564845"><span class="hs-identifier hs-var">_rqlMetadata</span></a></span><span>
</span><span id="line-148"></span><span>      </span><span class="hs-comment">-- TODO: remove this straight runReaderT that provides no actual new info</span><span>
</span><span id="line-149"></span><span>      </span><span class="annot"><span class="annottext">ReaderT (Logger Hasura) (MetadataT (CacheRWT m)) EncJSON
-&gt; (ReaderT (Logger Hasura) (MetadataT (CacheRWT m)) EncJSON
    -&gt; MetadataT (CacheRWT m) EncJSON)
-&gt; MetadataT (CacheRWT m) EncJSON
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">(ReaderT (Logger Hasura) (MetadataT (CacheRWT m)) EncJSON
 -&gt; Logger Hasura -&gt; MetadataT (CacheRWT m) EncJSON)
-&gt; Logger Hasura
-&gt; ReaderT (Logger Hasura) (MetadataT (CacheRWT m)) EncJSON
-&gt; MetadataT (CacheRWT m) EncJSON
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">ReaderT (Logger Hasura) (MetadataT (CacheRWT m)) EncJSON
-&gt; Logger Hasura -&gt; MetadataT (CacheRWT m) EncJSON
forall r (m :: * -&gt; *) a. ReaderT r m a -&gt; r -&gt; m a
</span><span class="hs-identifier hs-var">runReaderT</span></span><span> </span><span class="annot"><span class="annottext">Logger Hasura
</span><a href="#local-6989586621687564910"><span class="hs-identifier hs-var">logger</span></a></span><span>
</span><span id="line-150"></span><span>      </span><span class="annot"><span class="annottext">MetadataT (CacheRWT m) EncJSON
-&gt; (MetadataT (CacheRWT m) EncJSON
    -&gt; CacheRWT m (EncJSON, Metadata))
-&gt; CacheRWT m (EncJSON, Metadata)
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">Metadata
-&gt; MetadataDefaults
-&gt; MetadataT (CacheRWT m) EncJSON
-&gt; CacheRWT m (EncJSON, Metadata)
forall (m :: * -&gt; *) a.
Metadata -&gt; MetadataDefaults -&gt; MetadataT m a -&gt; m (a, Metadata)
</span><a href="Hasura.RQL.Types.SchemaCache.Build.html#runMetadataT"><span class="hs-identifier hs-var">runMetadataT</span></a></span><span> </span><span class="annot"><span class="annottext">Metadata
</span><a href="#local-6989586621687564913"><span class="hs-identifier hs-var">metadata</span></a></span><span> </span><span class="annot"><span class="annottext">MetadataDefaults
</span><a href="#local-6989586621687564923"><span class="hs-identifier hs-var">metadataDefaults</span></a></span><span>
</span><span id="line-151"></span><span>      </span><span class="annot"><span class="annottext">CacheRWT m (EncJSON, Metadata)
-&gt; (CacheRWT m (EncJSON, Metadata)
    -&gt; m ((EncJSON, Metadata), RebuildableSchemaCache,
          CacheInvalidations, SourcesIntrospectionStatus,
          SchemaRegistryAction))
-&gt; m ((EncJSON, Metadata), RebuildableSchemaCache,
      CacheInvalidations, SourcesIntrospectionStatus,
      SchemaRegistryAction)
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">CacheDynamicConfig
-&gt; RebuildableSchemaCache
-&gt; CacheRWT m (EncJSON, Metadata)
-&gt; m ((EncJSON, Metadata), RebuildableSchemaCache,
      CacheInvalidations, SourcesIntrospectionStatus,
      SchemaRegistryAction)
forall (m :: * -&gt; *) a.
Monad m =&gt;
CacheDynamicConfig
-&gt; RebuildableSchemaCache
-&gt; CacheRWT m a
-&gt; m (a, RebuildableSchemaCache, CacheInvalidations,
      SourcesIntrospectionStatus, SchemaRegistryAction)
</span><a href="Hasura.RQL.DDL.Schema.Cache.html#runCacheRWT"><span class="hs-identifier hs-var">runCacheRWT</span></a></span><span> </span><span class="annot"><span class="annottext">CacheDynamicConfig
</span><a href="#local-6989586621687564927"><span class="hs-identifier hs-var">dynamicConfig</span></a></span><span> </span><span class="annot"><span class="annottext">RebuildableSchemaCache
</span><a href="#local-6989586621687564842"><span class="hs-identifier hs-var">schemaCache</span></a></span><span>
</span><span id="line-152"></span><span>  </span><span class="hs-comment">-- set modified metadata in storage</span><span>
</span><span id="line-153"></span><span>  </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">RQLMetadataRequest -&gt; Bool
</span><a href="Hasura.Server.API.Metadata.html#queryModifiesMetadata"><span class="hs-identifier hs-var">queryModifiesMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">RQLMetadataRequest
</span><a href="#local-6989586621687564845"><span class="hs-identifier hs-var">_rqlMetadata</span></a></span><span>
</span><span id="line-154"></span><span>    </span><span class="hs-keyword">then</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MaintenanceMode ()
</span><a href="#local-6989586621687564855"><span class="hs-identifier hs-var">appEnvEnableMaintenanceMode</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ReadOnlyMode
</span><a href="#local-6989586621687564858"><span class="hs-identifier hs-var">appEnvEnableReadOnlyMode</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-155"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MaintenanceMode ()
</span><a href="Hasura.Server.Types.html#MaintenanceModeDisabled"><span class="hs-identifier hs-var">MaintenanceModeDisabled</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ReadOnlyMode
</span><a href="Hasura.Server.Types.html#ReadOnlyModeDisabled"><span class="hs-identifier hs-var">ReadOnlyModeDisabled</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-156"></span><span>        </span><span class="hs-comment">-- set modified metadata in storage</span><span>
</span><span id="line-157"></span><span>        </span><span class="annot"><span class="annottext">Logger Hasura
-&gt; forall a (m :: * -&gt; *).
   (ToEngineLog a Hasura, MonadIO m) =&gt;
   a -&gt; m ()
forall impl.
Logger impl
-&gt; forall a (m :: * -&gt; *).
   (ToEngineLog a impl, MonadIO m) =&gt;
   a -&gt; m ()
</span><a href="Hasura.Logging.html#unLogger"><span class="hs-identifier hs-var">L.unLogger</span></a></span><span> </span><span class="annot"><span class="annottext">Logger Hasura
</span><a href="#local-6989586621687564910"><span class="hs-identifier hs-var">logger</span></a></span><span>
</span><span id="line-158"></span><span>          </span><span class="annot"><span class="annottext">(SchemaSyncLog -&gt; m ()) -&gt; SchemaSyncLog -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">LogLevel -&gt; SchemaSyncThreadType -&gt; Value -&gt; SchemaSyncLog
</span><a href="Hasura.Server.Logging.html#SchemaSyncLog"><span class="hs-identifier hs-var">SchemaSyncLog</span></a></span><span> </span><span class="annot"><span class="annottext">LogLevel
</span><a href="Hasura.Logging.html#LevelInfo"><span class="hs-identifier hs-var">L.LevelInfo</span></a></span><span> </span><span class="annot"><span class="annottext">SchemaSyncThreadType
</span><a href="Hasura.Server.Logging.html#TTMetadataApi"><span class="hs-identifier hs-var">TTMetadataApi</span></a></span><span>
</span><span id="line-159"></span><span>          </span><span class="annot"><span class="annottext">(Value -&gt; SchemaSyncLog) -&gt; Value -&gt; SchemaSyncLog
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/aeson-2.1.2.1-78f82c0a41c76fc62260cf94c4b206816c9efb8c3788f4fbd6184398938cf6fb/share/doc/html/src/Data.Aeson.Types.Internal.html#String"><span class="hs-identifier hs-var">String</span></a></span><span>
</span><span id="line-160"></span><span>          </span><span class="annot"><span class="annottext">(Text -&gt; Value) -&gt; Text -&gt; Value
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Attempting to insert new metadata in storage&quot;</span></span><span>
</span><span id="line-161"></span><span>        </span><span id="local-6989586621687564949"><span class="annot"><span class="annottext">MetadataResourceVersion
</span><a href="#local-6989586621687564949"><span class="hs-identifier hs-var">newResourceVersion</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-162"></span><span>          </span><span class="annot"><span class="annottext">Text -&gt; m MetadataResourceVersion -&gt; m MetadataResourceVersion
forall (m :: * -&gt; *) a.
(MonadIO m, MonadTrace m) =&gt;
Text -&gt; m a -&gt; m a
</span><a href="Hasura.Tracing.Class.html#newSpan"><span class="hs-identifier hs-var">Tracing.newSpan</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;setMetadata&quot;</span></span><span>
</span><span id="line-163"></span><span>            </span><span class="annot"><span class="annottext">(m MetadataResourceVersion -&gt; m MetadataResourceVersion)
-&gt; m MetadataResourceVersion -&gt; m MetadataResourceVersion
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">m (Either QErr MetadataResourceVersion)
-&gt; m MetadataResourceVersion
forall e (m :: * -&gt; *) a. MonadError e m =&gt; m (Either e a) -&gt; m a
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/src/Hasura.Prelude.html#liftEitherM"><span class="hs-identifier hs-var">liftEitherM</span></a></span><span>
</span><span id="line-164"></span><span>            </span><span class="annot"><span class="annottext">(m (Either QErr MetadataResourceVersion)
 -&gt; m MetadataResourceVersion)
-&gt; m (Either QErr MetadataResourceVersion)
-&gt; m MetadataResourceVersion
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">MetadataResourceVersion
-&gt; Metadata -&gt; m (Either QErr MetadataResourceVersion)
forall (m :: * -&gt; *).
MonadMetadataStorage m =&gt;
MetadataResourceVersion
-&gt; Metadata -&gt; m (Either QErr MetadataResourceVersion)
</span><a href="Hasura.Metadata.Class.html#setMetadata"><span class="hs-identifier hs-var">setMetadata</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MetadataResourceVersion
-&gt; Maybe MetadataResourceVersion -&gt; MetadataResourceVersion
forall a. a -&gt; Maybe a -&gt; a
</span><span class="hs-identifier hs-var">fromMaybe</span></span><span> </span><span class="annot"><span class="annottext">MetadataResourceVersion
</span><a href="#local-6989586621687564914"><span class="hs-identifier hs-var">currentResourceVersion</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe MetadataResourceVersion
</span><a href="#local-6989586621687564844"><span class="hs-identifier hs-var">_rqlMetadataResourceVersion</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Metadata
</span><a href="#local-6989586621687564930"><span class="hs-identifier hs-var">modMetadata</span></a></span><span>
</span><span id="line-165"></span><span>        </span><span class="annot"><span class="annottext">Logger Hasura
-&gt; forall a (m :: * -&gt; *).
   (ToEngineLog a Hasura, MonadIO m) =&gt;
   a -&gt; m ()
forall impl.
Logger impl
-&gt; forall a (m :: * -&gt; *).
   (ToEngineLog a impl, MonadIO m) =&gt;
   a -&gt; m ()
</span><a href="Hasura.Logging.html#unLogger"><span class="hs-identifier hs-var">L.unLogger</span></a></span><span> </span><span class="annot"><span class="annottext">Logger Hasura
</span><a href="#local-6989586621687564910"><span class="hs-identifier hs-var">logger</span></a></span><span>
</span><span id="line-166"></span><span>          </span><span class="annot"><span class="annottext">(SchemaSyncLog -&gt; m ()) -&gt; SchemaSyncLog -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">LogLevel -&gt; SchemaSyncThreadType -&gt; Value -&gt; SchemaSyncLog
</span><a href="Hasura.Server.Logging.html#SchemaSyncLog"><span class="hs-identifier hs-var">SchemaSyncLog</span></a></span><span> </span><span class="annot"><span class="annottext">LogLevel
</span><a href="Hasura.Logging.html#LevelInfo"><span class="hs-identifier hs-var">L.LevelInfo</span></a></span><span> </span><span class="annot"><span class="annottext">SchemaSyncThreadType
</span><a href="Hasura.Server.Logging.html#TTMetadataApi"><span class="hs-identifier hs-var">TTMetadataApi</span></a></span><span>
</span><span id="line-167"></span><span>          </span><span class="annot"><span class="annottext">(Value -&gt; SchemaSyncLog) -&gt; Value -&gt; SchemaSyncLog
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/aeson-2.1.2.1-78f82c0a41c76fc62260cf94c4b206816c9efb8c3788f4fbd6184398938cf6fb/share/doc/html/src/Data.Aeson.Types.Internal.html#String"><span class="hs-identifier hs-var">String</span></a></span><span>
</span><span id="line-168"></span><span>          </span><span class="annot"><span class="annottext">(Text -&gt; Value) -&gt; Text -&gt; Value
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Successfully inserted new metadata in storage with resource version: &quot;</span></span><span>
</span><span id="line-169"></span><span>          </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">MetadataResourceVersion -&gt; Text
</span><a href="Hasura.RQL.Types.SchemaCache.html#showMetadataResourceVersion"><span class="hs-identifier hs-var">showMetadataResourceVersion</span></a></span><span> </span><span class="annot"><span class="annottext">MetadataResourceVersion
</span><a href="#local-6989586621687564949"><span class="hs-identifier hs-var">newResourceVersion</span></a></span><span>
</span><span id="line-170"></span><span>
</span><span id="line-171"></span><span>        </span><span class="hs-comment">-- save sources introspection to stored-introspection DB</span><span>
</span><span id="line-172"></span><span>        </span><span class="annot"><span class="annottext">Text -&gt; m () -&gt; m ()
forall (m :: * -&gt; *) a.
(MonadIO m, MonadTrace m) =&gt;
Text -&gt; m a -&gt; m a
</span><a href="Hasura.Tracing.Class.html#newSpan"><span class="hs-identifier hs-var">Tracing.newSpan</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;storeSourcesIntrospection&quot;</span></span><span>
</span><span id="line-173"></span><span>          </span><span class="annot"><span class="annottext">(m () -&gt; m ()) -&gt; m () -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Logger Hasura
-&gt; SourcesIntrospectionStatus -&gt; MetadataResourceVersion -&gt; m ()
forall (m :: * -&gt; *).
(MonadIO m, MonadMetadataStorage m) =&gt;
Logger Hasura
-&gt; SourcesIntrospectionStatus -&gt; MetadataResourceVersion -&gt; m ()
</span><a href="Hasura.RQL.DDL.Schema.Cache.html#saveSourcesIntrospection"><span class="hs-identifier hs-var">saveSourcesIntrospection</span></a></span><span> </span><span class="annot"><span class="annottext">Logger Hasura
</span><a href="#local-6989586621687564910"><span class="hs-identifier hs-var">logger</span></a></span><span> </span><span class="annot"><span class="annottext">SourcesIntrospectionStatus
</span><a href="#local-6989586621687564933"><span class="hs-identifier hs-var">sourcesIntrospection</span></a></span><span> </span><span class="annot"><span class="annottext">MetadataResourceVersion
</span><a href="#local-6989586621687564949"><span class="hs-identifier hs-var">newResourceVersion</span></a></span><span>
</span><span id="line-174"></span><span>
</span><span id="line-175"></span><span>        </span><span class="hs-comment">-- run the schema registry action</span><span>
</span><span id="line-176"></span><span>        </span><span class="annot"><span class="annottext">Text -&gt; m () -&gt; m ()
forall (m :: * -&gt; *) a.
(MonadIO m, MonadTrace m) =&gt;
Text -&gt; m a -&gt; m a
</span><a href="Hasura.Tracing.Class.html#newSpan"><span class="hs-identifier hs-var">Tracing.newSpan</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;runSchemaRegistryAction&quot;</span></span><span>
</span><span id="line-177"></span><span>          </span><span class="annot"><span class="annottext">(m () -&gt; m ()) -&gt; m () -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">SchemaRegistryAction
-&gt; ((MetadataResourceVersion -&gt; [InconsistentMetadata] -&gt; IO ())
    -&gt; m ())
-&gt; m ()
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Foldable t, Applicative f) =&gt;
t a -&gt; (a -&gt; f b) -&gt; f ()
</span><span class="hs-identifier hs-var">for_</span></span><span> </span><span class="annot"><span class="annottext">SchemaRegistryAction
</span><a href="#local-6989586621687564934"><span class="hs-identifier hs-var">schemaRegistryAction</span></a></span><span>
</span><span id="line-178"></span><span>          </span><span class="annot"><span class="annottext">(((MetadataResourceVersion -&gt; [InconsistentMetadata] -&gt; IO ())
  -&gt; m ())
 -&gt; m ())
-&gt; ((MetadataResourceVersion -&gt; [InconsistentMetadata] -&gt; IO ())
    -&gt; m ())
-&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621687564955"><span class="annot"><span class="annottext">MetadataResourceVersion -&gt; [InconsistentMetadata] -&gt; IO ()
</span><a href="#local-6989586621687564955"><span class="hs-identifier hs-var">action</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-179"></span><span>            </span><span class="annot"><span class="annottext">IO () -&gt; m ()
forall a. IO a -&gt; m a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">liftIO</span></span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; m ()) -&gt; IO () -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">MetadataResourceVersion -&gt; [InconsistentMetadata] -&gt; IO ()
</span><a href="#local-6989586621687564955"><span class="hs-identifier hs-var">action</span></a></span><span> </span><span class="annot"><span class="annottext">MetadataResourceVersion
</span><a href="#local-6989586621687564949"><span class="hs-identifier hs-var">newResourceVersion</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SchemaCache -&gt; [InconsistentMetadata]
</span><a href="Hasura.RQL.Types.SchemaCache.html#scInconsistentObjs"><span class="hs-identifier hs-var">scInconsistentObjs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RebuildableSchemaCache -&gt; SchemaCache
</span><a href="Hasura.RQL.DDL.Schema.Cache.Common.html#lastBuiltSchemaCache"><span class="hs-identifier hs-var">lastBuiltSchemaCache</span></a></span><span> </span><span class="annot"><span class="annottext">RebuildableSchemaCache
</span><a href="#local-6989586621687564931"><span class="hs-identifier hs-var">modSchemaCache</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-180"></span><span>
</span><span id="line-181"></span><span>        </span><span class="hs-comment">-- notify schema cache sync</span><span>
</span><span id="line-182"></span><span>        </span><span class="annot"><span class="annottext">Text -&gt; m () -&gt; m ()
forall (m :: * -&gt; *) a.
(MonadIO m, MonadTrace m) =&gt;
Text -&gt; m a -&gt; m a
</span><a href="Hasura.Tracing.Class.html#newSpan"><span class="hs-identifier hs-var">Tracing.newSpan</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;notifySchemaCacheSync&quot;</span></span><span>
</span><span id="line-183"></span><span>          </span><span class="annot"><span class="annottext">(m () -&gt; m ()) -&gt; m () -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">m (Either QErr ()) -&gt; m ()
forall e (m :: * -&gt; *) a. MonadError e m =&gt; m (Either e a) -&gt; m a
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/src/Hasura.Prelude.html#liftEitherM"><span class="hs-identifier hs-var">liftEitherM</span></a></span><span>
</span><span id="line-184"></span><span>          </span><span class="annot"><span class="annottext">(m (Either QErr ()) -&gt; m ()) -&gt; m (Either QErr ()) -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">MetadataResourceVersion
-&gt; InstanceId -&gt; CacheInvalidations -&gt; m (Either QErr ())
forall (m :: * -&gt; *).
MonadMetadataStorage m =&gt;
MetadataResourceVersion
-&gt; InstanceId -&gt; CacheInvalidations -&gt; m (Either QErr ())
</span><a href="Hasura.Metadata.Class.html#notifySchemaCacheSync"><span class="hs-identifier hs-var">notifySchemaCacheSync</span></a></span><span> </span><span class="annot"><span class="annottext">MetadataResourceVersion
</span><a href="#local-6989586621687564949"><span class="hs-identifier hs-var">newResourceVersion</span></a></span><span> </span><span class="annot"><span class="annottext">InstanceId
</span><a href="#local-6989586621687564854"><span class="hs-identifier hs-var">appEnvInstanceId</span></a></span><span> </span><span class="annot"><span class="annottext">CacheInvalidations
</span><a href="#local-6989586621687564932"><span class="hs-identifier hs-var">cacheInvalidations</span></a></span><span>
</span><span id="line-185"></span><span>        </span><span class="annot"><span class="annottext">Logger Hasura
-&gt; forall a (m :: * -&gt; *).
   (ToEngineLog a Hasura, MonadIO m) =&gt;
   a -&gt; m ()
forall impl.
Logger impl
-&gt; forall a (m :: * -&gt; *).
   (ToEngineLog a impl, MonadIO m) =&gt;
   a -&gt; m ()
</span><a href="Hasura.Logging.html#unLogger"><span class="hs-identifier hs-var">L.unLogger</span></a></span><span> </span><span class="annot"><span class="annottext">Logger Hasura
</span><a href="#local-6989586621687564910"><span class="hs-identifier hs-var">logger</span></a></span><span>
</span><span id="line-186"></span><span>          </span><span class="annot"><span class="annottext">(SchemaSyncLog -&gt; m ()) -&gt; SchemaSyncLog -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">LogLevel -&gt; SchemaSyncThreadType -&gt; Value -&gt; SchemaSyncLog
</span><a href="Hasura.Server.Logging.html#SchemaSyncLog"><span class="hs-identifier hs-var">SchemaSyncLog</span></a></span><span> </span><span class="annot"><span class="annottext">LogLevel
</span><a href="Hasura.Logging.html#LevelInfo"><span class="hs-identifier hs-var">L.LevelInfo</span></a></span><span> </span><span class="annot"><span class="annottext">SchemaSyncThreadType
</span><a href="Hasura.Server.Logging.html#TTMetadataApi"><span class="hs-identifier hs-var">TTMetadataApi</span></a></span><span>
</span><span id="line-187"></span><span>          </span><span class="annot"><span class="annottext">(Value -&gt; SchemaSyncLog) -&gt; Value -&gt; SchemaSyncLog
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Value
</span><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/aeson-2.1.2.1-78f82c0a41c76fc62260cf94c4b206816c9efb8c3788f4fbd6184398938cf6fb/share/doc/html/src/Data.Aeson.Types.Internal.html#String"><span class="hs-identifier hs-var">String</span></a></span><span>
</span><span id="line-188"></span><span>          </span><span class="annot"><span class="annottext">(Text -&gt; Value) -&gt; Text -&gt; Value
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Inserted schema cache sync notification at resource version:&quot;</span></span><span>
</span><span id="line-189"></span><span>          </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">MetadataResourceVersion -&gt; Text
</span><a href="Hasura.RQL.Types.SchemaCache.html#showMetadataResourceVersion"><span class="hs-identifier hs-var">showMetadataResourceVersion</span></a></span><span> </span><span class="annot"><span class="annottext">MetadataResourceVersion
</span><a href="#local-6989586621687564949"><span class="hs-identifier hs-var">newResourceVersion</span></a></span><span>
</span><span id="line-190"></span><span>
</span><span id="line-191"></span><span>        </span><span class="hs-special">(</span><span class="annot"><span class="annottext">()
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621687564960"><span class="annot"><span class="annottext">RebuildableSchemaCache
</span><a href="#local-6989586621687564960"><span class="hs-identifier hs-var">modSchemaCache'</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CacheInvalidations
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SourcesIntrospectionStatus
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">SchemaRegistryAction
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-192"></span><span>          </span><span class="annot"><span class="annottext">Text
-&gt; m ((), RebuildableSchemaCache, CacheInvalidations,
      SourcesIntrospectionStatus, SchemaRegistryAction)
-&gt; m ((), RebuildableSchemaCache, CacheInvalidations,
      SourcesIntrospectionStatus, SchemaRegistryAction)
forall (m :: * -&gt; *) a.
(MonadIO m, MonadTrace m) =&gt;
Text -&gt; m a -&gt; m a
</span><a href="Hasura.Tracing.Class.html#newSpan"><span class="hs-identifier hs-var">Tracing.newSpan</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;setMetadataResourceVersionInSchemaCache&quot;</span></span><span>
</span><span id="line-193"></span><span>            </span><span class="annot"><span class="annottext">(m ((), RebuildableSchemaCache, CacheInvalidations,
    SourcesIntrospectionStatus, SchemaRegistryAction)
 -&gt; m ((), RebuildableSchemaCache, CacheInvalidations,
       SourcesIntrospectionStatus, SchemaRegistryAction))
-&gt; m ((), RebuildableSchemaCache, CacheInvalidations,
      SourcesIntrospectionStatus, SchemaRegistryAction)
-&gt; m ((), RebuildableSchemaCache, CacheInvalidations,
      SourcesIntrospectionStatus, SchemaRegistryAction)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">MetadataResourceVersion -&gt; CacheRWT m ()
forall (m :: * -&gt; *). CacheRWM m =&gt; MetadataResourceVersion -&gt; m ()
</span><a href="Hasura.RQL.Types.SchemaCache.Build.html#setMetadataResourceVersionInSchemaCache"><span class="hs-identifier hs-var">setMetadataResourceVersionInSchemaCache</span></a></span><span> </span><span class="annot"><span class="annottext">MetadataResourceVersion
</span><a href="#local-6989586621687564949"><span class="hs-identifier hs-var">newResourceVersion</span></a></span><span>
</span><span id="line-194"></span><span>            </span><span class="annot"><span class="annottext">CacheRWT m ()
-&gt; (CacheRWT m ()
    -&gt; m ((), RebuildableSchemaCache, CacheInvalidations,
          SourcesIntrospectionStatus, SchemaRegistryAction))
-&gt; m ((), RebuildableSchemaCache, CacheInvalidations,
      SourcesIntrospectionStatus, SchemaRegistryAction)
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">CacheDynamicConfig
-&gt; RebuildableSchemaCache
-&gt; CacheRWT m ()
-&gt; m ((), RebuildableSchemaCache, CacheInvalidations,
      SourcesIntrospectionStatus, SchemaRegistryAction)
forall (m :: * -&gt; *) a.
Monad m =&gt;
CacheDynamicConfig
-&gt; RebuildableSchemaCache
-&gt; CacheRWT m a
-&gt; m (a, RebuildableSchemaCache, CacheInvalidations,
      SourcesIntrospectionStatus, SchemaRegistryAction)
</span><a href="Hasura.RQL.DDL.Schema.Cache.html#runCacheRWT"><span class="hs-identifier hs-var">runCacheRWT</span></a></span><span> </span><span class="annot"><span class="annottext">CacheDynamicConfig
</span><a href="#local-6989586621687564927"><span class="hs-identifier hs-var">dynamicConfig</span></a></span><span> </span><span class="annot"><span class="annottext">RebuildableSchemaCache
</span><a href="#local-6989586621687564931"><span class="hs-identifier hs-var">modSchemaCache</span></a></span><span>
</span><span id="line-195"></span><span>
</span><span id="line-196"></span><span>        </span><span class="hs-comment">-- Close all subscriptions with 1012 code (subscribers should reconnect)</span><span>
</span><span id="line-197"></span><span>        </span><span class="hs-comment">-- and close poller threads</span><span>
</span><span id="line-198"></span><span>        </span><span class="annot"><span class="annottext">Bool -&gt; m () -&gt; m ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">when</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">(</span><span class="annot"><span class="annottext">CacheDynamicConfig -&gt; CloseWebsocketsOnMetadataChangeStatus
</span><a href="Hasura.RQL.DDL.Schema.Cache.Config.html#_cdcCloseWebsocketsOnMetadataChangeStatus"><span class="hs-identifier hs-var">_cdcCloseWebsocketsOnMetadataChangeStatus</span></a></span><span> </span><span class="annot"><span class="annottext">CacheDynamicConfig
</span><a href="#local-6989586621687564927"><span class="hs-identifier hs-var">dynamicConfig</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">CloseWebsocketsOnMetadataChangeStatus
-&gt; CloseWebsocketsOnMetadataChangeStatus -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">CloseWebsocketsOnMetadataChangeStatus
</span><a href="Hasura.Server.Types.html#CWMCEnabled"><span class="hs-identifier hs-var">CWMCEnabled</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-199"></span><span>          </span><span class="annot"><span class="annottext">(m () -&gt; m ()) -&gt; m () -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; m () -&gt; m ()
forall (m :: * -&gt; *) a.
(MonadIO m, MonadTrace m) =&gt;
Text -&gt; m a -&gt; m a
</span><a href="Hasura.Tracing.Class.html#newSpan"><span class="hs-identifier hs-var">Tracing.newSpan</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;closeWebsocketsOnMetadataChange&quot;</span></span><span>
</span><span id="line-200"></span><span>          </span><span class="annot"><span class="annottext">(m () -&gt; m ()) -&gt; m () -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">IO () -&gt; m ()
forall a. IO a -&gt; m a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">liftIO</span></span><span>
</span><span id="line-201"></span><span>          </span><span class="annot"><span class="annottext">(IO () -&gt; m ()) -&gt; IO () -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">WebsocketCloseOnMetadataChangeAction -&gt; IO ()
</span><a href="Hasura.GraphQL.Transport.WebSocket.html#runWebsocketCloseOnMetadataChangeAction"><span class="hs-identifier hs-var">WS.runWebsocketCloseOnMetadataChangeAction</span></a></span><span> </span><span class="annot"><span class="annottext">WebsocketCloseOnMetadataChangeAction
</span><a href="#local-6989586621687564843"><span class="hs-identifier hs-var">closeWebsocketsOnMetadataChange</span></a></span><span>
</span><span id="line-202"></span><span>
</span><span id="line-203"></span><span>        </span><span class="annot"><span class="annottext">(EncJSON, RebuildableSchemaCache)
-&gt; m (EncJSON, RebuildableSchemaCache)
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EncJSON
</span><a href="#local-6989586621687564929"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RebuildableSchemaCache
</span><a href="#local-6989586621687564960"><span class="hs-identifier hs-var">modSchemaCache'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-204"></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.Server.Types.html#MaintenanceModeEnabled"><span class="hs-identifier hs-type">MaintenanceModeEnabled</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ReadOnlyMode
</span><a href="Hasura.Server.Types.html#ReadOnlyModeDisabled"><span class="hs-identifier hs-var">ReadOnlyModeDisabled</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-205"></span><span>        </span><span class="annot"><span class="annottext">Text -&gt; m (EncJSON, RebuildableSchemaCache)
forall (m :: * -&gt; *) a. QErrM m =&gt; Text -&gt; m a
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-base-1.0.0/opt/doc/html/hasura-base/src/Hasura.Base.Error.html#throw500"><span class="hs-identifier hs-var">throw500</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;metadata cannot be modified in maintenance mode&quot;</span></span><span>
</span><span id="line-206"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">MaintenanceMode ()
</span><a href="Hasura.Server.Types.html#MaintenanceModeDisabled"><span class="hs-identifier hs-var">MaintenanceModeDisabled</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ReadOnlyMode
</span><a href="Hasura.Server.Types.html#ReadOnlyModeEnabled"><span class="hs-identifier hs-var">ReadOnlyModeEnabled</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-207"></span><span>        </span><span class="annot"><span class="annottext">Code -&gt; Text -&gt; m (EncJSON, RebuildableSchemaCache)
forall (m :: * -&gt; *) a. QErrM m =&gt; Code -&gt; Text -&gt; m a
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-base-1.0.0/opt/doc/html/hasura-base/src/Hasura.Base.Error.html#throw400"><span class="hs-identifier hs-var">throw400</span></a></span><span> </span><span class="annot"><span class="annottext">Code
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-base-1.0.0/opt/doc/html/hasura-base/src/Hasura.Base.Error.html#NotSupported"><span class="hs-identifier hs-var">NotSupported</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;metadata cannot be modified in read-only mode&quot;</span></span><span>
</span><span id="line-208"></span><span>      </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.Server.Types.html#MaintenanceModeEnabled"><span class="hs-identifier hs-type">MaintenanceModeEnabled</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">ReadOnlyMode
</span><a href="Hasura.Server.Types.html#ReadOnlyModeEnabled"><span class="hs-identifier hs-var">ReadOnlyModeEnabled</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-209"></span><span>        </span><span class="annot"><span class="annottext">Text -&gt; m (EncJSON, RebuildableSchemaCache)
forall (m :: * -&gt; *) a. QErrM m =&gt; Text -&gt; m a
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-base-1.0.0/opt/doc/html/hasura-base/src/Hasura.Base.Error.html#throw500"><span class="hs-identifier hs-var">throw500</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;metadata cannot be modified in maintenance mode&quot;</span></span><span>
</span><span id="line-210"></span><span>    </span><span class="hs-keyword">else</span><span> </span><span class="annot"><span class="annottext">(EncJSON, RebuildableSchemaCache)
-&gt; m (EncJSON, RebuildableSchemaCache)
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EncJSON
</span><a href="#local-6989586621687564929"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RebuildableSchemaCache
</span><a href="#local-6989586621687564931"><span class="hs-identifier hs-var">modSchemaCache</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-211"></span><span>
</span><span id="line-212"></span><span class="annot"><a href="Hasura.Server.API.Metadata.html#queryModifiesMetadata"><span class="hs-identifier hs-type">queryModifiesMetadata</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RQLMetadataRequest"><span class="hs-identifier hs-type">RQLMetadataRequest</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Bool</span></span><span>
</span><span id="line-213"></span><span id="queryModifiesMetadata"><span class="annot"><span class="annottext">queryModifiesMetadata :: RQLMetadataRequest -&gt; Bool
</span><a href="Hasura.Server.API.Metadata.html#queryModifiesMetadata"><span class="hs-identifier hs-var hs-var">queryModifiesMetadata</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-214"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMV1"><span class="hs-identifier hs-type">RMV1</span></a></span><span> </span><span id="local-6989586621687564971"><span class="annot"><span class="annottext">RQLMetadataV1
</span><a href="#local-6989586621687564971"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-215"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">RQLMetadataV1
</span><a href="#local-6989586621687564971"><span class="hs-identifier hs-var">q</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-216"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMRedeliverEvent"><span class="hs-identifier hs-type">RMRedeliverEvent</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend RedeliverEventQuery
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-217"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMInvokeEventTrigger"><span class="hs-identifier hs-type">RMInvokeEventTrigger</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend InvokeEventTriggerQuery
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-218"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMGetEventLogs"><span class="hs-identifier hs-type">RMGetEventLogs</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend GetEventLogs
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-219"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMGetEventInvocationLogs"><span class="hs-identifier hs-type">RMGetEventInvocationLogs</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend GetEventInvocations
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-220"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMGetEventById"><span class="hs-identifier hs-type">RMGetEventById</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend GetEventById
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-221"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMGetInconsistentMetadata"><span class="hs-identifier hs-type">RMGetInconsistentMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">GetInconsistentMetadata
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-222"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMIntrospectRemoteSchema"><span class="hs-identifier hs-type">RMIntrospectRemoteSchema</span></a></span><span> </span><span class="annot"><span class="annottext">RemoteSchemaNameQuery
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-223"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMDumpInternalState"><span class="hs-identifier hs-type">RMDumpInternalState</span></a></span><span> </span><span class="annot"><span class="annottext">DumpInternalState
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-224"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMSetCatalogState"><span class="hs-identifier hs-type">RMSetCatalogState</span></a></span><span> </span><span class="annot"><span class="annottext">SetCatalogState
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-225"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMGetCatalogState"><span class="hs-identifier hs-type">RMGetCatalogState</span></a></span><span> </span><span class="annot"><span class="annottext">GetCatalogState
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-226"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMExportMetadata"><span class="hs-identifier hs-type">RMExportMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">ExportMetadata
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-227"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMGetScheduledEventInvocations"><span class="hs-identifier hs-type">RMGetScheduledEventInvocations</span></a></span><span> </span><span class="annot"><span class="annottext">GetScheduledEventInvocations
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-228"></span><span>      </span><span class="annot"><span class="annottext">RQLMetadataV1
</span><a href="Hasura.Server.API.Metadata.Types.html#RMGetCronTriggers"><span class="hs-identifier hs-var">RMGetCronTriggers</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-229"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMGetScheduledEvents"><span class="hs-identifier hs-type">RMGetScheduledEvents</span></a></span><span> </span><span class="annot"><span class="annottext">GetScheduledEvents
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-230"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMCreateScheduledEvent"><span class="hs-identifier hs-type">RMCreateScheduledEvent</span></a></span><span> </span><span class="annot"><span class="annottext">CreateScheduledEvent
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-231"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMDeleteScheduledEvent"><span class="hs-identifier hs-type">RMDeleteScheduledEvent</span></a></span><span> </span><span class="annot"><span class="annottext">DeleteScheduledEvent
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-232"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMTestWebhookTransform"><span class="hs-identifier hs-type">RMTestWebhookTransform</span></a></span><span> </span><span class="annot"><span class="annottext">Unvalidated TestWebhookTransform
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-233"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMGetSourceKindCapabilities"><span class="hs-identifier hs-type">RMGetSourceKindCapabilities</span></a></span><span> </span><span class="annot"><span class="annottext">GetSourceKindCapabilities
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-234"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMListSourceKinds"><span class="hs-identifier hs-type">RMListSourceKinds</span></a></span><span> </span><span class="annot"><span class="annottext">ListSourceKinds
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-235"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMGetSourceTables"><span class="hs-identifier hs-type">RMGetSourceTables</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend GetSourceTables
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-236"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMGetSourceTrackables"><span class="hs-identifier hs-type">RMGetSourceTrackables</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend GetSourceTrackables
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-237"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMGetTableInfo"><span class="hs-identifier hs-type">RMGetTableInfo</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend GetTableInfo
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-238"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMGetTableInfo_"><span class="hs-identifier hs-type">RMGetTableInfo_</span></a></span><span> </span><span class="annot"><span class="annottext">GetTableInfo_
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-239"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMTestConnectionTemplate"><span class="hs-identifier hs-type">RMTestConnectionTemplate</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend TestConnectionTemplate
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-240"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMSuggestRelationships"><span class="hs-identifier hs-type">RMSuggestRelationships</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend SuggestRels
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-241"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMGetNativeQuery"><span class="hs-identifier hs-type">RMGetNativeQuery</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend GetNativeQuery
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-242"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMTrackNativeQuery"><span class="hs-identifier hs-type">RMTrackNativeQuery</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend TrackNativeQuery
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-243"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMUntrackNativeQuery"><span class="hs-identifier hs-type">RMUntrackNativeQuery</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend UntrackNativeQuery
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-244"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMGetStoredProcedure"><span class="hs-identifier hs-type">RMGetStoredProcedure</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend GetStoredProcedure
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-245"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMTrackStoredProcedure"><span class="hs-identifier hs-type">RMTrackStoredProcedure</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend TrackStoredProcedure
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-246"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMUntrackStoredProcedure"><span class="hs-identifier hs-type">RMUntrackStoredProcedure</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend UntrackStoredProcedure
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-247"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMGetLogicalModel"><span class="hs-identifier hs-type">RMGetLogicalModel</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend GetLogicalModel
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-248"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMTrackLogicalModel"><span class="hs-identifier hs-type">RMTrackLogicalModel</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend TrackLogicalModel
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-249"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMUntrackLogicalModel"><span class="hs-identifier hs-type">RMUntrackLogicalModel</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend UntrackLogicalModel
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-250"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMCreateSelectLogicalModelPermission"><span class="hs-identifier hs-type">RMCreateSelectLogicalModelPermission</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend (CreateLogicalModelPermission SelPerm)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-251"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMDropSelectLogicalModelPermission"><span class="hs-identifier hs-type">RMDropSelectLogicalModelPermission</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend DropLogicalModelPermission
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-252"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMBulk"><span class="hs-identifier hs-type">RMBulk</span></a></span><span> </span><span id="local-6989586621687565008"><span class="annot"><span class="annottext">[RQLMetadataRequest]
</span><a href="#local-6989586621687565008"><span class="hs-identifier hs-var">qs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(RQLMetadataRequest -&gt; Bool) -&gt; [RQLMetadataRequest] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">any</span></span><span> </span><span class="annot"><span class="annottext">RQLMetadataRequest -&gt; Bool
</span><a href="Hasura.Server.API.Metadata.html#queryModifiesMetadata"><span class="hs-identifier hs-var">queryModifiesMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">[RQLMetadataRequest]
</span><a href="#local-6989586621687565008"><span class="hs-identifier hs-var">qs</span></a></span><span>
</span><span id="line-253"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMBulkKeepGoing"><span class="hs-identifier hs-type">RMBulkKeepGoing</span></a></span><span> </span><span id="local-6989586621687565011"><span class="annot"><span class="annottext">[RQLMetadataRequest]
</span><a href="#local-6989586621687565011"><span class="hs-identifier hs-var">qs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(RQLMetadataRequest -&gt; Bool) -&gt; [RQLMetadataRequest] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">any</span></span><span> </span><span class="annot"><span class="annottext">RQLMetadataRequest -&gt; Bool
</span><a href="Hasura.Server.API.Metadata.html#queryModifiesMetadata"><span class="hs-identifier hs-var">queryModifiesMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">[RQLMetadataRequest]
</span><a href="#local-6989586621687565011"><span class="hs-identifier hs-var">qs</span></a></span><span>
</span><span id="line-254"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMBulkAtomic"><span class="hs-identifier hs-type">RMBulkAtomic</span></a></span><span> </span><span id="local-6989586621687565013"><span class="annot"><span class="annottext">[RQLMetadataRequest]
</span><a href="#local-6989586621687565013"><span class="hs-identifier hs-var">qs</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(RQLMetadataRequest -&gt; Bool) -&gt; [RQLMetadataRequest] -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; (a -&gt; Bool) -&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">any</span></span><span> </span><span class="annot"><span class="annottext">RQLMetadataRequest -&gt; Bool
</span><a href="Hasura.Server.API.Metadata.html#queryModifiesMetadata"><span class="hs-identifier hs-var">queryModifiesMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">[RQLMetadataRequest]
</span><a href="#local-6989586621687565013"><span class="hs-identifier hs-var">qs</span></a></span><span>
</span><span id="line-255"></span><span>      </span><span class="hs-comment">-- We used to assume that the fallthrough was True,</span><span>
</span><span id="line-256"></span><span>      </span><span class="hs-comment">-- but it is better to be explicit here to warn when new constructors are added.</span><span>
</span><span id="line-257"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMAddSource"><span class="hs-identifier hs-type">RMAddSource</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend AddSource
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-258"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMDropSource"><span class="hs-identifier hs-type">RMDropSource</span></a></span><span> </span><span class="annot"><span class="annottext">DropSource
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-259"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMRenameSource"><span class="hs-identifier hs-type">RMRenameSource</span></a></span><span> </span><span class="annot"><span class="annottext">RenameSource
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-260"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMUpdateSource"><span class="hs-identifier hs-type">RMUpdateSource</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend UpdateSource
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-261"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMTrackTable"><span class="hs-identifier hs-type">RMTrackTable</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend TrackTableV2
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-262"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMTrackTables"><span class="hs-identifier hs-type">RMTrackTables</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend TrackTables
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-263"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMUntrackTable"><span class="hs-identifier hs-type">RMUntrackTable</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend UntrackTable
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-264"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMUntrackTables"><span class="hs-identifier hs-type">RMUntrackTables</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend UntrackTables
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-265"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMSetTableCustomization"><span class="hs-identifier hs-type">RMSetTableCustomization</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend SetTableCustomization
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-266"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMSetApolloFederationConfig"><span class="hs-identifier hs-type">RMSetApolloFederationConfig</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend SetApolloFederationConfig
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-267"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMPgSetTableIsEnum"><span class="hs-identifier hs-type">RMPgSetTableIsEnum</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend SetTableIsEnum
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-268"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMCreateInsertPermission"><span class="hs-identifier hs-type">RMCreateInsertPermission</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend (CreatePerm InsPerm)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-269"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMCreateSelectPermission"><span class="hs-identifier hs-type">RMCreateSelectPermission</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend (CreatePerm SelPerm)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-270"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMCreateUpdatePermission"><span class="hs-identifier hs-type">RMCreateUpdatePermission</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend (CreatePerm UpdPerm)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-271"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMCreateDeletePermission"><span class="hs-identifier hs-type">RMCreateDeletePermission</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend (CreatePerm DelPerm)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-272"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMDropInsertPermission"><span class="hs-identifier hs-type">RMDropInsertPermission</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend DropPerm
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-273"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMDropSelectPermission"><span class="hs-identifier hs-type">RMDropSelectPermission</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend DropPerm
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-274"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMDropUpdatePermission"><span class="hs-identifier hs-type">RMDropUpdatePermission</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend DropPerm
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-275"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMDropDeletePermission"><span class="hs-identifier hs-type">RMDropDeletePermission</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend DropPerm
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-276"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMSetPermissionComment"><span class="hs-identifier hs-type">RMSetPermissionComment</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend SetPermComment
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-277"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMCreateObjectRelationship"><span class="hs-identifier hs-type">RMCreateObjectRelationship</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend CreateObjRel
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-278"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMCreateArrayRelationship"><span class="hs-identifier hs-type">RMCreateArrayRelationship</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend CreateArrRel
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-279"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMDropRelationship"><span class="hs-identifier hs-type">RMDropRelationship</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend DropRel
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-280"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMSetRelationshipComment"><span class="hs-identifier hs-type">RMSetRelationshipComment</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend SetRelComment
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-281"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMRenameRelationship"><span class="hs-identifier hs-type">RMRenameRelationship</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend RenameRel
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-282"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMCreateRemoteRelationship"><span class="hs-identifier hs-type">RMCreateRemoteRelationship</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend CreateFromSourceRelationship
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-283"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMUpdateRemoteRelationship"><span class="hs-identifier hs-type">RMUpdateRemoteRelationship</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend CreateFromSourceRelationship
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-284"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMDeleteRemoteRelationship"><span class="hs-identifier hs-type">RMDeleteRemoteRelationship</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend DeleteFromSourceRelationship
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-285"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMTrackFunction"><span class="hs-identifier hs-type">RMTrackFunction</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend TrackFunctionV2
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-286"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMUntrackFunction"><span class="hs-identifier hs-type">RMUntrackFunction</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend UnTrackFunction
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-287"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMSetFunctionCustomization"><span class="hs-identifier hs-type">RMSetFunctionCustomization</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend SetFunctionCustomization
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-288"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMCreateFunctionPermission"><span class="hs-identifier hs-type">RMCreateFunctionPermission</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend FunctionPermissionArgument
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-289"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMDropFunctionPermission"><span class="hs-identifier hs-type">RMDropFunctionPermission</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend FunctionPermissionArgument
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-290"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMAddComputedField"><span class="hs-identifier hs-type">RMAddComputedField</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend AddComputedField
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-291"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMDropComputedField"><span class="hs-identifier hs-type">RMDropComputedField</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend DropComputedField
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-292"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMCreateEventTrigger"><span class="hs-identifier hs-type">RMCreateEventTrigger</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend (Unvalidated1 CreateEventTriggerQuery)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-293"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMDeleteEventTrigger"><span class="hs-identifier hs-type">RMDeleteEventTrigger</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend DeleteEventTriggerQuery
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-294"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMCleanupEventTriggerLog"><span class="hs-identifier hs-type">RMCleanupEventTriggerLog</span></a></span><span> </span><span class="annot"><span class="annottext">TriggerLogCleanupConfig
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-295"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMResumeEventTriggerCleanup"><span class="hs-identifier hs-type">RMResumeEventTriggerCleanup</span></a></span><span> </span><span class="annot"><span class="annottext">TriggerLogCleanupToggleConfig
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-296"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMPauseEventTriggerCleanup"><span class="hs-identifier hs-type">RMPauseEventTriggerCleanup</span></a></span><span> </span><span class="annot"><span class="annottext">TriggerLogCleanupToggleConfig
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-297"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMAddRemoteSchema"><span class="hs-identifier hs-type">RMAddRemoteSchema</span></a></span><span> </span><span class="annot"><span class="annottext">AddRemoteSchemaQuery
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-298"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMUpdateRemoteSchema"><span class="hs-identifier hs-type">RMUpdateRemoteSchema</span></a></span><span> </span><span class="annot"><span class="annottext">AddRemoteSchemaQuery
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-299"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMRemoveRemoteSchema"><span class="hs-identifier hs-type">RMRemoveRemoteSchema</span></a></span><span> </span><span class="annot"><span class="annottext">RemoteSchemaNameQuery
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-300"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMReloadRemoteSchema"><span class="hs-identifier hs-type">RMReloadRemoteSchema</span></a></span><span> </span><span class="annot"><span class="annottext">RemoteSchemaNameQuery
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-301"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMAddRemoteSchemaPermissions"><span class="hs-identifier hs-type">RMAddRemoteSchemaPermissions</span></a></span><span> </span><span class="annot"><span class="annottext">AddRemoteSchemaPermission
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-302"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMDropRemoteSchemaPermissions"><span class="hs-identifier hs-type">RMDropRemoteSchemaPermissions</span></a></span><span> </span><span class="annot"><span class="annottext">DropRemoteSchemaPermissions
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-303"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMCreateRemoteSchemaRemoteRelationship"><span class="hs-identifier hs-type">RMCreateRemoteSchemaRemoteRelationship</span></a></span><span> </span><span class="annot"><span class="annottext">CreateRemoteSchemaRemoteRelationship
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-304"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMUpdateRemoteSchemaRemoteRelationship"><span class="hs-identifier hs-type">RMUpdateRemoteSchemaRemoteRelationship</span></a></span><span> </span><span class="annot"><span class="annottext">CreateRemoteSchemaRemoteRelationship
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-305"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMDeleteRemoteSchemaRemoteRelationship"><span class="hs-identifier hs-type">RMDeleteRemoteSchemaRemoteRelationship</span></a></span><span> </span><span class="annot"><span class="annottext">DeleteRemoteSchemaRemoteRelationship
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-306"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMCreateCronTrigger"><span class="hs-identifier hs-type">RMCreateCronTrigger</span></a></span><span> </span><span class="annot"><span class="annottext">Unvalidated CreateCronTrigger
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-307"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMDeleteCronTrigger"><span class="hs-identifier hs-type">RMDeleteCronTrigger</span></a></span><span> </span><span class="annot"><span class="annottext">ScheduledTriggerName
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-308"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMCreateAction"><span class="hs-identifier hs-type">RMCreateAction</span></a></span><span> </span><span class="annot"><span class="annottext">Unvalidated CreateAction
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-309"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMDropAction"><span class="hs-identifier hs-type">RMDropAction</span></a></span><span> </span><span class="annot"><span class="annottext">DropAction
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-310"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMUpdateAction"><span class="hs-identifier hs-type">RMUpdateAction</span></a></span><span> </span><span class="annot"><span class="annottext">Unvalidated UpdateAction
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-311"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMCreateActionPermission"><span class="hs-identifier hs-type">RMCreateActionPermission</span></a></span><span> </span><span class="annot"><span class="annottext">CreateActionPermission
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-312"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMDropActionPermission"><span class="hs-identifier hs-type">RMDropActionPermission</span></a></span><span> </span><span class="annot"><span class="annottext">DropActionPermission
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-313"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMCreateQueryCollection"><span class="hs-identifier hs-type">RMCreateQueryCollection</span></a></span><span> </span><span class="annot"><span class="annottext">CreateCollection
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-314"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMRenameQueryCollection"><span class="hs-identifier hs-type">RMRenameQueryCollection</span></a></span><span> </span><span class="annot"><span class="annottext">RenameCollection
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-315"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMDropQueryCollection"><span class="hs-identifier hs-type">RMDropQueryCollection</span></a></span><span> </span><span class="annot"><span class="annottext">DropCollection
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-316"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMAddQueryToCollection"><span class="hs-identifier hs-type">RMAddQueryToCollection</span></a></span><span> </span><span class="annot"><span class="annottext">AddQueryToCollection
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-317"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMDropQueryFromCollection"><span class="hs-identifier hs-type">RMDropQueryFromCollection</span></a></span><span> </span><span class="annot"><span class="annottext">DropQueryFromCollection
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-318"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMAddCollectionToAllowlist"><span class="hs-identifier hs-type">RMAddCollectionToAllowlist</span></a></span><span> </span><span class="annot"><span class="annottext">AllowlistEntry
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-319"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMDropCollectionFromAllowlist"><span class="hs-identifier hs-type">RMDropCollectionFromAllowlist</span></a></span><span> </span><span class="annot"><span class="annottext">DropCollectionFromAllowlist
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-320"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMUpdateScopeOfCollectionInAllowlist"><span class="hs-identifier hs-type">RMUpdateScopeOfCollectionInAllowlist</span></a></span><span> </span><span class="annot"><span class="annottext">UpdateScopeOfCollectionInAllowlist
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-321"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMCreateRestEndpoint"><span class="hs-identifier hs-type">RMCreateRestEndpoint</span></a></span><span> </span><span class="annot"><span class="annottext">CreateEndpoint
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-322"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMDropRestEndpoint"><span class="hs-identifier hs-type">RMDropRestEndpoint</span></a></span><span> </span><span class="annot"><span class="annottext">DropEndpoint
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-323"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMDCAddAgent"><span class="hs-identifier hs-type">RMDCAddAgent</span></a></span><span> </span><span class="annot"><span class="annottext">DCAddAgent
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-324"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMDCDeleteAgent"><span class="hs-identifier hs-type">RMDCDeleteAgent</span></a></span><span> </span><span class="annot"><span class="annottext">DCDeleteAgent
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-325"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMSetCustomTypes"><span class="hs-identifier hs-type">RMSetCustomTypes</span></a></span><span> </span><span class="annot"><span class="annottext">CustomTypes
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-326"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMSetApiLimits"><span class="hs-identifier hs-type">RMSetApiLimits</span></a></span><span> </span><span class="annot"><span class="annottext">ApiLimit
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-327"></span><span>      </span><span class="annot"><span class="annottext">RQLMetadataV1
</span><a href="Hasura.Server.API.Metadata.Types.html#RMRemoveApiLimits"><span class="hs-identifier hs-var">RMRemoveApiLimits</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-328"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMSetMetricsConfig"><span class="hs-identifier hs-type">RMSetMetricsConfig</span></a></span><span> </span><span class="annot"><span class="annottext">MetricsConfig
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-329"></span><span>      </span><span class="annot"><span class="annottext">RQLMetadataV1
</span><a href="Hasura.Server.API.Metadata.Types.html#RMRemoveMetricsConfig"><span class="hs-identifier hs-var">RMRemoveMetricsConfig</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-330"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMAddInheritedRole"><span class="hs-identifier hs-type">RMAddInheritedRole</span></a></span><span> </span><span class="annot"><span class="annottext">InheritedRole
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-331"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMDropInheritedRole"><span class="hs-identifier hs-type">RMDropInheritedRole</span></a></span><span> </span><span class="annot"><span class="annottext">DropInheritedRole
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-332"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMReplaceMetadata"><span class="hs-identifier hs-type">RMReplaceMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">ReplaceMetadata
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-333"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMClearMetadata"><span class="hs-identifier hs-type">RMClearMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">ClearMetadata
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-334"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMReloadMetadata"><span class="hs-identifier hs-type">RMReloadMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">ReloadMetadata
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-335"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMDropInconsistentMetadata"><span class="hs-identifier hs-type">RMDropInconsistentMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">DropInconsistentMetadata
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-336"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMSetGraphqlSchemaIntrospectionOptions"><span class="hs-identifier hs-type">RMSetGraphqlSchemaIntrospectionOptions</span></a></span><span> </span><span class="annot"><span class="annottext">SetGraphqlIntrospectionOptions
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-337"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMAddHostToTLSAllowlist"><span class="hs-identifier hs-type">RMAddHostToTLSAllowlist</span></a></span><span> </span><span class="annot"><span class="annottext">AddHostToTLSAllowlist
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-338"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMDropHostFromTLSAllowlist"><span class="hs-identifier hs-type">RMDropHostFromTLSAllowlist</span></a></span><span> </span><span class="annot"><span class="annottext">DropHostFromTLSAllowlist
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-339"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMSetQueryTagsConfig"><span class="hs-identifier hs-type">RMSetQueryTagsConfig</span></a></span><span> </span><span class="annot"><span class="annottext">SetQueryTagsConfig
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-340"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMSetOpenTelemetryConfig"><span class="hs-identifier hs-type">RMSetOpenTelemetryConfig</span></a></span><span> </span><span class="annot"><span class="annottext">OpenTelemetryConfig
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-341"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMSetOpenTelemetryStatus"><span class="hs-identifier hs-type">RMSetOpenTelemetryStatus</span></a></span><span> </span><span class="annot"><span class="annottext">OtelStatus
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-342"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMV2"><span class="hs-identifier hs-type">RMV2</span></a></span><span> </span><span id="local-6989586621687565099"><span class="annot"><span class="annottext">RQLMetadataV2
</span><a href="#local-6989586621687565099"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-343"></span><span>    </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">RQLMetadataV2
</span><a href="#local-6989586621687565099"><span class="hs-identifier hs-var">q</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-344"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMV2ExportMetadata"><span class="hs-identifier hs-type">RMV2ExportMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">ExportMetadata
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-345"></span><span>      </span><span class="annot"><span class="annottext">RQLMetadataV2
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-346"></span><span>
</span><span id="line-347"></span><span id="local-6989586621687564070"><span id="local-6989586621687564071"><span class="annot"><a href="Hasura.Server.API.Metadata.html#runMetadataQueryM"><span class="hs-identifier hs-type">runMetadataQueryM</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-348"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621687564070"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-349"></span><span>    </span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/monad-control-1.0.3.1-92f8a47f193bc8ca499a8b94581fad6cb68b7a26370b271798ac2ec617c05064/share/doc/html/src/Control.Monad.Trans.Control.html#MonadBaseControl"><span class="hs-identifier hs-type">MonadBaseControl</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621687564070"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-350"></span><span>    </span><span class="annot"><a href="Hasura.RQL.Types.SchemaCache.Build.html#CacheRWM"><span class="hs-identifier hs-type">CacheRWM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687564070"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-351"></span><span>    </span><span class="annot"><a href="Hasura.Tracing.Class.html#MonadTrace"><span class="hs-identifier hs-type">Tracing.MonadTrace</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687564070"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-352"></span><span>    </span><span class="annot"><a href="Hasura.RQL.Types.Session.html#UserInfoM"><span class="hs-identifier hs-type">UserInfoM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687564070"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-353"></span><span>    </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#MetadataM"><span class="hs-identifier hs-type">MetadataM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687564070"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-354"></span><span>    </span><span class="annot"><a href="Hasura.Metadata.Class.html#MonadMetadataStorage"><span class="hs-identifier hs-type">MonadMetadataStorage</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687564070"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-355"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">MonadReader</span></span><span> </span><span class="annot"><a href="#local-6989586621687564071"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687564070"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-356"></span><span>    </span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/data-has-0.4.0.0-046b1b301c44f043005ecffcde95c748cd1a5249e8b9e9ea3eaa14bac0030231/share/doc/html/src/Data.Has.html#Has"><span class="hs-identifier hs-type">Has</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.Logging.html#Logger"><span class="hs-identifier hs-type">L.Logger</span></a></span><span> </span><span class="annot"><a href="Hasura.Logging.html#Hasura"><span class="hs-identifier hs-type">L.Hasura</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621687564071"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-357"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">MonadError</span></span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-base-1.0.0/opt/doc/html/hasura-base/src/Hasura.Base.Error.html#QErr"><span class="hs-identifier hs-type">QErr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687564070"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-358"></span><span>    </span><span class="annot"><a href="Hasura.RQL.DDL.EventTrigger.html#MonadEventLogCleanup"><span class="hs-identifier hs-type">MonadEventLogCleanup</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687564070"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-359"></span><span>    </span><span class="annot"><a href="Hasura.Services.html#ProvidesHasuraServices"><span class="hs-identifier hs-type">ProvidesHasuraServices</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687564070"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-360"></span><span>    </span><span class="annot"><a href="Hasura.Server.Types.html#MonadGetPolicies"><span class="hs-identifier hs-type">MonadGetPolicies</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687564070"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-361"></span><span>    </span><span class="annot"><a href="Hasura.Server.Init.FeatureFlag.html#HasFeatureFlagChecker"><span class="hs-identifier hs-type">HasFeatureFlagChecker</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687564070"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-362"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-363"></span><span>  </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-extras-1.0.0/opt/doc/html/hasura-extras/src/Data.Environment.html#Environment"><span class="hs-identifier hs-type">Env.Environment</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-364"></span><span>  </span><span class="annot"><a href="Hasura.Server.Init.FeatureFlag.html#CheckFeatureFlag"><span class="hs-identifier hs-type">CheckFeatureFlag</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-365"></span><span>  </span><span class="annot"><a href="Hasura.RQL.Types.Schema.Options.html#RemoteSchemaPermissions"><span class="hs-identifier hs-type">Options.RemoteSchemaPermissions</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-366"></span><span>  </span><span class="annot"><a href="Hasura.RQL.Types.SchemaCache.html#MetadataResourceVersion"><span class="hs-identifier hs-type">MetadataResourceVersion</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-367"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RQLMetadataRequest"><span class="hs-identifier hs-type">RQLMetadataRequest</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-368"></span><span>  </span><span class="annot"><a href="#local-6989586621687564070"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-json-encoding-1.0.0/opt/doc/html/hasura-json-encoding/src/Hasura.EncJSON.html#EncJSON"><span class="hs-identifier hs-type">EncJSON</span></a></span></span></span><span>
</span><span id="line-369"></span><span id="runMetadataQueryM"><span class="annot"><span class="annottext">runMetadataQueryM :: forall (m :: * -&gt; *) r.
(MonadIO m, MonadBaseControl IO m, CacheRWM m, MonadTrace m,
 UserInfoM m, MetadataM m, MonadMetadataStorage m, MonadReader r m,
 Has (Logger Hasura) r, MonadError QErr m, MonadEventLogCleanup m,
 ProvidesHasuraServices m, MonadGetPolicies m,
 HasFeatureFlagChecker m) =&gt;
Environment
-&gt; CheckFeatureFlag
-&gt; RemoteSchemaPermissions
-&gt; MetadataResourceVersion
-&gt; RQLMetadataRequest
-&gt; m EncJSON
</span><a href="Hasura.Server.API.Metadata.html#runMetadataQueryM"><span class="hs-identifier hs-var hs-var">runMetadataQueryM</span></a></span></span><span> </span><span id="local-6989586621687565666"><span class="annot"><span class="annottext">Environment
</span><a href="#local-6989586621687565666"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span id="local-6989586621687565667"><span class="annot"><span class="annottext">CheckFeatureFlag
</span><a href="#local-6989586621687565667"><span class="hs-identifier hs-var">checkFeatureFlag</span></a></span></span><span> </span><span id="local-6989586621687565668"><span class="annot"><span class="annottext">RemoteSchemaPermissions
</span><a href="#local-6989586621687565668"><span class="hs-identifier hs-var">remoteSchemaPerms</span></a></span></span><span> </span><span id="local-6989586621687565669"><span class="annot"><span class="annottext">MetadataResourceVersion
</span><a href="#local-6989586621687565669"><span class="hs-identifier hs-var">currentResourceVersion</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-370"></span><span>  </span><span class="annot"><span class="annottext">Text -&gt; m EncJSON -&gt; m EncJSON
forall (m :: * -&gt; *) a. QErrM m =&gt; Text -&gt; m a -&gt; m a
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-base-1.0.0/opt/doc/html/hasura-base/src/Hasura.Base.Error.html#withPathK"><span class="hs-identifier hs-var">withPathK</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;args&quot;</span></span><span> </span><span class="annot"><span class="annottext">(m EncJSON -&gt; m EncJSON)
-&gt; (RQLMetadataRequest -&gt; m EncJSON)
-&gt; RQLMetadataRequest
-&gt; m EncJSON
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-371"></span><span>    </span><span class="hs-comment">-- NOTE: This is a good place to install tracing, since it's involved in</span><span>
</span><span id="line-372"></span><span>    </span><span class="hs-comment">-- the recursive case via &quot;bulk&quot;:</span><span>
</span><span id="line-373"></span><span>    </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMV1"><span class="hs-identifier hs-type">RMV1</span></a></span><span> </span><span id="local-6989586621687565672"><span class="annot"><span class="annottext">RQLMetadataV1
</span><a href="#local-6989586621687565672"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-374"></span><span>      </span><span class="annot"><span class="annottext">Text -&gt; m EncJSON -&gt; m EncJSON
forall (m :: * -&gt; *) a.
(MonadIO m, MonadTrace m) =&gt;
Text -&gt; m a -&gt; m a
</span><a href="Hasura.Tracing.Class.html#newSpan"><span class="hs-identifier hs-var">Tracing.newSpan</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;v1 &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Text
</span><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/text-2.0.1-27d8e86ddce8dd754c06549efa10988301d41e208fc11cac9fe9ed6d99d6eb35/share/doc/html/src/Data.Text.html#pack"><span class="hs-identifier hs-var">T.pack</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RQLMetadataV1 -&gt; String
forall a. (HasConstructor (Rep a), Generic a) =&gt; a -&gt; String
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-extras-1.0.0/opt/doc/html/hasura-extras/src/GHC.Generics.Extended.html#constrName"><span class="hs-identifier hs-var">constrName</span></a></span><span> </span><span class="annot"><span class="annottext">RQLMetadataV1
</span><a href="#local-6989586621687565672"><span class="hs-identifier hs-var">q</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-375"></span><span>        </span><span class="annot"><span class="annottext">(m EncJSON -&gt; m EncJSON) -&gt; m EncJSON -&gt; m EncJSON
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Environment
-&gt; CheckFeatureFlag
-&gt; RemoteSchemaPermissions
-&gt; MetadataResourceVersion
-&gt; RQLMetadataV1
-&gt; m EncJSON
forall (m :: * -&gt; *) r.
(MonadIO m, MonadBaseControl IO m, CacheRWM m, MonadTrace m,
 UserInfoM m, MetadataM m, MonadMetadataStorage m, MonadReader r m,
 Has (Logger Hasura) r, MonadError QErr m, MonadEventLogCleanup m,
 ProvidesHasuraServices m, MonadGetPolicies m,
 HasFeatureFlagChecker m) =&gt;
Environment
-&gt; CheckFeatureFlag
-&gt; RemoteSchemaPermissions
-&gt; MetadataResourceVersion
-&gt; RQLMetadataV1
-&gt; m EncJSON
</span><a href="Hasura.Server.API.Metadata.html#runMetadataQueryV1M"><span class="hs-identifier hs-var">runMetadataQueryV1M</span></a></span><span> </span><span class="annot"><span class="annottext">Environment
</span><a href="#local-6989586621687565666"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">CheckFeatureFlag
</span><a href="#local-6989586621687565667"><span class="hs-identifier hs-var">checkFeatureFlag</span></a></span><span> </span><span class="annot"><span class="annottext">RemoteSchemaPermissions
</span><a href="#local-6989586621687565668"><span class="hs-identifier hs-var">remoteSchemaPerms</span></a></span><span> </span><span class="annot"><span class="annottext">MetadataResourceVersion
</span><a href="#local-6989586621687565669"><span class="hs-identifier hs-var">currentResourceVersion</span></a></span><span> </span><span class="annot"><span class="annottext">RQLMetadataV1
</span><a href="#local-6989586621687565672"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-376"></span><span>    </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMV2"><span class="hs-identifier hs-type">RMV2</span></a></span><span> </span><span id="local-6989586621687565675"><span class="annot"><span class="annottext">RQLMetadataV2
</span><a href="#local-6989586621687565675"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-377"></span><span>      </span><span class="annot"><span class="annottext">Text -&gt; m EncJSON -&gt; m EncJSON
forall (m :: * -&gt; *) a.
(MonadIO m, MonadTrace m) =&gt;
Text -&gt; m a -&gt; m a
</span><a href="Hasura.Tracing.Class.html#newSpan"><span class="hs-identifier hs-var">Tracing.newSpan</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;v2 &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Text
</span><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/text-2.0.1-27d8e86ddce8dd754c06549efa10988301d41e208fc11cac9fe9ed6d99d6eb35/share/doc/html/src/Data.Text.html#pack"><span class="hs-identifier hs-var">T.pack</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RQLMetadataV2 -&gt; String
forall a. (HasConstructor (Rep a), Generic a) =&gt; a -&gt; String
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-extras-1.0.0/opt/doc/html/hasura-extras/src/GHC.Generics.Extended.html#constrName"><span class="hs-identifier hs-var">constrName</span></a></span><span> </span><span class="annot"><span class="annottext">RQLMetadataV2
</span><a href="#local-6989586621687565675"><span class="hs-identifier hs-var">q</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-378"></span><span>        </span><span class="annot"><span class="annottext">(m EncJSON -&gt; m EncJSON) -&gt; m EncJSON -&gt; m EncJSON
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">MetadataResourceVersion -&gt; RQLMetadataV2 -&gt; m EncJSON
forall (m :: * -&gt; *) r.
(MonadIO m, CacheRWM m, MonadBaseControl IO m, MetadataM m,
 MonadMetadataStorage m, MonadReader r m, Has (Logger Hasura) r,
 MonadError QErr m, MonadEventLogCleanup m, MonadGetPolicies m) =&gt;
MetadataResourceVersion -&gt; RQLMetadataV2 -&gt; m EncJSON
</span><a href="Hasura.Server.API.Metadata.html#runMetadataQueryV2M"><span class="hs-identifier hs-var">runMetadataQueryV2M</span></a></span><span> </span><span class="annot"><span class="annottext">MetadataResourceVersion
</span><a href="#local-6989586621687565669"><span class="hs-identifier hs-var">currentResourceVersion</span></a></span><span> </span><span class="annot"><span class="annottext">RQLMetadataV2
</span><a href="#local-6989586621687565675"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-379"></span><span>
</span><span id="line-380"></span><span class="annot"><a href="Hasura.Server.API.Metadata.html#runMetadataQueryV1M"><span class="hs-identifier hs-type">runMetadataQueryV1M</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-381"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621687564244"><span class="annot"><a href="#local-6989586621687564244"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span id="local-6989586621687564245"><span class="annot"><a href="#local-6989586621687564245"><span class="hs-identifier hs-type">r</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-382"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621687564244"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-383"></span><span>    </span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/monad-control-1.0.3.1-92f8a47f193bc8ca499a8b94581fad6cb68b7a26370b271798ac2ec617c05064/share/doc/html/src/Control.Monad.Trans.Control.html#MonadBaseControl"><span class="hs-identifier hs-type">MonadBaseControl</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621687564244"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-384"></span><span>    </span><span class="annot"><a href="Hasura.RQL.Types.SchemaCache.Build.html#CacheRWM"><span class="hs-identifier hs-type">CacheRWM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687564244"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-385"></span><span>    </span><span class="annot"><a href="Hasura.Tracing.Class.html#MonadTrace"><span class="hs-identifier hs-type">Tracing.MonadTrace</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687564244"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-386"></span><span>    </span><span class="annot"><a href="Hasura.RQL.Types.Session.html#UserInfoM"><span class="hs-identifier hs-type">UserInfoM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687564244"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-387"></span><span>    </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#MetadataM"><span class="hs-identifier hs-type">MetadataM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687564244"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-388"></span><span>    </span><span class="annot"><a href="Hasura.Metadata.Class.html#MonadMetadataStorage"><span class="hs-identifier hs-type">MonadMetadataStorage</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687564244"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-389"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">MonadReader</span></span><span> </span><span class="annot"><a href="#local-6989586621687564245"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687564244"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-390"></span><span>    </span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/data-has-0.4.0.0-046b1b301c44f043005ecffcde95c748cd1a5249e8b9e9ea3eaa14bac0030231/share/doc/html/src/Data.Has.html#Has"><span class="hs-identifier hs-type">Has</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.Logging.html#Logger"><span class="hs-identifier hs-type">L.Logger</span></a></span><span> </span><span class="annot"><a href="Hasura.Logging.html#Hasura"><span class="hs-identifier hs-type">L.Hasura</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621687564245"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-391"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">MonadError</span></span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-base-1.0.0/opt/doc/html/hasura-base/src/Hasura.Base.Error.html#QErr"><span class="hs-identifier hs-type">QErr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687564244"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-392"></span><span>    </span><span class="annot"><a href="Hasura.RQL.DDL.EventTrigger.html#MonadEventLogCleanup"><span class="hs-identifier hs-type">MonadEventLogCleanup</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687564244"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-393"></span><span>    </span><span class="annot"><a href="Hasura.Services.html#ProvidesHasuraServices"><span class="hs-identifier hs-type">ProvidesHasuraServices</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687564244"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-394"></span><span>    </span><span class="annot"><a href="Hasura.Server.Types.html#MonadGetPolicies"><span class="hs-identifier hs-type">MonadGetPolicies</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687564244"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-395"></span><span>    </span><span class="annot"><a href="Hasura.Server.Init.FeatureFlag.html#HasFeatureFlagChecker"><span class="hs-identifier hs-type">HasFeatureFlagChecker</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687564244"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-396"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-397"></span><span>  </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-extras-1.0.0/opt/doc/html/hasura-extras/src/Data.Environment.html#Environment"><span class="hs-identifier hs-type">Env.Environment</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-398"></span><span>  </span><span class="annot"><a href="Hasura.Server.Init.FeatureFlag.html#CheckFeatureFlag"><span class="hs-identifier hs-type">CheckFeatureFlag</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-399"></span><span>  </span><span class="annot"><a href="Hasura.RQL.Types.Schema.Options.html#RemoteSchemaPermissions"><span class="hs-identifier hs-type">Options.RemoteSchemaPermissions</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-400"></span><span>  </span><span class="annot"><a href="Hasura.RQL.Types.SchemaCache.html#MetadataResourceVersion"><span class="hs-identifier hs-type">MetadataResourceVersion</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-401"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RQLMetadataV1"><span class="hs-identifier hs-type">RQLMetadataV1</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-402"></span><span>  </span><span class="annot"><a href="#local-6989586621687564244"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-json-encoding-1.0.0/opt/doc/html/hasura-json-encoding/src/Hasura.EncJSON.html#EncJSON"><span class="hs-identifier hs-type">EncJSON</span></a></span><span>
</span><span id="line-403"></span><span id="runMetadataQueryV1M"><span class="annot"><span class="annottext">runMetadataQueryV1M :: forall (m :: * -&gt; *) r.
(MonadIO m, MonadBaseControl IO m, CacheRWM m, MonadTrace m,
 UserInfoM m, MetadataM m, MonadMetadataStorage m, MonadReader r m,
 Has (Logger Hasura) r, MonadError QErr m, MonadEventLogCleanup m,
 ProvidesHasuraServices m, MonadGetPolicies m,
 HasFeatureFlagChecker m) =&gt;
Environment
-&gt; CheckFeatureFlag
-&gt; RemoteSchemaPermissions
-&gt; MetadataResourceVersion
-&gt; RQLMetadataV1
-&gt; m EncJSON
</span><a href="Hasura.Server.API.Metadata.html#runMetadataQueryV1M"><span class="hs-identifier hs-var hs-var">runMetadataQueryV1M</span></a></span></span><span> </span><span id="local-6989586621687565998"><span class="annot"><span class="annottext">Environment
</span><a href="#local-6989586621687565998"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span id="local-6989586621687565999"><span class="annot"><span class="annottext">CheckFeatureFlag
</span><a href="#local-6989586621687565999"><span class="hs-identifier hs-var">checkFeatureFlag</span></a></span></span><span> </span><span id="local-6989586621687566000"><span class="annot"><span class="annottext">RemoteSchemaPermissions
</span><a href="#local-6989586621687566000"><span class="hs-identifier hs-var">remoteSchemaPerms</span></a></span></span><span> </span><span id="local-6989586621687566001"><span class="annot"><span class="annottext">MetadataResourceVersion
</span><a href="#local-6989586621687566001"><span class="hs-identifier hs-var">currentResourceVersion</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-404"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMAddSource"><span class="hs-identifier hs-type">RMAddSource</span></a></span><span> </span><span id="local-6989586621687566002"><span class="annot"><span class="annottext">AnyBackend AddSource
</span><a href="#local-6989586621687566002"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(forall (b :: BackendType).
 BackendMetadata b =&gt;
 AddSource b -&gt; m EncJSON)
-&gt; AnyBackend AddSource -&gt; m EncJSON
forall (i :: BackendType -&gt; *) a.
(forall (b :: BackendType). BackendMetadata b =&gt; i b -&gt; a)
-&gt; AnyBackend i -&gt; a
</span><a href="Hasura.Server.API.Metadata.html#dispatchMetadata"><span class="hs-identifier hs-var">dispatchMetadata</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Environment -&gt; AddSource b -&gt; m EncJSON
forall (m :: * -&gt; *) (b :: BackendType).
(MonadIO m, MonadError QErr m, CacheRWM m, MetadataM m,
 BackendMetadata b) =&gt;
Environment -&gt; AddSource b -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.Schema.Source.html#runAddSource"><span class="hs-identifier hs-var">runAddSource</span></a></span><span> </span><span class="annot"><span class="annottext">Environment
</span><a href="#local-6989586621687565998"><span class="hs-identifier hs-var">env</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">AnyBackend AddSource
</span><a href="#local-6989586621687566002"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-405"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMDropSource"><span class="hs-identifier hs-type">RMDropSource</span></a></span><span> </span><span id="local-6989586621687566011"><span class="annot"><span class="annottext">DropSource
</span><a href="#local-6989586621687566011"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DropSource -&gt; m EncJSON
forall (m :: * -&gt; *) r.
(MonadError QErr m, CacheRWM m, MonadIO m, MonadBaseControl IO m,
 MetadataM m, MonadReader r m, Has (Logger Hasura) r) =&gt;
DropSource -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.Schema.Source.html#runDropSource"><span class="hs-identifier hs-var">runDropSource</span></a></span><span> </span><span class="annot"><span class="annottext">DropSource
</span><a href="#local-6989586621687566011"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-406"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMRenameSource"><span class="hs-identifier hs-type">RMRenameSource</span></a></span><span> </span><span id="local-6989586621687566013"><span class="annot"><span class="annottext">RenameSource
</span><a href="#local-6989586621687566013"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">RenameSource -&gt; m EncJSON
forall (m :: * -&gt; *).
(MonadError QErr m, CacheRWM m, MetadataM m) =&gt;
RenameSource -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.Schema.Source.html#runRenameSource"><span class="hs-identifier hs-var">runRenameSource</span></a></span><span> </span><span class="annot"><span class="annottext">RenameSource
</span><a href="#local-6989586621687566013"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-407"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMUpdateSource"><span class="hs-identifier hs-type">RMUpdateSource</span></a></span><span> </span><span id="local-6989586621687566015"><span class="annot"><span class="annottext">AnyBackend UpdateSource
</span><a href="#local-6989586621687566015"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(forall (b :: BackendType).
 BackendMetadata b =&gt;
 UpdateSource b -&gt; m EncJSON)
-&gt; AnyBackend UpdateSource -&gt; m EncJSON
forall (i :: BackendType -&gt; *) a.
(forall (b :: BackendType). BackendMetadata b =&gt; i b -&gt; a)
-&gt; AnyBackend i -&gt; a
</span><a href="Hasura.Server.API.Metadata.html#dispatchMetadata"><span class="hs-identifier hs-var">dispatchMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">UpdateSource b -&gt; m EncJSON
forall (b :: BackendType).
BackendMetadata b =&gt;
UpdateSource b -&gt; m EncJSON
forall (m :: * -&gt; *) (b :: BackendType).
(MonadError QErr m, CacheRWM m, MetadataM m, BackendMetadata b) =&gt;
UpdateSource b -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.Schema.Source.html#runUpdateSource"><span class="hs-identifier hs-var">runUpdateSource</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend UpdateSource
</span><a href="#local-6989586621687566015"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-408"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMListSourceKinds"><span class="hs-identifier hs-type">RMListSourceKinds</span></a></span><span> </span><span id="local-6989586621687566022"><span class="annot"><span class="annottext">ListSourceKinds
</span><a href="#local-6989586621687566022"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ListSourceKinds -&gt; m EncJSON
forall (m :: * -&gt; *).
(MetadataM m, MonadError QErr m, CacheRM m) =&gt;
ListSourceKinds -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.SourceKinds.html#runListSourceKinds"><span class="hs-identifier hs-var">runListSourceKinds</span></a></span><span> </span><span class="annot"><span class="annottext">ListSourceKinds
</span><a href="#local-6989586621687566022"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-409"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMGetSourceKindCapabilities"><span class="hs-identifier hs-type">RMGetSourceKindCapabilities</span></a></span><span> </span><span id="local-6989586621687566024"><span class="annot"><span class="annottext">GetSourceKindCapabilities
</span><a href="#local-6989586621687566024"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">GetSourceKindCapabilities -&gt; m EncJSON
forall (m :: * -&gt; *).
(MonadError QErr m, CacheRM m) =&gt;
GetSourceKindCapabilities -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.SourceKinds.html#runGetSourceKindCapabilities"><span class="hs-identifier hs-var">runGetSourceKindCapabilities</span></a></span><span> </span><span class="annot"><span class="annottext">GetSourceKindCapabilities
</span><a href="#local-6989586621687566024"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-410"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMGetSourceTables"><span class="hs-identifier hs-type">RMGetSourceTables</span></a></span><span> </span><span id="local-6989586621687566026"><span class="annot"><span class="annottext">AnyBackend GetSourceTables
</span><a href="#local-6989586621687566026"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(forall (b :: BackendType).
 BackendMetadata b =&gt;
 GetSourceTables b -&gt; m EncJSON)
-&gt; AnyBackend GetSourceTables -&gt; m EncJSON
forall (i :: BackendType -&gt; *) a.
(forall (b :: BackendType). BackendMetadata b =&gt; i b -&gt; a)
-&gt; AnyBackend i -&gt; a
</span><a href="Hasura.Server.API.Metadata.html#dispatchMetadata"><span class="hs-identifier hs-var">dispatchMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">GetSourceTables b -&gt; m EncJSON
forall (b :: BackendType).
BackendMetadata b =&gt;
GetSourceTables b -&gt; m EncJSON
forall (b :: BackendType) (m :: * -&gt; *) r.
(BackendMetadata b, CacheRM m, MonadError QErr m, MetadataM m,
 MonadIO m, MonadBaseControl IO m, MonadReader r m,
 Has (Logger Hasura) r, ProvidesNetwork m) =&gt;
GetSourceTables b -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.Schema.Source.html#runGetSourceTables"><span class="hs-identifier hs-var">runGetSourceTables</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend GetSourceTables
</span><a href="#local-6989586621687566026"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-411"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMGetSourceTrackables"><span class="hs-identifier hs-type">RMGetSourceTrackables</span></a></span><span> </span><span id="local-6989586621687566038"><span class="annot"><span class="annottext">AnyBackend GetSourceTrackables
</span><a href="#local-6989586621687566038"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(forall (b :: BackendType).
 BackendMetadata b =&gt;
 GetSourceTrackables b -&gt; m EncJSON)
-&gt; AnyBackend GetSourceTrackables -&gt; m EncJSON
forall (i :: BackendType -&gt; *) a.
(forall (b :: BackendType). BackendMetadata b =&gt; i b -&gt; a)
-&gt; AnyBackend i -&gt; a
</span><a href="Hasura.Server.API.Metadata.html#dispatchMetadata"><span class="hs-identifier hs-var">dispatchMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">GetSourceTrackables b -&gt; m EncJSON
forall (b :: BackendType).
BackendMetadata b =&gt;
GetSourceTrackables b -&gt; m EncJSON
forall (b :: BackendType) (m :: * -&gt; *) r.
(BackendMetadata b, CacheRM m, MonadError QErr m, MetadataM m,
 MonadIO m, MonadBaseControl IO m, MonadReader r m,
 Has (Logger Hasura) r, ProvidesNetwork m) =&gt;
GetSourceTrackables b -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.Schema.Source.html#runGetSourceTrackables"><span class="hs-identifier hs-var">runGetSourceTrackables</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend GetSourceTrackables
</span><a href="#local-6989586621687566038"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-412"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMGetTableInfo"><span class="hs-identifier hs-type">RMGetTableInfo</span></a></span><span> </span><span id="local-6989586621687566050"><span class="annot"><span class="annottext">AnyBackend GetTableInfo
</span><a href="#local-6989586621687566050"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(forall (b :: BackendType).
 BackendMetadata b =&gt;
 GetTableInfo b -&gt; m EncJSON)
-&gt; AnyBackend GetTableInfo -&gt; m EncJSON
forall (i :: BackendType -&gt; *) a.
(forall (b :: BackendType). BackendMetadata b =&gt; i b -&gt; a)
-&gt; AnyBackend i -&gt; a
</span><a href="Hasura.Server.API.Metadata.html#dispatchMetadata"><span class="hs-identifier hs-var">dispatchMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">GetTableInfo b -&gt; m EncJSON
forall (b :: BackendType).
BackendMetadata b =&gt;
GetTableInfo b -&gt; m EncJSON
forall (b :: BackendType) (m :: * -&gt; *).
(BackendMetadata b, CacheRM m, MonadError QErr m, MetadataM m,
 MonadBaseControl IO m, MonadIO m) =&gt;
GetTableInfo b -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.Schema.Source.html#runGetTableInfo"><span class="hs-identifier hs-var">runGetTableInfo</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend GetTableInfo
</span><a href="#local-6989586621687566050"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-413"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMGetTableInfo_"><span class="hs-identifier hs-type">RMGetTableInfo_</span></a></span><span> </span><span id="local-6989586621687566059"><span class="annot"><span class="annottext">GetTableInfo_
</span><a href="#local-6989586621687566059"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">GetTableInfo_ -&gt; m EncJSON
forall (m :: * -&gt; *).
(CacheRM m, MonadError QErr m, MetadataM m) =&gt;
GetTableInfo_ -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.Schema.Source.html#runGetTableInfo_"><span class="hs-identifier hs-var">runGetTableInfo_</span></a></span><span> </span><span class="annot"><span class="annottext">GetTableInfo_
</span><a href="#local-6989586621687566059"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-414"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMTrackTable"><span class="hs-identifier hs-type">RMTrackTable</span></a></span><span> </span><span id="local-6989586621687566061"><span class="annot"><span class="annottext">AnyBackend TrackTableV2
</span><a href="#local-6989586621687566061"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(forall (b :: BackendType).
 BackendMetadata b =&gt;
 TrackTableV2 b -&gt; m EncJSON)
-&gt; AnyBackend TrackTableV2 -&gt; m EncJSON
forall (i :: BackendType -&gt; *) a.
(forall (b :: BackendType). BackendMetadata b =&gt; i b -&gt; a)
-&gt; AnyBackend i -&gt; a
</span><a href="Hasura.Server.API.Metadata.html#dispatchMetadata"><span class="hs-identifier hs-var">dispatchMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">TrackTableV2 b -&gt; m EncJSON
forall (b :: BackendType).
BackendMetadata b =&gt;
TrackTableV2 b -&gt; m EncJSON
forall (b :: BackendType) (m :: * -&gt; *).
(MonadError QErr m, CacheRWM m, MetadataM m, BackendMetadata b) =&gt;
TrackTableV2 b -&gt; m EncJSON
</span><a href="Hasura.Table.API.html#runTrackTableV2Q"><span class="hs-identifier hs-var">runTrackTableV2Q</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend TrackTableV2
</span><a href="#local-6989586621687566061"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-415"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMTrackTables"><span class="hs-identifier hs-type">RMTrackTables</span></a></span><span> </span><span id="local-6989586621687566068"><span class="annot"><span class="annottext">AnyBackend TrackTables
</span><a href="#local-6989586621687566068"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(forall (b :: BackendType).
 BackendMetadata b =&gt;
 TrackTables b -&gt; m EncJSON)
-&gt; AnyBackend TrackTables -&gt; m EncJSON
forall (i :: BackendType -&gt; *) a.
(forall (b :: BackendType). BackendMetadata b =&gt; i b -&gt; a)
-&gt; AnyBackend i -&gt; a
</span><a href="Hasura.Server.API.Metadata.html#dispatchMetadata"><span class="hs-identifier hs-var">dispatchMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">TrackTables b -&gt; m EncJSON
forall (b :: BackendType).
BackendMetadata b =&gt;
TrackTables b -&gt; m EncJSON
forall (b :: BackendType) (m :: * -&gt; *).
(MonadError QErr m, CacheRWM m, MetadataM m, BackendMetadata b) =&gt;
TrackTables b -&gt; m EncJSON
</span><a href="Hasura.Table.API.html#runTrackTablesQ"><span class="hs-identifier hs-var">runTrackTablesQ</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend TrackTables
</span><a href="#local-6989586621687566068"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-416"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMUntrackTable"><span class="hs-identifier hs-type">RMUntrackTable</span></a></span><span> </span><span id="local-6989586621687566075"><span class="annot"><span class="annottext">AnyBackend UntrackTable
</span><a href="#local-6989586621687566075"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(forall (b :: BackendType).
 (BackendMetadata b, BackendEventTrigger b) =&gt;
 UntrackTable b -&gt; m EncJSON)
-&gt; AnyBackend UntrackTable -&gt; m EncJSON
forall (i :: BackendType -&gt; *) a.
(forall (b :: BackendType).
 (BackendMetadata b, BackendEventTrigger b) =&gt;
 i b -&gt; a)
-&gt; AnyBackend i -&gt; a
</span><a href="#local-6989586621687566076"><span class="hs-identifier hs-var">dispatchMetadataAndEventTrigger</span></a></span><span> </span><span class="annot"><span class="annottext">UntrackTable b -&gt; m EncJSON
forall (b :: BackendType).
(BackendMetadata b, BackendEventTrigger b) =&gt;
UntrackTable b -&gt; m EncJSON
forall (b :: BackendType) (m :: * -&gt; *).
(CacheRWM m, QErrM m, MetadataM m, BackendMetadata b,
 BackendEventTrigger b, MonadIO m) =&gt;
UntrackTable b -&gt; m EncJSON
</span><a href="Hasura.Table.API.html#runUntrackTableQ"><span class="hs-identifier hs-var">runUntrackTableQ</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend UntrackTable
</span><a href="#local-6989586621687566075"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-417"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMUntrackTables"><span class="hs-identifier hs-type">RMUntrackTables</span></a></span><span> </span><span id="local-6989586621687566086"><span class="annot"><span class="annottext">AnyBackend UntrackTables
</span><a href="#local-6989586621687566086"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(forall (b :: BackendType).
 (BackendMetadata b, BackendEventTrigger b) =&gt;
 UntrackTables b -&gt; m EncJSON)
-&gt; AnyBackend UntrackTables -&gt; m EncJSON
forall (i :: BackendType -&gt; *) a.
(forall (b :: BackendType).
 (BackendMetadata b, BackendEventTrigger b) =&gt;
 i b -&gt; a)
-&gt; AnyBackend i -&gt; a
</span><a href="#local-6989586621687566076"><span class="hs-identifier hs-var">dispatchMetadataAndEventTrigger</span></a></span><span> </span><span class="annot"><span class="annottext">UntrackTables b -&gt; m EncJSON
forall (b :: BackendType).
(BackendMetadata b, BackendEventTrigger b) =&gt;
UntrackTables b -&gt; m EncJSON
forall (b :: BackendType) (m :: * -&gt; *).
(CacheRWM m, QErrM m, MetadataM m, BackendMetadata b,
 BackendEventTrigger b, MonadIO m) =&gt;
UntrackTables b -&gt; m EncJSON
</span><a href="Hasura.Table.API.html#runUntrackTablesQ"><span class="hs-identifier hs-var">runUntrackTablesQ</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend UntrackTables
</span><a href="#local-6989586621687566086"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-418"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMSetFunctionCustomization"><span class="hs-identifier hs-type">RMSetFunctionCustomization</span></a></span><span> </span><span id="local-6989586621687566096"><span class="annot"><span class="annottext">AnyBackend SetFunctionCustomization
</span><a href="#local-6989586621687566096"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(forall (b :: BackendType).
 BackendMetadata b =&gt;
 SetFunctionCustomization b -&gt; m EncJSON)
-&gt; AnyBackend SetFunctionCustomization -&gt; m EncJSON
forall (i :: BackendType -&gt; *) a.
(forall (b :: BackendType). BackendMetadata b =&gt; i b -&gt; a)
-&gt; AnyBackend i -&gt; a
</span><a href="Hasura.Server.API.Metadata.html#dispatchMetadata"><span class="hs-identifier hs-var">dispatchMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">SetFunctionCustomization b -&gt; m EncJSON
forall (b :: BackendType).
BackendMetadata b =&gt;
SetFunctionCustomization b -&gt; m EncJSON
forall (b :: BackendType) (m :: * -&gt; *).
(QErrM m, CacheRWM m, MetadataM m, Backend b) =&gt;
SetFunctionCustomization b -&gt; m EncJSON
</span><a href="Hasura.Function.API.html#runSetFunctionCustomization"><span class="hs-identifier hs-var">Functions.runSetFunctionCustomization</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend SetFunctionCustomization
</span><a href="#local-6989586621687566096"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-419"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMSetTableCustomization"><span class="hs-identifier hs-type">RMSetTableCustomization</span></a></span><span> </span><span id="local-6989586621687566105"><span class="annot"><span class="annottext">AnyBackend SetTableCustomization
</span><a href="#local-6989586621687566105"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(forall (b :: BackendType).
 BackendMetadata b =&gt;
 SetTableCustomization b -&gt; m EncJSON)
-&gt; AnyBackend SetTableCustomization -&gt; m EncJSON
forall (i :: BackendType -&gt; *) a.
(forall (b :: BackendType). BackendMetadata b =&gt; i b -&gt; a)
-&gt; AnyBackend i -&gt; a
</span><a href="Hasura.Server.API.Metadata.html#dispatchMetadata"><span class="hs-identifier hs-var">dispatchMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">SetTableCustomization b -&gt; m EncJSON
forall (b :: BackendType).
BackendMetadata b =&gt;
SetTableCustomization b -&gt; m EncJSON
forall (b :: BackendType) (m :: * -&gt; *).
(QErrM m, CacheRWM m, MetadataM m, Backend b) =&gt;
SetTableCustomization b -&gt; m EncJSON
</span><a href="Hasura.Table.API.html#runSetTableCustomization"><span class="hs-identifier hs-var">runSetTableCustomization</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend SetTableCustomization
</span><a href="#local-6989586621687566105"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-420"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMSetApolloFederationConfig"><span class="hs-identifier hs-type">RMSetApolloFederationConfig</span></a></span><span> </span><span id="local-6989586621687566113"><span class="annot"><span class="annottext">AnyBackend SetApolloFederationConfig
</span><a href="#local-6989586621687566113"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(forall (b :: BackendType).
 BackendMetadata b =&gt;
 SetApolloFederationConfig b -&gt; m EncJSON)
-&gt; AnyBackend SetApolloFederationConfig -&gt; m EncJSON
forall (i :: BackendType -&gt; *) a.
(forall (b :: BackendType). BackendMetadata b =&gt; i b -&gt; a)
-&gt; AnyBackend i -&gt; a
</span><a href="Hasura.Server.API.Metadata.html#dispatchMetadata"><span class="hs-identifier hs-var">dispatchMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">SetApolloFederationConfig b -&gt; m EncJSON
forall (b :: BackendType).
BackendMetadata b =&gt;
SetApolloFederationConfig b -&gt; m EncJSON
forall (b :: BackendType) (m :: * -&gt; *).
(QErrM m, CacheRWM m, MetadataM m, Backend b) =&gt;
SetApolloFederationConfig b -&gt; m EncJSON
</span><a href="Hasura.Table.API.html#runSetApolloFederationConfig"><span class="hs-identifier hs-var">runSetApolloFederationConfig</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend SetApolloFederationConfig
</span><a href="#local-6989586621687566113"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-421"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMPgSetTableIsEnum"><span class="hs-identifier hs-type">RMPgSetTableIsEnum</span></a></span><span> </span><span id="local-6989586621687566121"><span class="annot"><span class="annottext">AnyBackend SetTableIsEnum
</span><a href="#local-6989586621687566121"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(forall (b :: BackendType).
 BackendMetadata b =&gt;
 SetTableIsEnum b -&gt; m EncJSON)
-&gt; AnyBackend SetTableIsEnum -&gt; m EncJSON
forall (i :: BackendType -&gt; *) a.
(forall (b :: BackendType). BackendMetadata b =&gt; i b -&gt; a)
-&gt; AnyBackend i -&gt; a
</span><a href="Hasura.Server.API.Metadata.html#dispatchMetadata"><span class="hs-identifier hs-var">dispatchMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">SetTableIsEnum b -&gt; m EncJSON
forall (b :: BackendType).
BackendMetadata b =&gt;
SetTableIsEnum b -&gt; m EncJSON
forall (b :: BackendType) (m :: * -&gt; *).
(MonadError QErr m, CacheRWM m, MetadataM m, BackendMetadata b) =&gt;
SetTableIsEnum b -&gt; m EncJSON
</span><a href="Hasura.Table.API.html#runSetExistingTableIsEnumQ"><span class="hs-identifier hs-var">runSetExistingTableIsEnumQ</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend SetTableIsEnum
</span><a href="#local-6989586621687566121"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-422"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMCreateInsertPermission"><span class="hs-identifier hs-type">RMCreateInsertPermission</span></a></span><span> </span><span id="local-6989586621687566128"><span class="annot"><span class="annottext">AnyBackend (CreatePerm InsPerm)
</span><a href="#local-6989586621687566128"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(forall (b :: BackendType).
 BackendMetadata b =&gt;
 CreatePerm InsPerm b -&gt; m EncJSON)
-&gt; AnyBackend (CreatePerm InsPerm) -&gt; m EncJSON
forall (i :: BackendType -&gt; *) a.
(forall (b :: BackendType). BackendMetadata b =&gt; i b -&gt; a)
-&gt; AnyBackend i -&gt; a
</span><a href="Hasura.Server.API.Metadata.html#dispatchMetadata"><span class="hs-identifier hs-var">dispatchMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">CreatePerm InsPerm b -&gt; m EncJSON
forall (b :: BackendType).
BackendMetadata b =&gt;
CreatePerm InsPerm b -&gt; m EncJSON
forall (m :: * -&gt; *) (b :: BackendType) (a :: BackendType -&gt; *).
(UserInfoM m, CacheRWM m, MonadError QErr m, MetadataM m,
 BackendMetadata b) =&gt;
CreatePerm a b -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.Permission.html#runCreatePerm"><span class="hs-identifier hs-var">runCreatePerm</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend (CreatePerm InsPerm)
</span><a href="#local-6989586621687566128"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-423"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMCreateSelectPermission"><span class="hs-identifier hs-type">RMCreateSelectPermission</span></a></span><span> </span><span id="local-6989586621687566136"><span class="annot"><span class="annottext">AnyBackend (CreatePerm SelPerm)
</span><a href="#local-6989586621687566136"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(forall (b :: BackendType).
 BackendMetadata b =&gt;
 CreatePerm SelPerm b -&gt; m EncJSON)
-&gt; AnyBackend (CreatePerm SelPerm) -&gt; m EncJSON
forall (i :: BackendType -&gt; *) a.
(forall (b :: BackendType). BackendMetadata b =&gt; i b -&gt; a)
-&gt; AnyBackend i -&gt; a
</span><a href="Hasura.Server.API.Metadata.html#dispatchMetadata"><span class="hs-identifier hs-var">dispatchMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">CreatePerm SelPerm b -&gt; m EncJSON
forall (b :: BackendType).
BackendMetadata b =&gt;
CreatePerm SelPerm b -&gt; m EncJSON
forall (m :: * -&gt; *) (b :: BackendType) (a :: BackendType -&gt; *).
(UserInfoM m, CacheRWM m, MonadError QErr m, MetadataM m,
 BackendMetadata b) =&gt;
CreatePerm a b -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.Permission.html#runCreatePerm"><span class="hs-identifier hs-var">runCreatePerm</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend (CreatePerm SelPerm)
</span><a href="#local-6989586621687566136"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-424"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMCreateUpdatePermission"><span class="hs-identifier hs-type">RMCreateUpdatePermission</span></a></span><span> </span><span id="local-6989586621687566143"><span class="annot"><span class="annottext">AnyBackend (CreatePerm UpdPerm)
</span><a href="#local-6989586621687566143"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(forall (b :: BackendType).
 BackendMetadata b =&gt;
 CreatePerm UpdPerm b -&gt; m EncJSON)
-&gt; AnyBackend (CreatePerm UpdPerm) -&gt; m EncJSON
forall (i :: BackendType -&gt; *) a.
(forall (b :: BackendType). BackendMetadata b =&gt; i b -&gt; a)
-&gt; AnyBackend i -&gt; a
</span><a href="Hasura.Server.API.Metadata.html#dispatchMetadata"><span class="hs-identifier hs-var">dispatchMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">CreatePerm UpdPerm b -&gt; m EncJSON
forall (b :: BackendType).
BackendMetadata b =&gt;
CreatePerm UpdPerm b -&gt; m EncJSON
forall (m :: * -&gt; *) (b :: BackendType) (a :: BackendType -&gt; *).
(UserInfoM m, CacheRWM m, MonadError QErr m, MetadataM m,
 BackendMetadata b) =&gt;
CreatePerm a b -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.Permission.html#runCreatePerm"><span class="hs-identifier hs-var">runCreatePerm</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend (CreatePerm UpdPerm)
</span><a href="#local-6989586621687566143"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-425"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMCreateDeletePermission"><span class="hs-identifier hs-type">RMCreateDeletePermission</span></a></span><span> </span><span id="local-6989586621687566150"><span class="annot"><span class="annottext">AnyBackend (CreatePerm DelPerm)
</span><a href="#local-6989586621687566150"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(forall (b :: BackendType).
 BackendMetadata b =&gt;
 CreatePerm DelPerm b -&gt; m EncJSON)
-&gt; AnyBackend (CreatePerm DelPerm) -&gt; m EncJSON
forall (i :: BackendType -&gt; *) a.
(forall (b :: BackendType). BackendMetadata b =&gt; i b -&gt; a)
-&gt; AnyBackend i -&gt; a
</span><a href="Hasura.Server.API.Metadata.html#dispatchMetadata"><span class="hs-identifier hs-var">dispatchMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">CreatePerm DelPerm b -&gt; m EncJSON
forall (b :: BackendType).
BackendMetadata b =&gt;
CreatePerm DelPerm b -&gt; m EncJSON
forall (m :: * -&gt; *) (b :: BackendType) (a :: BackendType -&gt; *).
(UserInfoM m, CacheRWM m, MonadError QErr m, MetadataM m,
 BackendMetadata b) =&gt;
CreatePerm a b -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.Permission.html#runCreatePerm"><span class="hs-identifier hs-var">runCreatePerm</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend (CreatePerm DelPerm)
</span><a href="#local-6989586621687566150"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-426"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMDropInsertPermission"><span class="hs-identifier hs-type">RMDropInsertPermission</span></a></span><span> </span><span id="local-6989586621687566157"><span class="annot"><span class="annottext">AnyBackend DropPerm
</span><a href="#local-6989586621687566157"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(forall (b :: BackendType).
 BackendMetadata b =&gt;
 DropPerm b -&gt; m EncJSON)
-&gt; AnyBackend DropPerm -&gt; m EncJSON
forall (i :: BackendType -&gt; *) a.
(forall (b :: BackendType). BackendMetadata b =&gt; i b -&gt; a)
-&gt; AnyBackend i -&gt; a
</span><a href="Hasura.Server.API.Metadata.html#dispatchMetadata"><span class="hs-identifier hs-var">dispatchMetadata</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PermType -&gt; DropPerm b -&gt; m EncJSON
forall (b :: BackendType) (m :: * -&gt; *).
(UserInfoM m, CacheRWM m, MonadError QErr m, MetadataM m,
 BackendMetadata b) =&gt;
PermType -&gt; DropPerm b -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.Permission.html#runDropPerm"><span class="hs-identifier hs-var">runDropPerm</span></a></span><span> </span><span class="annot"><span class="annottext">PermType
</span><a href="Hasura.RQL.Types.Permission.html#PTInsert"><span class="hs-identifier hs-var">PTInsert</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">AnyBackend DropPerm
</span><a href="#local-6989586621687566157"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-427"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMDropSelectPermission"><span class="hs-identifier hs-type">RMDropSelectPermission</span></a></span><span> </span><span id="local-6989586621687566166"><span class="annot"><span class="annottext">AnyBackend DropPerm
</span><a href="#local-6989586621687566166"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(forall (b :: BackendType).
 BackendMetadata b =&gt;
 DropPerm b -&gt; m EncJSON)
-&gt; AnyBackend DropPerm -&gt; m EncJSON
forall (i :: BackendType -&gt; *) a.
(forall (b :: BackendType). BackendMetadata b =&gt; i b -&gt; a)
-&gt; AnyBackend i -&gt; a
</span><a href="Hasura.Server.API.Metadata.html#dispatchMetadata"><span class="hs-identifier hs-var">dispatchMetadata</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PermType -&gt; DropPerm b -&gt; m EncJSON
forall (b :: BackendType) (m :: * -&gt; *).
(UserInfoM m, CacheRWM m, MonadError QErr m, MetadataM m,
 BackendMetadata b) =&gt;
PermType -&gt; DropPerm b -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.Permission.html#runDropPerm"><span class="hs-identifier hs-var">runDropPerm</span></a></span><span> </span><span class="annot"><span class="annottext">PermType
</span><a href="Hasura.RQL.Types.Permission.html#PTSelect"><span class="hs-identifier hs-var">PTSelect</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">AnyBackend DropPerm
</span><a href="#local-6989586621687566166"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-428"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMDropUpdatePermission"><span class="hs-identifier hs-type">RMDropUpdatePermission</span></a></span><span> </span><span id="local-6989586621687566174"><span class="annot"><span class="annottext">AnyBackend DropPerm
</span><a href="#local-6989586621687566174"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(forall (b :: BackendType).
 BackendMetadata b =&gt;
 DropPerm b -&gt; m EncJSON)
-&gt; AnyBackend DropPerm -&gt; m EncJSON
forall (i :: BackendType -&gt; *) a.
(forall (b :: BackendType). BackendMetadata b =&gt; i b -&gt; a)
-&gt; AnyBackend i -&gt; a
</span><a href="Hasura.Server.API.Metadata.html#dispatchMetadata"><span class="hs-identifier hs-var">dispatchMetadata</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PermType -&gt; DropPerm b -&gt; m EncJSON
forall (b :: BackendType) (m :: * -&gt; *).
(UserInfoM m, CacheRWM m, MonadError QErr m, MetadataM m,
 BackendMetadata b) =&gt;
PermType -&gt; DropPerm b -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.Permission.html#runDropPerm"><span class="hs-identifier hs-var">runDropPerm</span></a></span><span> </span><span class="annot"><span class="annottext">PermType
</span><a href="Hasura.RQL.Types.Permission.html#PTUpdate"><span class="hs-identifier hs-var">PTUpdate</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">AnyBackend DropPerm
</span><a href="#local-6989586621687566174"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-429"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMDropDeletePermission"><span class="hs-identifier hs-type">RMDropDeletePermission</span></a></span><span> </span><span id="local-6989586621687566182"><span class="annot"><span class="annottext">AnyBackend DropPerm
</span><a href="#local-6989586621687566182"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(forall (b :: BackendType).
 BackendMetadata b =&gt;
 DropPerm b -&gt; m EncJSON)
-&gt; AnyBackend DropPerm -&gt; m EncJSON
forall (i :: BackendType -&gt; *) a.
(forall (b :: BackendType). BackendMetadata b =&gt; i b -&gt; a)
-&gt; AnyBackend i -&gt; a
</span><a href="Hasura.Server.API.Metadata.html#dispatchMetadata"><span class="hs-identifier hs-var">dispatchMetadata</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">PermType -&gt; DropPerm b -&gt; m EncJSON
forall (b :: BackendType) (m :: * -&gt; *).
(UserInfoM m, CacheRWM m, MonadError QErr m, MetadataM m,
 BackendMetadata b) =&gt;
PermType -&gt; DropPerm b -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.Permission.html#runDropPerm"><span class="hs-identifier hs-var">runDropPerm</span></a></span><span> </span><span class="annot"><span class="annottext">PermType
</span><a href="Hasura.RQL.Types.Permission.html#PTDelete"><span class="hs-identifier hs-var">PTDelete</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">AnyBackend DropPerm
</span><a href="#local-6989586621687566182"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-430"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMSetPermissionComment"><span class="hs-identifier hs-type">RMSetPermissionComment</span></a></span><span> </span><span id="local-6989586621687566190"><span class="annot"><span class="annottext">AnyBackend SetPermComment
</span><a href="#local-6989586621687566190"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(forall (b :: BackendType).
 BackendMetadata b =&gt;
 SetPermComment b -&gt; m EncJSON)
-&gt; AnyBackend SetPermComment -&gt; m EncJSON
forall (i :: BackendType -&gt; *) a.
(forall (b :: BackendType). BackendMetadata b =&gt; i b -&gt; a)
-&gt; AnyBackend i -&gt; a
</span><a href="Hasura.Server.API.Metadata.html#dispatchMetadata"><span class="hs-identifier hs-var">dispatchMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">SetPermComment b -&gt; m EncJSON
forall (b :: BackendType).
BackendMetadata b =&gt;
SetPermComment b -&gt; m EncJSON
forall (b :: BackendType) (m :: * -&gt; *).
(QErrM m, CacheRWM m, MetadataM m, BackendMetadata b) =&gt;
SetPermComment b -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.Permission.html#runSetPermComment"><span class="hs-identifier hs-var">runSetPermComment</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend SetPermComment
</span><a href="#local-6989586621687566190"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-431"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMCreateObjectRelationship"><span class="hs-identifier hs-type">RMCreateObjectRelationship</span></a></span><span> </span><span id="local-6989586621687566197"><span class="annot"><span class="annottext">AnyBackend CreateObjRel
</span><a href="#local-6989586621687566197"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(forall (b :: BackendType).
 BackendMetadata b =&gt;
 CreateObjRel b -&gt; m EncJSON)
-&gt; AnyBackend CreateObjRel -&gt; m EncJSON
forall (i :: BackendType -&gt; *) a.
(forall (b :: BackendType). BackendMetadata b =&gt; i b -&gt; a)
-&gt; AnyBackend i -&gt; a
</span><a href="Hasura.Server.API.Metadata.html#dispatchMetadata"><span class="hs-identifier hs-var">dispatchMetadata</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RelType -&gt; WithTable b (RelDef (ObjRelUsing b)) -&gt; m EncJSON
forall (m :: * -&gt; *) (b :: BackendType) a.
(MonadError QErr m, CacheRWM m, ToJSON a, MetadataM m,
 BackendMetadata b) =&gt;
RelType -&gt; WithTable b (RelDef a) -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.Relationship.html#runCreateRelationship"><span class="hs-identifier hs-var">runCreateRelationship</span></a></span><span> </span><span class="annot"><span class="annottext">RelType
</span><a href="Hasura.RQL.Types.Common.html#ObjRel"><span class="hs-identifier hs-var">ObjRel</span></a></span><span> </span><span class="annot"><span class="annottext">(WithTable b (RelDef (ObjRelUsing b)) -&gt; m EncJSON)
-&gt; (CreateObjRel b -&gt; WithTable b (RelDef (ObjRelUsing b)))
-&gt; CreateObjRel b
-&gt; m EncJSON
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">CreateObjRel b -&gt; WithTable b (RelDef (ObjRelUsing b))
forall (b :: BackendType).
CreateObjRel b -&gt; WithTable b (ObjRelDef b)
</span><a href="Hasura.RQL.DDL.Relationship.html#unCreateObjRel"><span class="hs-identifier hs-var">unCreateObjRel</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">AnyBackend CreateObjRel
</span><a href="#local-6989586621687566197"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-432"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMCreateArrayRelationship"><span class="hs-identifier hs-type">RMCreateArrayRelationship</span></a></span><span> </span><span id="local-6989586621687566211"><span class="annot"><span class="annottext">AnyBackend CreateArrRel
</span><a href="#local-6989586621687566211"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(forall (b :: BackendType).
 BackendMetadata b =&gt;
 CreateArrRel b -&gt; m EncJSON)
-&gt; AnyBackend CreateArrRel -&gt; m EncJSON
forall (i :: BackendType -&gt; *) a.
(forall (b :: BackendType). BackendMetadata b =&gt; i b -&gt; a)
-&gt; AnyBackend i -&gt; a
</span><a href="Hasura.Server.API.Metadata.html#dispatchMetadata"><span class="hs-identifier hs-var">dispatchMetadata</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RelType -&gt; WithTable b (RelDef (ArrRelUsing b)) -&gt; m EncJSON
forall (m :: * -&gt; *) (b :: BackendType) a.
(MonadError QErr m, CacheRWM m, ToJSON a, MetadataM m,
 BackendMetadata b) =&gt;
RelType -&gt; WithTable b (RelDef a) -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.Relationship.html#runCreateRelationship"><span class="hs-identifier hs-var">runCreateRelationship</span></a></span><span> </span><span class="annot"><span class="annottext">RelType
</span><a href="Hasura.RQL.Types.Common.html#ArrRel"><span class="hs-identifier hs-var">ArrRel</span></a></span><span> </span><span class="annot"><span class="annottext">(WithTable b (RelDef (ArrRelUsing b)) -&gt; m EncJSON)
-&gt; (CreateArrRel b -&gt; WithTable b (RelDef (ArrRelUsing b)))
-&gt; CreateArrRel b
-&gt; m EncJSON
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">CreateArrRel b -&gt; WithTable b (RelDef (ArrRelUsing b))
forall (b :: BackendType).
CreateArrRel b -&gt; WithTable b (ArrRelDef b)
</span><a href="Hasura.RQL.DDL.Relationship.html#unCreateArrRel"><span class="hs-identifier hs-var">unCreateArrRel</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">AnyBackend CreateArrRel
</span><a href="#local-6989586621687566211"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-433"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMDropRelationship"><span class="hs-identifier hs-type">RMDropRelationship</span></a></span><span> </span><span id="local-6989586621687566223"><span class="annot"><span class="annottext">AnyBackend DropRel
</span><a href="#local-6989586621687566223"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(forall (b :: BackendType).
 BackendMetadata b =&gt;
 DropRel b -&gt; m EncJSON)
-&gt; AnyBackend DropRel -&gt; m EncJSON
forall (i :: BackendType -&gt; *) a.
(forall (b :: BackendType). BackendMetadata b =&gt; i b -&gt; a)
-&gt; AnyBackend i -&gt; a
</span><a href="Hasura.Server.API.Metadata.html#dispatchMetadata"><span class="hs-identifier hs-var">dispatchMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">DropRel b -&gt; m EncJSON
forall (b :: BackendType).
BackendMetadata b =&gt;
DropRel b -&gt; m EncJSON
forall (b :: BackendType) (m :: * -&gt; *).
(MonadError QErr m, CacheRWM m, MetadataM m, BackendMetadata b) =&gt;
DropRel b -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.Relationship.html#runDropRel"><span class="hs-identifier hs-var">runDropRel</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend DropRel
</span><a href="#local-6989586621687566223"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-434"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMSetRelationshipComment"><span class="hs-identifier hs-type">RMSetRelationshipComment</span></a></span><span> </span><span id="local-6989586621687566230"><span class="annot"><span class="annottext">AnyBackend SetRelComment
</span><a href="#local-6989586621687566230"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(forall (b :: BackendType).
 BackendMetadata b =&gt;
 SetRelComment b -&gt; m EncJSON)
-&gt; AnyBackend SetRelComment -&gt; m EncJSON
forall (i :: BackendType -&gt; *) a.
(forall (b :: BackendType). BackendMetadata b =&gt; i b -&gt; a)
-&gt; AnyBackend i -&gt; a
</span><a href="Hasura.Server.API.Metadata.html#dispatchMetadata"><span class="hs-identifier hs-var">dispatchMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">SetRelComment b -&gt; m EncJSON
forall (b :: BackendType).
BackendMetadata b =&gt;
SetRelComment b -&gt; m EncJSON
forall (m :: * -&gt; *) (b :: BackendType).
(CacheRWM m, MonadError QErr m, MetadataM m, BackendMetadata b) =&gt;
SetRelComment b -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.Relationship.html#runSetRelComment"><span class="hs-identifier hs-var">runSetRelComment</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend SetRelComment
</span><a href="#local-6989586621687566230"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-435"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMRenameRelationship"><span class="hs-identifier hs-type">RMRenameRelationship</span></a></span><span> </span><span id="local-6989586621687566237"><span class="annot"><span class="annottext">AnyBackend RenameRel
</span><a href="#local-6989586621687566237"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(forall (b :: BackendType).
 BackendMetadata b =&gt;
 RenameRel b -&gt; m EncJSON)
-&gt; AnyBackend RenameRel -&gt; m EncJSON
forall (i :: BackendType -&gt; *) a.
(forall (b :: BackendType). BackendMetadata b =&gt; i b -&gt; a)
-&gt; AnyBackend i -&gt; a
</span><a href="Hasura.Server.API.Metadata.html#dispatchMetadata"><span class="hs-identifier hs-var">dispatchMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">RenameRel b -&gt; m EncJSON
forall (b :: BackendType).
BackendMetadata b =&gt;
RenameRel b -&gt; m EncJSON
forall (b :: BackendType) (m :: * -&gt; *).
(MonadError QErr m, CacheRWM m, MetadataM m, BackendMetadata b) =&gt;
RenameRel b -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.Relationship.Rename.html#runRenameRel"><span class="hs-identifier hs-var">runRenameRel</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend RenameRel
</span><a href="#local-6989586621687566237"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-436"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMSuggestRelationships"><span class="hs-identifier hs-type">RMSuggestRelationships</span></a></span><span> </span><span id="local-6989586621687566244"><span class="annot"><span class="annottext">AnyBackend SuggestRels
</span><a href="#local-6989586621687566244"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(forall (b :: BackendType).
 BackendMetadata b =&gt;
 SuggestRels b -&gt; m EncJSON)
-&gt; AnyBackend SuggestRels -&gt; m EncJSON
forall (i :: BackendType -&gt; *) a.
(forall (b :: BackendType). BackendMetadata b =&gt; i b -&gt; a)
-&gt; AnyBackend i -&gt; a
</span><a href="Hasura.Server.API.Metadata.html#dispatchMetadata"><span class="hs-identifier hs-var">dispatchMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">SuggestRels b -&gt; m EncJSON
forall (b :: BackendType).
BackendMetadata b =&gt;
SuggestRels b -&gt; m EncJSON
forall (b :: BackendType) (m :: * -&gt; *).
(MonadError QErr m, CacheRWM m, BackendMetadata b) =&gt;
SuggestRels b -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.Relationship.Suggest.html#runSuggestRels"><span class="hs-identifier hs-var">runSuggestRels</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend SuggestRels
</span><a href="#local-6989586621687566244"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-437"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMCreateRemoteRelationship"><span class="hs-identifier hs-type">RMCreateRemoteRelationship</span></a></span><span> </span><span id="local-6989586621687566250"><span class="annot"><span class="annottext">AnyBackend CreateFromSourceRelationship
</span><a href="#local-6989586621687566250"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(forall (b :: BackendType).
 BackendMetadata b =&gt;
 CreateFromSourceRelationship b -&gt; m EncJSON)
-&gt; AnyBackend CreateFromSourceRelationship -&gt; m EncJSON
forall (i :: BackendType -&gt; *) a.
(forall (b :: BackendType). BackendMetadata b =&gt; i b -&gt; a)
-&gt; AnyBackend i -&gt; a
</span><a href="Hasura.Server.API.Metadata.html#dispatchMetadata"><span class="hs-identifier hs-var">dispatchMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">CreateFromSourceRelationship b -&gt; m EncJSON
forall (b :: BackendType).
BackendMetadata b =&gt;
CreateFromSourceRelationship b -&gt; m EncJSON
forall (b :: BackendType) (m :: * -&gt; *).
(MonadError QErr m, CacheRWM m, MetadataM m, BackendMetadata b) =&gt;
CreateFromSourceRelationship b -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.RemoteRelationship.html#runCreateRemoteRelationship"><span class="hs-identifier hs-var">runCreateRemoteRelationship</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend CreateFromSourceRelationship
</span><a href="#local-6989586621687566250"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-438"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMUpdateRemoteRelationship"><span class="hs-identifier hs-type">RMUpdateRemoteRelationship</span></a></span><span> </span><span id="local-6989586621687566257"><span class="annot"><span class="annottext">AnyBackend CreateFromSourceRelationship
</span><a href="#local-6989586621687566257"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(forall (b :: BackendType).
 BackendMetadata b =&gt;
 CreateFromSourceRelationship b -&gt; m EncJSON)
-&gt; AnyBackend CreateFromSourceRelationship -&gt; m EncJSON
forall (i :: BackendType -&gt; *) a.
(forall (b :: BackendType). BackendMetadata b =&gt; i b -&gt; a)
-&gt; AnyBackend i -&gt; a
</span><a href="Hasura.Server.API.Metadata.html#dispatchMetadata"><span class="hs-identifier hs-var">dispatchMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">CreateFromSourceRelationship b -&gt; m EncJSON
forall (b :: BackendType).
BackendMetadata b =&gt;
CreateFromSourceRelationship b -&gt; m EncJSON
forall (b :: BackendType) (m :: * -&gt; *).
(MonadError QErr m, CacheRWM m, MetadataM m, BackendMetadata b) =&gt;
CreateFromSourceRelationship b -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.RemoteRelationship.html#runUpdateRemoteRelationship"><span class="hs-identifier hs-var">runUpdateRemoteRelationship</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend CreateFromSourceRelationship
</span><a href="#local-6989586621687566257"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-439"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMDeleteRemoteRelationship"><span class="hs-identifier hs-type">RMDeleteRemoteRelationship</span></a></span><span> </span><span id="local-6989586621687566264"><span class="annot"><span class="annottext">AnyBackend DeleteFromSourceRelationship
</span><a href="#local-6989586621687566264"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(forall (b :: BackendType).
 BackendMetadata b =&gt;
 DeleteFromSourceRelationship b -&gt; m EncJSON)
-&gt; AnyBackend DeleteFromSourceRelationship -&gt; m EncJSON
forall (i :: BackendType -&gt; *) a.
(forall (b :: BackendType). BackendMetadata b =&gt; i b -&gt; a)
-&gt; AnyBackend i -&gt; a
</span><a href="Hasura.Server.API.Metadata.html#dispatchMetadata"><span class="hs-identifier hs-var">dispatchMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">DeleteFromSourceRelationship b -&gt; m EncJSON
forall (b :: BackendType).
BackendMetadata b =&gt;
DeleteFromSourceRelationship b -&gt; m EncJSON
forall (b :: BackendType) (m :: * -&gt; *).
(BackendMetadata b, MonadError QErr m, CacheRWM m, MetadataM m) =&gt;
DeleteFromSourceRelationship b -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.RemoteRelationship.html#runDeleteRemoteRelationship"><span class="hs-identifier hs-var">runDeleteRemoteRelationship</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend DeleteFromSourceRelationship
</span><a href="#local-6989586621687566264"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-440"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMTrackFunction"><span class="hs-identifier hs-type">RMTrackFunction</span></a></span><span> </span><span id="local-6989586621687566271"><span class="annot"><span class="annottext">AnyBackend TrackFunctionV2
</span><a href="#local-6989586621687566271"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(forall (b :: BackendType).
 BackendMetadata b =&gt;
 TrackFunctionV2 b -&gt; m EncJSON)
-&gt; AnyBackend TrackFunctionV2 -&gt; m EncJSON
forall (i :: BackendType -&gt; *) a.
(forall (b :: BackendType). BackendMetadata b =&gt; i b -&gt; a)
-&gt; AnyBackend i -&gt; a
</span><a href="Hasura.Server.API.Metadata.html#dispatchMetadata"><span class="hs-identifier hs-var">dispatchMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">TrackFunctionV2 b -&gt; m EncJSON
forall (b :: BackendType).
BackendMetadata b =&gt;
TrackFunctionV2 b -&gt; m EncJSON
forall (b :: BackendType) (m :: * -&gt; *).
(BackendMetadata b, QErrM m, CacheRWM m, MetadataM m) =&gt;
TrackFunctionV2 b -&gt; m EncJSON
</span><a href="Hasura.Function.API.html#runTrackFunctionV2"><span class="hs-identifier hs-var">Functions.runTrackFunctionV2</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend TrackFunctionV2
</span><a href="#local-6989586621687566271"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-441"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMUntrackFunction"><span class="hs-identifier hs-type">RMUntrackFunction</span></a></span><span> </span><span id="local-6989586621687566278"><span class="annot"><span class="annottext">AnyBackend UnTrackFunction
</span><a href="#local-6989586621687566278"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(forall (b :: BackendType).
 BackendMetadata b =&gt;
 UnTrackFunction b -&gt; m EncJSON)
-&gt; AnyBackend UnTrackFunction -&gt; m EncJSON
forall (i :: BackendType -&gt; *) a.
(forall (b :: BackendType). BackendMetadata b =&gt; i b -&gt; a)
-&gt; AnyBackend i -&gt; a
</span><a href="Hasura.Server.API.Metadata.html#dispatchMetadata"><span class="hs-identifier hs-var">dispatchMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">UnTrackFunction b -&gt; m EncJSON
forall (b :: BackendType).
BackendMetadata b =&gt;
UnTrackFunction b -&gt; m EncJSON
forall (b :: BackendType) (m :: * -&gt; *).
(CacheRWM m, MonadError QErr m, MetadataM m, BackendMetadata b) =&gt;
UnTrackFunction b -&gt; m EncJSON
</span><a href="Hasura.Function.API.html#runUntrackFunc"><span class="hs-identifier hs-var">Functions.runUntrackFunc</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend UnTrackFunction
</span><a href="#local-6989586621687566278"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-442"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMCreateFunctionPermission"><span class="hs-identifier hs-type">RMCreateFunctionPermission</span></a></span><span> </span><span id="local-6989586621687566285"><span class="annot"><span class="annottext">AnyBackend FunctionPermissionArgument
</span><a href="#local-6989586621687566285"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(forall (b :: BackendType).
 BackendMetadata b =&gt;
 FunctionPermissionArgument b -&gt; m EncJSON)
-&gt; AnyBackend FunctionPermissionArgument -&gt; m EncJSON
forall (i :: BackendType -&gt; *) a.
(forall (b :: BackendType). BackendMetadata b =&gt; i b -&gt; a)
-&gt; AnyBackend i -&gt; a
</span><a href="Hasura.Server.API.Metadata.html#dispatchMetadata"><span class="hs-identifier hs-var">dispatchMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">FunctionPermissionArgument b -&gt; m EncJSON
forall (b :: BackendType).
BackendMetadata b =&gt;
FunctionPermissionArgument b -&gt; m EncJSON
forall (b :: BackendType) (m :: * -&gt; *).
(CacheRWM m, MonadError QErr m, MetadataM m, BackendMetadata b) =&gt;
FunctionPermissionArgument b -&gt; m EncJSON
</span><a href="Hasura.Function.API.html#runCreateFunctionPermission"><span class="hs-identifier hs-var">Functions.runCreateFunctionPermission</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend FunctionPermissionArgument
</span><a href="#local-6989586621687566285"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-443"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMDropFunctionPermission"><span class="hs-identifier hs-type">RMDropFunctionPermission</span></a></span><span> </span><span id="local-6989586621687566292"><span class="annot"><span class="annottext">AnyBackend FunctionPermissionArgument
</span><a href="#local-6989586621687566292"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(forall (b :: BackendType).
 BackendMetadata b =&gt;
 FunctionPermissionArgument b -&gt; m EncJSON)
-&gt; AnyBackend FunctionPermissionArgument -&gt; m EncJSON
forall (i :: BackendType -&gt; *) a.
(forall (b :: BackendType). BackendMetadata b =&gt; i b -&gt; a)
-&gt; AnyBackend i -&gt; a
</span><a href="Hasura.Server.API.Metadata.html#dispatchMetadata"><span class="hs-identifier hs-var">dispatchMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">FunctionPermissionArgument b -&gt; m EncJSON
forall (b :: BackendType).
BackendMetadata b =&gt;
FunctionPermissionArgument b -&gt; m EncJSON
forall (m :: * -&gt; *) (b :: BackendType).
(CacheRWM m, MonadError QErr m, MetadataM m, BackendMetadata b) =&gt;
FunctionPermissionArgument b -&gt; m EncJSON
</span><a href="Hasura.Function.API.html#runDropFunctionPermission"><span class="hs-identifier hs-var">Functions.runDropFunctionPermission</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend FunctionPermissionArgument
</span><a href="#local-6989586621687566292"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-444"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMAddComputedField"><span class="hs-identifier hs-type">RMAddComputedField</span></a></span><span> </span><span id="local-6989586621687566299"><span class="annot"><span class="annottext">AnyBackend AddComputedField
</span><a href="#local-6989586621687566299"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(forall (b :: BackendType).
 BackendMetadata b =&gt;
 AddComputedField b -&gt; m EncJSON)
-&gt; AnyBackend AddComputedField -&gt; m EncJSON
forall (i :: BackendType -&gt; *) a.
(forall (b :: BackendType). BackendMetadata b =&gt; i b -&gt; a)
-&gt; AnyBackend i -&gt; a
</span><a href="Hasura.Server.API.Metadata.html#dispatchMetadata"><span class="hs-identifier hs-var">dispatchMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">AddComputedField b -&gt; m EncJSON
forall (b :: BackendType).
BackendMetadata b =&gt;
AddComputedField b -&gt; m EncJSON
forall (b :: BackendType) (m :: * -&gt; *).
(BackendMetadata b, MonadError QErr m, CacheRWM m, MetadataM m) =&gt;
AddComputedField b -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.ComputedField.html#runAddComputedField"><span class="hs-identifier hs-var">runAddComputedField</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend AddComputedField
</span><a href="#local-6989586621687566299"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-445"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMDropComputedField"><span class="hs-identifier hs-type">RMDropComputedField</span></a></span><span> </span><span id="local-6989586621687566306"><span class="annot"><span class="annottext">AnyBackend DropComputedField
</span><a href="#local-6989586621687566306"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(forall (b :: BackendType).
 BackendMetadata b =&gt;
 DropComputedField b -&gt; m EncJSON)
-&gt; AnyBackend DropComputedField -&gt; m EncJSON
forall (i :: BackendType -&gt; *) a.
(forall (b :: BackendType). BackendMetadata b =&gt; i b -&gt; a)
-&gt; AnyBackend i -&gt; a
</span><a href="Hasura.Server.API.Metadata.html#dispatchMetadata"><span class="hs-identifier hs-var">dispatchMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">DropComputedField b -&gt; m EncJSON
forall (b :: BackendType).
BackendMetadata b =&gt;
DropComputedField b -&gt; m EncJSON
forall (b :: BackendType) (m :: * -&gt; *).
(QErrM m, CacheRWM m, MetadataM m, BackendMetadata b) =&gt;
DropComputedField b -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.ComputedField.html#runDropComputedField"><span class="hs-identifier hs-var">runDropComputedField</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend DropComputedField
</span><a href="#local-6989586621687566306"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-446"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMTestConnectionTemplate"><span class="hs-identifier hs-type">RMTestConnectionTemplate</span></a></span><span> </span><span id="local-6989586621687566313"><span class="annot"><span class="annottext">AnyBackend TestConnectionTemplate
</span><a href="#local-6989586621687566313"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(forall (b :: BackendType).
 BackendMetadata b =&gt;
 TestConnectionTemplate b -&gt; m EncJSON)
-&gt; AnyBackend TestConnectionTemplate -&gt; m EncJSON
forall (i :: BackendType -&gt; *) a.
(forall (b :: BackendType). BackendMetadata b =&gt; i b -&gt; a)
-&gt; AnyBackend i -&gt; a
</span><a href="Hasura.Server.API.Metadata.html#dispatchMetadata"><span class="hs-identifier hs-var">dispatchMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">TestConnectionTemplate b -&gt; m EncJSON
forall (b :: BackendType).
BackendMetadata b =&gt;
TestConnectionTemplate b -&gt; m EncJSON
forall (b :: BackendType) (m :: * -&gt; *).
(MonadError QErr m, CacheRM m, Backend b, MetadataM m) =&gt;
TestConnectionTemplate b -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.ConnectionTemplate.html#runTestConnectionTemplate"><span class="hs-identifier hs-var">runTestConnectionTemplate</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend TestConnectionTemplate
</span><a href="#local-6989586621687566313"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-447"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMGetNativeQuery"><span class="hs-identifier hs-type">RMGetNativeQuery</span></a></span><span> </span><span id="local-6989586621687566321"><span class="annot"><span class="annottext">AnyBackend GetNativeQuery
</span><a href="#local-6989586621687566321"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(forall (b :: BackendType).
 BackendMetadata b =&gt;
 GetNativeQuery b -&gt; m EncJSON)
-&gt; AnyBackend GetNativeQuery -&gt; m EncJSON
forall (i :: BackendType -&gt; *) a.
(forall (b :: BackendType). BackendMetadata b =&gt; i b -&gt; a)
-&gt; AnyBackend i -&gt; a
</span><a href="Hasura.Server.API.Metadata.html#dispatchMetadata"><span class="hs-identifier hs-var">dispatchMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">GetNativeQuery b -&gt; m EncJSON
forall (b :: BackendType).
BackendMetadata b =&gt;
GetNativeQuery b -&gt; m EncJSON
forall (b :: BackendType) (m :: * -&gt; *).
(BackendMetadata b, MetadataM m, MonadError QErr m) =&gt;
GetNativeQuery b -&gt; m EncJSON
</span><a href="Hasura.NativeQuery.API.html#runGetNativeQuery"><span class="hs-identifier hs-var">NativeQueries.runGetNativeQuery</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend GetNativeQuery
</span><a href="#local-6989586621687566321"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-448"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMTrackNativeQuery"><span class="hs-identifier hs-type">RMTrackNativeQuery</span></a></span><span> </span><span id="local-6989586621687566327"><span class="annot"><span class="annottext">AnyBackend TrackNativeQuery
</span><a href="#local-6989586621687566327"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(forall (b :: BackendType).
 BackendMetadata b =&gt;
 TrackNativeQuery b -&gt; m EncJSON)
-&gt; AnyBackend TrackNativeQuery -&gt; m EncJSON
forall (i :: BackendType -&gt; *) a.
(forall (b :: BackendType). BackendMetadata b =&gt; i b -&gt; a)
-&gt; AnyBackend i -&gt; a
</span><a href="Hasura.Server.API.Metadata.html#dispatchMetadata"><span class="hs-identifier hs-var">dispatchMetadata</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(TrackNativeQuery b
 -&gt; Metadata -&gt; m (MetadataObjId, MetadataModifier))
-&gt; TrackNativeQuery b -&gt; m EncJSON
forall (m :: * -&gt; *) request.
(MonadError QErr m, CacheRWM m, MetadataM m) =&gt;
(request -&gt; Metadata -&gt; m (MetadataObjId, MetadataModifier))
-&gt; request -&gt; m EncJSON
</span><a href="Hasura.Server.API.Metadata.html#runSingleExec"><span class="hs-identifier hs-var">runSingleExec</span></a></span><span> </span><span class="annot"><span class="annottext">TrackNativeQuery b
-&gt; Metadata -&gt; m (MetadataObjId, MetadataModifier)
forall (b :: BackendType) (m :: * -&gt; *).
(BackendMetadata b, MonadError QErr m) =&gt;
TrackNativeQuery b
-&gt; Metadata -&gt; m (MetadataObjId, MetadataModifier)
</span><a href="Hasura.NativeQuery.API.html#execTrackNativeQuery"><span class="hs-identifier hs-var">NativeQueries.execTrackNativeQuery</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">AnyBackend TrackNativeQuery
</span><a href="#local-6989586621687566327"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-449"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMUntrackNativeQuery"><span class="hs-identifier hs-type">RMUntrackNativeQuery</span></a></span><span> </span><span id="local-6989586621687566336"><span class="annot"><span class="annottext">AnyBackend UntrackNativeQuery
</span><a href="#local-6989586621687566336"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(forall (b :: BackendType).
 BackendMetadata b =&gt;
 UntrackNativeQuery b -&gt; m EncJSON)
-&gt; AnyBackend UntrackNativeQuery -&gt; m EncJSON
forall (i :: BackendType -&gt; *) a.
(forall (b :: BackendType). BackendMetadata b =&gt; i b -&gt; a)
-&gt; AnyBackend i -&gt; a
</span><a href="Hasura.Server.API.Metadata.html#dispatchMetadata"><span class="hs-identifier hs-var">dispatchMetadata</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(UntrackNativeQuery b
 -&gt; Metadata -&gt; m (MetadataObjId, MetadataModifier))
-&gt; UntrackNativeQuery b -&gt; m EncJSON
forall (m :: * -&gt; *) request.
(MonadError QErr m, CacheRWM m, MetadataM m) =&gt;
(request -&gt; Metadata -&gt; m (MetadataObjId, MetadataModifier))
-&gt; request -&gt; m EncJSON
</span><a href="Hasura.Server.API.Metadata.html#runSingleExec"><span class="hs-identifier hs-var">runSingleExec</span></a></span><span> </span><span class="annot"><span class="annottext">UntrackNativeQuery b
-&gt; Metadata -&gt; m (MetadataObjId, MetadataModifier)
forall (b :: BackendType) (m :: * -&gt; *).
(BackendMetadata b, MonadError QErr m) =&gt;
UntrackNativeQuery b
-&gt; Metadata -&gt; m (MetadataObjId, MetadataModifier)
</span><a href="Hasura.NativeQuery.API.html#execUntrackNativeQuery"><span class="hs-identifier hs-var">NativeQueries.execUntrackNativeQuery</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">AnyBackend UntrackNativeQuery
</span><a href="#local-6989586621687566336"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-450"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMGetStoredProcedure"><span class="hs-identifier hs-type">RMGetStoredProcedure</span></a></span><span> </span><span id="local-6989586621687566344"><span class="annot"><span class="annottext">AnyBackend GetStoredProcedure
</span><a href="#local-6989586621687566344"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(forall (b :: BackendType).
 BackendMetadata b =&gt;
 GetStoredProcedure b -&gt; m EncJSON)
-&gt; AnyBackend GetStoredProcedure -&gt; m EncJSON
forall (i :: BackendType -&gt; *) a.
(forall (b :: BackendType). BackendMetadata b =&gt; i b -&gt; a)
-&gt; AnyBackend i -&gt; a
</span><a href="Hasura.Server.API.Metadata.html#dispatchMetadata"><span class="hs-identifier hs-var">dispatchMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">GetStoredProcedure b -&gt; m EncJSON
forall (b :: BackendType).
BackendMetadata b =&gt;
GetStoredProcedure b -&gt; m EncJSON
forall (b :: BackendType) (m :: * -&gt; *).
(BackendMetadata b, MetadataM m) =&gt;
GetStoredProcedure b -&gt; m EncJSON
</span><a href="Hasura.StoredProcedure.API.html#runGetStoredProcedure"><span class="hs-identifier hs-var">StoredProcedures.runGetStoredProcedure</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend GetStoredProcedure
</span><a href="#local-6989586621687566344"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-451"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMTrackStoredProcedure"><span class="hs-identifier hs-type">RMTrackStoredProcedure</span></a></span><span> </span><span id="local-6989586621687566349"><span class="annot"><span class="annottext">AnyBackend TrackStoredProcedure
</span><a href="#local-6989586621687566349"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(forall (b :: BackendType).
 BackendMetadata b =&gt;
 TrackStoredProcedure b -&gt; m EncJSON)
-&gt; AnyBackend TrackStoredProcedure -&gt; m EncJSON
forall (i :: BackendType -&gt; *) a.
(forall (b :: BackendType). BackendMetadata b =&gt; i b -&gt; a)
-&gt; AnyBackend i -&gt; a
</span><a href="Hasura.Server.API.Metadata.html#dispatchMetadata"><span class="hs-identifier hs-var">dispatchMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">TrackStoredProcedure b -&gt; m EncJSON
forall (b :: BackendType).
BackendMetadata b =&gt;
TrackStoredProcedure b -&gt; m EncJSON
forall (b :: BackendType) (m :: * -&gt; *).
(BackendMetadata b, MonadError QErr m, CacheRWM m, MetadataM m) =&gt;
TrackStoredProcedure b -&gt; m EncJSON
</span><a href="Hasura.StoredProcedure.API.html#runTrackStoredProcedure"><span class="hs-identifier hs-var">StoredProcedures.runTrackStoredProcedure</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend TrackStoredProcedure
</span><a href="#local-6989586621687566349"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-452"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMUntrackStoredProcedure"><span class="hs-identifier hs-type">RMUntrackStoredProcedure</span></a></span><span> </span><span id="local-6989586621687566356"><span class="annot"><span class="annottext">AnyBackend UntrackStoredProcedure
</span><a href="#local-6989586621687566356"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(forall (b :: BackendType).
 BackendMetadata b =&gt;
 UntrackStoredProcedure b -&gt; m EncJSON)
-&gt; AnyBackend UntrackStoredProcedure -&gt; m EncJSON
forall (i :: BackendType -&gt; *) a.
(forall (b :: BackendType). BackendMetadata b =&gt; i b -&gt; a)
-&gt; AnyBackend i -&gt; a
</span><a href="Hasura.Server.API.Metadata.html#dispatchMetadata"><span class="hs-identifier hs-var">dispatchMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">UntrackStoredProcedure b -&gt; m EncJSON
forall (b :: BackendType).
BackendMetadata b =&gt;
UntrackStoredProcedure b -&gt; m EncJSON
forall (b :: BackendType) (m :: * -&gt; *).
(BackendMetadata b, MonadError QErr m, CacheRWM m, MetadataM m) =&gt;
UntrackStoredProcedure b -&gt; m EncJSON
</span><a href="Hasura.StoredProcedure.API.html#runUntrackStoredProcedure"><span class="hs-identifier hs-var">StoredProcedures.runUntrackStoredProcedure</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend UntrackStoredProcedure
</span><a href="#local-6989586621687566356"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-453"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMGetLogicalModel"><span class="hs-identifier hs-type">RMGetLogicalModel</span></a></span><span> </span><span id="local-6989586621687566363"><span class="annot"><span class="annottext">AnyBackend GetLogicalModel
</span><a href="#local-6989586621687566363"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(forall (b :: BackendType).
 BackendMetadata b =&gt;
 GetLogicalModel b -&gt; m EncJSON)
-&gt; AnyBackend GetLogicalModel -&gt; m EncJSON
forall (i :: BackendType -&gt; *) a.
(forall (b :: BackendType). BackendMetadata b =&gt; i b -&gt; a)
-&gt; AnyBackend i -&gt; a
</span><a href="Hasura.Server.API.Metadata.html#dispatchMetadata"><span class="hs-identifier hs-var">dispatchMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">GetLogicalModel b -&gt; m EncJSON
forall (b :: BackendType).
BackendMetadata b =&gt;
GetLogicalModel b -&gt; m EncJSON
forall (b :: BackendType) (m :: * -&gt; *).
(BackendMetadata b, MonadError QErr m, MetadataM m) =&gt;
GetLogicalModel b -&gt; m EncJSON
</span><a href="Hasura.LogicalModel.API.html#runGetLogicalModel"><span class="hs-identifier hs-var">LogicalModel.runGetLogicalModel</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend GetLogicalModel
</span><a href="#local-6989586621687566363"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-454"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMTrackLogicalModel"><span class="hs-identifier hs-type">RMTrackLogicalModel</span></a></span><span> </span><span id="local-6989586621687566369"><span class="annot"><span class="annottext">AnyBackend TrackLogicalModel
</span><a href="#local-6989586621687566369"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(forall (b :: BackendType).
 BackendMetadata b =&gt;
 TrackLogicalModel b -&gt; m EncJSON)
-&gt; AnyBackend TrackLogicalModel -&gt; m EncJSON
forall (i :: BackendType -&gt; *) a.
(forall (b :: BackendType). BackendMetadata b =&gt; i b -&gt; a)
-&gt; AnyBackend i -&gt; a
</span><a href="Hasura.Server.API.Metadata.html#dispatchMetadata"><span class="hs-identifier hs-var">dispatchMetadata</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(TrackLogicalModel b
 -&gt; Metadata -&gt; m (MetadataObjId, MetadataModifier))
-&gt; TrackLogicalModel b -&gt; m EncJSON
forall (m :: * -&gt; *) request.
(MonadError QErr m, CacheRWM m, MetadataM m) =&gt;
(request -&gt; Metadata -&gt; m (MetadataObjId, MetadataModifier))
-&gt; request -&gt; m EncJSON
</span><a href="Hasura.Server.API.Metadata.html#runSingleExec"><span class="hs-identifier hs-var">runSingleExec</span></a></span><span> </span><span class="annot"><span class="annottext">TrackLogicalModel b
-&gt; Metadata -&gt; m (MetadataObjId, MetadataModifier)
forall (b :: BackendType) (m :: * -&gt; *).
(BackendMetadata b, MonadError QErr m) =&gt;
TrackLogicalModel b
-&gt; Metadata -&gt; m (MetadataObjId, MetadataModifier)
</span><a href="Hasura.LogicalModel.API.html#execTrackLogicalModel"><span class="hs-identifier hs-var">LogicalModel.execTrackLogicalModel</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">AnyBackend TrackLogicalModel
</span><a href="#local-6989586621687566369"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-455"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMUntrackLogicalModel"><span class="hs-identifier hs-type">RMUntrackLogicalModel</span></a></span><span> </span><span id="local-6989586621687566377"><span class="annot"><span class="annottext">AnyBackend UntrackLogicalModel
</span><a href="#local-6989586621687566377"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(forall (b :: BackendType).
 BackendMetadata b =&gt;
 UntrackLogicalModel b -&gt; m EncJSON)
-&gt; AnyBackend UntrackLogicalModel -&gt; m EncJSON
forall (i :: BackendType -&gt; *) a.
(forall (b :: BackendType). BackendMetadata b =&gt; i b -&gt; a)
-&gt; AnyBackend i -&gt; a
</span><a href="Hasura.Server.API.Metadata.html#dispatchMetadata"><span class="hs-identifier hs-var">dispatchMetadata</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(UntrackLogicalModel b
 -&gt; Metadata -&gt; m (MetadataObjId, MetadataModifier))
-&gt; UntrackLogicalModel b -&gt; m EncJSON
forall (m :: * -&gt; *) request.
(MonadError QErr m, CacheRWM m, MetadataM m) =&gt;
(request -&gt; Metadata -&gt; m (MetadataObjId, MetadataModifier))
-&gt; request -&gt; m EncJSON
</span><a href="Hasura.Server.API.Metadata.html#runSingleExec"><span class="hs-identifier hs-var">runSingleExec</span></a></span><span> </span><span class="annot"><span class="annottext">UntrackLogicalModel b
-&gt; Metadata -&gt; m (MetadataObjId, MetadataModifier)
forall (b :: BackendType) (m :: * -&gt; *).
(BackendMetadata b, MonadError QErr m) =&gt;
UntrackLogicalModel b
-&gt; Metadata -&gt; m (MetadataObjId, MetadataModifier)
</span><a href="Hasura.LogicalModel.API.html#execUntrackLogicalModel"><span class="hs-identifier hs-var">LogicalModel.execUntrackLogicalModel</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">AnyBackend UntrackLogicalModel
</span><a href="#local-6989586621687566377"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-456"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMCreateSelectLogicalModelPermission"><span class="hs-identifier hs-type">RMCreateSelectLogicalModelPermission</span></a></span><span> </span><span id="local-6989586621687566385"><span class="annot"><span class="annottext">AnyBackend (CreateLogicalModelPermission SelPerm)
</span><a href="#local-6989586621687566385"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(forall (b :: BackendType).
 BackendMetadata b =&gt;
 CreateLogicalModelPermission SelPerm b -&gt; m EncJSON)
-&gt; AnyBackend (CreateLogicalModelPermission SelPerm) -&gt; m EncJSON
forall (i :: BackendType -&gt; *) a.
(forall (b :: BackendType). BackendMetadata b =&gt; i b -&gt; a)
-&gt; AnyBackend i -&gt; a
</span><a href="Hasura.Server.API.Metadata.html#dispatchMetadata"><span class="hs-identifier hs-var">dispatchMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">CreateLogicalModelPermission SelPerm b -&gt; m EncJSON
forall (b :: BackendType).
BackendMetadata b =&gt;
CreateLogicalModelPermission SelPerm b -&gt; m EncJSON
forall (b :: BackendType) (m :: * -&gt; *).
(Backend b, CacheRWM m, MetadataM m, MonadError QErr m) =&gt;
CreateLogicalModelPermission SelPerm b -&gt; m EncJSON
</span><a href="Hasura.LogicalModel.API.html#runCreateSelectLogicalModelPermission"><span class="hs-identifier hs-var">LogicalModel.runCreateSelectLogicalModelPermission</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend (CreateLogicalModelPermission SelPerm)
</span><a href="#local-6989586621687566385"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-457"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMDropSelectLogicalModelPermission"><span class="hs-identifier hs-type">RMDropSelectLogicalModelPermission</span></a></span><span> </span><span id="local-6989586621687566393"><span class="annot"><span class="annottext">AnyBackend DropLogicalModelPermission
</span><a href="#local-6989586621687566393"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(forall (b :: BackendType).
 BackendMetadata b =&gt;
 DropLogicalModelPermission b -&gt; m EncJSON)
-&gt; AnyBackend DropLogicalModelPermission -&gt; m EncJSON
forall (i :: BackendType -&gt; *) a.
(forall (b :: BackendType). BackendMetadata b =&gt; i b -&gt; a)
-&gt; AnyBackend i -&gt; a
</span><a href="Hasura.Server.API.Metadata.html#dispatchMetadata"><span class="hs-identifier hs-var">dispatchMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">DropLogicalModelPermission b -&gt; m EncJSON
forall (b :: BackendType).
BackendMetadata b =&gt;
DropLogicalModelPermission b -&gt; m EncJSON
forall (b :: BackendType) (m :: * -&gt; *).
(Backend b, CacheRWM m, MetadataM m, MonadError QErr m) =&gt;
DropLogicalModelPermission b -&gt; m EncJSON
</span><a href="Hasura.LogicalModel.API.html#runDropSelectLogicalModelPermission"><span class="hs-identifier hs-var">LogicalModel.runDropSelectLogicalModelPermission</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend DropLogicalModelPermission
</span><a href="#local-6989586621687566393"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-458"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMCreateEventTrigger"><span class="hs-identifier hs-type">RMCreateEventTrigger</span></a></span><span> </span><span id="local-6989586621687566401"><span class="annot"><span class="annottext">AnyBackend (Unvalidated1 CreateEventTriggerQuery)
</span><a href="#local-6989586621687566401"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-459"></span><span>    </span><span class="annot"><span class="annottext">(forall (b :: BackendType).
 (BackendMetadata b, BackendEventTrigger b) =&gt;
 Unvalidated1 CreateEventTriggerQuery b -&gt; m EncJSON)
-&gt; AnyBackend (Unvalidated1 CreateEventTriggerQuery) -&gt; m EncJSON
forall (i :: BackendType -&gt; *) a.
(forall (b :: BackendType).
 (BackendMetadata b, BackendEventTrigger b) =&gt;
 i b -&gt; a)
-&gt; AnyBackend i -&gt; a
</span><a href="#local-6989586621687566076"><span class="hs-identifier hs-var">dispatchMetadataAndEventTrigger</span></a></span><span>
</span><span id="line-460"></span><span>      </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">LensLike
  m
  (Unvalidated1 CreateEventTriggerQuery b)
  (Unvalidated1 CreateEventTriggerQuery b)
  RequestTransform
  RequestTransform
-&gt; LensLike
     m
     (Unvalidated1 CreateEventTriggerQuery b)
     (Unvalidated1 CreateEventTriggerQuery b)
     MetadataResponseTransform
     MetadataResponseTransform
-&gt; (Unvalidated1 CreateEventTriggerQuery b -&gt; m EncJSON)
-&gt; Unvalidated1 CreateEventTriggerQuery b
-&gt; m EncJSON
forall (m :: * -&gt; *) api.
MonadError QErr m =&gt;
LensLike m api api RequestTransform RequestTransform
-&gt; LensLike
     m api api MetadataResponseTransform MetadataResponseTransform
-&gt; (api -&gt; m EncJSON)
-&gt; api
-&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.Webhook.Transform.Validation.html#validateTransforms"><span class="hs-identifier hs-var">validateTransforms</span></a></span><span>
</span><span id="line-461"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(CreateEventTriggerQuery b -&gt; m (CreateEventTriggerQuery b))
-&gt; Unvalidated1 CreateEventTriggerQuery b
-&gt; m (Unvalidated1 CreateEventTriggerQuery b)
forall {k} (f1 :: k -&gt; *) (a :: k) (f2 :: * -&gt; *).
Functor f2 =&gt;
(f1 a -&gt; f2 (f1 a)) -&gt; Unvalidated1 f1 a -&gt; f2 (Unvalidated1 f1 a)
</span><a href="Hasura.RQL.DDL.Webhook.Transform.Validation.html#unUnvalidate1"><span class="hs-identifier hs-var">unUnvalidate1</span></a></span><span> </span><span class="annot"><span class="annottext">((CreateEventTriggerQuery b -&gt; m (CreateEventTriggerQuery b))
 -&gt; Unvalidated1 CreateEventTriggerQuery b
 -&gt; m (Unvalidated1 CreateEventTriggerQuery b))
-&gt; ((RequestTransform -&gt; m RequestTransform)
    -&gt; CreateEventTriggerQuery b -&gt; m (CreateEventTriggerQuery b))
-&gt; LensLike
     m
     (Unvalidated1 CreateEventTriggerQuery b)
     (Unvalidated1 CreateEventTriggerQuery b)
     RequestTransform
     RequestTransform
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Maybe RequestTransform -&gt; m (Maybe RequestTransform))
-&gt; CreateEventTriggerQuery b -&gt; m (CreateEventTriggerQuery b)
forall (b :: BackendType) (f :: * -&gt; *).
Functor f =&gt;
(Maybe RequestTransform -&gt; f (Maybe RequestTransform))
-&gt; CreateEventTriggerQuery b -&gt; f (CreateEventTriggerQuery b)
</span><a href="Hasura.RQL.DDL.EventTrigger.html#cetqRequestTransform"><span class="hs-identifier hs-var">cetqRequestTransform</span></a></span><span> </span><span class="annot"><span class="annottext">((Maybe RequestTransform -&gt; m (Maybe RequestTransform))
 -&gt; CreateEventTriggerQuery b -&gt; m (CreateEventTriggerQuery b))
-&gt; ((RequestTransform -&gt; m RequestTransform)
    -&gt; Maybe RequestTransform -&gt; m (Maybe RequestTransform))
-&gt; (RequestTransform -&gt; m RequestTransform)
-&gt; CreateEventTriggerQuery b
-&gt; m (CreateEventTriggerQuery b)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(RequestTransform -&gt; m RequestTransform)
-&gt; Maybe RequestTransform -&gt; m (Maybe RequestTransform)
forall a b (p :: * -&gt; * -&gt; *) (f :: * -&gt; *).
(Choice p, Applicative f) =&gt;
p a (f b) -&gt; p (Maybe a) (f (Maybe b))
</span><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/lens-5.2.2-70a68698e02c1d9dc133c543e6497a7241e5514570afd4815da4baf2a001e00e/share/doc/html/src/Control.Lens.Prism.html#_Just"><span class="hs-identifier hs-var">_Just</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-462"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(CreateEventTriggerQuery b -&gt; m (CreateEventTriggerQuery b))
-&gt; Unvalidated1 CreateEventTriggerQuery b
-&gt; m (Unvalidated1 CreateEventTriggerQuery b)
forall {k} (f1 :: k -&gt; *) (a :: k) (f2 :: * -&gt; *).
Functor f2 =&gt;
(f1 a -&gt; f2 (f1 a)) -&gt; Unvalidated1 f1 a -&gt; f2 (Unvalidated1 f1 a)
</span><a href="Hasura.RQL.DDL.Webhook.Transform.Validation.html#unUnvalidate1"><span class="hs-identifier hs-var">unUnvalidate1</span></a></span><span> </span><span class="annot"><span class="annottext">((CreateEventTriggerQuery b -&gt; m (CreateEventTriggerQuery b))
 -&gt; Unvalidated1 CreateEventTriggerQuery b
 -&gt; m (Unvalidated1 CreateEventTriggerQuery b))
-&gt; ((MetadataResponseTransform -&gt; m MetadataResponseTransform)
    -&gt; CreateEventTriggerQuery b -&gt; m (CreateEventTriggerQuery b))
-&gt; LensLike
     m
     (Unvalidated1 CreateEventTriggerQuery b)
     (Unvalidated1 CreateEventTriggerQuery b)
     MetadataResponseTransform
     MetadataResponseTransform
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Maybe MetadataResponseTransform
 -&gt; m (Maybe MetadataResponseTransform))
-&gt; CreateEventTriggerQuery b -&gt; m (CreateEventTriggerQuery b)
forall (b :: BackendType) (f :: * -&gt; *).
Functor f =&gt;
(Maybe MetadataResponseTransform
 -&gt; f (Maybe MetadataResponseTransform))
-&gt; CreateEventTriggerQuery b -&gt; f (CreateEventTriggerQuery b)
</span><a href="Hasura.RQL.DDL.EventTrigger.html#cetqResponseTrasnform"><span class="hs-identifier hs-var">cetqResponseTrasnform</span></a></span><span> </span><span class="annot"><span class="annottext">((Maybe MetadataResponseTransform
  -&gt; m (Maybe MetadataResponseTransform))
 -&gt; CreateEventTriggerQuery b -&gt; m (CreateEventTriggerQuery b))
-&gt; ((MetadataResponseTransform -&gt; m MetadataResponseTransform)
    -&gt; Maybe MetadataResponseTransform
    -&gt; m (Maybe MetadataResponseTransform))
-&gt; (MetadataResponseTransform -&gt; m MetadataResponseTransform)
-&gt; CreateEventTriggerQuery b
-&gt; m (CreateEventTriggerQuery b)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(MetadataResponseTransform -&gt; m MetadataResponseTransform)
-&gt; Maybe MetadataResponseTransform
-&gt; m (Maybe MetadataResponseTransform)
forall a b (p :: * -&gt; * -&gt; *) (f :: * -&gt; *).
(Choice p, Applicative f) =&gt;
p a (f b) -&gt; p (Maybe a) (f (Maybe b))
</span><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/lens-5.2.2-70a68698e02c1d9dc133c543e6497a7241e5514570afd4815da4baf2a001e00e/share/doc/html/src/Control.Lens.Prism.html#_Just"><span class="hs-identifier hs-var">_Just</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-463"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CreateEventTriggerQuery b -&gt; m EncJSON
forall (b :: BackendType) (m :: * -&gt; *) r.
(BackendMetadata b, BackendEventTrigger b, QErrM m, UserInfoM m,
 CacheRWM m, MetadataM m, MonadIO m, MonadEventLogCleanup m,
 MonadReader r m, Has (Logger Hasura) r) =&gt;
CreateEventTriggerQuery b -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.EventTrigger.html#runCreateEventTriggerQuery"><span class="hs-identifier hs-var">runCreateEventTriggerQuery</span></a></span><span> </span><span class="annot"><span class="annottext">(CreateEventTriggerQuery b -&gt; m EncJSON)
-&gt; (Unvalidated1 CreateEventTriggerQuery b
    -&gt; CreateEventTriggerQuery b)
-&gt; Unvalidated1 CreateEventTriggerQuery b
-&gt; m EncJSON
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Unvalidated1 CreateEventTriggerQuery b -&gt; CreateEventTriggerQuery b
forall k (f :: k -&gt; *) (a :: k). Unvalidated1 f a -&gt; f a
</span><a href="Hasura.RQL.DDL.Webhook.Transform.Validation.html#_unUnvalidate1"><span class="hs-identifier hs-var">_unUnvalidate1</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-464"></span><span>      </span><span class="hs-special">)</span><span>
</span><span id="line-465"></span><span>      </span><span class="annot"><span class="annottext">AnyBackend (Unvalidated1 CreateEventTriggerQuery)
</span><a href="#local-6989586621687566401"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-466"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMDeleteEventTrigger"><span class="hs-identifier hs-type">RMDeleteEventTrigger</span></a></span><span> </span><span id="local-6989586621687566429"><span class="annot"><span class="annottext">AnyBackend DeleteEventTriggerQuery
</span><a href="#local-6989586621687566429"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(forall (b :: BackendType).
 (BackendMetadata b, BackendEventTrigger b) =&gt;
 DeleteEventTriggerQuery b -&gt; m EncJSON)
-&gt; AnyBackend DeleteEventTriggerQuery -&gt; m EncJSON
forall (i :: BackendType -&gt; *) a.
(forall (b :: BackendType).
 (BackendMetadata b, BackendEventTrigger b) =&gt;
 i b -&gt; a)
-&gt; AnyBackend i -&gt; a
</span><a href="#local-6989586621687566076"><span class="hs-identifier hs-var">dispatchMetadataAndEventTrigger</span></a></span><span> </span><span class="annot"><span class="annottext">DeleteEventTriggerQuery b -&gt; m EncJSON
forall (b :: BackendType).
(BackendMetadata b, BackendEventTrigger b) =&gt;
DeleteEventTriggerQuery b -&gt; m EncJSON
forall (b :: BackendType) (m :: * -&gt; *).
(BackendEventTrigger b, MonadError QErr m, CacheRWM m, MonadIO m,
 MetadataM m) =&gt;
DeleteEventTriggerQuery b -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.EventTrigger.html#runDeleteEventTriggerQuery"><span class="hs-identifier hs-var">runDeleteEventTriggerQuery</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend DeleteEventTriggerQuery
</span><a href="#local-6989586621687566429"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-467"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMRedeliverEvent"><span class="hs-identifier hs-type">RMRedeliverEvent</span></a></span><span> </span><span id="local-6989586621687566438"><span class="annot"><span class="annottext">AnyBackend RedeliverEventQuery
</span><a href="#local-6989586621687566438"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(forall (b :: BackendType).
 BackendEventTrigger b =&gt;
 RedeliverEventQuery b -&gt; m EncJSON)
-&gt; AnyBackend RedeliverEventQuery -&gt; m EncJSON
forall (i :: BackendType -&gt; *) a.
(forall (b :: BackendType). BackendEventTrigger b =&gt; i b -&gt; a)
-&gt; AnyBackend i -&gt; a
</span><a href="#local-6989586621687566439"><span class="hs-identifier hs-var">dispatchEventTrigger</span></a></span><span> </span><span class="annot"><span class="annottext">RedeliverEventQuery b -&gt; m EncJSON
forall (b :: BackendType).
BackendEventTrigger b =&gt;
RedeliverEventQuery b -&gt; m EncJSON
forall (b :: BackendType) (m :: * -&gt; *).
(BackendEventTrigger b, MonadIO m, CacheRM m, QErrM m,
 MetadataM m) =&gt;
RedeliverEventQuery b -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.EventTrigger.html#runRedeliverEvent"><span class="hs-identifier hs-var">runRedeliverEvent</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend RedeliverEventQuery
</span><a href="#local-6989586621687566438"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-468"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMInvokeEventTrigger"><span class="hs-identifier hs-type">RMInvokeEventTrigger</span></a></span><span> </span><span id="local-6989586621687566447"><span class="annot"><span class="annottext">AnyBackend InvokeEventTriggerQuery
</span><a href="#local-6989586621687566447"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(forall (b :: BackendType).
 BackendEventTrigger b =&gt;
 InvokeEventTriggerQuery b -&gt; m EncJSON)
-&gt; AnyBackend InvokeEventTriggerQuery -&gt; m EncJSON
forall (i :: BackendType -&gt; *) a.
(forall (b :: BackendType). BackendEventTrigger b =&gt; i b -&gt; a)
-&gt; AnyBackend i -&gt; a
</span><a href="#local-6989586621687566439"><span class="hs-identifier hs-var">dispatchEventTrigger</span></a></span><span> </span><span class="annot"><span class="annottext">InvokeEventTriggerQuery b -&gt; m EncJSON
forall (b :: BackendType).
BackendEventTrigger b =&gt;
InvokeEventTriggerQuery b -&gt; m EncJSON
forall (b :: BackendType) (m :: * -&gt; *).
(MonadIO m, QErrM m, CacheRM m, MetadataM m, MonadTrace m,
 UserInfoM m, BackendEventTrigger b) =&gt;
InvokeEventTriggerQuery b -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.EventTrigger.html#runInvokeEventTrigger"><span class="hs-identifier hs-var">runInvokeEventTrigger</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend InvokeEventTriggerQuery
</span><a href="#local-6989586621687566447"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-469"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMCleanupEventTriggerLog"><span class="hs-identifier hs-type">RMCleanupEventTriggerLog</span></a></span><span> </span><span id="local-6989586621687566457"><span class="annot"><span class="annottext">TriggerLogCleanupConfig
</span><a href="#local-6989586621687566457"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TriggerLogCleanupConfig -&gt; m EncJSON
forall (m :: * -&gt; *).
(MonadEventLogCleanup m, MonadError QErr m, CacheRWM m) =&gt;
TriggerLogCleanupConfig -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.EventTrigger.html#runCleanupEventTriggerLog"><span class="hs-identifier hs-var">runCleanupEventTriggerLog</span></a></span><span> </span><span class="annot"><span class="annottext">TriggerLogCleanupConfig
</span><a href="#local-6989586621687566457"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-470"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMResumeEventTriggerCleanup"><span class="hs-identifier hs-type">RMResumeEventTriggerCleanup</span></a></span><span> </span><span id="local-6989586621687566459"><span class="annot"><span class="annottext">TriggerLogCleanupToggleConfig
</span><a href="#local-6989586621687566459"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TriggerLogCleanupToggleConfig -&gt; m EncJSON
forall (m :: * -&gt; *).
(MonadIO m, QErrM m, CacheRWM m, MetadataM m) =&gt;
TriggerLogCleanupToggleConfig -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.EventTrigger.html#runEventTriggerResumeCleanup"><span class="hs-identifier hs-var">runEventTriggerResumeCleanup</span></a></span><span> </span><span class="annot"><span class="annottext">TriggerLogCleanupToggleConfig
</span><a href="#local-6989586621687566459"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-471"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMPauseEventTriggerCleanup"><span class="hs-identifier hs-type">RMPauseEventTriggerCleanup</span></a></span><span> </span><span id="local-6989586621687566461"><span class="annot"><span class="annottext">TriggerLogCleanupToggleConfig
</span><a href="#local-6989586621687566461"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">TriggerLogCleanupToggleConfig -&gt; m EncJSON
forall (m :: * -&gt; *).
(MonadError QErr m, CacheRWM m, MonadIO m, MetadataM m) =&gt;
TriggerLogCleanupToggleConfig -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.EventTrigger.html#runEventTriggerPauseCleanup"><span class="hs-identifier hs-var">runEventTriggerPauseCleanup</span></a></span><span> </span><span class="annot"><span class="annottext">TriggerLogCleanupToggleConfig
</span><a href="#local-6989586621687566461"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-472"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMGetEventLogs"><span class="hs-identifier hs-type">RMGetEventLogs</span></a></span><span> </span><span id="local-6989586621687566463"><span class="annot"><span class="annottext">AnyBackend GetEventLogs
</span><a href="#local-6989586621687566463"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(forall (b :: BackendType).
 BackendEventTrigger b =&gt;
 GetEventLogs b -&gt; m EncJSON)
-&gt; AnyBackend GetEventLogs -&gt; m EncJSON
forall (i :: BackendType -&gt; *) a.
(forall (b :: BackendType). BackendEventTrigger b =&gt; i b -&gt; a)
-&gt; AnyBackend i -&gt; a
</span><a href="#local-6989586621687566439"><span class="hs-identifier hs-var">dispatchEventTrigger</span></a></span><span> </span><span class="annot"><span class="annottext">GetEventLogs b -&gt; m EncJSON
forall (b :: BackendType).
BackendEventTrigger b =&gt;
GetEventLogs b -&gt; m EncJSON
forall (b :: BackendType) (m :: * -&gt; *).
(MonadIO m, CacheRM m, MonadError QErr m, BackendEventTrigger b,
 MetadataM m) =&gt;
GetEventLogs b -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.EventTrigger.html#runGetEventLogs"><span class="hs-identifier hs-var">runGetEventLogs</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend GetEventLogs
</span><a href="#local-6989586621687566463"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-473"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMGetEventInvocationLogs"><span class="hs-identifier hs-type">RMGetEventInvocationLogs</span></a></span><span> </span><span id="local-6989586621687566471"><span class="annot"><span class="annottext">AnyBackend GetEventInvocations
</span><a href="#local-6989586621687566471"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(forall (b :: BackendType).
 BackendEventTrigger b =&gt;
 GetEventInvocations b -&gt; m EncJSON)
-&gt; AnyBackend GetEventInvocations -&gt; m EncJSON
forall (i :: BackendType -&gt; *) a.
(forall (b :: BackendType). BackendEventTrigger b =&gt; i b -&gt; a)
-&gt; AnyBackend i -&gt; a
</span><a href="#local-6989586621687566439"><span class="hs-identifier hs-var">dispatchEventTrigger</span></a></span><span> </span><span class="annot"><span class="annottext">GetEventInvocations b -&gt; m EncJSON
forall (b :: BackendType).
BackendEventTrigger b =&gt;
GetEventInvocations b -&gt; m EncJSON
forall (b :: BackendType) (m :: * -&gt; *).
(MonadIO m, CacheRM m, MonadError QErr m, BackendEventTrigger b,
 MetadataM m) =&gt;
GetEventInvocations b -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.EventTrigger.html#runGetEventInvocationLogs"><span class="hs-identifier hs-var">runGetEventInvocationLogs</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend GetEventInvocations
</span><a href="#local-6989586621687566471"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-474"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMGetEventById"><span class="hs-identifier hs-type">RMGetEventById</span></a></span><span> </span><span id="local-6989586621687566479"><span class="annot"><span class="annottext">AnyBackend GetEventById
</span><a href="#local-6989586621687566479"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(forall (b :: BackendType).
 BackendEventTrigger b =&gt;
 GetEventById b -&gt; m EncJSON)
-&gt; AnyBackend GetEventById -&gt; m EncJSON
forall (i :: BackendType -&gt; *) a.
(forall (b :: BackendType). BackendEventTrigger b =&gt; i b -&gt; a)
-&gt; AnyBackend i -&gt; a
</span><a href="#local-6989586621687566439"><span class="hs-identifier hs-var">dispatchEventTrigger</span></a></span><span> </span><span class="annot"><span class="annottext">GetEventById b -&gt; m EncJSON
forall (b :: BackendType).
BackendEventTrigger b =&gt;
GetEventById b -&gt; m EncJSON
forall (b :: BackendType) (m :: * -&gt; *).
(MonadIO m, CacheRM m, MonadError QErr m, BackendEventTrigger b,
 MetadataM m) =&gt;
GetEventById b -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.EventTrigger.html#runGetEventById"><span class="hs-identifier hs-var">runGetEventById</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend GetEventById
</span><a href="#local-6989586621687566479"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-475"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMAddRemoteSchema"><span class="hs-identifier hs-type">RMAddRemoteSchema</span></a></span><span> </span><span id="local-6989586621687566487"><span class="annot"><span class="annottext">AddRemoteSchemaQuery
</span><a href="#local-6989586621687566487"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Environment -&gt; AddRemoteSchemaQuery -&gt; m EncJSON
forall (m :: * -&gt; *).
(QErrM m, CacheRWM m, MonadIO m, ProvidesNetwork m, MetadataM m,
 MonadTrace m) =&gt;
Environment -&gt; AddRemoteSchemaQuery -&gt; m EncJSON
</span><a href="Hasura.RemoteSchema.MetadataAPI.Core.html#runAddRemoteSchema"><span class="hs-identifier hs-var">runAddRemoteSchema</span></a></span><span> </span><span class="annot"><span class="annottext">Environment
</span><a href="#local-6989586621687565998"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">AddRemoteSchemaQuery
</span><a href="#local-6989586621687566487"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-476"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMUpdateRemoteSchema"><span class="hs-identifier hs-type">RMUpdateRemoteSchema</span></a></span><span> </span><span id="local-6989586621687566489"><span class="annot"><span class="annottext">AddRemoteSchemaQuery
</span><a href="#local-6989586621687566489"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Environment -&gt; AddRemoteSchemaQuery -&gt; m EncJSON
forall (m :: * -&gt; *).
(QErrM m, CacheRWM m, MonadIO m, ProvidesNetwork m, MetadataM m,
 MonadTrace m) =&gt;
Environment -&gt; AddRemoteSchemaQuery -&gt; m EncJSON
</span><a href="Hasura.RemoteSchema.MetadataAPI.Core.html#runUpdateRemoteSchema"><span class="hs-identifier hs-var">runUpdateRemoteSchema</span></a></span><span> </span><span class="annot"><span class="annottext">Environment
</span><a href="#local-6989586621687565998"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">AddRemoteSchemaQuery
</span><a href="#local-6989586621687566489"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-477"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMRemoveRemoteSchema"><span class="hs-identifier hs-type">RMRemoveRemoteSchema</span></a></span><span> </span><span id="local-6989586621687566491"><span class="annot"><span class="annottext">RemoteSchemaNameQuery
</span><a href="#local-6989586621687566491"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">RemoteSchemaNameQuery -&gt; m EncJSON
forall (m :: * -&gt; *).
(QErrM m, UserInfoM m, CacheRWM m, MetadataM m) =&gt;
RemoteSchemaNameQuery -&gt; m EncJSON
</span><a href="Hasura.RemoteSchema.MetadataAPI.Core.html#runRemoveRemoteSchema"><span class="hs-identifier hs-var">runRemoveRemoteSchema</span></a></span><span> </span><span class="annot"><span class="annottext">RemoteSchemaNameQuery
</span><a href="#local-6989586621687566491"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-478"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMReloadRemoteSchema"><span class="hs-identifier hs-type">RMReloadRemoteSchema</span></a></span><span> </span><span id="local-6989586621687566493"><span class="annot"><span class="annottext">RemoteSchemaNameQuery
</span><a href="#local-6989586621687566493"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">RemoteSchemaNameQuery -&gt; m EncJSON
forall (m :: * -&gt; *).
(QErrM m, CacheRWM m, MetadataM m) =&gt;
RemoteSchemaNameQuery -&gt; m EncJSON
</span><a href="Hasura.RemoteSchema.MetadataAPI.Core.html#runReloadRemoteSchema"><span class="hs-identifier hs-var">runReloadRemoteSchema</span></a></span><span> </span><span class="annot"><span class="annottext">RemoteSchemaNameQuery
</span><a href="#local-6989586621687566493"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-479"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMIntrospectRemoteSchema"><span class="hs-identifier hs-type">RMIntrospectRemoteSchema</span></a></span><span> </span><span id="local-6989586621687566495"><span class="annot"><span class="annottext">RemoteSchemaNameQuery
</span><a href="#local-6989586621687566495"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">RemoteSchemaNameQuery -&gt; m EncJSON
forall (m :: * -&gt; *).
(CacheRM m, QErrM m) =&gt;
RemoteSchemaNameQuery -&gt; m EncJSON
</span><a href="Hasura.RemoteSchema.MetadataAPI.Core.html#runIntrospectRemoteSchema"><span class="hs-identifier hs-var">runIntrospectRemoteSchema</span></a></span><span> </span><span class="annot"><span class="annottext">RemoteSchemaNameQuery
</span><a href="#local-6989586621687566495"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-480"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMAddRemoteSchemaPermissions"><span class="hs-identifier hs-type">RMAddRemoteSchemaPermissions</span></a></span><span> </span><span id="local-6989586621687566497"><span class="annot"><span class="annottext">AddRemoteSchemaPermission
</span><a href="#local-6989586621687566497"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">RemoteSchemaPermissions -&gt; AddRemoteSchemaPermission -&gt; m EncJSON
forall (m :: * -&gt; *).
(QErrM m, CacheRWM m, MetadataM m) =&gt;
RemoteSchemaPermissions -&gt; AddRemoteSchemaPermission -&gt; m EncJSON
</span><a href="Hasura.RemoteSchema.MetadataAPI.Permission.html#runAddRemoteSchemaPermissions"><span class="hs-identifier hs-var">runAddRemoteSchemaPermissions</span></a></span><span> </span><span class="annot"><span class="annottext">RemoteSchemaPermissions
</span><a href="#local-6989586621687566000"><span class="hs-identifier hs-var">remoteSchemaPerms</span></a></span><span> </span><span class="annot"><span class="annottext">AddRemoteSchemaPermission
</span><a href="#local-6989586621687566497"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-481"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMDropRemoteSchemaPermissions"><span class="hs-identifier hs-type">RMDropRemoteSchemaPermissions</span></a></span><span> </span><span id="local-6989586621687566499"><span class="annot"><span class="annottext">DropRemoteSchemaPermissions
</span><a href="#local-6989586621687566499"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DropRemoteSchemaPermissions -&gt; m EncJSON
forall (m :: * -&gt; *).
(QErrM m, CacheRWM m, MetadataM m) =&gt;
DropRemoteSchemaPermissions -&gt; m EncJSON
</span><a href="Hasura.RemoteSchema.MetadataAPI.Permission.html#runDropRemoteSchemaPermissions"><span class="hs-identifier hs-var">runDropRemoteSchemaPermissions</span></a></span><span> </span><span class="annot"><span class="annottext">DropRemoteSchemaPermissions
</span><a href="#local-6989586621687566499"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-482"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMCreateRemoteSchemaRemoteRelationship"><span class="hs-identifier hs-type">RMCreateRemoteSchemaRemoteRelationship</span></a></span><span> </span><span id="local-6989586621687566501"><span class="annot"><span class="annottext">CreateRemoteSchemaRemoteRelationship
</span><a href="#local-6989586621687566501"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CreateRemoteSchemaRemoteRelationship -&gt; m EncJSON
forall (m :: * -&gt; *).
(MonadError QErr m, CacheRWM m, MetadataM m) =&gt;
CreateRemoteSchemaRemoteRelationship -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.RemoteRelationship.html#runCreateRemoteSchemaRemoteRelationship"><span class="hs-identifier hs-var">runCreateRemoteSchemaRemoteRelationship</span></a></span><span> </span><span class="annot"><span class="annottext">CreateRemoteSchemaRemoteRelationship
</span><a href="#local-6989586621687566501"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-483"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMUpdateRemoteSchemaRemoteRelationship"><span class="hs-identifier hs-type">RMUpdateRemoteSchemaRemoteRelationship</span></a></span><span> </span><span id="local-6989586621687566503"><span class="annot"><span class="annottext">CreateRemoteSchemaRemoteRelationship
</span><a href="#local-6989586621687566503"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CreateRemoteSchemaRemoteRelationship -&gt; m EncJSON
forall (m :: * -&gt; *).
(MonadError QErr m, CacheRWM m, MetadataM m) =&gt;
CreateRemoteSchemaRemoteRelationship -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.RemoteRelationship.html#runUpdateRemoteSchemaRemoteRelationship"><span class="hs-identifier hs-var">runUpdateRemoteSchemaRemoteRelationship</span></a></span><span> </span><span class="annot"><span class="annottext">CreateRemoteSchemaRemoteRelationship
</span><a href="#local-6989586621687566503"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-484"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMDeleteRemoteSchemaRemoteRelationship"><span class="hs-identifier hs-type">RMDeleteRemoteSchemaRemoteRelationship</span></a></span><span> </span><span id="local-6989586621687566505"><span class="annot"><span class="annottext">DeleteRemoteSchemaRemoteRelationship
</span><a href="#local-6989586621687566505"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DeleteRemoteSchemaRemoteRelationship -&gt; m EncJSON
forall (m :: * -&gt; *).
(MonadError QErr m, CacheRWM m, MetadataM m) =&gt;
DeleteRemoteSchemaRemoteRelationship -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.RemoteRelationship.html#runDeleteRemoteSchemaRemoteRelationship"><span class="hs-identifier hs-var">runDeleteRemoteSchemaRemoteRelationship</span></a></span><span> </span><span class="annot"><span class="annottext">DeleteRemoteSchemaRemoteRelationship
</span><a href="#local-6989586621687566505"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-485"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMCreateCronTrigger"><span class="hs-identifier hs-type">RMCreateCronTrigger</span></a></span><span> </span><span id="local-6989586621687566507"><span class="annot"><span class="annottext">Unvalidated CreateCronTrigger
</span><a href="#local-6989586621687566507"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-486"></span><span>    </span><span class="annot"><span class="annottext">LensLike
  m
  (Unvalidated CreateCronTrigger)
  (Unvalidated CreateCronTrigger)
  RequestTransform
  RequestTransform
-&gt; LensLike
     m
     (Unvalidated CreateCronTrigger)
     (Unvalidated CreateCronTrigger)
     MetadataResponseTransform
     MetadataResponseTransform
-&gt; (Unvalidated CreateCronTrigger -&gt; m EncJSON)
-&gt; Unvalidated CreateCronTrigger
-&gt; m EncJSON
forall (m :: * -&gt; *) api.
MonadError QErr m =&gt;
LensLike m api api RequestTransform RequestTransform
-&gt; LensLike
     m api api MetadataResponseTransform MetadataResponseTransform
-&gt; (api -&gt; m EncJSON)
-&gt; api
-&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.Webhook.Transform.Validation.html#validateTransforms"><span class="hs-identifier hs-var">validateTransforms</span></a></span><span>
</span><span id="line-487"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(CreateCronTrigger -&gt; m CreateCronTrigger)
-&gt; Unvalidated CreateCronTrigger
-&gt; m (Unvalidated CreateCronTrigger)
forall a (f :: * -&gt; *).
Functor f =&gt;
(a -&gt; f a) -&gt; Unvalidated a -&gt; f (Unvalidated a)
</span><a href="Hasura.RQL.DDL.Webhook.Transform.Validation.html#unUnvalidate"><span class="hs-identifier hs-var">unUnvalidate</span></a></span><span> </span><span class="annot"><span class="annottext">((CreateCronTrigger -&gt; m CreateCronTrigger)
 -&gt; Unvalidated CreateCronTrigger
 -&gt; m (Unvalidated CreateCronTrigger))
-&gt; ((RequestTransform -&gt; m RequestTransform)
    -&gt; CreateCronTrigger -&gt; m CreateCronTrigger)
-&gt; LensLike
     m
     (Unvalidated CreateCronTrigger)
     (Unvalidated CreateCronTrigger)
     RequestTransform
     RequestTransform
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Maybe RequestTransform -&gt; m (Maybe RequestTransform))
-&gt; CreateCronTrigger -&gt; m CreateCronTrigger
Lens' CreateCronTrigger (Maybe RequestTransform)
</span><a href="Hasura.RQL.Types.ScheduledTrigger.html#cctRequestTransform"><span class="hs-identifier hs-var">cctRequestTransform</span></a></span><span> </span><span class="annot"><span class="annottext">((Maybe RequestTransform -&gt; m (Maybe RequestTransform))
 -&gt; CreateCronTrigger -&gt; m CreateCronTrigger)
-&gt; ((RequestTransform -&gt; m RequestTransform)
    -&gt; Maybe RequestTransform -&gt; m (Maybe RequestTransform))
-&gt; (RequestTransform -&gt; m RequestTransform)
-&gt; CreateCronTrigger
-&gt; m CreateCronTrigger
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(RequestTransform -&gt; m RequestTransform)
-&gt; Maybe RequestTransform -&gt; m (Maybe RequestTransform)
forall a b (p :: * -&gt; * -&gt; *) (f :: * -&gt; *).
(Choice p, Applicative f) =&gt;
p a (f b) -&gt; p (Maybe a) (f (Maybe b))
</span><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/lens-5.2.2-70a68698e02c1d9dc133c543e6497a7241e5514570afd4815da4baf2a001e00e/share/doc/html/src/Control.Lens.Prism.html#_Just"><span class="hs-identifier hs-var">_Just</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-488"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(CreateCronTrigger -&gt; m CreateCronTrigger)
-&gt; Unvalidated CreateCronTrigger
-&gt; m (Unvalidated CreateCronTrigger)
forall a (f :: * -&gt; *).
Functor f =&gt;
(a -&gt; f a) -&gt; Unvalidated a -&gt; f (Unvalidated a)
</span><a href="Hasura.RQL.DDL.Webhook.Transform.Validation.html#unUnvalidate"><span class="hs-identifier hs-var">unUnvalidate</span></a></span><span> </span><span class="annot"><span class="annottext">((CreateCronTrigger -&gt; m CreateCronTrigger)
 -&gt; Unvalidated CreateCronTrigger
 -&gt; m (Unvalidated CreateCronTrigger))
-&gt; ((MetadataResponseTransform -&gt; m MetadataResponseTransform)
    -&gt; CreateCronTrigger -&gt; m CreateCronTrigger)
-&gt; LensLike
     m
     (Unvalidated CreateCronTrigger)
     (Unvalidated CreateCronTrigger)
     MetadataResponseTransform
     MetadataResponseTransform
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Maybe MetadataResponseTransform
 -&gt; m (Maybe MetadataResponseTransform))
-&gt; CreateCronTrigger -&gt; m CreateCronTrigger
Lens' CreateCronTrigger (Maybe MetadataResponseTransform)
</span><a href="Hasura.RQL.Types.ScheduledTrigger.html#cctResponseTransform"><span class="hs-identifier hs-var">cctResponseTransform</span></a></span><span> </span><span class="annot"><span class="annottext">((Maybe MetadataResponseTransform
  -&gt; m (Maybe MetadataResponseTransform))
 -&gt; CreateCronTrigger -&gt; m CreateCronTrigger)
-&gt; ((MetadataResponseTransform -&gt; m MetadataResponseTransform)
    -&gt; Maybe MetadataResponseTransform
    -&gt; m (Maybe MetadataResponseTransform))
-&gt; (MetadataResponseTransform -&gt; m MetadataResponseTransform)
-&gt; CreateCronTrigger
-&gt; m CreateCronTrigger
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(MetadataResponseTransform -&gt; m MetadataResponseTransform)
-&gt; Maybe MetadataResponseTransform
-&gt; m (Maybe MetadataResponseTransform)
forall a b (p :: * -&gt; * -&gt; *) (f :: * -&gt; *).
(Choice p, Applicative f) =&gt;
p a (f b) -&gt; p (Maybe a) (f (Maybe b))
</span><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/lens-5.2.2-70a68698e02c1d9dc133c543e6497a7241e5514570afd4815da4baf2a001e00e/share/doc/html/src/Control.Lens.Prism.html#_Just"><span class="hs-identifier hs-var">_Just</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-489"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CreateCronTrigger -&gt; m EncJSON
forall (m :: * -&gt; *).
(MonadError QErr m, CacheRWM m, MonadIO m, MetadataM m,
 MonadMetadataStorage m) =&gt;
CreateCronTrigger -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.ScheduledTrigger.html#runCreateCronTrigger"><span class="hs-identifier hs-var">runCreateCronTrigger</span></a></span><span> </span><span class="annot"><span class="annottext">(CreateCronTrigger -&gt; m EncJSON)
-&gt; (Unvalidated CreateCronTrigger -&gt; CreateCronTrigger)
-&gt; Unvalidated CreateCronTrigger
-&gt; m EncJSON
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Unvalidated CreateCronTrigger -&gt; CreateCronTrigger
forall a. Unvalidated a -&gt; a
</span><a href="Hasura.RQL.DDL.Webhook.Transform.Validation.html#_unUnvalidate"><span class="hs-identifier hs-var">_unUnvalidate</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-490"></span><span>      </span><span class="annot"><span class="annottext">Unvalidated CreateCronTrigger
</span><a href="#local-6989586621687566507"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-491"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMDeleteCronTrigger"><span class="hs-identifier hs-type">RMDeleteCronTrigger</span></a></span><span> </span><span id="local-6989586621687566513"><span class="annot"><span class="annottext">ScheduledTriggerName
</span><a href="#local-6989586621687566513"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ScheduledTriggerName -&gt; m EncJSON
forall (m :: * -&gt; *).
(MonadError QErr m, CacheRWM m, MetadataM m,
 MonadMetadataStorage m) =&gt;
ScheduledTriggerName -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.ScheduledTrigger.html#runDeleteCronTrigger"><span class="hs-identifier hs-var">runDeleteCronTrigger</span></a></span><span> </span><span class="annot"><span class="annottext">ScheduledTriggerName
</span><a href="#local-6989586621687566513"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-492"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMCreateScheduledEvent"><span class="hs-identifier hs-type">RMCreateScheduledEvent</span></a></span><span> </span><span id="local-6989586621687566515"><span class="annot"><span class="annottext">CreateScheduledEvent
</span><a href="#local-6989586621687566515"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CreateScheduledEvent -&gt; m EncJSON
forall (m :: * -&gt; *).
(MonadError QErr m, MonadMetadataStorage m) =&gt;
CreateScheduledEvent -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.ScheduledTrigger.html#runCreateScheduledEvent"><span class="hs-identifier hs-var">runCreateScheduledEvent</span></a></span><span> </span><span class="annot"><span class="annottext">CreateScheduledEvent
</span><a href="#local-6989586621687566515"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-493"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMDeleteScheduledEvent"><span class="hs-identifier hs-type">RMDeleteScheduledEvent</span></a></span><span> </span><span id="local-6989586621687566517"><span class="annot"><span class="annottext">DeleteScheduledEvent
</span><a href="#local-6989586621687566517"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DeleteScheduledEvent -&gt; m EncJSON
forall (m :: * -&gt; *).
(MonadMetadataStorage m, MonadError QErr m) =&gt;
DeleteScheduledEvent -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.ScheduledTrigger.html#runDeleteScheduledEvent"><span class="hs-identifier hs-var">runDeleteScheduledEvent</span></a></span><span> </span><span class="annot"><span class="annottext">DeleteScheduledEvent
</span><a href="#local-6989586621687566517"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-494"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMGetScheduledEvents"><span class="hs-identifier hs-type">RMGetScheduledEvents</span></a></span><span> </span><span id="local-6989586621687566519"><span class="annot"><span class="annottext">GetScheduledEvents
</span><a href="#local-6989586621687566519"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">GetScheduledEvents -&gt; m EncJSON
forall (m :: * -&gt; *).
(MonadError QErr m, CacheRM m, MonadMetadataStorage m) =&gt;
GetScheduledEvents -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.ScheduledTrigger.html#runGetScheduledEvents"><span class="hs-identifier hs-var">runGetScheduledEvents</span></a></span><span> </span><span class="annot"><span class="annottext">GetScheduledEvents
</span><a href="#local-6989586621687566519"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-495"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMGetScheduledEventInvocations"><span class="hs-identifier hs-type">RMGetScheduledEventInvocations</span></a></span><span> </span><span id="local-6989586621687566521"><span class="annot"><span class="annottext">GetScheduledEventInvocations
</span><a href="#local-6989586621687566521"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">GetScheduledEventInvocations -&gt; m EncJSON
forall (m :: * -&gt; *).
(MonadError QErr m, CacheRM m, MonadMetadataStorage m) =&gt;
GetScheduledEventInvocations -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.ScheduledTrigger.html#runGetScheduledEventInvocations"><span class="hs-identifier hs-var">runGetScheduledEventInvocations</span></a></span><span> </span><span class="annot"><span class="annottext">GetScheduledEventInvocations
</span><a href="#local-6989586621687566521"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-496"></span><span>  </span><span class="annot"><span class="annottext">RQLMetadataV1
</span><a href="Hasura.Server.API.Metadata.Types.html#RMGetCronTriggers"><span class="hs-identifier hs-var">RMGetCronTriggers</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">m EncJSON
forall (m :: * -&gt; *). MetadataM m =&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.ScheduledTrigger.html#runGetCronTriggers"><span class="hs-identifier hs-var">runGetCronTriggers</span></a></span><span>
</span><span id="line-497"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMCreateAction"><span class="hs-identifier hs-type">RMCreateAction</span></a></span><span> </span><span id="local-6989586621687566524"><span class="annot"><span class="annottext">Unvalidated CreateAction
</span><a href="#local-6989586621687566524"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-498"></span><span>    </span><span class="annot"><span class="annottext">LensLike
  m
  (Unvalidated CreateAction)
  (Unvalidated CreateAction)
  RequestTransform
  RequestTransform
-&gt; LensLike
     m
     (Unvalidated CreateAction)
     (Unvalidated CreateAction)
     MetadataResponseTransform
     MetadataResponseTransform
-&gt; (Unvalidated CreateAction -&gt; m EncJSON)
-&gt; Unvalidated CreateAction
-&gt; m EncJSON
forall (m :: * -&gt; *) api.
MonadError QErr m =&gt;
LensLike m api api RequestTransform RequestTransform
-&gt; LensLike
     m api api MetadataResponseTransform MetadataResponseTransform
-&gt; (api -&gt; m EncJSON)
-&gt; api
-&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.Webhook.Transform.Validation.html#validateTransforms"><span class="hs-identifier hs-var">validateTransforms</span></a></span><span>
</span><span id="line-499"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(CreateAction -&gt; m CreateAction)
-&gt; Unvalidated CreateAction -&gt; m (Unvalidated CreateAction)
forall a (f :: * -&gt; *).
Functor f =&gt;
(a -&gt; f a) -&gt; Unvalidated a -&gt; f (Unvalidated a)
</span><a href="Hasura.RQL.DDL.Webhook.Transform.Validation.html#unUnvalidate"><span class="hs-identifier hs-var">unUnvalidate</span></a></span><span> </span><span class="annot"><span class="annottext">((CreateAction -&gt; m CreateAction)
 -&gt; Unvalidated CreateAction -&gt; m (Unvalidated CreateAction))
-&gt; ((RequestTransform -&gt; m RequestTransform)
    -&gt; CreateAction -&gt; m CreateAction)
-&gt; LensLike
     m
     (Unvalidated CreateAction)
     (Unvalidated CreateAction)
     RequestTransform
     RequestTransform
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(ActionDefinitionInput -&gt; m ActionDefinitionInput)
-&gt; CreateAction -&gt; m CreateAction
Lens' CreateAction ActionDefinitionInput
</span><a href="Hasura.RQL.DDL.Action.Lenses.html#caDefinition"><span class="hs-identifier hs-var">caDefinition</span></a></span><span> </span><span class="annot"><span class="annottext">((ActionDefinitionInput -&gt; m ActionDefinitionInput)
 -&gt; CreateAction -&gt; m CreateAction)
-&gt; ((RequestTransform -&gt; m RequestTransform)
    -&gt; ActionDefinitionInput -&gt; m ActionDefinitionInput)
-&gt; (RequestTransform -&gt; m RequestTransform)
-&gt; CreateAction
-&gt; m CreateAction
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Maybe RequestTransform -&gt; m (Maybe RequestTransform))
-&gt; ActionDefinitionInput -&gt; m ActionDefinitionInput
forall arg webhook (f :: * -&gt; *).
Functor f =&gt;
(Maybe RequestTransform -&gt; f (Maybe RequestTransform))
-&gt; ActionDefinition arg webhook -&gt; f (ActionDefinition arg webhook)
</span><a href="Hasura.RQL.Types.Action.html#adRequestTransform"><span class="hs-identifier hs-var">adRequestTransform</span></a></span><span> </span><span class="annot"><span class="annottext">((Maybe RequestTransform -&gt; m (Maybe RequestTransform))
 -&gt; ActionDefinitionInput -&gt; m ActionDefinitionInput)
-&gt; ((RequestTransform -&gt; m RequestTransform)
    -&gt; Maybe RequestTransform -&gt; m (Maybe RequestTransform))
-&gt; (RequestTransform -&gt; m RequestTransform)
-&gt; ActionDefinitionInput
-&gt; m ActionDefinitionInput
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(RequestTransform -&gt; m RequestTransform)
-&gt; Maybe RequestTransform -&gt; m (Maybe RequestTransform)
forall a b (p :: * -&gt; * -&gt; *) (f :: * -&gt; *).
(Choice p, Applicative f) =&gt;
p a (f b) -&gt; p (Maybe a) (f (Maybe b))
</span><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/lens-5.2.2-70a68698e02c1d9dc133c543e6497a7241e5514570afd4815da4baf2a001e00e/share/doc/html/src/Control.Lens.Prism.html#_Just"><span class="hs-identifier hs-var">_Just</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-500"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(CreateAction -&gt; m CreateAction)
-&gt; Unvalidated CreateAction -&gt; m (Unvalidated CreateAction)
forall a (f :: * -&gt; *).
Functor f =&gt;
(a -&gt; f a) -&gt; Unvalidated a -&gt; f (Unvalidated a)
</span><a href="Hasura.RQL.DDL.Webhook.Transform.Validation.html#unUnvalidate"><span class="hs-identifier hs-var">unUnvalidate</span></a></span><span> </span><span class="annot"><span class="annottext">((CreateAction -&gt; m CreateAction)
 -&gt; Unvalidated CreateAction -&gt; m (Unvalidated CreateAction))
-&gt; ((MetadataResponseTransform -&gt; m MetadataResponseTransform)
    -&gt; CreateAction -&gt; m CreateAction)
-&gt; LensLike
     m
     (Unvalidated CreateAction)
     (Unvalidated CreateAction)
     MetadataResponseTransform
     MetadataResponseTransform
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(ActionDefinitionInput -&gt; m ActionDefinitionInput)
-&gt; CreateAction -&gt; m CreateAction
Lens' CreateAction ActionDefinitionInput
</span><a href="Hasura.RQL.DDL.Action.Lenses.html#caDefinition"><span class="hs-identifier hs-var">caDefinition</span></a></span><span> </span><span class="annot"><span class="annottext">((ActionDefinitionInput -&gt; m ActionDefinitionInput)
 -&gt; CreateAction -&gt; m CreateAction)
-&gt; ((MetadataResponseTransform -&gt; m MetadataResponseTransform)
    -&gt; ActionDefinitionInput -&gt; m ActionDefinitionInput)
-&gt; (MetadataResponseTransform -&gt; m MetadataResponseTransform)
-&gt; CreateAction
-&gt; m CreateAction
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Maybe MetadataResponseTransform
 -&gt; m (Maybe MetadataResponseTransform))
-&gt; ActionDefinitionInput -&gt; m ActionDefinitionInput
forall arg webhook (f :: * -&gt; *).
Functor f =&gt;
(Maybe MetadataResponseTransform
 -&gt; f (Maybe MetadataResponseTransform))
-&gt; ActionDefinition arg webhook -&gt; f (ActionDefinition arg webhook)
</span><a href="Hasura.RQL.Types.Action.html#adResponseTransform"><span class="hs-identifier hs-var">adResponseTransform</span></a></span><span> </span><span class="annot"><span class="annottext">((Maybe MetadataResponseTransform
  -&gt; m (Maybe MetadataResponseTransform))
 -&gt; ActionDefinitionInput -&gt; m ActionDefinitionInput)
-&gt; ((MetadataResponseTransform -&gt; m MetadataResponseTransform)
    -&gt; Maybe MetadataResponseTransform
    -&gt; m (Maybe MetadataResponseTransform))
-&gt; (MetadataResponseTransform -&gt; m MetadataResponseTransform)
-&gt; ActionDefinitionInput
-&gt; m ActionDefinitionInput
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(MetadataResponseTransform -&gt; m MetadataResponseTransform)
-&gt; Maybe MetadataResponseTransform
-&gt; m (Maybe MetadataResponseTransform)
forall a b (p :: * -&gt; * -&gt; *) (f :: * -&gt; *).
(Choice p, Applicative f) =&gt;
p a (f b) -&gt; p (Maybe a) (f (Maybe b))
</span><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/lens-5.2.2-70a68698e02c1d9dc133c543e6497a7241e5514570afd4815da4baf2a001e00e/share/doc/html/src/Control.Lens.Prism.html#_Just"><span class="hs-identifier hs-var">_Just</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-501"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">CreateAction -&gt; m EncJSON
forall (m :: * -&gt; *).
(QErrM m, CacheRWM m, MetadataM m) =&gt;
CreateAction -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.Action.html#runCreateAction"><span class="hs-identifier hs-var">runCreateAction</span></a></span><span> </span><span class="annot"><span class="annottext">(CreateAction -&gt; m EncJSON)
-&gt; (Unvalidated CreateAction -&gt; CreateAction)
-&gt; Unvalidated CreateAction
-&gt; m EncJSON
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Unvalidated CreateAction -&gt; CreateAction
forall a. Unvalidated a -&gt; a
</span><a href="Hasura.RQL.DDL.Webhook.Transform.Validation.html#_unUnvalidate"><span class="hs-identifier hs-var">_unUnvalidate</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-502"></span><span>      </span><span class="annot"><span class="annottext">Unvalidated CreateAction
</span><a href="#local-6989586621687566524"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-503"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMDropAction"><span class="hs-identifier hs-type">RMDropAction</span></a></span><span> </span><span id="local-6989586621687566528"><span class="annot"><span class="annottext">DropAction
</span><a href="#local-6989586621687566528"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DropAction -&gt; m EncJSON
forall (m :: * -&gt; *).
(MonadError QErr m, CacheRWM m, MetadataM m,
 MonadMetadataStorage m) =&gt;
DropAction -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.Action.html#runDropAction"><span class="hs-identifier hs-var">runDropAction</span></a></span><span> </span><span class="annot"><span class="annottext">DropAction
</span><a href="#local-6989586621687566528"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-504"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMUpdateAction"><span class="hs-identifier hs-type">RMUpdateAction</span></a></span><span> </span><span id="local-6989586621687566530"><span class="annot"><span class="annottext">Unvalidated UpdateAction
</span><a href="#local-6989586621687566530"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-505"></span><span>    </span><span class="annot"><span class="annottext">LensLike
  m
  (Unvalidated UpdateAction)
  (Unvalidated UpdateAction)
  RequestTransform
  RequestTransform
-&gt; LensLike
     m
     (Unvalidated UpdateAction)
     (Unvalidated UpdateAction)
     MetadataResponseTransform
     MetadataResponseTransform
-&gt; (Unvalidated UpdateAction -&gt; m EncJSON)
-&gt; Unvalidated UpdateAction
-&gt; m EncJSON
forall (m :: * -&gt; *) api.
MonadError QErr m =&gt;
LensLike m api api RequestTransform RequestTransform
-&gt; LensLike
     m api api MetadataResponseTransform MetadataResponseTransform
-&gt; (api -&gt; m EncJSON)
-&gt; api
-&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.Webhook.Transform.Validation.html#validateTransforms"><span class="hs-identifier hs-var">validateTransforms</span></a></span><span>
</span><span id="line-506"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(UpdateAction -&gt; m UpdateAction)
-&gt; Unvalidated UpdateAction -&gt; m (Unvalidated UpdateAction)
forall a (f :: * -&gt; *).
Functor f =&gt;
(a -&gt; f a) -&gt; Unvalidated a -&gt; f (Unvalidated a)
</span><a href="Hasura.RQL.DDL.Webhook.Transform.Validation.html#unUnvalidate"><span class="hs-identifier hs-var">unUnvalidate</span></a></span><span> </span><span class="annot"><span class="annottext">((UpdateAction -&gt; m UpdateAction)
 -&gt; Unvalidated UpdateAction -&gt; m (Unvalidated UpdateAction))
-&gt; ((RequestTransform -&gt; m RequestTransform)
    -&gt; UpdateAction -&gt; m UpdateAction)
-&gt; LensLike
     m
     (Unvalidated UpdateAction)
     (Unvalidated UpdateAction)
     RequestTransform
     RequestTransform
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(ActionDefinitionInput -&gt; m ActionDefinitionInput)
-&gt; UpdateAction -&gt; m UpdateAction
Lens' UpdateAction ActionDefinitionInput
</span><a href="Hasura.RQL.DDL.Action.Lenses.html#uaDefinition"><span class="hs-identifier hs-var">uaDefinition</span></a></span><span> </span><span class="annot"><span class="annottext">((ActionDefinitionInput -&gt; m ActionDefinitionInput)
 -&gt; UpdateAction -&gt; m UpdateAction)
-&gt; ((RequestTransform -&gt; m RequestTransform)
    -&gt; ActionDefinitionInput -&gt; m ActionDefinitionInput)
-&gt; (RequestTransform -&gt; m RequestTransform)
-&gt; UpdateAction
-&gt; m UpdateAction
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Maybe RequestTransform -&gt; m (Maybe RequestTransform))
-&gt; ActionDefinitionInput -&gt; m ActionDefinitionInput
forall arg webhook (f :: * -&gt; *).
Functor f =&gt;
(Maybe RequestTransform -&gt; f (Maybe RequestTransform))
-&gt; ActionDefinition arg webhook -&gt; f (ActionDefinition arg webhook)
</span><a href="Hasura.RQL.Types.Action.html#adRequestTransform"><span class="hs-identifier hs-var">adRequestTransform</span></a></span><span> </span><span class="annot"><span class="annottext">((Maybe RequestTransform -&gt; m (Maybe RequestTransform))
 -&gt; ActionDefinitionInput -&gt; m ActionDefinitionInput)
-&gt; ((RequestTransform -&gt; m RequestTransform)
    -&gt; Maybe RequestTransform -&gt; m (Maybe RequestTransform))
-&gt; (RequestTransform -&gt; m RequestTransform)
-&gt; ActionDefinitionInput
-&gt; m ActionDefinitionInput
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(RequestTransform -&gt; m RequestTransform)
-&gt; Maybe RequestTransform -&gt; m (Maybe RequestTransform)
forall a b (p :: * -&gt; * -&gt; *) (f :: * -&gt; *).
(Choice p, Applicative f) =&gt;
p a (f b) -&gt; p (Maybe a) (f (Maybe b))
</span><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/lens-5.2.2-70a68698e02c1d9dc133c543e6497a7241e5514570afd4815da4baf2a001e00e/share/doc/html/src/Control.Lens.Prism.html#_Just"><span class="hs-identifier hs-var">_Just</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-507"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(UpdateAction -&gt; m UpdateAction)
-&gt; Unvalidated UpdateAction -&gt; m (Unvalidated UpdateAction)
forall a (f :: * -&gt; *).
Functor f =&gt;
(a -&gt; f a) -&gt; Unvalidated a -&gt; f (Unvalidated a)
</span><a href="Hasura.RQL.DDL.Webhook.Transform.Validation.html#unUnvalidate"><span class="hs-identifier hs-var">unUnvalidate</span></a></span><span> </span><span class="annot"><span class="annottext">((UpdateAction -&gt; m UpdateAction)
 -&gt; Unvalidated UpdateAction -&gt; m (Unvalidated UpdateAction))
-&gt; ((MetadataResponseTransform -&gt; m MetadataResponseTransform)
    -&gt; UpdateAction -&gt; m UpdateAction)
-&gt; LensLike
     m
     (Unvalidated UpdateAction)
     (Unvalidated UpdateAction)
     MetadataResponseTransform
     MetadataResponseTransform
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(ActionDefinitionInput -&gt; m ActionDefinitionInput)
-&gt; UpdateAction -&gt; m UpdateAction
Lens' UpdateAction ActionDefinitionInput
</span><a href="Hasura.RQL.DDL.Action.Lenses.html#uaDefinition"><span class="hs-identifier hs-var">uaDefinition</span></a></span><span> </span><span class="annot"><span class="annottext">((ActionDefinitionInput -&gt; m ActionDefinitionInput)
 -&gt; UpdateAction -&gt; m UpdateAction)
-&gt; ((MetadataResponseTransform -&gt; m MetadataResponseTransform)
    -&gt; ActionDefinitionInput -&gt; m ActionDefinitionInput)
-&gt; (MetadataResponseTransform -&gt; m MetadataResponseTransform)
-&gt; UpdateAction
-&gt; m UpdateAction
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Maybe MetadataResponseTransform
 -&gt; m (Maybe MetadataResponseTransform))
-&gt; ActionDefinitionInput -&gt; m ActionDefinitionInput
forall arg webhook (f :: * -&gt; *).
Functor f =&gt;
(Maybe MetadataResponseTransform
 -&gt; f (Maybe MetadataResponseTransform))
-&gt; ActionDefinition arg webhook -&gt; f (ActionDefinition arg webhook)
</span><a href="Hasura.RQL.Types.Action.html#adResponseTransform"><span class="hs-identifier hs-var">adResponseTransform</span></a></span><span> </span><span class="annot"><span class="annottext">((Maybe MetadataResponseTransform
  -&gt; m (Maybe MetadataResponseTransform))
 -&gt; ActionDefinitionInput -&gt; m ActionDefinitionInput)
-&gt; ((MetadataResponseTransform -&gt; m MetadataResponseTransform)
    -&gt; Maybe MetadataResponseTransform
    -&gt; m (Maybe MetadataResponseTransform))
-&gt; (MetadataResponseTransform -&gt; m MetadataResponseTransform)
-&gt; ActionDefinitionInput
-&gt; m ActionDefinitionInput
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(MetadataResponseTransform -&gt; m MetadataResponseTransform)
-&gt; Maybe MetadataResponseTransform
-&gt; m (Maybe MetadataResponseTransform)
forall a b (p :: * -&gt; * -&gt; *) (f :: * -&gt; *).
(Choice p, Applicative f) =&gt;
p a (f b) -&gt; p (Maybe a) (f (Maybe b))
</span><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/lens-5.2.2-70a68698e02c1d9dc133c543e6497a7241e5514570afd4815da4baf2a001e00e/share/doc/html/src/Control.Lens.Prism.html#_Just"><span class="hs-identifier hs-var">_Just</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-508"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">UpdateAction -&gt; m EncJSON
forall (m :: * -&gt; *).
(QErrM m, CacheRWM m, MetadataM m) =&gt;
UpdateAction -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.Action.html#runUpdateAction"><span class="hs-identifier hs-var">runUpdateAction</span></a></span><span> </span><span class="annot"><span class="annottext">(UpdateAction -&gt; m EncJSON)
-&gt; (Unvalidated UpdateAction -&gt; UpdateAction)
-&gt; Unvalidated UpdateAction
-&gt; m EncJSON
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Unvalidated UpdateAction -&gt; UpdateAction
forall a. Unvalidated a -&gt; a
</span><a href="Hasura.RQL.DDL.Webhook.Transform.Validation.html#_unUnvalidate"><span class="hs-identifier hs-var">_unUnvalidate</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-509"></span><span>      </span><span class="annot"><span class="annottext">Unvalidated UpdateAction
</span><a href="#local-6989586621687566530"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-510"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMCreateActionPermission"><span class="hs-identifier hs-type">RMCreateActionPermission</span></a></span><span> </span><span id="local-6989586621687566532"><span class="annot"><span class="annottext">CreateActionPermission
</span><a href="#local-6989586621687566532"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CreateActionPermission -&gt; m EncJSON
forall (m :: * -&gt; *).
(QErrM m, CacheRWM m, MetadataM m) =&gt;
CreateActionPermission -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.Action.html#runCreateActionPermission"><span class="hs-identifier hs-var">runCreateActionPermission</span></a></span><span> </span><span class="annot"><span class="annottext">CreateActionPermission
</span><a href="#local-6989586621687566532"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-511"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMDropActionPermission"><span class="hs-identifier hs-type">RMDropActionPermission</span></a></span><span> </span><span id="local-6989586621687566534"><span class="annot"><span class="annottext">DropActionPermission
</span><a href="#local-6989586621687566534"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DropActionPermission -&gt; m EncJSON
forall (m :: * -&gt; *).
(QErrM m, CacheRWM m, MetadataM m) =&gt;
DropActionPermission -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.Action.html#runDropActionPermission"><span class="hs-identifier hs-var">runDropActionPermission</span></a></span><span> </span><span class="annot"><span class="annottext">DropActionPermission
</span><a href="#local-6989586621687566534"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-512"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMCreateQueryCollection"><span class="hs-identifier hs-type">RMCreateQueryCollection</span></a></span><span> </span><span id="local-6989586621687566536"><span class="annot"><span class="annottext">CreateCollection
</span><a href="#local-6989586621687566536"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CreateCollection -&gt; m EncJSON
forall (m :: * -&gt; *).
(QErrM m, CacheRWM m, MetadataM m) =&gt;
CreateCollection -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.QueryCollection.html#runCreateCollection"><span class="hs-identifier hs-var">runCreateCollection</span></a></span><span> </span><span class="annot"><span class="annottext">CreateCollection
</span><a href="#local-6989586621687566536"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-513"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMRenameQueryCollection"><span class="hs-identifier hs-type">RMRenameQueryCollection</span></a></span><span> </span><span id="local-6989586621687566538"><span class="annot"><span class="annottext">RenameCollection
</span><a href="#local-6989586621687566538"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">RenameCollection -&gt; m EncJSON
forall (m :: * -&gt; *).
(QErrM m, CacheRWM m, MetadataM m) =&gt;
RenameCollection -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.QueryCollection.html#runRenameCollection"><span class="hs-identifier hs-var">runRenameCollection</span></a></span><span> </span><span class="annot"><span class="annottext">RenameCollection
</span><a href="#local-6989586621687566538"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-514"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMDropQueryCollection"><span class="hs-identifier hs-type">RMDropQueryCollection</span></a></span><span> </span><span id="local-6989586621687566540"><span class="annot"><span class="annottext">DropCollection
</span><a href="#local-6989586621687566540"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DropCollection -&gt; m EncJSON
forall (m :: * -&gt; *).
(MonadError QErr m, MetadataM m, CacheRWM m) =&gt;
DropCollection -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.QueryCollection.html#runDropCollection"><span class="hs-identifier hs-var">runDropCollection</span></a></span><span> </span><span class="annot"><span class="annottext">DropCollection
</span><a href="#local-6989586621687566540"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-515"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMAddQueryToCollection"><span class="hs-identifier hs-type">RMAddQueryToCollection</span></a></span><span> </span><span id="local-6989586621687566542"><span class="annot"><span class="annottext">AddQueryToCollection
</span><a href="#local-6989586621687566542"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">AddQueryToCollection -&gt; m EncJSON
forall (m :: * -&gt; *).
(CacheRWM m, MonadError QErr m, MetadataM m) =&gt;
AddQueryToCollection -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.QueryCollection.html#runAddQueryToCollection"><span class="hs-identifier hs-var">runAddQueryToCollection</span></a></span><span> </span><span class="annot"><span class="annottext">AddQueryToCollection
</span><a href="#local-6989586621687566542"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-516"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMDropQueryFromCollection"><span class="hs-identifier hs-type">RMDropQueryFromCollection</span></a></span><span> </span><span id="local-6989586621687566544"><span class="annot"><span class="annottext">DropQueryFromCollection
</span><a href="#local-6989586621687566544"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DropQueryFromCollection -&gt; m EncJSON
forall (m :: * -&gt; *).
(CacheRWM m, MonadError QErr m, MetadataM m) =&gt;
DropQueryFromCollection -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.QueryCollection.html#runDropQueryFromCollection"><span class="hs-identifier hs-var">runDropQueryFromCollection</span></a></span><span> </span><span class="annot"><span class="annottext">DropQueryFromCollection
</span><a href="#local-6989586621687566544"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-517"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMAddCollectionToAllowlist"><span class="hs-identifier hs-type">RMAddCollectionToAllowlist</span></a></span><span> </span><span id="local-6989586621687566546"><span class="annot"><span class="annottext">AllowlistEntry
</span><a href="#local-6989586621687566546"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">AllowlistEntry -&gt; m EncJSON
forall (m :: * -&gt; *).
(MonadError QErr m, MetadataM m, CacheRWM m) =&gt;
AllowlistEntry -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.QueryCollection.html#runAddCollectionToAllowlist"><span class="hs-identifier hs-var">runAddCollectionToAllowlist</span></a></span><span> </span><span class="annot"><span class="annottext">AllowlistEntry
</span><a href="#local-6989586621687566546"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-518"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMDropCollectionFromAllowlist"><span class="hs-identifier hs-type">RMDropCollectionFromAllowlist</span></a></span><span> </span><span id="local-6989586621687566548"><span class="annot"><span class="annottext">DropCollectionFromAllowlist
</span><a href="#local-6989586621687566548"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DropCollectionFromAllowlist -&gt; m EncJSON
forall (m :: * -&gt; *).
(MonadError QErr m, MetadataM m, CacheRWM m) =&gt;
DropCollectionFromAllowlist -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.QueryCollection.html#runDropCollectionFromAllowlist"><span class="hs-identifier hs-var">runDropCollectionFromAllowlist</span></a></span><span> </span><span class="annot"><span class="annottext">DropCollectionFromAllowlist
</span><a href="#local-6989586621687566548"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-519"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMUpdateScopeOfCollectionInAllowlist"><span class="hs-identifier hs-type">RMUpdateScopeOfCollectionInAllowlist</span></a></span><span> </span><span id="local-6989586621687566550"><span class="annot"><span class="annottext">UpdateScopeOfCollectionInAllowlist
</span><a href="#local-6989586621687566550"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">UpdateScopeOfCollectionInAllowlist -&gt; m EncJSON
forall (m :: * -&gt; *).
(MonadError QErr m, MetadataM m, CacheRWM m) =&gt;
UpdateScopeOfCollectionInAllowlist -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.QueryCollection.html#runUpdateScopeOfCollectionInAllowlist"><span class="hs-identifier hs-var">runUpdateScopeOfCollectionInAllowlist</span></a></span><span> </span><span class="annot"><span class="annottext">UpdateScopeOfCollectionInAllowlist
</span><a href="#local-6989586621687566550"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-520"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMCreateRestEndpoint"><span class="hs-identifier hs-type">RMCreateRestEndpoint</span></a></span><span> </span><span id="local-6989586621687566552"><span class="annot"><span class="annottext">CreateEndpoint
</span><a href="#local-6989586621687566552"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CreateEndpoint -&gt; m EncJSON
forall (m :: * -&gt; *).
(MonadError QErr m, CacheRWM m, MetadataM m) =&gt;
CreateEndpoint -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.Endpoint.html#runCreateEndpoint"><span class="hs-identifier hs-var">runCreateEndpoint</span></a></span><span> </span><span class="annot"><span class="annottext">CreateEndpoint
</span><a href="#local-6989586621687566552"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-521"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMDropRestEndpoint"><span class="hs-identifier hs-type">RMDropRestEndpoint</span></a></span><span> </span><span id="local-6989586621687566554"><span class="annot"><span class="annottext">DropEndpoint
</span><a href="#local-6989586621687566554"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DropEndpoint -&gt; m EncJSON
forall (m :: * -&gt; *).
(MonadError QErr m, CacheRWM m, MetadataM m) =&gt;
DropEndpoint -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.Endpoint.html#runDropEndpoint"><span class="hs-identifier hs-var">runDropEndpoint</span></a></span><span> </span><span class="annot"><span class="annottext">DropEndpoint
</span><a href="#local-6989586621687566554"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-522"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMDCAddAgent"><span class="hs-identifier hs-type">RMDCAddAgent</span></a></span><span> </span><span id="local-6989586621687566556"><span class="annot"><span class="annottext">DCAddAgent
</span><a href="#local-6989586621687566556"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DCAddAgent -&gt; m EncJSON
forall (m :: * -&gt; *) r.
(MetadataM m, ProvidesNetwork m, CacheRWM m, Has (Logger Hasura) r,
 MonadReader r m, MonadError QErr m, MonadIO m,
 MonadBaseControl IO m) =&gt;
DCAddAgent -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.DataConnector.html#runAddDataConnectorAgent"><span class="hs-identifier hs-var">runAddDataConnectorAgent</span></a></span><span> </span><span class="annot"><span class="annottext">DCAddAgent
</span><a href="#local-6989586621687566556"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-523"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMDCDeleteAgent"><span class="hs-identifier hs-type">RMDCDeleteAgent</span></a></span><span> </span><span id="local-6989586621687566558"><span class="annot"><span class="annottext">DCDeleteAgent
</span><a href="#local-6989586621687566558"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DCDeleteAgent -&gt; m EncJSON
forall (m :: * -&gt; *).
(CacheRWM m, MetadataM m, MonadError QErr m) =&gt;
DCDeleteAgent -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.DataConnector.html#runDeleteDataConnectorAgent"><span class="hs-identifier hs-var">runDeleteDataConnectorAgent</span></a></span><span> </span><span class="annot"><span class="annottext">DCDeleteAgent
</span><a href="#local-6989586621687566558"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-524"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMSetCustomTypes"><span class="hs-identifier hs-type">RMSetCustomTypes</span></a></span><span> </span><span id="local-6989586621687566560"><span class="annot"><span class="annottext">CustomTypes
</span><a href="#local-6989586621687566560"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">CustomTypes -&gt; m EncJSON
forall (m :: * -&gt; *).
(MonadError QErr m, CacheRWM m, MetadataM m) =&gt;
CustomTypes -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.CustomTypes.html#runSetCustomTypes"><span class="hs-identifier hs-var">runSetCustomTypes</span></a></span><span> </span><span class="annot"><span class="annottext">CustomTypes
</span><a href="#local-6989586621687566560"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-525"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMSetApiLimits"><span class="hs-identifier hs-type">RMSetApiLimits</span></a></span><span> </span><span id="local-6989586621687566562"><span class="annot"><span class="annottext">ApiLimit
</span><a href="#local-6989586621687566562"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ApiLimit -&gt; m EncJSON
forall (m :: * -&gt; *).
(MonadError QErr m, MetadataM m, CacheRWM m, MonadGetPolicies m) =&gt;
ApiLimit -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.ApiLimit.html#runSetApiLimits"><span class="hs-identifier hs-var">runSetApiLimits</span></a></span><span> </span><span class="annot"><span class="annottext">ApiLimit
</span><a href="#local-6989586621687566562"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-526"></span><span>  </span><span class="annot"><span class="annottext">RQLMetadataV1
</span><a href="Hasura.Server.API.Metadata.Types.html#RMRemoveApiLimits"><span class="hs-identifier hs-var">RMRemoveApiLimits</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">m EncJSON
forall (m :: * -&gt; *).
(MonadError QErr m, MetadataM m, CacheRWM m) =&gt;
m EncJSON
</span><a href="Hasura.RQL.DDL.ApiLimit.html#runRemoveApiLimits"><span class="hs-identifier hs-var">runRemoveApiLimits</span></a></span><span>
</span><span id="line-527"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMSetMetricsConfig"><span class="hs-identifier hs-type">RMSetMetricsConfig</span></a></span><span> </span><span id="local-6989586621687566565"><span class="annot"><span class="annottext">MetricsConfig
</span><a href="#local-6989586621687566565"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MetricsConfig -&gt; m EncJSON
forall (m :: * -&gt; *).
(MonadIO m, CacheRWM m, MetadataM m, MonadError QErr m) =&gt;
MetricsConfig -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.Metadata.html#runSetMetricsConfig"><span class="hs-identifier hs-var">runSetMetricsConfig</span></a></span><span> </span><span class="annot"><span class="annottext">MetricsConfig
</span><a href="#local-6989586621687566565"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-528"></span><span>  </span><span class="annot"><span class="annottext">RQLMetadataV1
</span><a href="Hasura.Server.API.Metadata.Types.html#RMRemoveMetricsConfig"><span class="hs-identifier hs-var">RMRemoveMetricsConfig</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">m EncJSON
forall (m :: * -&gt; *).
(MonadIO m, CacheRWM m, MetadataM m, MonadError QErr m) =&gt;
m EncJSON
</span><a href="Hasura.RQL.DDL.Metadata.html#runRemoveMetricsConfig"><span class="hs-identifier hs-var">runRemoveMetricsConfig</span></a></span><span>
</span><span id="line-529"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMAddInheritedRole"><span class="hs-identifier hs-type">RMAddInheritedRole</span></a></span><span> </span><span id="local-6989586621687566568"><span class="annot"><span class="annottext">InheritedRole
</span><a href="#local-6989586621687566568"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">InheritedRole -&gt; m EncJSON
forall (m :: * -&gt; *).
(MonadError QErr m, CacheRWM m, MetadataM m) =&gt;
InheritedRole -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.InheritedRoles.html#runAddInheritedRole"><span class="hs-identifier hs-var">runAddInheritedRole</span></a></span><span> </span><span class="annot"><span class="annottext">InheritedRole
</span><a href="#local-6989586621687566568"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-530"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMDropInheritedRole"><span class="hs-identifier hs-type">RMDropInheritedRole</span></a></span><span> </span><span id="local-6989586621687566570"><span class="annot"><span class="annottext">DropInheritedRole
</span><a href="#local-6989586621687566570"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DropInheritedRole -&gt; m EncJSON
forall (m :: * -&gt; *).
(MonadError QErr m, CacheRWM m, MetadataM m) =&gt;
DropInheritedRole -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.InheritedRoles.html#runDropInheritedRole"><span class="hs-identifier hs-var">runDropInheritedRole</span></a></span><span> </span><span class="annot"><span class="annottext">DropInheritedRole
</span><a href="#local-6989586621687566570"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-531"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMReplaceMetadata"><span class="hs-identifier hs-type">RMReplaceMetadata</span></a></span><span> </span><span id="local-6989586621687566572"><span class="annot"><span class="annottext">ReplaceMetadata
</span><a href="#local-6989586621687566572"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ReplaceMetadata -&gt; m EncJSON
forall (m :: * -&gt; *) r.
(CacheRWM m, MetadataM m, MonadIO m, MonadBaseControl IO m,
 MonadMetadataStorage m, MonadReader r m, MonadError QErr m,
 Has (Logger Hasura) r, MonadEventLogCleanup m,
 MonadGetPolicies m) =&gt;
ReplaceMetadata -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.Metadata.html#runReplaceMetadata"><span class="hs-identifier hs-var">runReplaceMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">ReplaceMetadata
</span><a href="#local-6989586621687566572"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-532"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMExportMetadata"><span class="hs-identifier hs-type">RMExportMetadata</span></a></span><span> </span><span id="local-6989586621687566574"><span class="annot"><span class="annottext">ExportMetadata
</span><a href="#local-6989586621687566574"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ExportMetadata -&gt; m EncJSON
forall (m :: * -&gt; *).
(QErrM m, MetadataM m) =&gt;
ExportMetadata -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.Metadata.html#runExportMetadata"><span class="hs-identifier hs-var">runExportMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">ExportMetadata
</span><a href="#local-6989586621687566574"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-533"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMClearMetadata"><span class="hs-identifier hs-type">RMClearMetadata</span></a></span><span> </span><span id="local-6989586621687566576"><span class="annot"><span class="annottext">ClearMetadata
</span><a href="#local-6989586621687566576"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ClearMetadata -&gt; m EncJSON
forall (m :: * -&gt; *) r.
(MonadIO m, CacheRWM m, MetadataM m, MonadMetadataStorage m,
 MonadBaseControl IO m, MonadReader r m, MonadError QErr m,
 Has (Logger Hasura) r, MonadEventLogCleanup m,
 MonadGetPolicies m) =&gt;
ClearMetadata -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.Metadata.html#runClearMetadata"><span class="hs-identifier hs-var">runClearMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">ClearMetadata
</span><a href="#local-6989586621687566576"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-534"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMReloadMetadata"><span class="hs-identifier hs-type">RMReloadMetadata</span></a></span><span> </span><span id="local-6989586621687566578"><span class="annot"><span class="annottext">ReloadMetadata
</span><a href="#local-6989586621687566578"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ReloadMetadata -&gt; m EncJSON
forall (m :: * -&gt; *).
(QErrM m, CacheRWM m, MetadataM m) =&gt;
ReloadMetadata -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.Metadata.html#runReloadMetadata"><span class="hs-identifier hs-var">runReloadMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">ReloadMetadata
</span><a href="#local-6989586621687566578"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-535"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMGetInconsistentMetadata"><span class="hs-identifier hs-type">RMGetInconsistentMetadata</span></a></span><span> </span><span id="local-6989586621687566580"><span class="annot"><span class="annottext">GetInconsistentMetadata
</span><a href="#local-6989586621687566580"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">GetInconsistentMetadata -&gt; m EncJSON
forall (m :: * -&gt; *).
(QErrM m, CacheRM m) =&gt;
GetInconsistentMetadata -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.Metadata.html#runGetInconsistentMetadata"><span class="hs-identifier hs-var">runGetInconsistentMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">GetInconsistentMetadata
</span><a href="#local-6989586621687566580"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-536"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMDropInconsistentMetadata"><span class="hs-identifier hs-type">RMDropInconsistentMetadata</span></a></span><span> </span><span id="local-6989586621687566582"><span class="annot"><span class="annottext">DropInconsistentMetadata
</span><a href="#local-6989586621687566582"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DropInconsistentMetadata -&gt; m EncJSON
forall (m :: * -&gt; *).
(QErrM m, CacheRWM m, MetadataM m) =&gt;
DropInconsistentMetadata -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.Metadata.html#runDropInconsistentMetadata"><span class="hs-identifier hs-var">runDropInconsistentMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">DropInconsistentMetadata
</span><a href="#local-6989586621687566582"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-537"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMSetGraphqlSchemaIntrospectionOptions"><span class="hs-identifier hs-type">RMSetGraphqlSchemaIntrospectionOptions</span></a></span><span> </span><span id="local-6989586621687566584"><span class="annot"><span class="annottext">SetGraphqlIntrospectionOptions
</span><a href="#local-6989586621687566584"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SetGraphqlIntrospectionOptions -&gt; m EncJSON
forall (m :: * -&gt; *).
(MonadError QErr m, MetadataM m, CacheRWM m) =&gt;
SetGraphqlIntrospectionOptions -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.GraphqlSchemaIntrospection.html#runSetGraphqlSchemaIntrospectionOptions"><span class="hs-identifier hs-var">runSetGraphqlSchemaIntrospectionOptions</span></a></span><span> </span><span class="annot"><span class="annottext">SetGraphqlIntrospectionOptions
</span><a href="#local-6989586621687566584"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-538"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMAddHostToTLSAllowlist"><span class="hs-identifier hs-type">RMAddHostToTLSAllowlist</span></a></span><span> </span><span id="local-6989586621687566586"><span class="annot"><span class="annottext">AddHostToTLSAllowlist
</span><a href="#local-6989586621687566586"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">AddHostToTLSAllowlist -&gt; m EncJSON
forall (m :: * -&gt; *).
(QErrM m, CacheRWM m, MetadataM m) =&gt;
AddHostToTLSAllowlist -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.Network.html#runAddHostToTLSAllowlist"><span class="hs-identifier hs-var">runAddHostToTLSAllowlist</span></a></span><span> </span><span class="annot"><span class="annottext">AddHostToTLSAllowlist
</span><a href="#local-6989586621687566586"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-539"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMDropHostFromTLSAllowlist"><span class="hs-identifier hs-type">RMDropHostFromTLSAllowlist</span></a></span><span> </span><span id="local-6989586621687566588"><span class="annot"><span class="annottext">DropHostFromTLSAllowlist
</span><a href="#local-6989586621687566588"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DropHostFromTLSAllowlist -&gt; m EncJSON
forall (m :: * -&gt; *).
(QErrM m, CacheRWM m, MetadataM m) =&gt;
DropHostFromTLSAllowlist -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.Network.html#runDropHostFromTLSAllowlist"><span class="hs-identifier hs-var">runDropHostFromTLSAllowlist</span></a></span><span> </span><span class="annot"><span class="annottext">DropHostFromTLSAllowlist
</span><a href="#local-6989586621687566588"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-540"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMDumpInternalState"><span class="hs-identifier hs-type">RMDumpInternalState</span></a></span><span> </span><span id="local-6989586621687566590"><span class="annot"><span class="annottext">DumpInternalState
</span><a href="#local-6989586621687566590"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">DumpInternalState -&gt; m EncJSON
forall (m :: * -&gt; *).
(QErrM m, CacheRM m) =&gt;
DumpInternalState -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.Metadata.html#runDumpInternalState"><span class="hs-identifier hs-var">runDumpInternalState</span></a></span><span> </span><span class="annot"><span class="annottext">DumpInternalState
</span><a href="#local-6989586621687566590"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-541"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMGetCatalogState"><span class="hs-identifier hs-type">RMGetCatalogState</span></a></span><span> </span><span id="local-6989586621687566592"><span class="annot"><span class="annottext">GetCatalogState
</span><a href="#local-6989586621687566592"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">GetCatalogState -&gt; m EncJSON
forall (m :: * -&gt; *).
(MonadMetadataStorage m, MonadError QErr m) =&gt;
GetCatalogState -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.Metadata.html#runGetCatalogState"><span class="hs-identifier hs-var">runGetCatalogState</span></a></span><span> </span><span class="annot"><span class="annottext">GetCatalogState
</span><a href="#local-6989586621687566592"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-542"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMSetCatalogState"><span class="hs-identifier hs-type">RMSetCatalogState</span></a></span><span> </span><span id="local-6989586621687566594"><span class="annot"><span class="annottext">SetCatalogState
</span><a href="#local-6989586621687566594"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SetCatalogState -&gt; m EncJSON
forall (m :: * -&gt; *).
(MonadMetadataStorage m, MonadError QErr m) =&gt;
SetCatalogState -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.Metadata.html#runSetCatalogState"><span class="hs-identifier hs-var">runSetCatalogState</span></a></span><span> </span><span class="annot"><span class="annottext">SetCatalogState
</span><a href="#local-6989586621687566594"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-543"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMTestWebhookTransform"><span class="hs-identifier hs-type">RMTestWebhookTransform</span></a></span><span> </span><span id="local-6989586621687566596"><span class="annot"><span class="annottext">Unvalidated TestWebhookTransform
</span><a href="#local-6989586621687566596"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-544"></span><span>    </span><span class="annot"><span class="annottext">LensLike
  m
  (Unvalidated TestWebhookTransform)
  (Unvalidated TestWebhookTransform)
  RequestTransform
  RequestTransform
-&gt; LensLike
     m
     (Unvalidated TestWebhookTransform)
     (Unvalidated TestWebhookTransform)
     MetadataResponseTransform
     MetadataResponseTransform
-&gt; (Unvalidated TestWebhookTransform -&gt; m EncJSON)
-&gt; Unvalidated TestWebhookTransform
-&gt; m EncJSON
forall (m :: * -&gt; *) api.
MonadError QErr m =&gt;
LensLike m api api RequestTransform RequestTransform
-&gt; LensLike
     m api api MetadataResponseTransform MetadataResponseTransform
-&gt; (api -&gt; m EncJSON)
-&gt; api
-&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.Webhook.Transform.Validation.html#validateTransforms"><span class="hs-identifier hs-var">validateTransforms</span></a></span><span>
</span><span id="line-545"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(TestWebhookTransform -&gt; m TestWebhookTransform)
-&gt; Unvalidated TestWebhookTransform
-&gt; m (Unvalidated TestWebhookTransform)
forall a (f :: * -&gt; *).
Functor f =&gt;
(a -&gt; f a) -&gt; Unvalidated a -&gt; f (Unvalidated a)
</span><a href="Hasura.RQL.DDL.Webhook.Transform.Validation.html#unUnvalidate"><span class="hs-identifier hs-var">unUnvalidate</span></a></span><span> </span><span class="annot"><span class="annottext">((TestWebhookTransform -&gt; m TestWebhookTransform)
 -&gt; Unvalidated TestWebhookTransform
 -&gt; m (Unvalidated TestWebhookTransform))
-&gt; ((RequestTransform -&gt; m RequestTransform)
    -&gt; TestWebhookTransform -&gt; m TestWebhookTransform)
-&gt; LensLike
     m
     (Unvalidated TestWebhookTransform)
     (Unvalidated TestWebhookTransform)
     RequestTransform
     RequestTransform
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(RequestTransform -&gt; m RequestTransform)
-&gt; TestWebhookTransform -&gt; m TestWebhookTransform
Lens' TestWebhookTransform RequestTransform
</span><a href="Hasura.RQL.DDL.Metadata.Types.html#twtRequestTransformer"><span class="hs-identifier hs-var">twtRequestTransformer</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-546"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(TestWebhookTransform -&gt; m TestWebhookTransform)
-&gt; Unvalidated TestWebhookTransform
-&gt; m (Unvalidated TestWebhookTransform)
forall a (f :: * -&gt; *).
Functor f =&gt;
(a -&gt; f a) -&gt; Unvalidated a -&gt; f (Unvalidated a)
</span><a href="Hasura.RQL.DDL.Webhook.Transform.Validation.html#unUnvalidate"><span class="hs-identifier hs-var">unUnvalidate</span></a></span><span> </span><span class="annot"><span class="annottext">((TestWebhookTransform -&gt; m TestWebhookTransform)
 -&gt; Unvalidated TestWebhookTransform
 -&gt; m (Unvalidated TestWebhookTransform))
-&gt; ((MetadataResponseTransform -&gt; m MetadataResponseTransform)
    -&gt; TestWebhookTransform -&gt; m TestWebhookTransform)
-&gt; LensLike
     m
     (Unvalidated TestWebhookTransform)
     (Unvalidated TestWebhookTransform)
     MetadataResponseTransform
     MetadataResponseTransform
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Maybe MetadataResponseTransform
 -&gt; m (Maybe MetadataResponseTransform))
-&gt; TestWebhookTransform -&gt; m TestWebhookTransform
Lens' TestWebhookTransform (Maybe MetadataResponseTransform)
</span><a href="Hasura.RQL.DDL.Metadata.Types.html#twtResponseTransformer"><span class="hs-identifier hs-var">twtResponseTransformer</span></a></span><span> </span><span class="annot"><span class="annottext">((Maybe MetadataResponseTransform
  -&gt; m (Maybe MetadataResponseTransform))
 -&gt; TestWebhookTransform -&gt; m TestWebhookTransform)
-&gt; ((MetadataResponseTransform -&gt; m MetadataResponseTransform)
    -&gt; Maybe MetadataResponseTransform
    -&gt; m (Maybe MetadataResponseTransform))
-&gt; (MetadataResponseTransform -&gt; m MetadataResponseTransform)
-&gt; TestWebhookTransform
-&gt; m TestWebhookTransform
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(MetadataResponseTransform -&gt; m MetadataResponseTransform)
-&gt; Maybe MetadataResponseTransform
-&gt; m (Maybe MetadataResponseTransform)
forall a b (p :: * -&gt; * -&gt; *) (f :: * -&gt; *).
(Choice p, Applicative f) =&gt;
p a (f b) -&gt; p (Maybe a) (f (Maybe b))
</span><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/lens-5.2.2-70a68698e02c1d9dc133c543e6497a7241e5514570afd4815da4baf2a001e00e/share/doc/html/src/Control.Lens.Prism.html#_Just"><span class="hs-identifier hs-var">_Just</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-547"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">TestWebhookTransform -&gt; m EncJSON
forall (m :: * -&gt; *). QErrM m =&gt; TestWebhookTransform -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.Metadata.html#runTestWebhookTransform"><span class="hs-identifier hs-var">runTestWebhookTransform</span></a></span><span> </span><span class="annot"><span class="annottext">(TestWebhookTransform -&gt; m EncJSON)
-&gt; (Unvalidated TestWebhookTransform -&gt; TestWebhookTransform)
-&gt; Unvalidated TestWebhookTransform
-&gt; m EncJSON
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Unvalidated TestWebhookTransform -&gt; TestWebhookTransform
forall a. Unvalidated a -&gt; a
</span><a href="Hasura.RQL.DDL.Webhook.Transform.Validation.html#_unUnvalidate"><span class="hs-identifier hs-var">_unUnvalidate</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-548"></span><span>      </span><span class="annot"><span class="annottext">Unvalidated TestWebhookTransform
</span><a href="#local-6989586621687566596"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-549"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMSetQueryTagsConfig"><span class="hs-identifier hs-type">RMSetQueryTagsConfig</span></a></span><span> </span><span id="local-6989586621687566600"><span class="annot"><span class="annottext">SetQueryTagsConfig
</span><a href="#local-6989586621687566600"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">SetQueryTagsConfig -&gt; m EncJSON
forall (m :: * -&gt; *).
(MonadError QErr m, MetadataM m, CacheRWM m) =&gt;
SetQueryTagsConfig -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.QueryTags.html#runSetQueryTagsConfig"><span class="hs-identifier hs-var">runSetQueryTagsConfig</span></a></span><span> </span><span class="annot"><span class="annottext">SetQueryTagsConfig
</span><a href="#local-6989586621687566600"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-550"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMSetOpenTelemetryConfig"><span class="hs-identifier hs-type">RMSetOpenTelemetryConfig</span></a></span><span> </span><span id="local-6989586621687566602"><span class="annot"><span class="annottext">OpenTelemetryConfig
</span><a href="#local-6989586621687566602"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">OpenTelemetryConfig -&gt; m EncJSON
forall (m :: * -&gt; *).
(MonadError QErr m, MetadataM m, CacheRWM m) =&gt;
OpenTelemetryConfig -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.OpenTelemetry.html#runSetOpenTelemetryConfig"><span class="hs-identifier hs-var">runSetOpenTelemetryConfig</span></a></span><span> </span><span class="annot"><span class="annottext">OpenTelemetryConfig
</span><a href="#local-6989586621687566602"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-551"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMSetOpenTelemetryStatus"><span class="hs-identifier hs-type">RMSetOpenTelemetryStatus</span></a></span><span> </span><span id="local-6989586621687566604"><span class="annot"><span class="annottext">OtelStatus
</span><a href="#local-6989586621687566604"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">OtelStatus -&gt; m EncJSON
forall (m :: * -&gt; *).
(MonadError QErr m, MetadataM m, CacheRWM m) =&gt;
OtelStatus -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.OpenTelemetry.html#runSetOpenTelemetryStatus"><span class="hs-identifier hs-var">runSetOpenTelemetryStatus</span></a></span><span> </span><span class="annot"><span class="annottext">OtelStatus
</span><a href="#local-6989586621687566604"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-552"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMBulk"><span class="hs-identifier hs-type">RMBulk</span></a></span><span> </span><span id="local-6989586621687566606"><span class="annot"><span class="annottext">[RQLMetadataRequest]
</span><a href="#local-6989586621687566606"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[EncJSON] -&gt; EncJSON
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-json-encoding-1.0.0/opt/doc/html/hasura-json-encoding/src/Hasura.EncJSON.html#encJFromList"><span class="hs-identifier hs-var">encJFromList</span></a></span><span> </span><span class="annot"><span class="annottext">([EncJSON] -&gt; EncJSON) -&gt; m [EncJSON] -&gt; m EncJSON
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">(RQLMetadataRequest -&gt; m EncJSON)
-&gt; [RQLMetadataRequest] -&gt; m [EncJSON]
forall (m :: * -&gt; *) a b. QErrM m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-base-1.0.0/opt/doc/html/hasura-base/src/Hasura.Base.Error.html#indexedMapM"><span class="hs-identifier hs-var">indexedMapM</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Environment
-&gt; CheckFeatureFlag
-&gt; RemoteSchemaPermissions
-&gt; MetadataResourceVersion
-&gt; RQLMetadataRequest
-&gt; m EncJSON
forall (m :: * -&gt; *) r.
(MonadIO m, MonadBaseControl IO m, CacheRWM m, MonadTrace m,
 UserInfoM m, MetadataM m, MonadMetadataStorage m, MonadReader r m,
 Has (Logger Hasura) r, MonadError QErr m, MonadEventLogCleanup m,
 ProvidesHasuraServices m, MonadGetPolicies m,
 HasFeatureFlagChecker m) =&gt;
Environment
-&gt; CheckFeatureFlag
-&gt; RemoteSchemaPermissions
-&gt; MetadataResourceVersion
-&gt; RQLMetadataRequest
-&gt; m EncJSON
</span><a href="Hasura.Server.API.Metadata.html#runMetadataQueryM"><span class="hs-identifier hs-var">runMetadataQueryM</span></a></span><span> </span><span class="annot"><span class="annottext">Environment
</span><a href="#local-6989586621687565998"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">CheckFeatureFlag
</span><a href="#local-6989586621687565999"><span class="hs-identifier hs-var">checkFeatureFlag</span></a></span><span> </span><span class="annot"><span class="annottext">RemoteSchemaPermissions
</span><a href="#local-6989586621687566000"><span class="hs-identifier hs-var">remoteSchemaPerms</span></a></span><span> </span><span class="annot"><span class="annottext">MetadataResourceVersion
</span><a href="#local-6989586621687566001"><span class="hs-identifier hs-var">currentResourceVersion</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[RQLMetadataRequest]
</span><a href="#local-6989586621687566606"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-553"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMBulkKeepGoing"><span class="hs-identifier hs-type">RMBulkKeepGoing</span></a></span><span> </span><span id="local-6989586621687566610"><span class="annot"><span class="annottext">[RQLMetadataRequest]
</span><a href="#local-6989586621687566610"><span class="hs-identifier hs-var">commands</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-554"></span><span>    </span><span id="local-6989586621687566611"><span class="annot"><span class="annottext">[EncJSON]
</span><a href="#local-6989586621687566611"><span class="hs-identifier hs-var">results</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-555"></span><span>      </span><span class="annot"><span class="annottext">[RQLMetadataRequest]
</span><a href="#local-6989586621687566610"><span class="hs-identifier hs-var">commands</span></a></span><span> </span><span class="annot"><span class="annottext">[RQLMetadataRequest]
-&gt; ([RQLMetadataRequest] -&gt; m [EncJSON]) -&gt; m [EncJSON]
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">(RQLMetadataRequest -&gt; m EncJSON)
-&gt; [RQLMetadataRequest] -&gt; m [EncJSON]
forall (m :: * -&gt; *) a b. QErrM m =&gt; (a -&gt; m b) -&gt; [a] -&gt; m [b]
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-base-1.0.0/opt/doc/html/hasura-base/src/Hasura.Base.Error.html#indexedMapM"><span class="hs-identifier hs-var">indexedMapM</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621687566612"><span class="annot"><span class="annottext">RQLMetadataRequest
</span><a href="#local-6989586621687566612"><span class="hs-identifier hs-var">command</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-556"></span><span>        </span><span class="annot"><span class="annottext">Environment
-&gt; CheckFeatureFlag
-&gt; RemoteSchemaPermissions
-&gt; MetadataResourceVersion
-&gt; RQLMetadataRequest
-&gt; m EncJSON
forall (m :: * -&gt; *) r.
(MonadIO m, MonadBaseControl IO m, CacheRWM m, MonadTrace m,
 UserInfoM m, MetadataM m, MonadMetadataStorage m, MonadReader r m,
 Has (Logger Hasura) r, MonadError QErr m, MonadEventLogCleanup m,
 ProvidesHasuraServices m, MonadGetPolicies m,
 HasFeatureFlagChecker m) =&gt;
Environment
-&gt; CheckFeatureFlag
-&gt; RemoteSchemaPermissions
-&gt; MetadataResourceVersion
-&gt; RQLMetadataRequest
-&gt; m EncJSON
</span><a href="Hasura.Server.API.Metadata.html#runMetadataQueryM"><span class="hs-identifier hs-var">runMetadataQueryM</span></a></span><span> </span><span class="annot"><span class="annottext">Environment
</span><a href="#local-6989586621687565998"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">CheckFeatureFlag
</span><a href="#local-6989586621687565999"><span class="hs-identifier hs-var">checkFeatureFlag</span></a></span><span> </span><span class="annot"><span class="annottext">RemoteSchemaPermissions
</span><a href="#local-6989586621687566000"><span class="hs-identifier hs-var">remoteSchemaPerms</span></a></span><span> </span><span class="annot"><span class="annottext">MetadataResourceVersion
</span><a href="#local-6989586621687566001"><span class="hs-identifier hs-var">currentResourceVersion</span></a></span><span> </span><span class="annot"><span class="annottext">RQLMetadataRequest
</span><a href="#local-6989586621687566612"><span class="hs-identifier hs-var">command</span></a></span><span>
</span><span id="line-557"></span><span>          </span><span class="hs-comment">-- Because changes to the metadata are maintained in MetadataT, which is a state monad</span><span>
</span><span id="line-558"></span><span>          </span><span class="hs-comment">-- that is layered above the QErr error monad, this catchError causes any changes to</span><span>
</span><span id="line-559"></span><span>          </span><span class="hs-comment">-- the metadata made during running the failed API function to be rolled back</span><span>
</span><span id="line-560"></span><span>          </span><span class="annot"><span class="annottext">m EncJSON -&gt; (QErr -&gt; m EncJSON) -&gt; m EncJSON
forall a. m a -&gt; (QErr -&gt; m a) -&gt; m a
forall e (m :: * -&gt; *) a.
MonadError e m =&gt;
m a -&gt; (e -&gt; m a) -&gt; m a
</span><span class="hs-operator hs-var">`catchError`</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621687566614"><span class="annot"><span class="annottext">QErr
</span><a href="#local-6989586621687566614"><span class="hs-identifier hs-var">qerr</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">EncJSON -&gt; m EncJSON
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">QErr -&gt; EncJSON
forall a. ToJSON a =&gt; a -&gt; EncJSON
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-json-encoding-1.0.0/opt/doc/html/hasura-json-encoding/src/Hasura.EncJSON.html#encJFromJValue"><span class="hs-identifier hs-var">encJFromJValue</span></a></span><span> </span><span class="annot"><span class="annottext">QErr
</span><a href="#local-6989586621687566614"><span class="hs-identifier hs-var">qerr</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-561"></span><span>
</span><span id="line-562"></span><span>    </span><span class="annot"><span class="annottext">EncJSON -&gt; m EncJSON
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[EncJSON] -&gt; EncJSON
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-json-encoding-1.0.0/opt/doc/html/hasura-json-encoding/src/Hasura.EncJSON.html#encJFromList"><span class="hs-identifier hs-var">encJFromList</span></a></span><span> </span><span class="annot"><span class="annottext">[EncJSON]
</span><a href="#local-6989586621687566611"><span class="hs-identifier hs-var">results</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-563"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMBulkAtomic"><span class="hs-identifier hs-type">RMBulkAtomic</span></a></span><span> </span><span id="local-6989586621687566616"><span class="annot"><span class="annottext">[RQLMetadataRequest]
</span><a href="#local-6989586621687566616"><span class="hs-identifier hs-var">commands</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[RQLMetadataRequest] -&gt; m EncJSON
forall (m :: * -&gt; *).
(HasFeatureFlagChecker m, MonadError QErr m, CacheRWM m,
 MetadataM m) =&gt;
[RQLMetadataRequest] -&gt; m EncJSON
</span><a href="Hasura.Server.API.Metadata.html#runBulkAtomic"><span class="hs-identifier hs-var">runBulkAtomic</span></a></span><span> </span><span class="annot"><span class="annottext">[RQLMetadataRequest]
</span><a href="#local-6989586621687566616"><span class="hs-identifier hs-var">commands</span></a></span><span>
</span><span id="line-564"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-565"></span><span>    </span><span id="local-6989586621687564453"><span id="local-6989586621687564454"><span class="annot"><a href="#local-6989586621687566439"><span class="hs-identifier hs-type">dispatchEventTrigger</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621687564452"><span class="annot"><a href="#local-6989586621687564452"><span class="hs-identifier hs-type">b</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.Eventing.Backend.html#BackendEventTrigger"><span class="hs-identifier hs-type">BackendEventTrigger</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687564452"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621687564453"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687564452"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621687564454"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Hasura.SQL.AnyBackend.html#AnyBackend"><span class="hs-identifier hs-type">AnyBackend</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687564453"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621687564454"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-566"></span><span>    </span><span id="local-6989586621687566439"><span class="annot"><span class="annottext">dispatchEventTrigger :: forall (i :: BackendType -&gt; *) a.
(forall (b :: BackendType). BackendEventTrigger b =&gt; i b -&gt; a)
-&gt; AnyBackend i -&gt; a
</span><a href="#local-6989586621687566439"><span class="hs-identifier hs-var hs-var">dispatchEventTrigger</span></a></span></span><span> </span><span id="local-6989586621687566631"><span class="annot"><span class="annottext">forall (b :: BackendType). BackendEventTrigger b =&gt; i b -&gt; a
</span><a href="#local-6989586621687566631"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621687566632"><span class="annot"><span class="annottext">AnyBackend i
</span><a href="#local-6989586621687566632"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (c :: BackendType -&gt; Constraint) (i :: BackendType -&gt; *) r.
AllBackendsSatisfy c =&gt;
AnyBackend i -&gt; (forall (b :: BackendType). c b =&gt; i b -&gt; r) -&gt; r
</span><a href="Hasura.SQL.AnyBackend.html#dispatchAnyBackend"><span class="hs-identifier hs-var">dispatchAnyBackend</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="Hasura.Eventing.Backend.html#BackendEventTrigger"><span class="hs-identifier hs-type">BackendEventTrigger</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend i
</span><a href="#local-6989586621687566632"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">i b -&gt; a
forall (b :: BackendType). BackendEventTrigger b =&gt; i b -&gt; a
</span><a href="#local-6989586621687566631"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-567"></span><span>
</span><span id="line-568"></span><span>    </span><span id="local-6989586621687564288"><span id="local-6989586621687564289"><span class="annot"><a href="#local-6989586621687566076"><span class="hs-identifier hs-type">dispatchMetadataAndEventTrigger</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-569"></span><span>      </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621687564286"><span class="annot"><a href="#local-6989586621687564286"><span class="hs-identifier hs-type">b</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.Types.Metadata.Backend.html#BackendMetadata"><span class="hs-identifier hs-type">BackendMetadata</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687564286"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hasura.Eventing.Backend.html#BackendEventTrigger"><span class="hs-identifier hs-type">BackendEventTrigger</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687564286"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621687564288"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687564286"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621687564289"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-570"></span><span>      </span><span class="annot"><a href="Hasura.SQL.AnyBackend.html#AnyBackend"><span class="hs-identifier hs-type">AnyBackend</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687564288"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-571"></span><span>      </span><span class="annot"><a href="#local-6989586621687564289"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-572"></span><span>    </span><span id="local-6989586621687566076"><span class="annot"><span class="annottext">dispatchMetadataAndEventTrigger :: forall (i :: BackendType -&gt; *) a.
(forall (b :: BackendType).
 (BackendMetadata b, BackendEventTrigger b) =&gt;
 i b -&gt; a)
-&gt; AnyBackend i -&gt; a
</span><a href="#local-6989586621687566076"><span class="hs-identifier hs-var hs-var">dispatchMetadataAndEventTrigger</span></a></span></span><span> </span><span id="local-6989586621687566713"><span class="annot"><span class="annottext">forall (b :: BackendType).
(BackendMetadata b, BackendEventTrigger b) =&gt;
i b -&gt; a
</span><a href="#local-6989586621687566713"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621687566714"><span class="annot"><span class="annottext">AnyBackend i
</span><a href="#local-6989586621687566714"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (c1 :: BackendType -&gt; Constraint)
       (c2 :: BackendType -&gt; Constraint) (i :: BackendType -&gt; *) r.
(AllBackendsSatisfy c1, AllBackendsSatisfy c2) =&gt;
AnyBackend i
-&gt; (forall (b :: BackendType). (c1 b, c2 b) =&gt; i b -&gt; r) -&gt; r
</span><a href="Hasura.SQL.AnyBackend.html#dispatchAnyBackendWithTwoConstraints"><span class="hs-identifier hs-var">dispatchAnyBackendWithTwoConstraints</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="Hasura.RQL.Types.Metadata.Backend.html#BackendMetadata"><span class="hs-identifier hs-type">BackendMetadata</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="Hasura.Eventing.Backend.html#BackendEventTrigger"><span class="hs-identifier hs-type">BackendEventTrigger</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend i
</span><a href="#local-6989586621687566714"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">i b -&gt; a
forall (b :: BackendType).
(BackendMetadata b, BackendEventTrigger b) =&gt;
i b -&gt; a
</span><a href="#local-6989586621687566713"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-573"></span><span>
</span><span id="line-574"></span><span id="local-6989586621687564255"><span id="local-6989586621687564256"><span class="annot"><a href="Hasura.Server.API.Metadata.html#dispatchMetadata"><span class="hs-identifier hs-type">dispatchMetadata</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-575"></span><span>  </span><span class="hs-special">(</span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621687564253"><span class="annot"><a href="#local-6989586621687564253"><span class="hs-identifier hs-type">b</span></a></span></span><span class="hs-operator">.</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.Types.Metadata.Backend.html#BackendMetadata"><span class="hs-identifier hs-type">BackendMetadata</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687564253"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621687564255"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687564253"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621687564256"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-576"></span><span>  </span><span class="annot"><a href="Hasura.SQL.AnyBackend.html#AnyBackend"><span class="hs-identifier hs-type">AnyBackend</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687564255"><span class="hs-identifier hs-type">i</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-577"></span><span>  </span><span class="annot"><a href="#local-6989586621687564256"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-578"></span><span id="dispatchMetadata"><span class="annot"><span class="annottext">dispatchMetadata :: forall (i :: BackendType -&gt; *) a.
(forall (b :: BackendType). BackendMetadata b =&gt; i b -&gt; a)
-&gt; AnyBackend i -&gt; a
</span><a href="Hasura.Server.API.Metadata.html#dispatchMetadata"><span class="hs-identifier hs-var hs-var">dispatchMetadata</span></a></span></span><span> </span><span id="local-6989586621687566761"><span class="annot"><span class="annottext">forall (b :: BackendType). BackendMetadata b =&gt; i b -&gt; a
</span><a href="#local-6989586621687566761"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span id="local-6989586621687566762"><span class="annot"><span class="annottext">AnyBackend i
</span><a href="#local-6989586621687566762"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">forall (c :: BackendType -&gt; Constraint) (i :: BackendType -&gt; *) r.
AllBackendsSatisfy c =&gt;
AnyBackend i -&gt; (forall (b :: BackendType). c b =&gt; i b -&gt; r) -&gt; r
</span><a href="Hasura.SQL.AnyBackend.html#dispatchAnyBackend"><span class="hs-identifier hs-var">dispatchAnyBackend</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="Hasura.RQL.Types.Metadata.Backend.html#BackendMetadata"><span class="hs-identifier hs-type">BackendMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend i
</span><a href="#local-6989586621687566762"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">i b -&gt; a
forall (b :: BackendType). BackendMetadata b =&gt; i b -&gt; a
</span><a href="#local-6989586621687566761"><span class="hs-identifier hs-var">f</span></a></span><span>
</span><span id="line-579"></span><span>
</span><span id="line-580"></span><span class="hs-comment">-- | the atomic commands work slightly differently</span><span>
</span><span id="line-581"></span><span class="hs-comment">-- each one just returns the metadata modifier, we then chain them all and</span><span>
</span><span id="line-582"></span><span class="hs-comment">-- run the schema cache validation once. This allows us to combine drop and</span><span>
</span><span id="line-583"></span><span class="hs-comment">-- re-add commands to do edits, or add two interdependent items at once.</span><span>
</span><span id="line-584"></span><span class="annot"><a href="Hasura.Server.API.Metadata.html#runBulkAtomic"><span class="hs-identifier hs-type">runBulkAtomic</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-585"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621687564553"><span class="annot"><a href="#local-6989586621687564553"><span class="hs-identifier hs-type">m</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-586"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Hasura.Server.Init.FeatureFlag.html#HasFeatureFlagChecker"><span class="hs-identifier hs-type">HasFeatureFlagChecker</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687564553"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-587"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">MonadError</span></span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-base-1.0.0/opt/doc/html/hasura-base/src/Hasura.Base.Error.html#QErr"><span class="hs-identifier hs-type">QErr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687564553"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-588"></span><span>    </span><span class="annot"><a href="Hasura.RQL.Types.SchemaCache.Build.html#CacheRWM"><span class="hs-identifier hs-type">CacheRWM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687564553"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-589"></span><span>    </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#MetadataM"><span class="hs-identifier hs-type">MetadataM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687564553"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-590"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-591"></span><span>  </span><span class="hs-special">[</span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RQLMetadataRequest"><span class="hs-identifier hs-type">RQLMetadataRequest</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-592"></span><span>  </span><span class="annot"><a href="#local-6989586621687564553"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-json-encoding-1.0.0/opt/doc/html/hasura-json-encoding/src/Hasura.EncJSON.html#EncJSON"><span class="hs-identifier hs-type">EncJSON</span></a></span><span>
</span><span id="line-593"></span><span id="runBulkAtomic"><span class="annot"><span class="annottext">runBulkAtomic :: forall (m :: * -&gt; *).
(HasFeatureFlagChecker m, MonadError QErr m, CacheRWM m,
 MetadataM m) =&gt;
[RQLMetadataRequest] -&gt; m EncJSON
</span><a href="Hasura.Server.API.Metadata.html#runBulkAtomic"><span class="hs-identifier hs-var hs-var">runBulkAtomic</span></a></span></span><span> </span><span id="local-6989586621687566809"><span class="annot"><span class="annottext">[RQLMetadataRequest]
</span><a href="#local-6989586621687566809"><span class="hs-identifier hs-var">cmds</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-594"></span><span>  </span><span class="hs-comment">-- get the metadata modifiers for all our commands</span><span>
</span><span id="line-595"></span><span>  </span><span class="hs-special">(</span><span id="local-6989586621687566810"><span class="annot"><span class="annottext">[Metadata -&gt; m Metadata]
</span><a href="#local-6989586621687566810"><span class="hs-identifier hs-var">mdModifiers</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#Metadata"><span class="hs-identifier hs-type">Metadata</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621687564553"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#Metadata"><span class="hs-identifier hs-type">Metadata</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-596"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621687566811"><span class="annot"><span class="annottext">[Metadata -&gt; m (MetadataObjId, MetadataModifier)]
</span><a href="#local-6989586621687566811"><span class="hs-identifier hs-var">mods</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#Metadata"><span class="hs-identifier hs-type">Metadata</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621687564553"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.Types.Metadata.Object.html#MetadataObjId"><span class="hs-identifier hs-type">MetadataObjId</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#MetadataModifier"><span class="hs-identifier hs-type">MetadataModifier</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(RQLMetadataRequest
 -&gt; m (Metadata -&gt; m (MetadataObjId, MetadataModifier)))
-&gt; [RQLMetadataRequest]
-&gt; m [Metadata -&gt; m (MetadataObjId, MetadataModifier)]
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Traversable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f (t b)
forall (f :: * -&gt; *) a b.
Applicative f =&gt;
(a -&gt; f b) -&gt; [a] -&gt; f [b]
</span><span class="hs-identifier hs-var">traverse</span></span><span> </span><span class="annot"><span class="annottext">RQLMetadataRequest
-&gt; m (Metadata -&gt; m (MetadataObjId, MetadataModifier))
</span><a href="#local-6989586621687566813"><span class="hs-identifier hs-var">getMetadataModifierForCommand</span></a></span><span> </span><span class="annot"><span class="annottext">[RQLMetadataRequest]
</span><a href="#local-6989586621687566809"><span class="hs-identifier hs-var">cmds</span></a></span><span>
</span><span id="line-597"></span><span>    </span><span class="annot"><span class="annottext">[Metadata -&gt; m Metadata] -&gt; m [Metadata -&gt; m Metadata]
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span>
</span><span id="line-598"></span><span>      </span><span class="annot"><span class="annottext">([Metadata -&gt; m Metadata] -&gt; m [Metadata -&gt; m Metadata])
-&gt; [Metadata -&gt; m Metadata] -&gt; m [Metadata -&gt; m Metadata]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">((Metadata -&gt; m (MetadataObjId, MetadataModifier))
 -&gt; Metadata -&gt; m Metadata)
-&gt; [Metadata -&gt; m (MetadataObjId, MetadataModifier)]
-&gt; [Metadata -&gt; m Metadata]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span>
</span><span id="line-599"></span><span>        </span><span class="hs-special">(</span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621687566814"><span class="annot"><span class="annottext">Metadata -&gt; m (MetadataObjId, MetadataModifier)
</span><a href="#local-6989586621687566814"><span class="hs-identifier hs-var">checker</span></a></span></span><span> </span><span id="local-6989586621687566815"><span class="annot"><span class="annottext">Metadata
</span><a href="#local-6989586621687566815"><span class="hs-identifier hs-var">metadata</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-600"></span><span>            </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#MetadataModifier"><span class="hs-identifier hs-type">MetadataModifier</span></a></span><span> </span><span id="local-6989586621687566816"><span class="annot"><span class="annottext">Metadata -&gt; Metadata
</span><a href="#local-6989586621687566816"><span class="hs-identifier hs-var">modifier</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(MetadataObjId, MetadataModifier) -&gt; MetadataModifier
forall a b. (a, b) -&gt; b
</span><span class="hs-identifier hs-var">snd</span></span><span> </span><span class="annot"><span class="annottext">((MetadataObjId, MetadataModifier) -&gt; MetadataModifier)
-&gt; m (MetadataObjId, MetadataModifier) -&gt; m MetadataModifier
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Metadata -&gt; m (MetadataObjId, MetadataModifier)
</span><a href="#local-6989586621687566814"><span class="hs-identifier hs-var">checker</span></a></span><span> </span><span class="annot"><span class="annottext">Metadata
</span><a href="#local-6989586621687566815"><span class="hs-identifier hs-var">metadata</span></a></span><span>
</span><span id="line-601"></span><span>            </span><span class="annot"><span class="annottext">Metadata -&gt; m Metadata
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">(Metadata -&gt; m Metadata) -&gt; Metadata -&gt; m Metadata
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Metadata -&gt; Metadata
</span><a href="#local-6989586621687566816"><span class="hs-identifier hs-var">modifier</span></a></span><span> </span><span class="annot"><span class="annottext">Metadata
</span><a href="#local-6989586621687566815"><span class="hs-identifier hs-var">metadata</span></a></span><span>
</span><span id="line-602"></span><span>        </span><span class="hs-special">)</span><span>
</span><span id="line-603"></span><span>        </span><span class="annot"><span class="annottext">[Metadata -&gt; m (MetadataObjId, MetadataModifier)]
</span><a href="#local-6989586621687566811"><span class="hs-identifier hs-var">mods</span></a></span><span>
</span><span id="line-604"></span><span>
</span><span id="line-605"></span><span>  </span><span class="hs-comment">-- Try building the schema cache using the combined modifiers. If we run into</span><span>
</span><span id="line-606"></span><span>  </span><span class="hs-comment">-- any inconsistencies, we should fail and roll back.</span><span>
</span><span id="line-607"></span><span>  </span><span id="local-6989586621687566818"><span class="annot"><span class="annottext">HashMap MetadataObjId (NonEmpty InconsistentMetadata)
</span><a href="#local-6989586621687566818"><span class="hs-identifier hs-var">inconsistencies</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[Metadata -&gt; m Metadata]
-&gt; m (HashMap MetadataObjId (NonEmpty InconsistentMetadata))
forall (m :: * -&gt; *).
(CacheRWM m, MetadataM m) =&gt;
[Metadata -&gt; m Metadata]
-&gt; m (HashMap MetadataObjId (NonEmpty InconsistentMetadata))
</span><a href="Hasura.RQL.Types.SchemaCache.Build.html#tryBuildSchemaCacheWithModifiers"><span class="hs-identifier hs-var">tryBuildSchemaCacheWithModifiers</span></a></span><span> </span><span class="annot"><span class="annottext">[Metadata -&gt; m Metadata]
</span><a href="#local-6989586621687566810"><span class="hs-identifier hs-var">mdModifiers</span></a></span><span>
</span><span id="line-608"></span><span>
</span><span id="line-609"></span><span>  </span><span class="annot"><span class="annottext">Bool -&gt; m () -&gt; m ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">unless</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HashMap MetadataObjId (NonEmpty InconsistentMetadata) -&gt; Bool
forall a. HashMap MetadataObjId a -&gt; Bool
forall (t :: * -&gt; *) a. Foldable t =&gt; t a -&gt; Bool
</span><span class="hs-identifier hs-var">null</span></span><span> </span><span class="annot"><span class="annottext">HashMap MetadataObjId (NonEmpty InconsistentMetadata)
</span><a href="#local-6989586621687566818"><span class="hs-identifier hs-var">inconsistencies</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-610"></span><span>    </span><span class="annot"><span class="annottext">(m () -&gt; m ()) -&gt; m () -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Code -&gt; Text -&gt; Value -&gt; m ()
forall (m :: * -&gt; *) a. QErrM m =&gt; Code -&gt; Text -&gt; Value -&gt; m a
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-base-1.0.0/opt/doc/html/hasura-base/src/Hasura.Base.Error.html#throw400WithDetail"><span class="hs-identifier hs-var">throw400WithDetail</span></a></span><span> </span><span class="annot"><span class="annottext">Code
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-base-1.0.0/opt/doc/html/hasura-base/src/Hasura.Base.Error.html#BadRequest"><span class="hs-identifier hs-var">BadRequest</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Schema inconsistency&quot;</span></span><span>
</span><span id="line-611"></span><span>    </span><span class="annot"><span class="annottext">(Value -&gt; m ()) -&gt; Value -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[NonEmpty InconsistentMetadata] -&gt; Value
forall a. ToJSON a =&gt; a -&gt; Value
</span><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/aeson-2.1.2.1-78f82c0a41c76fc62260cf94c4b206816c9efb8c3788f4fbd6184398938cf6fb/share/doc/html/src/Data.Aeson.Types.ToJSON.html#toJSON"><span class="hs-identifier hs-var">toJSON</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HashMap MetadataObjId (NonEmpty InconsistentMetadata)
-&gt; [NonEmpty InconsistentMetadata]
forall k v. HashMap k v -&gt; [v]
</span><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/unordered-containers-0.2.19.1-a5b4fa803c841f948b5080a5c7a22f4e3b108a71ab10582fd155001f6f7ca093/share/doc/html/src/Data.HashMap.Internal.html#elems"><span class="hs-identifier hs-var">HashMap.elems</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap MetadataObjId (NonEmpty InconsistentMetadata)
</span><a href="#local-6989586621687566818"><span class="hs-identifier hs-var">inconsistencies</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-612"></span><span>
</span><span id="line-613"></span><span>  </span><span class="annot"><span class="annottext">EncJSON -&gt; m EncJSON
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">EncJSON
</span><a href="Hasura.RQL.Types.Common.html#successMsg"><span class="hs-identifier hs-var">successMsg</span></a></span><span>
</span><span id="line-614"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-615"></span><span>    </span><span class="annot"><a href="#local-6989586621687566813"><span class="hs-identifier hs-type">getMetadataModifierForCommand</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RQLMetadataRequest"><span class="hs-identifier hs-type">RQLMetadataRequest</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621687564553"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#Metadata"><span class="hs-identifier hs-type">Metadata</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621687564553"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.Types.Metadata.Object.html#MetadataObjId"><span class="hs-identifier hs-type">MetadataObjId</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#MetadataModifier"><span class="hs-identifier hs-type">MetadataModifier</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-616"></span><span>    </span><span id="local-6989586621687566813"><span class="annot"><span class="annottext">getMetadataModifierForCommand :: RQLMetadataRequest
-&gt; m (Metadata -&gt; m (MetadataObjId, MetadataModifier))
</span><a href="#local-6989586621687566813"><span class="hs-identifier hs-var hs-var">getMetadataModifierForCommand</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-617"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMV1"><span class="hs-identifier hs-type">RMV1</span></a></span><span> </span><span id="local-6989586621687566827"><span class="annot"><span class="annottext">RQLMetadataV1
</span><a href="#local-6989586621687566827"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">RQLMetadataV1
</span><a href="#local-6989586621687566827"><span class="hs-identifier hs-var">v</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-618"></span><span>        </span><span class="hs-comment">-- Whoa there, cowboy! Chances are you're here to add table tracking to</span><span>
</span><span id="line-619"></span><span>        </span><span class="hs-comment">-- the list of things that bulk_atomic can do. Before you do that,</span><span>
</span><span id="line-620"></span><span>        </span><span class="hs-comment">-- though, there is a big, particularly-Citus-shaped problem you might</span><span>
</span><span id="line-621"></span><span>        </span><span class="hs-comment">-- need to consider:</span><span>
</span><span id="line-622"></span><span>        </span><span class="hs-comment">--</span><span>
</span><span id="line-623"></span><span>        </span><span class="hs-comment">-- \* There are specific validation rules around how Citus handles</span><span>
</span><span id="line-624"></span><span>        </span><span class="hs-comment">--   relationships (see 'validateRel' in 'PostgresMetadata'), which</span><span>
</span><span id="line-625"></span><span>        </span><span class="hs-comment">--   will either need to be deferred until the end of the bulk /or/</span><span>
</span><span id="line-626"></span><span>        </span><span class="hs-comment">--   moved to the schema cache.</span><span>
</span><span id="line-627"></span><span>        </span><span class="hs-comment">-- \* This would also introduce the possibility of a table state that is</span><span>
</span><span id="line-628"></span><span>        </span><span class="hs-comment">--   eventually consistent but currently inconsistent: I add table X, a</span><span>
</span><span id="line-629"></span><span>        </span><span class="hs-comment">--   relationship between X and Y, and then I add table Y. Currently,</span><span>
</span><span id="line-630"></span><span>        </span><span class="hs-comment">--   this can't be done, so all validation checks in</span><span>
</span><span id="line-631"></span><span>        </span><span class="hs-comment">--   'execCreateRelationship' remain as they are in the @run@ versions.</span><span>
</span><span id="line-632"></span><span>
</span><span id="line-633"></span><span>        </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMCreateObjectRelationship"><span class="hs-identifier hs-type">RMCreateObjectRelationship</span></a></span><span> </span><span id="local-6989586621687566828"><span class="annot"><span class="annottext">AnyBackend CreateObjRel
</span><a href="#local-6989586621687566828"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Metadata -&gt; m (MetadataObjId, MetadataModifier))
-&gt; m (Metadata -&gt; m (MetadataObjId, MetadataModifier))
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">((Metadata -&gt; m (MetadataObjId, MetadataModifier))
 -&gt; m (Metadata -&gt; m (MetadataObjId, MetadataModifier)))
-&gt; (Metadata -&gt; m (MetadataObjId, MetadataModifier))
-&gt; m (Metadata -&gt; m (MetadataObjId, MetadataModifier))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(forall (b :: BackendType).
 BackendMetadata b =&gt;
 CreateObjRel b -&gt; Metadata -&gt; m (MetadataObjId, MetadataModifier))
-&gt; AnyBackend CreateObjRel
-&gt; Metadata
-&gt; m (MetadataObjId, MetadataModifier)
forall (i :: BackendType -&gt; *) a.
(forall (b :: BackendType). BackendMetadata b =&gt; i b -&gt; a)
-&gt; AnyBackend i -&gt; a
</span><a href="Hasura.Server.API.Metadata.html#dispatchMetadata"><span class="hs-identifier hs-var">dispatchMetadata</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RelType
-&gt; WithTable b (RelDef (ObjRelUsing b))
-&gt; Metadata
-&gt; m (MetadataObjId, MetadataModifier)
forall (b :: BackendType) (m :: * -&gt; *) a.
(BackendMetadata b, CacheRM m, MonadError QErr m, ToJSON a) =&gt;
RelType
-&gt; WithTable b (RelDef a)
-&gt; Metadata
-&gt; m (MetadataObjId, MetadataModifier)
</span><a href="Hasura.RQL.DDL.Relationship.html#execCreateRelationship"><span class="hs-identifier hs-var">execCreateRelationship</span></a></span><span> </span><span class="annot"><span class="annottext">RelType
</span><a href="Hasura.RQL.Types.Common.html#ObjRel"><span class="hs-identifier hs-var">ObjRel</span></a></span><span> </span><span class="annot"><span class="annottext">(WithTable b (RelDef (ObjRelUsing b))
 -&gt; Metadata -&gt; m (MetadataObjId, MetadataModifier))
-&gt; (CreateObjRel b -&gt; WithTable b (RelDef (ObjRelUsing b)))
-&gt; CreateObjRel b
-&gt; Metadata
-&gt; m (MetadataObjId, MetadataModifier)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">CreateObjRel b -&gt; WithTable b (RelDef (ObjRelUsing b))
forall (b :: BackendType).
CreateObjRel b -&gt; WithTable b (ObjRelDef b)
</span><a href="Hasura.RQL.DDL.Relationship.html#unCreateObjRel"><span class="hs-identifier hs-var">unCreateObjRel</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">AnyBackend CreateObjRel
</span><a href="#local-6989586621687566828"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-634"></span><span>        </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMCreateArrayRelationship"><span class="hs-identifier hs-type">RMCreateArrayRelationship</span></a></span><span> </span><span id="local-6989586621687566837"><span class="annot"><span class="annottext">AnyBackend CreateArrRel
</span><a href="#local-6989586621687566837"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Metadata -&gt; m (MetadataObjId, MetadataModifier))
-&gt; m (Metadata -&gt; m (MetadataObjId, MetadataModifier))
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">((Metadata -&gt; m (MetadataObjId, MetadataModifier))
 -&gt; m (Metadata -&gt; m (MetadataObjId, MetadataModifier)))
-&gt; (Metadata -&gt; m (MetadataObjId, MetadataModifier))
-&gt; m (Metadata -&gt; m (MetadataObjId, MetadataModifier))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(forall (b :: BackendType).
 BackendMetadata b =&gt;
 CreateArrRel b -&gt; Metadata -&gt; m (MetadataObjId, MetadataModifier))
-&gt; AnyBackend CreateArrRel
-&gt; Metadata
-&gt; m (MetadataObjId, MetadataModifier)
forall (i :: BackendType -&gt; *) a.
(forall (b :: BackendType). BackendMetadata b =&gt; i b -&gt; a)
-&gt; AnyBackend i -&gt; a
</span><a href="Hasura.Server.API.Metadata.html#dispatchMetadata"><span class="hs-identifier hs-var">dispatchMetadata</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RelType
-&gt; WithTable b (RelDef (ArrRelUsing b))
-&gt; Metadata
-&gt; m (MetadataObjId, MetadataModifier)
forall (b :: BackendType) (m :: * -&gt; *) a.
(BackendMetadata b, CacheRM m, MonadError QErr m, ToJSON a) =&gt;
RelType
-&gt; WithTable b (RelDef a)
-&gt; Metadata
-&gt; m (MetadataObjId, MetadataModifier)
</span><a href="Hasura.RQL.DDL.Relationship.html#execCreateRelationship"><span class="hs-identifier hs-var">execCreateRelationship</span></a></span><span> </span><span class="annot"><span class="annottext">RelType
</span><a href="Hasura.RQL.Types.Common.html#ArrRel"><span class="hs-identifier hs-var">ArrRel</span></a></span><span> </span><span class="annot"><span class="annottext">(WithTable b (RelDef (ArrRelUsing b))
 -&gt; Metadata -&gt; m (MetadataObjId, MetadataModifier))
-&gt; (CreateArrRel b -&gt; WithTable b (RelDef (ArrRelUsing b)))
-&gt; CreateArrRel b
-&gt; Metadata
-&gt; m (MetadataObjId, MetadataModifier)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">CreateArrRel b -&gt; WithTable b (RelDef (ArrRelUsing b))
forall (b :: BackendType).
CreateArrRel b -&gt; WithTable b (ArrRelDef b)
</span><a href="Hasura.RQL.DDL.Relationship.html#unCreateArrRel"><span class="hs-identifier hs-var">unCreateArrRel</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">AnyBackend CreateArrRel
</span><a href="#local-6989586621687566837"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-635"></span><span>        </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMTrackNativeQuery"><span class="hs-identifier hs-type">RMTrackNativeQuery</span></a></span><span> </span><span id="local-6989586621687566845"><span class="annot"><span class="annottext">AnyBackend TrackNativeQuery
</span><a href="#local-6989586621687566845"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Metadata -&gt; m (MetadataObjId, MetadataModifier))
-&gt; m (Metadata -&gt; m (MetadataObjId, MetadataModifier))
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">((Metadata -&gt; m (MetadataObjId, MetadataModifier))
 -&gt; m (Metadata -&gt; m (MetadataObjId, MetadataModifier)))
-&gt; (Metadata -&gt; m (MetadataObjId, MetadataModifier))
-&gt; m (Metadata -&gt; m (MetadataObjId, MetadataModifier))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(forall (b :: BackendType).
 BackendMetadata b =&gt;
 TrackNativeQuery b
 -&gt; Metadata -&gt; m (MetadataObjId, MetadataModifier))
-&gt; AnyBackend TrackNativeQuery
-&gt; Metadata
-&gt; m (MetadataObjId, MetadataModifier)
forall (i :: BackendType -&gt; *) a.
(forall (b :: BackendType). BackendMetadata b =&gt; i b -&gt; a)
-&gt; AnyBackend i -&gt; a
</span><a href="Hasura.Server.API.Metadata.html#dispatchMetadata"><span class="hs-identifier hs-var">dispatchMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">TrackNativeQuery b
-&gt; Metadata -&gt; m (MetadataObjId, MetadataModifier)
forall (b :: BackendType).
BackendMetadata b =&gt;
TrackNativeQuery b
-&gt; Metadata -&gt; m (MetadataObjId, MetadataModifier)
forall (b :: BackendType) (m :: * -&gt; *).
(BackendMetadata b, MonadError QErr m) =&gt;
TrackNativeQuery b
-&gt; Metadata -&gt; m (MetadataObjId, MetadataModifier)
</span><a href="Hasura.NativeQuery.API.html#execTrackNativeQuery"><span class="hs-identifier hs-var">NativeQueries.execTrackNativeQuery</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend TrackNativeQuery
</span><a href="#local-6989586621687566845"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-636"></span><span>        </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMUntrackNativeQuery"><span class="hs-identifier hs-type">RMUntrackNativeQuery</span></a></span><span> </span><span id="local-6989586621687566849"><span class="annot"><span class="annottext">AnyBackend UntrackNativeQuery
</span><a href="#local-6989586621687566849"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Metadata -&gt; m (MetadataObjId, MetadataModifier))
-&gt; m (Metadata -&gt; m (MetadataObjId, MetadataModifier))
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">((Metadata -&gt; m (MetadataObjId, MetadataModifier))
 -&gt; m (Metadata -&gt; m (MetadataObjId, MetadataModifier)))
-&gt; (Metadata -&gt; m (MetadataObjId, MetadataModifier))
-&gt; m (Metadata -&gt; m (MetadataObjId, MetadataModifier))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(forall (b :: BackendType).
 BackendMetadata b =&gt;
 UntrackNativeQuery b
 -&gt; Metadata -&gt; m (MetadataObjId, MetadataModifier))
-&gt; AnyBackend UntrackNativeQuery
-&gt; Metadata
-&gt; m (MetadataObjId, MetadataModifier)
forall (i :: BackendType -&gt; *) a.
(forall (b :: BackendType). BackendMetadata b =&gt; i b -&gt; a)
-&gt; AnyBackend i -&gt; a
</span><a href="Hasura.Server.API.Metadata.html#dispatchMetadata"><span class="hs-identifier hs-var">dispatchMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">UntrackNativeQuery b
-&gt; Metadata -&gt; m (MetadataObjId, MetadataModifier)
forall (b :: BackendType).
BackendMetadata b =&gt;
UntrackNativeQuery b
-&gt; Metadata -&gt; m (MetadataObjId, MetadataModifier)
forall (b :: BackendType) (m :: * -&gt; *).
(BackendMetadata b, MonadError QErr m) =&gt;
UntrackNativeQuery b
-&gt; Metadata -&gt; m (MetadataObjId, MetadataModifier)
</span><a href="Hasura.NativeQuery.API.html#execUntrackNativeQuery"><span class="hs-identifier hs-var">NativeQueries.execUntrackNativeQuery</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend UntrackNativeQuery
</span><a href="#local-6989586621687566849"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-637"></span><span>        </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMTrackLogicalModel"><span class="hs-identifier hs-type">RMTrackLogicalModel</span></a></span><span> </span><span id="local-6989586621687566853"><span class="annot"><span class="annottext">AnyBackend TrackLogicalModel
</span><a href="#local-6989586621687566853"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Metadata -&gt; m (MetadataObjId, MetadataModifier))
-&gt; m (Metadata -&gt; m (MetadataObjId, MetadataModifier))
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">((Metadata -&gt; m (MetadataObjId, MetadataModifier))
 -&gt; m (Metadata -&gt; m (MetadataObjId, MetadataModifier)))
-&gt; (Metadata -&gt; m (MetadataObjId, MetadataModifier))
-&gt; m (Metadata -&gt; m (MetadataObjId, MetadataModifier))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(forall (b :: BackendType).
 BackendMetadata b =&gt;
 TrackLogicalModel b
 -&gt; Metadata -&gt; m (MetadataObjId, MetadataModifier))
-&gt; AnyBackend TrackLogicalModel
-&gt; Metadata
-&gt; m (MetadataObjId, MetadataModifier)
forall (i :: BackendType -&gt; *) a.
(forall (b :: BackendType). BackendMetadata b =&gt; i b -&gt; a)
-&gt; AnyBackend i -&gt; a
</span><a href="Hasura.Server.API.Metadata.html#dispatchMetadata"><span class="hs-identifier hs-var">dispatchMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">TrackLogicalModel b
-&gt; Metadata -&gt; m (MetadataObjId, MetadataModifier)
forall (b :: BackendType).
BackendMetadata b =&gt;
TrackLogicalModel b
-&gt; Metadata -&gt; m (MetadataObjId, MetadataModifier)
forall (b :: BackendType) (m :: * -&gt; *).
(BackendMetadata b, MonadError QErr m) =&gt;
TrackLogicalModel b
-&gt; Metadata -&gt; m (MetadataObjId, MetadataModifier)
</span><a href="Hasura.LogicalModel.API.html#execTrackLogicalModel"><span class="hs-identifier hs-var">LogicalModel.execTrackLogicalModel</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend TrackLogicalModel
</span><a href="#local-6989586621687566853"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-638"></span><span>        </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMUntrackLogicalModel"><span class="hs-identifier hs-type">RMUntrackLogicalModel</span></a></span><span> </span><span id="local-6989586621687566857"><span class="annot"><span class="annottext">AnyBackend UntrackLogicalModel
</span><a href="#local-6989586621687566857"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Metadata -&gt; m (MetadataObjId, MetadataModifier))
-&gt; m (Metadata -&gt; m (MetadataObjId, MetadataModifier))
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">((Metadata -&gt; m (MetadataObjId, MetadataModifier))
 -&gt; m (Metadata -&gt; m (MetadataObjId, MetadataModifier)))
-&gt; (Metadata -&gt; m (MetadataObjId, MetadataModifier))
-&gt; m (Metadata -&gt; m (MetadataObjId, MetadataModifier))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(forall (b :: BackendType).
 BackendMetadata b =&gt;
 UntrackLogicalModel b
 -&gt; Metadata -&gt; m (MetadataObjId, MetadataModifier))
-&gt; AnyBackend UntrackLogicalModel
-&gt; Metadata
-&gt; m (MetadataObjId, MetadataModifier)
forall (i :: BackendType -&gt; *) a.
(forall (b :: BackendType). BackendMetadata b =&gt; i b -&gt; a)
-&gt; AnyBackend i -&gt; a
</span><a href="Hasura.Server.API.Metadata.html#dispatchMetadata"><span class="hs-identifier hs-var">dispatchMetadata</span></a></span><span> </span><span class="annot"><span class="annottext">UntrackLogicalModel b
-&gt; Metadata -&gt; m (MetadataObjId, MetadataModifier)
forall (b :: BackendType).
BackendMetadata b =&gt;
UntrackLogicalModel b
-&gt; Metadata -&gt; m (MetadataObjId, MetadataModifier)
forall (b :: BackendType) (m :: * -&gt; *).
(BackendMetadata b, MonadError QErr m) =&gt;
UntrackLogicalModel b
-&gt; Metadata -&gt; m (MetadataObjId, MetadataModifier)
</span><a href="Hasura.LogicalModel.API.html#execUntrackLogicalModel"><span class="hs-identifier hs-var">LogicalModel.execUntrackLogicalModel</span></a></span><span> </span><span class="annot"><span class="annottext">AnyBackend UntrackLogicalModel
</span><a href="#local-6989586621687566857"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-639"></span><span>        </span><span class="annot"><span class="annottext">RQLMetadataV1
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; m (Metadata -&gt; m (MetadataObjId, MetadataModifier))
forall (m :: * -&gt; *) a. QErrM m =&gt; Text -&gt; m a
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-base-1.0.0/opt/doc/html/hasura-base/src/Hasura.Base.Error.html#throw500"><span class="hs-identifier hs-var">throw500</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Bulk atomic does not support this command&quot;</span></span><span>
</span><span id="line-640"></span><span>      </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMV2"><span class="hs-identifier hs-type">RMV2</span></a></span><span> </span><span class="annot"><span class="annottext">RQLMetadataV2
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; m (Metadata -&gt; m (MetadataObjId, MetadataModifier))
forall (m :: * -&gt; *) a. QErrM m =&gt; Text -&gt; m a
</span><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-base-1.0.0/opt/doc/html/hasura-base/src/Hasura.Base.Error.html#throw500"><span class="hs-identifier hs-var">throw500</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; m (Metadata -&gt; m (MetadataObjId, MetadataModifier)))
-&gt; Text -&gt; m (Metadata -&gt; m (MetadataObjId, MetadataModifier))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Bulk atomic does not support this command&quot;</span></span><span>
</span><span id="line-641"></span><span>
</span><span id="line-642"></span><span id="local-6989586621687564246"><span id="local-6989586621687564247"><span class="annot"><a href="Hasura.Server.API.Metadata.html#runMetadataQueryV2M"><span class="hs-identifier hs-type">runMetadataQueryV2M</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-643"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621687564246"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-644"></span><span>    </span><span class="annot"><a href="Hasura.RQL.Types.SchemaCache.Build.html#CacheRWM"><span class="hs-identifier hs-type">CacheRWM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687564246"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-645"></span><span>    </span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/monad-control-1.0.3.1-92f8a47f193bc8ca499a8b94581fad6cb68b7a26370b271798ac2ec617c05064/share/doc/html/src/Control.Monad.Trans.Control.html#MonadBaseControl"><span class="hs-identifier hs-type">MonadBaseControl</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621687564246"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-646"></span><span>    </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#MetadataM"><span class="hs-identifier hs-type">MetadataM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687564246"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-647"></span><span>    </span><span class="annot"><a href="Hasura.Metadata.Class.html#MonadMetadataStorage"><span class="hs-identifier hs-type">MonadMetadataStorage</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687564246"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-648"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">MonadReader</span></span><span> </span><span class="annot"><a href="#local-6989586621687564247"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687564246"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-649"></span><span>    </span><span class="annot"><a href="file:///root/.local/state/cabal/store/ghc-9.4.5/data-has-0.4.0.0-046b1b301c44f043005ecffcde95c748cd1a5249e8b9e9ea3eaa14bac0030231/share/doc/html/src/Data.Has.html#Has"><span class="hs-identifier hs-type">Has</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.Logging.html#Logger"><span class="hs-identifier hs-type">L.Logger</span></a></span><span> </span><span class="annot"><a href="Hasura.Logging.html#Hasura"><span class="hs-identifier hs-type">L.Hasura</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621687564247"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-650"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">MonadError</span></span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-base-1.0.0/opt/doc/html/hasura-base/src/Hasura.Base.Error.html#QErr"><span class="hs-identifier hs-type">QErr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687564246"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-651"></span><span>    </span><span class="annot"><a href="Hasura.RQL.DDL.EventTrigger.html#MonadEventLogCleanup"><span class="hs-identifier hs-type">MonadEventLogCleanup</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687564246"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-652"></span><span>    </span><span class="annot"><a href="Hasura.Server.Types.html#MonadGetPolicies"><span class="hs-identifier hs-type">MonadGetPolicies</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687564246"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-653"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-654"></span><span>  </span><span class="annot"><a href="Hasura.RQL.Types.SchemaCache.html#MetadataResourceVersion"><span class="hs-identifier hs-type">MetadataResourceVersion</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-655"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RQLMetadataV2"><span class="hs-identifier hs-type">RQLMetadataV2</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-656"></span><span>  </span><span class="annot"><a href="#local-6989586621687564246"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-json-encoding-1.0.0/opt/doc/html/hasura-json-encoding/src/Hasura.EncJSON.html#EncJSON"><span class="hs-identifier hs-type">EncJSON</span></a></span></span></span><span>
</span><span id="line-657"></span><span id="runMetadataQueryV2M"><span class="annot"><span class="annottext">runMetadataQueryV2M :: forall (m :: * -&gt; *) r.
(MonadIO m, CacheRWM m, MonadBaseControl IO m, MetadataM m,
 MonadMetadataStorage m, MonadReader r m, Has (Logger Hasura) r,
 MonadError QErr m, MonadEventLogCleanup m, MonadGetPolicies m) =&gt;
MetadataResourceVersion -&gt; RQLMetadataV2 -&gt; m EncJSON
</span><a href="Hasura.Server.API.Metadata.html#runMetadataQueryV2M"><span class="hs-identifier hs-var hs-var">runMetadataQueryV2M</span></a></span></span><span> </span><span id="local-6989586621687566883"><span class="annot"><span class="annottext">MetadataResourceVersion
</span><a href="#local-6989586621687566883"><span class="hs-identifier hs-var">currentResourceVersion</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-658"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMV2ReplaceMetadata"><span class="hs-identifier hs-type">RMV2ReplaceMetadata</span></a></span><span> </span><span id="local-6989586621687566885"><span class="annot"><span class="annottext">ReplaceMetadataV2
</span><a href="#local-6989586621687566885"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ReplaceMetadataV2 -&gt; m EncJSON
forall (m :: * -&gt; *) r.
(CacheRWM m, MetadataM m, MonadIO m, MonadBaseControl IO m,
 MonadMetadataStorage m, MonadReader r m, MonadError QErr m,
 Has (Logger Hasura) r, MonadEventLogCleanup m,
 MonadGetPolicies m) =&gt;
ReplaceMetadataV2 -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.Metadata.html#runReplaceMetadataV2"><span class="hs-identifier hs-var">runReplaceMetadataV2</span></a></span><span> </span><span class="annot"><span class="annottext">ReplaceMetadataV2
</span><a href="#local-6989586621687566885"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-659"></span><span>  </span><span class="annot"><a href="Hasura.Server.API.Metadata.Types.html#RMV2ExportMetadata"><span class="hs-identifier hs-type">RMV2ExportMetadata</span></a></span><span> </span><span id="local-6989586621687566887"><span class="annot"><span class="annottext">ExportMetadata
</span><a href="#local-6989586621687566887"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">MetadataResourceVersion -&gt; ExportMetadata -&gt; m EncJSON
forall (m :: * -&gt; *).
(QErrM m, MetadataM m) =&gt;
MetadataResourceVersion -&gt; ExportMetadata -&gt; m EncJSON
</span><a href="Hasura.RQL.DDL.Metadata.html#runExportMetadataV2"><span class="hs-identifier hs-var">runExportMetadataV2</span></a></span><span> </span><span class="annot"><span class="annottext">MetadataResourceVersion
</span><a href="#local-6989586621687566883"><span class="hs-identifier hs-var">currentResourceVersion</span></a></span><span> </span><span class="annot"><span class="annottext">ExportMetadata
</span><a href="#local-6989586621687566887"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-660"></span><span>
</span><span id="line-661"></span><span class="annot"><a href="Hasura.Server.API.Metadata.html#runSingleExec"><span class="hs-identifier hs-type">runSingleExec</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-662"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621687564394"><span class="annot"><a href="#local-6989586621687564394"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span id="local-6989586621687564395"><span class="annot"><a href="#local-6989586621687564395"><span class="hs-identifier hs-type">request</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-663"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadError</span></span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-base-1.0.0/opt/doc/html/hasura-base/src/Hasura.Base.Error.html#QErr"><span class="hs-identifier hs-type">QErr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687564394"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-664"></span><span>    </span><span class="annot"><a href="Hasura.RQL.Types.SchemaCache.Build.html#CacheRWM"><span class="hs-identifier hs-type">CacheRWM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687564394"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-665"></span><span>    </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#MetadataM"><span class="hs-identifier hs-type">MetadataM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621687564394"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-666"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-667"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621687564395"><span class="hs-identifier hs-type">request</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#Metadata"><span class="hs-identifier hs-type">Metadata</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621687564394"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.Types.Metadata.Object.html#MetadataObjId"><span class="hs-identifier hs-type">MetadataObjId</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Metadata.html#MetadataModifier"><span class="hs-identifier hs-type">MetadataModifier</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-668"></span><span>  </span><span class="annot"><a href="#local-6989586621687564395"><span class="hs-identifier hs-type">request</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-669"></span><span>  </span><span class="annot"><a href="#local-6989586621687564394"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-9.4.5/hasura-json-encoding-1.0.0/opt/doc/html/hasura-json-encoding/src/Hasura.EncJSON.html#EncJSON"><span class="hs-identifier hs-type">EncJSON</span></a></span><span>
</span><span id="line-670"></span><span id="runSingleExec"><span class="annot"><span class="annottext">runSingleExec :: forall (m :: * -&gt; *) request.
(MonadError QErr m, CacheRWM m, MetadataM m) =&gt;
(request -&gt; Metadata -&gt; m (MetadataObjId, MetadataModifier))
-&gt; request -&gt; m EncJSON
</span><a href="Hasura.Server.API.Metadata.html#runSingleExec"><span class="hs-identifier hs-var hs-var">runSingleExec</span></a></span></span><span> </span><span id="local-6989586621687566903"><span class="annot"><span class="annottext">request -&gt; Metadata -&gt; m (MetadataObjId, MetadataModifier)
</span><a href="#local-6989586621687566903"><span class="hs-identifier hs-var">exec</span></a></span></span><span> </span><span id="local-6989586621687566904"><span class="annot"><span class="annottext">request
</span><a href="#local-6989586621687566904"><span class="hs-identifier hs-var">request</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-671"></span><span>  </span><span id="local-6989586621687566905"><span class="annot"><span class="annottext">Metadata
</span><a href="#local-6989586621687566905"><span class="hs-identifier hs-var">metadata</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m Metadata
forall (m :: * -&gt; *). MetadataM m =&gt; m Metadata
</span><a href="Hasura.RQL.Types.Metadata.html#getMetadata"><span class="hs-identifier hs-var">getMetadata</span></a></span><span>
</span><span id="line-672"></span><span>  </span><span class="hs-special">(</span><span id="local-6989586621687566907"><span class="annot"><span class="annottext">MetadataObjId
</span><a href="#local-6989586621687566907"><span class="hs-identifier hs-var">obj</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621687566908"><span class="annot"><span class="annottext">MetadataModifier
</span><a href="#local-6989586621687566908"><span class="hs-identifier hs-var">modifier</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">request -&gt; Metadata -&gt; m (MetadataObjId, MetadataModifier)
</span><a href="#local-6989586621687566903"><span class="hs-identifier hs-var">exec</span></a></span><span> </span><span class="annot"><span class="annottext">request
</span><a href="#local-6989586621687566904"><span class="hs-identifier hs-var">request</span></a></span><span> </span><span class="annot"><span class="annottext">Metadata
</span><a href="#local-6989586621687566905"><span class="hs-identifier hs-var">metadata</span></a></span><span>
</span><span id="line-673"></span><span>  </span><span class="annot"><span class="annottext">MetadataObjId -&gt; MetadataModifier -&gt; m ()
forall (m :: * -&gt; *).
(QErrM m, CacheRWM m, MetadataM m) =&gt;
MetadataObjId -&gt; MetadataModifier -&gt; m ()
</span><a href="Hasura.RQL.Types.SchemaCache.Build.html#buildSchemaCacheFor"><span class="hs-identifier hs-var">buildSchemaCacheFor</span></a></span><span> </span><span class="annot"><span class="annottext">MetadataObjId
</span><a href="#local-6989586621687566907"><span class="hs-identifier hs-var">obj</span></a></span><span> </span><span class="annot"><span class="annottext">MetadataModifier
</span><a href="#local-6989586621687566908"><span class="hs-identifier hs-var">modifier</span></a></span><span>
</span><span id="line-674"></span><span>  </span><span class="annot"><span class="annottext">EncJSON -&gt; m EncJSON
forall a. a -&gt; m a
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="annot"><span class="annottext">EncJSON
</span><a href="Hasura.RQL.Types.Common.html#successMsg"><span class="hs-identifier hs-var">successMsg</span></a></span><span>
</span><span id="line-675"></span></pre></body></html>