<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Hasura.GraphQL.Execute.Backend</span><span>
</span><span id="line-2"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Execute.Backend.html#BackendExecute"><span class="hs-identifier">BackendExecute</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-3"></span><span>    </span><span class="annot"><a href="Hasura.GraphQL.Execute.Backend.html#DBStepInfo"><span class="hs-identifier">DBStepInfo</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-4"></span><span>    </span><span class="annot"><a href="Hasura.GraphQL.Execute.Backend.html#ExecutionPlan"><span class="hs-identifier">ExecutionPlan</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-5"></span><span>    </span><span class="annot"><a href="Hasura.GraphQL.Execute.Backend.html#ExecutionStep"><span class="hs-identifier">ExecutionStep</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-6"></span><span>    </span><span class="annot"><a href="Hasura.GraphQL.Execute.Backend.html#ExplainPlan"><span class="hs-identifier">ExplainPlan</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-7"></span><span>    </span><span class="annot"><a href="Hasura.GraphQL.Execute.Backend.html#MonadQueryTags"><span class="hs-identifier">MonadQueryTags</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-8"></span><span>    </span><span class="annot"><a href="Hasura.GraphQL.Execute.Backend.html#convertRemoteSourceRelationship"><span class="hs-identifier">convertRemoteSourceRelationship</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-9"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-10"></span><span class="hs-keyword">where</span><span>
</span><span id="line-11"></span><span>
</span><span id="line-12"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Trans.Control</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">MonadBaseControl</span></span><span class="hs-special">)</span><span>
</span><span id="line-13"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Aeson</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">J</span></span><span>
</span><span id="line-14"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Aeson.Casing</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">J</span></span><span>
</span><span id="line-15"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-8.10.7/aeson-ordered-0.1.0.0/opt/doc/html/aeson-ordered/src"><span class="hs-identifier">Data.Aeson.Ordered</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">JO</span></span><span>
</span><span id="line-16"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.Environment.html"><span class="hs-identifier">Data.Environment</span></a></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Env</span></span><span>
</span><span id="line-17"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Kind</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Type</span></span><span class="hs-special">)</span><span>
</span><span id="line-18"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Tagged</span></span><span>
</span><span id="line-19"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.Text.Extended.html"><span class="hs-identifier">Data.Text.Extended</span></a></span><span>
</span><span id="line-20"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.Text.NonEmpty.html"><span class="hs-identifier">Data.Text.NonEmpty</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Text.NonEmpty.html#mkNonEmptyTextUnsafe"><span class="hs-identifier">mkNonEmptyTextUnsafe</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-21"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Database.PG.Query</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Q</span></span><span>
</span><span id="line-22"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.Base.Error.html"><span class="hs-identifier">Hasura.Base.Error</span></a></span><span>
</span><span id="line-23"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.EncJSON.html"><span class="hs-identifier">Hasura.EncJSON</span></a></span><span>
</span><span id="line-24"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Execute.Action.Types.html"><span class="hs-identifier">Hasura.GraphQL.Execute.Action.Types</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.Execute.Action.Types.html#ActionExecutionPlan"><span class="hs-identifier">ActionExecutionPlan</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-25"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Execute.RemoteJoin.Types.html"><span class="hs-identifier">Hasura.GraphQL.Execute.RemoteJoin.Types</span></a></span><span>
</span><span id="line-26"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Execute.Subscription.Plan.html"><span class="hs-identifier">Hasura.GraphQL.Execute.Subscription.Plan</span></a></span><span>
</span><span id="line-27"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Namespace.html"><span class="hs-identifier">Hasura.GraphQL.Namespace</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.Namespace.html#RootFieldAlias"><span class="hs-identifier">RootFieldAlias</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Namespace.html#RootFieldMap"><span class="hs-identifier">RootFieldMap</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-28"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Schema.Options.html"><span class="hs-identifier">Hasura.GraphQL.Schema.Options</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Options</span></span><span>
</span><span id="line-29"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Transport.HTTP.Protocol.html"><span class="hs-identifier">Hasura.GraphQL.Transport.HTTP.Protocol</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">GH</span></span><span>
</span><span id="line-30"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.Metadata.Class.html"><span class="hs-identifier">Hasura.Metadata.Class</span></a></span><span>
</span><span id="line-31"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-8.10.7/hasura-prelude-0.1.0.0/opt/doc/html/hasura-prelude/src"><span class="hs-identifier">Hasura.Prelude</span></a></span><span>
</span><span id="line-32"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.QueryTags.html"><span class="hs-identifier">Hasura.QueryTags</span></a></span><span>
</span><span id="line-33"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.DDL.Schema.Cache.html"><span class="hs-identifier">Hasura.RQL.DDL.Schema.Cache</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.DDL.Schema.Cache.html#CacheRWT"><span class="hs-identifier">CacheRWT</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-34"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.IR.html"><span class="hs-identifier">Hasura.RQL.IR</span></a></span><span>
</span><span id="line-35"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Action.html"><span class="hs-identifier">Hasura.RQL.Types.Action</span></a></span><span>
</span><span id="line-36"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Backend.html"><span class="hs-identifier">Hasura.RQL.Types.Backend</span></a></span><span>
</span><span id="line-37"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Column.html"><span class="hs-identifier">Hasura.RQL.Types.Column</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.Types.Column.html#ColumnType"><span class="hs-identifier">ColumnType</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Column.html#fromCol"><span class="hs-identifier">fromCol</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-38"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Common.html"><span class="hs-identifier">Hasura.RQL.Types.Common</span></a></span><span>
</span><span id="line-39"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.QueryTags.html"><span class="hs-identifier">Hasura.RQL.Types.QueryTags</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.Types.QueryTags.html#QueryTagsConfig"><span class="hs-identifier">QueryTagsConfig</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-40"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.RemoteSchema.html"><span class="hs-identifier">Hasura.RQL.Types.RemoteSchema</span></a></span><span>
</span><span id="line-41"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.ResultCustomization.html"><span class="hs-identifier">Hasura.RQL.Types.ResultCustomization</span></a></span><span>
</span><span id="line-42"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Run.html"><span class="hs-identifier">Hasura.RQL.Types.Run</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.Types.Run.html#RunT"><span class="hs-identifier">RunT</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-43"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.SchemaCache.Build.html"><span class="hs-identifier">Hasura.RQL.Types.SchemaCache.Build</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.Types.SchemaCache.Build.html#MetadataT"><span class="hs-identifier">MetadataT</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-44"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.SQL.AnyBackend.html"><span class="hs-identifier">Hasura.SQL.AnyBackend</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">AB</span></span><span>
</span><span id="line-45"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.SQL.Backend.html"><span class="hs-identifier">Hasura.SQL.Backend</span></a></span><span>
</span><span id="line-46"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.Session.html"><span class="hs-identifier">Hasura.Session</span></a></span><span>
</span><span id="line-47"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.Tracing.html"><span class="hs-identifier">Hasura.Tracing</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.Tracing.html#TraceT"><span class="hs-identifier">TraceT</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-48"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Language.GraphQL.Draft.Syntax</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">G</span></span><span>
</span><span id="line-49"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Network.HTTP.Types</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">HTTP</span></span><span>
</span><span id="line-50"></span><span>
</span><span id="line-51"></span><span class="hs-comment">-- | This typeclass enacapsulates how a given backend translates a root field into an execution</span><span>
</span><span id="line-52"></span><span class="hs-comment">-- plan. For now, each root field maps to one execution step, but in the future, when we have</span><span>
</span><span id="line-53"></span><span class="hs-comment">-- a client-side dataloader, each root field might translate into a multi-step plan.</span><span>
</span><span id="line-54"></span><span class="hs-keyword">class</span><span>
</span><span id="line-55"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Backend.html#Backend"><span class="hs-identifier hs-type">Backend</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810222"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-56"></span><span>    </span><span class="annot"><a href="Data.Text.Extended.html#ToTxt"><span class="hs-identifier hs-type">ToTxt</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.Execute.Backend.html#MultiplexedQuery"><span class="hs-identifier hs-type">MultiplexedQuery</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810222"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-57"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.Execute.Backend.html#ExecutionMonad"><span class="hs-identifier hs-type">ExecutionMonad</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810222"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-58"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-59"></span><span>  </span><span id="BackendExecute"><span class="annot"><a href="Hasura.GraphQL.Execute.Backend.html#BackendExecute"><span class="hs-identifier hs-var">BackendExecute</span></a></span></span><span> </span><span class="hs-special">(</span><span id="local-6989586621689810222"><span class="annot"><a href="#local-6989586621689810222"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.SQL.Backend.html#BackendType"><span class="hs-identifier hs-type">BackendType</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-60"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-61"></span><span>  </span><span class="hs-comment">-- generated query information</span><span>
</span><span id="line-62"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="PreparedQuery"><span class="annot"><a href="Hasura.GraphQL.Execute.Backend.html#PreparedQuery"><span class="hs-identifier hs-var">PreparedQuery</span></a></span></span><span> </span><span id="local-6989586621689810222"><span class="annot"><a href="#local-6989586621689810222"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span>
</span><span id="line-63"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="MultiplexedQuery"><span class="annot"><a href="Hasura.GraphQL.Execute.Backend.html#MultiplexedQuery"><span class="hs-identifier hs-var">MultiplexedQuery</span></a></span></span><span> </span><span id="local-6989586621689810222"><span class="annot"><a href="#local-6989586621689810222"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span>
</span><span id="line-64"></span><span>  </span><span class="hs-keyword">type</span><span> </span><span id="ExecutionMonad"><span class="annot"><a href="Hasura.GraphQL.Execute.Backend.html#ExecutionMonad"><span class="hs-identifier hs-var">ExecutionMonad</span></a></span></span><span> </span><span id="local-6989586621689810222"><span class="annot"><a href="#local-6989586621689810222"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Type</span></span><span>
</span><span id="line-65"></span><span>
</span><span id="line-66"></span><span>  </span><span class="hs-comment">-- execution plan generation</span><span>
</span><span id="line-67"></span><span>  </span><span id="mkDBQueryPlan"><span class="annot"><a href="Hasura.GraphQL.Execute.Backend.html#mkDBQueryPlan"><span class="hs-identifier hs-type">mkDBQueryPlan</span></a></span></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-68"></span><span>    </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621689810218"><span class="annot"><a href="#local-6989586621689810218"><span class="hs-identifier hs-type">m</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-69"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadError</span></span><span> </span><span class="annot"><a href="Hasura.Base.Error.html#QErr"><span class="hs-identifier hs-type">QErr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810218"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-70"></span><span>      </span><span class="annot"><a href="Hasura.GraphQL.Execute.Backend.html#MonadQueryTags"><span class="hs-identifier hs-type">MonadQueryTags</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810218"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-71"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">MonadReader</span></span><span> </span><span class="annot"><a href="Hasura.QueryTags.html#QueryTagsComment"><span class="hs-identifier hs-type">QueryTagsComment</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810218"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-72"></span><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-73"></span><span>    </span><span class="annot"><a href="Hasura.Session.html#UserInfo"><span class="hs-identifier hs-type">UserInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-74"></span><span>    </span><span class="annot"><a href="Data.Environment.html#Environment"><span class="hs-identifier hs-type">Env.Environment</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-75"></span><span>    </span><span class="annot"><a href="Hasura.RQL.Types.Common.html#SourceName"><span class="hs-identifier hs-type">SourceName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-76"></span><span>    </span><span class="annot"><a href="Hasura.RQL.Types.Backend.html#SourceConfig"><span class="hs-identifier hs-type">SourceConfig</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810222"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-77"></span><span>    </span><span class="annot"><a href="Hasura.RQL.IR.Select.html#QueryDB"><span class="hs-identifier hs-type">QueryDB</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810222"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Void</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.IR.Value.html#UnpreparedValue"><span class="hs-identifier hs-type">UnpreparedValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810222"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-78"></span><span>    </span><span class="annot"><a href="#local-6989586621689810218"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.Execute.Backend.html#DBStepInfo"><span class="hs-identifier hs-type">DBStepInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810222"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-79"></span><span>  </span><span id="mkDBMutationPlan"><span class="annot"><a href="Hasura.GraphQL.Execute.Backend.html#mkDBMutationPlan"><span class="hs-identifier hs-type">mkDBMutationPlan</span></a></span></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-80"></span><span>    </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621689810212"><span class="annot"><a href="#local-6989586621689810212"><span class="hs-identifier hs-type">m</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-81"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadError</span></span><span> </span><span class="annot"><a href="Hasura.Base.Error.html#QErr"><span class="hs-identifier hs-type">QErr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810212"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-82"></span><span>      </span><span class="annot"><a href="Hasura.GraphQL.Execute.Backend.html#MonadQueryTags"><span class="hs-identifier hs-type">MonadQueryTags</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810212"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-83"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">MonadReader</span></span><span> </span><span class="annot"><a href="Hasura.QueryTags.html#QueryTagsComment"><span class="hs-identifier hs-type">QueryTagsComment</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810212"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-84"></span><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-85"></span><span>    </span><span class="annot"><a href="Hasura.Session.html#UserInfo"><span class="hs-identifier hs-type">UserInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-86"></span><span>    </span><span class="annot"><a href="Hasura.GraphQL.Schema.Options.html#StringifyNumbers"><span class="hs-identifier hs-type">Options.StringifyNumbers</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-87"></span><span>    </span><span class="annot"><a href="Hasura.RQL.Types.Common.html#SourceName"><span class="hs-identifier hs-type">SourceName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-88"></span><span>    </span><span class="annot"><a href="Hasura.RQL.Types.Backend.html#SourceConfig"><span class="hs-identifier hs-type">SourceConfig</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810222"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-89"></span><span>    </span><span class="annot"><a href="Hasura.RQL.IR.Root.html#MutationDB"><span class="hs-identifier hs-type">MutationDB</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810222"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Void</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.IR.Value.html#UnpreparedValue"><span class="hs-identifier hs-type">UnpreparedValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810222"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-90"></span><span>    </span><span class="annot"><a href="#local-6989586621689810212"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.Execute.Backend.html#DBStepInfo"><span class="hs-identifier hs-type">DBStepInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810222"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-91"></span><span>  </span><span id="mkLiveQuerySubscriptionPlan"><span class="annot"><a href="Hasura.GraphQL.Execute.Backend.html#mkLiveQuerySubscriptionPlan"><span class="hs-identifier hs-type">mkLiveQuerySubscriptionPlan</span></a></span></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-92"></span><span>    </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621689810209"><span class="annot"><a href="#local-6989586621689810209"><span class="hs-identifier hs-type">m</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-93"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadError</span></span><span> </span><span class="annot"><a href="Hasura.Base.Error.html#QErr"><span class="hs-identifier hs-type">QErr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810209"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-94"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621689810209"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-95"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">MonadBaseControl</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621689810209"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-96"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">MonadReader</span></span><span> </span><span class="annot"><a href="Hasura.QueryTags.html#QueryTagsComment"><span class="hs-identifier hs-type">QueryTagsComment</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810209"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-97"></span><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-98"></span><span>    </span><span class="annot"><a href="Hasura.Session.html#UserInfo"><span class="hs-identifier hs-type">UserInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-99"></span><span>    </span><span class="annot"><a href="Hasura.RQL.Types.Common.html#SourceName"><span class="hs-identifier hs-type">SourceName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-100"></span><span>    </span><span class="annot"><a href="Hasura.RQL.Types.Backend.html#SourceConfig"><span class="hs-identifier hs-type">SourceConfig</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810222"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-101"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-102"></span><span>    </span><span class="annot"><a href="Hasura.GraphQL.Namespace.html#RootFieldMap"><span class="hs-identifier hs-type">RootFieldMap</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.IR.Select.html#QueryDB"><span class="hs-identifier hs-type">QueryDB</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810222"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Void</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.IR.Value.html#UnpreparedValue"><span class="hs-identifier hs-type">UnpreparedValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810222"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-103"></span><span>    </span><span class="annot"><a href="#local-6989586621689810209"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.Execute.Subscription.Plan.html#SubscriptionQueryPlan"><span class="hs-identifier hs-type">SubscriptionQueryPlan</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810222"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.Execute.Backend.html#MultiplexedQuery"><span class="hs-identifier hs-type">MultiplexedQuery</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810222"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-104"></span><span>  </span><span id="mkDBStreamingSubscriptionPlan"><span class="annot"><a href="Hasura.GraphQL.Execute.Backend.html#mkDBStreamingSubscriptionPlan"><span class="hs-identifier hs-type">mkDBStreamingSubscriptionPlan</span></a></span></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-105"></span><span>    </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621689810204"><span class="annot"><a href="#local-6989586621689810204"><span class="hs-identifier hs-type">m</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-106"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadError</span></span><span> </span><span class="annot"><a href="Hasura.Base.Error.html#QErr"><span class="hs-identifier hs-type">QErr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810204"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-107"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621689810204"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-108"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">MonadBaseControl</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621689810204"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-109"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">MonadReader</span></span><span> </span><span class="annot"><a href="Hasura.QueryTags.html#QueryTagsComment"><span class="hs-identifier hs-type">QueryTagsComment</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810204"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-110"></span><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-111"></span><span>    </span><span class="annot"><a href="Hasura.Session.html#UserInfo"><span class="hs-identifier hs-type">UserInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-112"></span><span>    </span><span class="annot"><a href="Hasura.RQL.Types.Common.html#SourceName"><span class="hs-identifier hs-type">SourceName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-113"></span><span>    </span><span class="annot"><a href="Hasura.RQL.Types.Backend.html#SourceConfig"><span class="hs-identifier hs-type">SourceConfig</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810222"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-114"></span><span>    </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.Namespace.html#RootFieldAlias"><span class="hs-identifier hs-type">RootFieldAlias</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.IR.Select.html#QueryDB"><span class="hs-identifier hs-type">QueryDB</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810222"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Void</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.IR.Value.html#UnpreparedValue"><span class="hs-identifier hs-type">UnpreparedValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810222"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-115"></span><span>    </span><span class="annot"><a href="#local-6989586621689810204"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.Execute.Subscription.Plan.html#SubscriptionQueryPlan"><span class="hs-identifier hs-type">SubscriptionQueryPlan</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810222"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.Execute.Backend.html#MultiplexedQuery"><span class="hs-identifier hs-type">MultiplexedQuery</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810222"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-116"></span><span>  </span><span id="mkDBQueryExplain"><span class="annot"><a href="Hasura.GraphQL.Execute.Backend.html#mkDBQueryExplain"><span class="hs-identifier hs-type">mkDBQueryExplain</span></a></span></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-117"></span><span>    </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621689810202"><span class="annot"><a href="#local-6989586621689810202"><span class="hs-identifier hs-type">m</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-118"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadError</span></span><span> </span><span class="annot"><a href="Hasura.Base.Error.html#QErr"><span class="hs-identifier hs-type">QErr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810202"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-119"></span><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-120"></span><span>    </span><span class="annot"><a href="Hasura.GraphQL.Namespace.html#RootFieldAlias"><span class="hs-identifier hs-type">RootFieldAlias</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-121"></span><span>    </span><span class="annot"><a href="Hasura.Session.html#UserInfo"><span class="hs-identifier hs-type">UserInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-122"></span><span>    </span><span class="annot"><a href="Hasura.RQL.Types.Common.html#SourceName"><span class="hs-identifier hs-type">SourceName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-123"></span><span>    </span><span class="annot"><a href="Hasura.RQL.Types.Backend.html#SourceConfig"><span class="hs-identifier hs-type">SourceConfig</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810222"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-124"></span><span>    </span><span class="annot"><a href="Hasura.RQL.IR.Select.html#QueryDB"><span class="hs-identifier hs-type">QueryDB</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810222"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Void</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.IR.Value.html#UnpreparedValue"><span class="hs-identifier hs-type">UnpreparedValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810222"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-125"></span><span>    </span><span class="annot"><a href="#local-6989586621689810202"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.SQL.AnyBackend.html#AnyBackend"><span class="hs-identifier hs-type">AB.AnyBackend</span></a></span><span> </span><span class="annot"><a href="Hasura.GraphQL.Execute.Backend.html#DBStepInfo"><span class="hs-identifier hs-type">DBStepInfo</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-126"></span><span>  </span><span id="local-6989586621689810200"><span id="mkSubscriptionExplain"><span class="annot"><a href="Hasura.GraphQL.Execute.Backend.html#mkSubscriptionExplain"><span class="hs-identifier hs-type">mkSubscriptionExplain</span></a></span></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-127"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadError</span></span><span> </span><span class="annot"><a href="Hasura.Base.Error.html#QErr"><span class="hs-identifier hs-type">QErr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810200"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-128"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621689810200"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-129"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">MonadBaseControl</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">IO</span></span><span> </span><span class="annot"><a href="#local-6989586621689810200"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-130"></span><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-131"></span><span>    </span><span class="annot"><a href="Hasura.GraphQL.Execute.Subscription.Plan.html#SubscriptionQueryPlan"><span class="hs-identifier hs-type">SubscriptionQueryPlan</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810222"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.Execute.Backend.html#MultiplexedQuery"><span class="hs-identifier hs-type">MultiplexedQuery</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810222"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-132"></span><span>    </span><span class="annot"><a href="#local-6989586621689810200"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="Hasura.GraphQL.Execute.Subscription.Plan.html#SubscriptionQueryPlanExplanation"><span class="hs-identifier hs-type">SubscriptionQueryPlanExplanation</span></a></span></span><span>
</span><span id="line-133"></span><span>
</span><span id="line-134"></span><span>  </span><span id="mkDBRemoteRelationshipPlan"><span class="annot"><a href="Hasura.GraphQL.Execute.Backend.html#mkDBRemoteRelationshipPlan"><span class="hs-identifier hs-type">mkDBRemoteRelationshipPlan</span></a></span></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-135"></span><span>    </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621689810196"><span class="annot"><a href="#local-6989586621689810196"><span class="hs-identifier hs-type">m</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-136"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadError</span></span><span> </span><span class="annot"><a href="Hasura.Base.Error.html#QErr"><span class="hs-identifier hs-type">QErr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810196"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-137"></span><span>      </span><span class="annot"><a href="Hasura.GraphQL.Execute.Backend.html#MonadQueryTags"><span class="hs-identifier hs-type">MonadQueryTags</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810196"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-138"></span><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-139"></span><span>    </span><span class="annot"><a href="Hasura.Session.html#UserInfo"><span class="hs-identifier hs-type">UserInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-140"></span><span>    </span><span class="annot"><a href="Hasura.RQL.Types.Common.html#SourceName"><span class="hs-identifier hs-type">SourceName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-141"></span><span>    </span><span class="annot"><a href="Hasura.RQL.Types.Backend.html#SourceConfig"><span class="hs-identifier hs-type">SourceConfig</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810222"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-142"></span><span>    </span><span class="hs-comment">-- | List of json objects, each of which becomes a row of the table.</span><span>
</span><span id="line-143"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">NonEmpty</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">J.Object</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-144"></span><span>    </span><span class="hs-comment">-- | The above objects have this schema.</span><span>
</span><span id="line-145"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">HashMap</span></span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Common.html#FieldName"><span class="hs-identifier hs-type">FieldName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.Types.Backend.html#Column"><span class="hs-identifier hs-type">Column</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810222"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Backend.html#ScalarType"><span class="hs-identifier hs-type">ScalarType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810222"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-146"></span><span>    </span><span class="hs-comment">-- | This is a field name from the lhs that *has* to be selected in the</span><span>
</span><span id="line-147"></span><span>    </span><span class="hs-comment">-- response along with the relationship. It is populated in</span><span>
</span><span id="line-148"></span><span>    </span><span class="hs-comment">-- `Hasura.GraphQL.Execute.RemoteJoin.Join.processRemoteJoins_` and</span><span>
</span><span id="line-149"></span><span>    </span><span class="hs-comment">-- the function `convertRemoteSourceRelationship` below assumes it</span><span>
</span><span id="line-150"></span><span>    </span><span class="hs-comment">-- to be returned as either a number or a string with a number in it</span><span>
</span><span id="line-151"></span><span>    </span><span class="annot"><a href="Hasura.RQL.Types.Common.html#FieldName"><span class="hs-identifier hs-type">FieldName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-152"></span><span>    </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.Types.Common.html#FieldName"><span class="hs-identifier hs-type">FieldName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hasura.RQL.IR.Select.html#SourceRelationshipSelection"><span class="hs-identifier hs-type">SourceRelationshipSelection</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810222"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Void</span></span><span> </span><span class="annot"><a href="Hasura.RQL.IR.Value.html#UnpreparedValue"><span class="hs-identifier hs-type">UnpreparedValue</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-153"></span><span>    </span><span class="annot"><a href="#local-6989586621689810196"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.Execute.Backend.html#DBStepInfo"><span class="hs-identifier hs-type">DBStepInfo</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810222"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-154"></span><span>
</span><span id="line-155"></span><span class="hs-comment">-- | This is a helper function to convert a remote source's relationship to a</span><span>
</span><span id="line-156"></span><span class="hs-comment">-- normal relationship to a temporary table. This function can be used to</span><span>
</span><span id="line-157"></span><span class="hs-comment">-- implement executeRemoteRelationship function in databases which support</span><span>
</span><span id="line-158"></span><span class="hs-comment">-- constructing a temporary table for a list of json objects.</span><span>
</span><span id="line-159"></span><span class="annot"><a href="Hasura.GraphQL.Execute.Backend.html#convertRemoteSourceRelationship"><span class="hs-identifier hs-type">convertRemoteSourceRelationship</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-160"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621689810192"><span class="annot"><a href="#local-6989586621689810192"><span class="hs-identifier hs-type">b</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-161"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.Types.Backend.html#Backend"><span class="hs-identifier hs-type">Backend</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810192"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-162"></span><span>  </span><span class="hs-comment">-- | Join columns for the relationship</span><span>
</span><span id="line-163"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">HashMap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.Types.Backend.html#Column"><span class="hs-identifier hs-type">Column</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810192"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.Types.Backend.html#Column"><span class="hs-identifier hs-type">Column</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810192"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-164"></span><span>  </span><span class="hs-comment">-- | The LHS of the join, this is the expression which selects from json</span><span>
</span><span id="line-165"></span><span>  </span><span class="hs-comment">-- objects</span><span>
</span><span id="line-166"></span><span>  </span><span class="annot"><a href="Hasura.RQL.IR.Select.html#SelectFromG"><span class="hs-identifier hs-type">SelectFromG</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810192"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.IR.Value.html#UnpreparedValue"><span class="hs-identifier hs-type">UnpreparedValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810192"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-167"></span><span>  </span><span class="hs-comment">-- | This is the __argument__ id column, that needs to be added to the response</span><span>
</span><span id="line-168"></span><span>  </span><span class="hs-comment">-- This is used by by the remote joins processing logic to convert the</span><span>
</span><span id="line-169"></span><span>  </span><span class="hs-comment">-- response from upstream to join indices</span><span>
</span><span id="line-170"></span><span>  </span><span class="annot"><a href="Hasura.RQL.Types.Backend.html#Column"><span class="hs-identifier hs-type">Column</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810192"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-171"></span><span>  </span><span class="hs-comment">-- | This is the type of the __argument__ id column</span><span>
</span><span id="line-172"></span><span>  </span><span class="annot"><a href="Hasura.RQL.Types.Column.html#ColumnType"><span class="hs-identifier hs-type">ColumnType</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810192"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-173"></span><span>  </span><span class="hs-comment">-- | The relationship column and its name (how it should be selected in the</span><span>
</span><span id="line-174"></span><span>  </span><span class="hs-comment">-- response)</span><span>
</span><span id="line-175"></span><span>  </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.Types.Common.html#FieldName"><span class="hs-identifier hs-type">FieldName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hasura.RQL.IR.Select.html#SourceRelationshipSelection"><span class="hs-identifier hs-type">SourceRelationshipSelection</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810192"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Void</span></span><span> </span><span class="annot"><a href="Hasura.RQL.IR.Value.html#UnpreparedValue"><span class="hs-identifier hs-type">UnpreparedValue</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-176"></span><span>  </span><span class="annot"><a href="Hasura.RQL.IR.Select.html#QueryDB"><span class="hs-identifier hs-type">QueryDB</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810192"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Void</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.IR.Value.html#UnpreparedValue"><span class="hs-identifier hs-type">UnpreparedValue</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810192"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-177"></span><span id="convertRemoteSourceRelationship"><span class="annot"><span class="annottext">convertRemoteSourceRelationship :: HashMap (Column b) (Column b)
-&gt; SelectFromG b (UnpreparedValue b)
-&gt; Column b
-&gt; ColumnType b
-&gt; (FieldName, SourceRelationshipSelection b Void UnpreparedValue)
-&gt; QueryDB b Void (UnpreparedValue b)
</span><a href="Hasura.GraphQL.Execute.Backend.html#convertRemoteSourceRelationship"><span class="hs-identifier hs-var hs-var">convertRemoteSourceRelationship</span></a></span></span><span>
</span><span id="line-178"></span><span>  </span><span id="local-6989586621689810191"><span class="annot"><span class="annottext">HashMap (Column b) (Column b)
</span><a href="#local-6989586621689810191"><span class="hs-identifier hs-var">columnMapping</span></a></span></span><span>
</span><span id="line-179"></span><span>  </span><span id="local-6989586621689810190"><span class="annot"><span class="annottext">SelectFromG b (UnpreparedValue b)
</span><a href="#local-6989586621689810190"><span class="hs-identifier hs-var">selectFrom</span></a></span></span><span>
</span><span id="line-180"></span><span>  </span><span id="local-6989586621689810189"><span class="annot"><span class="annottext">Column b
</span><a href="#local-6989586621689810189"><span class="hs-identifier hs-var">argumentIdColumn</span></a></span></span><span>
</span><span id="line-181"></span><span>  </span><span id="local-6989586621689810188"><span class="annot"><span class="annottext">ColumnType b
</span><a href="#local-6989586621689810188"><span class="hs-identifier hs-var">argumentIdColumnType</span></a></span></span><span>
</span><span id="line-182"></span><span>  </span><span class="hs-special">(</span><span id="local-6989586621689810187"><span class="annot"><span class="annottext">FieldName
</span><a href="#local-6989586621689810187"><span class="hs-identifier hs-var">relationshipName</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621689810186"><span class="annot"><span class="annottext">SourceRelationshipSelection b Void UnpreparedValue
</span><a href="#local-6989586621689810186"><span class="hs-identifier hs-var">relationship</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-183"></span><span>    </span><span class="annot"><span class="annottext">AnnSimpleSelectG b Void (UnpreparedValue b)
-&gt; QueryDB b Void (UnpreparedValue b)
forall (b :: BackendType) r v.
AnnSimpleSelectG b r v -&gt; QueryDB b r v
</span><a href="Hasura.RQL.IR.Select.html#QDBMultipleRows"><span class="hs-identifier hs-var">QDBMultipleRows</span></a></span><span> </span><span class="annot"><span class="annottext">AnnSimpleSelectG b Void (UnpreparedValue b)
</span><a href="#local-6989586621689810184"><span class="hs-identifier hs-var">simpleSelect</span></a></span><span>
</span><span id="line-184"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-185"></span><span>      </span><span class="hs-comment">-- TODO: FieldName should have also been a wrapper around NonEmptyText</span><span>
</span><span id="line-186"></span><span>      </span><span id="local-6989586621689810183"><span class="annot"><span class="annottext">relName :: RelName
</span><a href="#local-6989586621689810183"><span class="hs-identifier hs-var hs-var">relName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">NonEmptyText -&gt; RelName
</span><a href="Hasura.RQL.Types.Common.html#RelName"><span class="hs-identifier hs-var">RelName</span></a></span><span> </span><span class="annot"><span class="annottext">(NonEmptyText -&gt; RelName) -&gt; NonEmptyText -&gt; RelName
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; NonEmptyText
</span><a href="Data.Text.NonEmpty.html#mkNonEmptyTextUnsafe"><span class="hs-identifier hs-var">mkNonEmptyTextUnsafe</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; NonEmptyText) -&gt; Text -&gt; NonEmptyText
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">FieldName -&gt; Text
</span><a href="Hasura.RQL.Types.Common.html#getFieldNameTxt"><span class="hs-identifier hs-var hs-var">getFieldNameTxt</span></a></span><span> </span><span class="annot"><span class="annottext">FieldName
</span><a href="#local-6989586621689810187"><span class="hs-identifier hs-var">relationshipName</span></a></span><span>
</span><span id="line-187"></span><span>
</span><span id="line-188"></span><span>      </span><span id="local-6989586621689810180"><span class="annot"><span class="annottext">relationshipField :: AnnFieldG b Void (UnpreparedValue b)
</span><a href="#local-6989586621689810180"><span class="hs-identifier hs-var hs-var">relationshipField</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">SourceRelationshipSelection b Void UnpreparedValue
</span><a href="#local-6989586621689810186"><span class="hs-identifier hs-var">relationship</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-189"></span><span>        </span><span class="annot"><a href="Hasura.RQL.IR.Select.html#SourceRelationshipObject"><span class="hs-identifier hs-type">SourceRelationshipObject</span></a></span><span> </span><span id="local-6989586621689810178"><span class="annot"><span class="annottext">AnnObjectSelectG b Void (UnpreparedValue b)
</span><a href="#local-6989586621689810178"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-190"></span><span>          </span><span class="annot"><span class="annottext">ObjectRelationSelectG b Void (UnpreparedValue b)
-&gt; AnnFieldG b Void (UnpreparedValue b)
forall (b :: BackendType) r v.
ObjectRelationSelectG b r v -&gt; AnnFieldG b r v
</span><a href="Hasura.RQL.IR.Select.html#AFObjectRelation"><span class="hs-identifier hs-var">AFObjectRelation</span></a></span><span> </span><span class="annot"><span class="annottext">(ObjectRelationSelectG b Void (UnpreparedValue b)
 -&gt; AnnFieldG b Void (UnpreparedValue b))
-&gt; ObjectRelationSelectG b Void (UnpreparedValue b)
-&gt; AnnFieldG b Void (UnpreparedValue b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">RelName
-&gt; HashMap (Column b) (Column b)
-&gt; AnnObjectSelectG b Void (UnpreparedValue b)
-&gt; ObjectRelationSelectG b Void (UnpreparedValue b)
forall (b :: BackendType) a.
RelName
-&gt; HashMap (Column b) (Column b) -&gt; a -&gt; AnnRelationSelectG b a
</span><a href="Hasura.RQL.IR.Select.html#AnnRelationSelectG"><span class="hs-identifier hs-var">AnnRelationSelectG</span></a></span><span> </span><span class="annot"><span class="annottext">RelName
</span><a href="#local-6989586621689810183"><span class="hs-identifier hs-var">relName</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap (Column b) (Column b)
</span><a href="#local-6989586621689810191"><span class="hs-identifier hs-var">columnMapping</span></a></span><span> </span><span class="annot"><span class="annottext">AnnObjectSelectG b Void (UnpreparedValue b)
</span><a href="#local-6989586621689810178"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-191"></span><span>        </span><span class="annot"><a href="Hasura.RQL.IR.Select.html#SourceRelationshipArray"><span class="hs-identifier hs-type">SourceRelationshipArray</span></a></span><span> </span><span id="local-6989586621689810174"><span class="annot"><span class="annottext">AnnSimpleSelectG b Void (UnpreparedValue b)
</span><a href="#local-6989586621689810174"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-192"></span><span>          </span><span class="annot"><span class="annottext">ArraySelectG b Void (UnpreparedValue b)
-&gt; AnnFieldG b Void (UnpreparedValue b)
forall (b :: BackendType) r v.
ArraySelectG b r v -&gt; AnnFieldG b r v
</span><a href="Hasura.RQL.IR.Select.html#AFArrayRelation"><span class="hs-identifier hs-var">AFArrayRelation</span></a></span><span> </span><span class="annot"><span class="annottext">(ArraySelectG b Void (UnpreparedValue b)
 -&gt; AnnFieldG b Void (UnpreparedValue b))
-&gt; ArraySelectG b Void (UnpreparedValue b)
-&gt; AnnFieldG b Void (UnpreparedValue b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ArrayRelationSelectG b Void (UnpreparedValue b)
-&gt; ArraySelectG b Void (UnpreparedValue b)
forall (b :: BackendType) r v.
ArrayRelationSelectG b r v -&gt; ArraySelectG b r v
</span><a href="Hasura.RQL.IR.Select.html#ASSimple"><span class="hs-identifier hs-var">ASSimple</span></a></span><span> </span><span class="annot"><span class="annottext">(ArrayRelationSelectG b Void (UnpreparedValue b)
 -&gt; ArraySelectG b Void (UnpreparedValue b))
-&gt; ArrayRelationSelectG b Void (UnpreparedValue b)
-&gt; ArraySelectG b Void (UnpreparedValue b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">RelName
-&gt; HashMap (Column b) (Column b)
-&gt; AnnSimpleSelectG b Void (UnpreparedValue b)
-&gt; ArrayRelationSelectG b Void (UnpreparedValue b)
forall (b :: BackendType) a.
RelName
-&gt; HashMap (Column b) (Column b) -&gt; a -&gt; AnnRelationSelectG b a
</span><a href="Hasura.RQL.IR.Select.html#AnnRelationSelectG"><span class="hs-identifier hs-var">AnnRelationSelectG</span></a></span><span> </span><span class="annot"><span class="annottext">RelName
</span><a href="#local-6989586621689810183"><span class="hs-identifier hs-var">relName</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap (Column b) (Column b)
</span><a href="#local-6989586621689810191"><span class="hs-identifier hs-var">columnMapping</span></a></span><span> </span><span class="annot"><span class="annottext">AnnSimpleSelectG b Void (UnpreparedValue b)
</span><a href="#local-6989586621689810174"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-193"></span><span>        </span><span class="annot"><a href="Hasura.RQL.IR.Select.html#SourceRelationshipArrayAggregate"><span class="hs-identifier hs-type">SourceRelationshipArrayAggregate</span></a></span><span> </span><span id="local-6989586621689810170"><span class="annot"><span class="annottext">AnnAggregateSelectG b Void (UnpreparedValue b)
</span><a href="#local-6989586621689810170"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-194"></span><span>          </span><span class="annot"><span class="annottext">ArraySelectG b Void (UnpreparedValue b)
-&gt; AnnFieldG b Void (UnpreparedValue b)
forall (b :: BackendType) r v.
ArraySelectG b r v -&gt; AnnFieldG b r v
</span><a href="Hasura.RQL.IR.Select.html#AFArrayRelation"><span class="hs-identifier hs-var">AFArrayRelation</span></a></span><span> </span><span class="annot"><span class="annottext">(ArraySelectG b Void (UnpreparedValue b)
 -&gt; AnnFieldG b Void (UnpreparedValue b))
-&gt; ArraySelectG b Void (UnpreparedValue b)
-&gt; AnnFieldG b Void (UnpreparedValue b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ArrayAggregateSelectG b Void (UnpreparedValue b)
-&gt; ArraySelectG b Void (UnpreparedValue b)
forall (b :: BackendType) r v.
ArrayAggregateSelectG b r v -&gt; ArraySelectG b r v
</span><a href="Hasura.RQL.IR.Select.html#ASAggregate"><span class="hs-identifier hs-var">ASAggregate</span></a></span><span> </span><span class="annot"><span class="annottext">(ArrayAggregateSelectG b Void (UnpreparedValue b)
 -&gt; ArraySelectG b Void (UnpreparedValue b))
-&gt; ArrayAggregateSelectG b Void (UnpreparedValue b)
-&gt; ArraySelectG b Void (UnpreparedValue b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">RelName
-&gt; HashMap (Column b) (Column b)
-&gt; AnnAggregateSelectG b Void (UnpreparedValue b)
-&gt; ArrayAggregateSelectG b Void (UnpreparedValue b)
forall (b :: BackendType) a.
RelName
-&gt; HashMap (Column b) (Column b) -&gt; a -&gt; AnnRelationSelectG b a
</span><a href="Hasura.RQL.IR.Select.html#AnnRelationSelectG"><span class="hs-identifier hs-var">AnnRelationSelectG</span></a></span><span> </span><span class="annot"><span class="annottext">RelName
</span><a href="#local-6989586621689810183"><span class="hs-identifier hs-var">relName</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap (Column b) (Column b)
</span><a href="#local-6989586621689810191"><span class="hs-identifier hs-var">columnMapping</span></a></span><span> </span><span class="annot"><span class="annottext">AnnAggregateSelectG b Void (UnpreparedValue b)
</span><a href="#local-6989586621689810170"><span class="hs-identifier hs-var">s</span></a></span><span>
</span><span id="line-195"></span><span>
</span><span id="line-196"></span><span>      </span><span id="local-6989586621689810168"><span class="annot"><span class="annottext">argumentIdField :: (FieldName, AnnFieldG b Void (UnpreparedValue b))
</span><a href="#local-6989586621689810168"><span class="hs-identifier hs-var hs-var">argumentIdField</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-197"></span><span>        </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">Column b -&gt; FieldName
forall (b :: BackendType). Backend b =&gt; Column b -&gt; FieldName
</span><a href="Hasura.RQL.Types.Column.html#fromCol"><span class="hs-identifier hs-var">fromCol</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621689810192"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><span class="annottext">Column b
</span><a href="#local-6989586621689810189"><span class="hs-identifier hs-var">argumentIdColumn</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-198"></span><span>          </span><span class="annot"><span class="annottext">AnnColumnField b (UnpreparedValue b)
-&gt; AnnFieldG b Void (UnpreparedValue b)
forall (b :: BackendType) r v.
AnnColumnField b v -&gt; AnnFieldG b r v
</span><a href="Hasura.RQL.IR.Select.html#AFColumn"><span class="hs-identifier hs-var">AFColumn</span></a></span><span> </span><span class="annot"><span class="annottext">(AnnColumnField b (UnpreparedValue b)
 -&gt; AnnFieldG b Void (UnpreparedValue b))
-&gt; AnnColumnField b (UnpreparedValue b)
-&gt; AnnFieldG b Void (UnpreparedValue b)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-199"></span><span>            </span><span class="annot"><span class="annottext">AnnColumnField :: forall (b :: BackendType) v.
Column b
-&gt; ColumnType b
-&gt; Bool
-&gt; Maybe (ScalarSelectionArguments b)
-&gt; Maybe (AnnColumnCaseBoolExp b v)
-&gt; AnnColumnField b v
</span><a href="Hasura.RQL.IR.Select.html#AnnColumnField"><span class="hs-identifier hs-type">AnnColumnField</span></a></span><span>
</span><span id="line-200"></span><span>              </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">$sel:_acfColumn:AnnColumnField :: Column b
</span><a href="Hasura.RQL.IR.Select.html#%24sel%3A_acfColumn%3AAnnColumnField"><span class="hs-identifier hs-var">_acfColumn</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Column b
</span><a href="#local-6989586621689810189"><span class="hs-identifier hs-var">argumentIdColumn</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-201"></span><span>                </span><span class="annot"><span class="annottext">$sel:_acfType:AnnColumnField :: ColumnType b
</span><a href="Hasura.RQL.IR.Select.html#%24sel%3A_acfType%3AAnnColumnField"><span class="hs-identifier hs-var">_acfType</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ColumnType b
</span><a href="#local-6989586621689810188"><span class="hs-identifier hs-var">argumentIdColumnType</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-202"></span><span>                </span><span class="annot"><span class="annottext">$sel:_acfAsText:AnnColumnField :: Bool
</span><a href="Hasura.RQL.IR.Select.html#%24sel%3A_acfAsText%3AAnnColumnField"><span class="hs-identifier hs-var">_acfAsText</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">,</span><span>
</span><span id="line-203"></span><span>                </span><span class="annot"><span class="annottext">$sel:_acfArguments:AnnColumnField :: Maybe (ScalarSelectionArguments b)
</span><a href="Hasura.RQL.IR.Select.html#%24sel%3A_acfArguments%3AAnnColumnField"><span class="hs-identifier hs-var">_acfArguments</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (ScalarSelectionArguments b)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">,</span><span>
</span><span id="line-204"></span><span>                </span><span class="annot"><span class="annottext">$sel:_acfCaseBoolExpression:AnnColumnField :: Maybe (AnnColumnCaseBoolExp b (UnpreparedValue b))
</span><a href="Hasura.RQL.IR.Select.html#%24sel%3A_acfCaseBoolExpression%3AAnnColumnField"><span class="hs-identifier hs-var">_acfCaseBoolExpression</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe (AnnColumnCaseBoolExp b (UnpreparedValue b))
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-205"></span><span>              </span><span class="hs-special">}</span><span>
</span><span id="line-206"></span><span>        </span><span class="hs-special">)</span><span>
</span><span id="line-207"></span><span>
</span><span id="line-208"></span><span>      </span><span id="local-6989586621689810184"><span class="annot"><span class="annottext">simpleSelect :: AnnSimpleSelectG b Void (UnpreparedValue b)
</span><a href="#local-6989586621689810184"><span class="hs-identifier hs-var hs-var">simpleSelect</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-209"></span><span>        </span><span class="annot"><span class="annottext">AnnSelectG :: forall (b :: BackendType) (f :: * -&gt; *) v.
Fields (f v)
-&gt; SelectFromG b v
-&gt; TablePermG b v
-&gt; SelectArgsG b v
-&gt; StringifyNumbers
-&gt; Maybe NamingCase
-&gt; AnnSelectG b f v
</span><a href="Hasura.RQL.IR.Select.html#AnnSelectG"><span class="hs-identifier hs-type">AnnSelectG</span></a></span><span>
</span><span id="line-210"></span><span>          </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">$sel:_asnFields:AnnSelectG :: Fields (AnnFieldG b Void (UnpreparedValue b))
</span><a href="Hasura.RQL.IR.Select.html#%24sel%3A_asnFields%3AAnnSelectG"><span class="hs-identifier hs-var">_asnFields</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">(FieldName, AnnFieldG b Void (UnpreparedValue b))
</span><a href="#local-6989586621689810168"><span class="hs-identifier hs-var">argumentIdField</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FieldName
</span><a href="#local-6989586621689810187"><span class="hs-identifier hs-var">relationshipName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">AnnFieldG b Void (UnpreparedValue b)
</span><a href="#local-6989586621689810180"><span class="hs-identifier hs-var">relationshipField</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span class="hs-special">,</span><span>
</span><span id="line-211"></span><span>            </span><span class="annot"><span class="annottext">$sel:_asnFrom:AnnSelectG :: SelectFromG b (UnpreparedValue b)
</span><a href="Hasura.RQL.IR.Select.html#%24sel%3A_asnFrom%3AAnnSelectG"><span class="hs-identifier hs-var">_asnFrom</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SelectFromG b (UnpreparedValue b)
</span><a href="#local-6989586621689810190"><span class="hs-identifier hs-var">selectFrom</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-212"></span><span>            </span><span class="annot"><span class="annottext">$sel:_asnPerm:AnnSelectG :: TablePermG b (UnpreparedValue b)
</span><a href="Hasura.RQL.IR.Select.html#%24sel%3A_asnPerm%3AAnnSelectG"><span class="hs-identifier hs-var">_asnPerm</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">AnnBoolExp b (UnpreparedValue b)
-&gt; Maybe Int -&gt; TablePermG b (UnpreparedValue b)
forall (b :: BackendType) v.
AnnBoolExp b v -&gt; Maybe Int -&gt; TablePermG b v
</span><a href="Hasura.RQL.IR.Select.html#TablePerm"><span class="hs-identifier hs-var">TablePerm</span></a></span><span> </span><span class="annot"><span class="annottext">AnnBoolExp b (UnpreparedValue b)
forall (backend :: BackendType) scalar. AnnBoolExp backend scalar
</span><a href="Hasura.RQL.IR.BoolExp.html#annBoolExpTrue"><span class="hs-identifier hs-var">annBoolExpTrue</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Int
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">,</span><span>
</span><span id="line-213"></span><span>            </span><span class="annot"><span class="annottext">$sel:_asnArgs:AnnSelectG :: SelectArgsG b (UnpreparedValue b)
</span><a href="Hasura.RQL.IR.Select.html#%24sel%3A_asnArgs%3AAnnSelectG"><span class="hs-identifier hs-var">_asnArgs</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SelectArgsG b (UnpreparedValue b)
forall (backend :: BackendType) v. SelectArgsG backend v
</span><a href="Hasura.RQL.IR.Select.html#noSelectArgs"><span class="hs-identifier hs-var">noSelectArgs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-214"></span><span>            </span><span class="annot"><span class="annottext">$sel:_asnStrfyNum:AnnSelectG :: StringifyNumbers
</span><a href="Hasura.RQL.IR.Select.html#%24sel%3A_asnStrfyNum%3AAnnSelectG"><span class="hs-identifier hs-var">_asnStrfyNum</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">StringifyNumbers
</span><a href="Hasura.GraphQL.Schema.Options.html#Don%27tStringifyNumbers"><span class="hs-identifier hs-var">Options.Don'tStringifyNumbers</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-215"></span><span>            </span><span class="annot"><span class="annottext">$sel:_asnNamingConvention:AnnSelectG :: Maybe NamingCase
</span><a href="Hasura.RQL.IR.Select.html#%24sel%3A_asnNamingConvention%3AAnnSelectG"><span class="hs-identifier hs-var">_asnNamingConvention</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe NamingCase
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-216"></span><span>          </span><span class="hs-special">}</span><span>
</span><span id="line-217"></span><span>
</span><span id="line-218"></span><span class="hs-keyword">data</span><span> </span><span id="DBStepInfo"><span class="annot"><a href="Hasura.GraphQL.Execute.Backend.html#DBStepInfo"><span class="hs-identifier hs-var">DBStepInfo</span></a></span></span><span> </span><span id="local-6989586621689810149"><span class="annot"><a href="#local-6989586621689810149"><span class="hs-identifier hs-type">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="DBStepInfo"><span class="annot"><a href="Hasura.GraphQL.Execute.Backend.html#DBStepInfo"><span class="hs-identifier hs-var">DBStepInfo</span></a></span></span><span>
</span><span id="line-219"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="dbsiSourceName"><span class="annot"><span class="annottext">DBStepInfo b -&gt; SourceName
</span><a href="Hasura.GraphQL.Execute.Backend.html#dbsiSourceName"><span class="hs-identifier hs-var hs-var">dbsiSourceName</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Common.html#SourceName"><span class="hs-identifier hs-type">SourceName</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-220"></span><span>    </span><span id="dbsiSourceConfig"><span class="annot"><span class="annottext">DBStepInfo b -&gt; SourceConfig b
</span><a href="Hasura.GraphQL.Execute.Backend.html#dbsiSourceConfig"><span class="hs-identifier hs-var hs-var">dbsiSourceConfig</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Backend.html#SourceConfig"><span class="hs-identifier hs-type">SourceConfig</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810149"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-221"></span><span>    </span><span id="dbsiPreparedQuery"><span class="annot"><span class="annottext">DBStepInfo b -&gt; Maybe (PreparedQuery b)
</span><a href="Hasura.GraphQL.Execute.Backend.html#dbsiPreparedQuery"><span class="hs-identifier hs-var hs-var">dbsiPreparedQuery</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.Execute.Backend.html#PreparedQuery"><span class="hs-identifier hs-type">PreparedQuery</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810149"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-222"></span><span>    </span><span id="dbsiAction"><span class="annot"><span class="annottext">DBStepInfo b -&gt; ExecutionMonad b EncJSON
</span><a href="Hasura.GraphQL.Execute.Backend.html#dbsiAction"><span class="hs-identifier hs-var hs-var">dbsiAction</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Execute.Backend.html#ExecutionMonad"><span class="hs-identifier hs-type">ExecutionMonad</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810149"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="Hasura.EncJSON.html#EncJSON"><span class="hs-identifier hs-type">EncJSON</span></a></span><span>
</span><span id="line-223"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-224"></span><span>
</span><span id="line-225"></span><span class="hs-comment">-- | The result of an explain query: for a given root field (denoted by its name): the generated SQL</span><span>
</span><span id="line-226"></span><span class="hs-comment">-- query, and the detailed explanation obtained from the database (if any). We mostly use this type</span><span>
</span><span id="line-227"></span><span class="hs-comment">-- as an intermediary step, and immediately tranform any value we obtain into an equivalent JSON</span><span>
</span><span id="line-228"></span><span class="hs-comment">-- representation.</span><span>
</span><span id="line-229"></span><span id="local-6989586621689810142"><span id="local-6989586621689810143"></span></span><span class="hs-keyword">data</span><span> </span><span id="ExplainPlan"><span class="annot"><a href="Hasura.GraphQL.Execute.Backend.html#ExplainPlan"><span class="hs-identifier hs-var">ExplainPlan</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="ExplainPlan"><span class="annot"><a href="Hasura.GraphQL.Execute.Backend.html#ExplainPlan"><span class="hs-identifier hs-var">ExplainPlan</span></a></span></span><span>
</span><span id="line-230"></span><span>  </span><span class="hs-special">{</span><span> </span><span id="_fpField"><span class="annot"><span class="annottext">ExplainPlan -&gt; RootFieldAlias
</span><a href="Hasura.GraphQL.Execute.Backend.html#_fpField"><span class="hs-identifier hs-var hs-var">_fpField</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="annot"><a href="Hasura.GraphQL.Namespace.html#RootFieldAlias"><span class="hs-identifier hs-type">RootFieldAlias</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-231"></span><span>    </span><span id="_fpSql"><span class="annot"><span class="annottext">ExplainPlan -&gt; Maybe Text
</span><a href="Hasura.GraphQL.Execute.Backend.html#_fpSql"><span class="hs-identifier hs-var hs-var">_fpSql</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-232"></span><span>    </span><span id="_fpPlan"><span class="annot"><span class="annottext">ExplainPlan -&gt; Maybe [Text]
</span><a href="Hasura.GraphQL.Execute.Backend.html#_fpPlan"><span class="hs-identifier hs-var hs-var">_fpPlan</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-glyph">!</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span class="hs-special">]</span><span class="hs-special">)</span><span>
</span><span id="line-233"></span><span>  </span><span class="hs-special">}</span><span>
</span><span id="line-234"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621689810132"><span id="local-6989586621689810134"><span id="local-6989586621689810136"><span class="annot"><span class="annottext">Int -&gt; ExplainPlan -&gt; ShowS
[ExplainPlan] -&gt; ShowS
ExplainPlan -&gt; String
(Int -&gt; ExplainPlan -&gt; ShowS)
-&gt; (ExplainPlan -&gt; String)
-&gt; ([ExplainPlan] -&gt; ShowS)
-&gt; Show ExplainPlan
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [ExplainPlan] -&gt; ShowS
$cshowList :: [ExplainPlan] -&gt; ShowS
show :: ExplainPlan -&gt; String
$cshow :: ExplainPlan -&gt; String
showsPrec :: Int -&gt; ExplainPlan -&gt; ShowS
$cshowsPrec :: Int -&gt; ExplainPlan -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621689810127"><span id="local-6989586621689810129"><span class="annot"><span class="annottext">ExplainPlan -&gt; ExplainPlan -&gt; Bool
(ExplainPlan -&gt; ExplainPlan -&gt; Bool)
-&gt; (ExplainPlan -&gt; ExplainPlan -&gt; Bool) -&gt; Eq ExplainPlan
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: ExplainPlan -&gt; ExplainPlan -&gt; Bool
$c/= :: ExplainPlan -&gt; ExplainPlan -&gt; Bool
== :: ExplainPlan -&gt; ExplainPlan -&gt; Bool
$c== :: ExplainPlan -&gt; ExplainPlan -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(forall x. ExplainPlan -&gt; Rep ExplainPlan x)
-&gt; (forall x. Rep ExplainPlan x -&gt; ExplainPlan)
-&gt; Generic ExplainPlan
forall x. Rep ExplainPlan x -&gt; ExplainPlan
forall x. ExplainPlan -&gt; Rep ExplainPlan x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
$cto :: forall x. Rep ExplainPlan x -&gt; ExplainPlan
$cfrom :: forall x. ExplainPlan -&gt; Rep ExplainPlan x
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></span><span class="hs-special">)</span><span>
</span><span id="line-235"></span><span>
</span><span id="line-236"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621689810116"><span id="local-6989586621689810118"><span id="local-6989586621689810120"><span class="annot"><span class="hs-identifier hs-type">J.ToJSON</span></span><span> </span><span class="annot"><a href="Hasura.GraphQL.Execute.Backend.html#ExplainPlan"><span class="hs-identifier hs-type">ExplainPlan</span></a></span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-237"></span><span>  </span><span id="local-6989586621689810114"><span class="annot"><span class="annottext">toJSON :: ExplainPlan -&gt; Value
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">toJSON</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Options -&gt; ExplainPlan -&gt; Value
forall a.
(Generic a, GToJSON' Value Zero (Rep a)) =&gt;
Options -&gt; a -&gt; Value
</span><span class="hs-identifier hs-var">J.genericToJSON</span></span><span> </span><span class="annot"><span class="annottext">(Options -&gt; ExplainPlan -&gt; Value)
-&gt; Options -&gt; ExplainPlan -&gt; Value
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ShowS -&gt; Options
</span><span class="hs-identifier hs-var">J.aesonPrefix</span></span><span> </span><span class="annot"><span class="annottext">ShowS
</span><span class="hs-identifier hs-var">J.camelCase</span></span><span>
</span><span id="line-238"></span><span>
</span><span id="line-239"></span><span class="hs-comment">-- | One execution step to processing a GraphQL query (e.g. one root field).</span><span>
</span><span id="line-240"></span><span class="hs-keyword">data</span><span> </span><span id="ExecutionStep"><span class="annot"><a href="Hasura.GraphQL.Execute.Backend.html#ExecutionStep"><span class="hs-identifier hs-var">ExecutionStep</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-241"></span><span>  </span><span class="hs-comment">-- | A query to execute against the database</span><span>
</span><span id="line-242"></span><span>  </span><span id="ExecStepDB"><span class="annot"><a href="Hasura.GraphQL.Execute.Backend.html#ExecStepDB"><span class="hs-identifier hs-var">ExecStepDB</span></a></span></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-243"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">HTTP.ResponseHeaders</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-244"></span><span>    </span><span class="annot"><a href="Hasura.SQL.AnyBackend.html#AnyBackend"><span class="hs-identifier hs-type">AB.AnyBackend</span></a></span><span> </span><span class="annot"><a href="Hasura.GraphQL.Execute.Backend.html#DBStepInfo"><span class="hs-identifier hs-type">DBStepInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-245"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Hasura.GraphQL.Execute.RemoteJoin.Types.html#RemoteJoins"><span class="hs-identifier hs-type">RemoteJoins</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-246"></span><span>    </span><span class="annot"><a href="Hasura.GraphQL.Execute.Backend.html#ExecutionStep"><span class="hs-identifier hs-type">ExecutionStep</span></a></span><span>
</span><span id="line-247"></span><span>  </span><span class="hs-comment">-- | Execute an action</span><span>
</span><span id="line-248"></span><span>  </span><span id="ExecStepAction"><span class="annot"><a href="Hasura.GraphQL.Execute.Backend.html#ExecStepAction"><span class="hs-identifier hs-var">ExecStepAction</span></a></span></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-249"></span><span>    </span><span class="annot"><a href="Hasura.GraphQL.Execute.Action.Types.html#ActionExecutionPlan"><span class="hs-identifier hs-type">ActionExecutionPlan</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-250"></span><span>    </span><span class="annot"><a href="Hasura.RQL.Types.Action.html#ActionsInfo"><span class="hs-identifier hs-type">ActionsInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-251"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Hasura.GraphQL.Execute.RemoteJoin.Types.html#RemoteJoins"><span class="hs-identifier hs-type">RemoteJoins</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-252"></span><span>    </span><span class="annot"><a href="Hasura.GraphQL.Execute.Backend.html#ExecutionStep"><span class="hs-identifier hs-type">ExecutionStep</span></a></span><span>
</span><span id="line-253"></span><span>  </span><span class="hs-comment">-- | A graphql query to execute against a remote schema</span><span>
</span><span id="line-254"></span><span>  </span><span id="ExecStepRemote"><span class="annot"><a href="Hasura.GraphQL.Execute.Backend.html#ExecStepRemote"><span class="hs-identifier hs-var">ExecStepRemote</span></a></span></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-255"></span><span>    </span><span class="hs-glyph">!</span><span class="annot"><a href="Hasura.RQL.Types.RemoteSchema.html#RemoteSchemaInfo"><span class="hs-identifier hs-type">RemoteSchemaInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-256"></span><span>    </span><span class="hs-glyph">!</span><span class="annot"><a href="Hasura.RQL.Types.ResultCustomization.html#ResultCustomizer"><span class="hs-identifier hs-type">ResultCustomizer</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-257"></span><span>    </span><span class="hs-glyph">!</span><span class="annot"><a href="Hasura.GraphQL.Transport.HTTP.Protocol.html#GQLReqOutgoing"><span class="hs-identifier hs-type">GH.GQLReqOutgoing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-258"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Hasura.GraphQL.Execute.RemoteJoin.Types.html#RemoteJoins"><span class="hs-identifier hs-type">RemoteJoins</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-259"></span><span>    </span><span class="annot"><a href="Hasura.GraphQL.Execute.Backend.html#ExecutionStep"><span class="hs-identifier hs-type">ExecutionStep</span></a></span><span>
</span><span id="line-260"></span><span>  </span><span class="hs-comment">-- | Output a plain JSON object</span><span>
</span><span id="line-261"></span><span>  </span><span id="ExecStepRaw"><span class="annot"><a href="Hasura.GraphQL.Execute.Backend.html#ExecStepRaw"><span class="hs-identifier hs-var">ExecStepRaw</span></a></span></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-262"></span><span>    </span><span class="annot"><a href="../file:///workdir/dist-newstyle/build/x86_64-linux/ghc-8.10.7/aeson-ordered-0.1.0.0/opt/doc/html/aeson-ordered/src"><span class="hs-identifier hs-type">JO.Value</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-263"></span><span>    </span><span class="annot"><a href="Hasura.GraphQL.Execute.Backend.html#ExecutionStep"><span class="hs-identifier hs-type">ExecutionStep</span></a></span><span>
</span><span id="line-264"></span><span>  </span><span id="ExecStepMulti"><span class="annot"><a href="Hasura.GraphQL.Execute.Backend.html#ExecStepMulti"><span class="hs-identifier hs-var">ExecStepMulti</span></a></span></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-265"></span><span>    </span><span class="hs-special">[</span><span class="annot"><a href="Hasura.GraphQL.Execute.Backend.html#ExecutionStep"><span class="hs-identifier hs-type">ExecutionStep</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-266"></span><span>    </span><span class="annot"><a href="Hasura.GraphQL.Execute.Backend.html#ExecutionStep"><span class="hs-identifier hs-type">ExecutionStep</span></a></span><span>
</span><span id="line-267"></span><span>
</span><span id="line-268"></span><span class="hs-comment">-- | The series of steps that need to be executed for a given query. For now, those steps are all</span><span>
</span><span id="line-269"></span><span class="hs-comment">-- independent. In the future, when we implement a client-side dataloader and generalized joins,</span><span>
</span><span id="line-270"></span><span class="hs-comment">-- this will need to be changed into an annotated tree.</span><span>
</span><span id="line-271"></span><span class="hs-keyword">type</span><span> </span><span id="ExecutionPlan"><span class="annot"><a href="Hasura.GraphQL.Execute.Backend.html#ExecutionPlan"><span class="hs-identifier hs-var">ExecutionPlan</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Namespace.html#RootFieldMap"><span class="hs-identifier hs-type">RootFieldMap</span></a></span><span> </span><span class="annot"><a href="Hasura.GraphQL.Execute.Backend.html#ExecutionStep"><span class="hs-identifier hs-type">ExecutionStep</span></a></span><span>
</span><span id="line-272"></span><span>
</span><span id="line-273"></span><span class="hs-keyword">class</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621689810253"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span id="MonadQueryTags"><span class="annot"><a href="Hasura.GraphQL.Execute.Backend.html#MonadQueryTags"><span class="hs-identifier hs-var">MonadQueryTags</span></a></span></span><span> </span><span id="local-6989586621689810253"><span class="annot"><a href="#local-6989586621689810253"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-274"></span><span>  </span><span class="hs-comment">-- | Creates Query Tags. These are appended to the Generated SQL.</span><span>
</span><span id="line-275"></span><span>  </span><span class="hs-comment">-- Helps users to use native database monitoring tools to get some 'application-context'.</span><span>
</span><span id="line-276"></span><span>  </span><span id="createQueryTags"><span class="annot"><a href="Hasura.GraphQL.Execute.Backend.html#createQueryTags"><span class="hs-identifier hs-type">createQueryTags</span></a></span></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-277"></span><span>    </span><span class="annot"><a href="Hasura.QueryTags.html#QueryTagsAttributes"><span class="hs-identifier hs-type">QueryTagsAttributes</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Hasura.RQL.Types.QueryTags.html#QueryTagsConfig"><span class="hs-identifier hs-type">QueryTagsConfig</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Tagged</span></span><span> </span><span class="annot"><a href="#local-6989586621689810253"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="Hasura.QueryTags.html#QueryTagsComment"><span class="hs-identifier hs-type">QueryTagsComment</span></a></span><span>
</span><span id="line-278"></span><span>
</span><span id="line-279"></span><span id="local-6989586621689810095"><span id="local-6989586621689810096"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.Execute.Backend.html#MonadQueryTags"><span class="hs-identifier hs-type">MonadQueryTags</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810096"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Execute.Backend.html#MonadQueryTags"><span class="hs-identifier hs-type">MonadQueryTags</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ReaderT</span></span><span> </span><span class="annot"><a href="#local-6989586621689810095"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810096"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-280"></span><span>  </span><span id="local-6989586621689810091"><span class="annot"><span class="annottext">createQueryTags :: QueryTagsAttributes
-&gt; Maybe QueryTagsConfig -&gt; Tagged (ReaderT r m) QueryTagsComment
</span><a href="#local-6989586621689810091"><span class="hs-identifier hs-var hs-var hs-var hs-var">createQueryTags</span></a></span></span><span> </span><span id="local-6989586621689810090"><span class="annot"><span class="annottext">QueryTagsAttributes
</span><a href="#local-6989586621689810090"><span class="hs-identifier hs-var">qtSourceConfig</span></a></span></span><span> </span><span id="local-6989586621689810089"><span class="annot"><span class="annottext">Maybe QueryTagsConfig
</span><a href="#local-6989586621689810089"><span class="hs-identifier hs-var">attr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Tagged m QueryTagsComment -&gt; Tagged (ReaderT r m) QueryTagsComment
forall k1 k2 (s :: k1) b (t :: k2). Tagged s b -&gt; Tagged t b
</span><span class="hs-identifier hs-var">retag</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">QueryTagsAttributes
-&gt; Maybe QueryTagsConfig -&gt; Tagged m QueryTagsComment
forall (m :: * -&gt; *).
MonadQueryTags m =&gt;
QueryTagsAttributes
-&gt; Maybe QueryTagsConfig -&gt; Tagged m QueryTagsComment
</span><a href="Hasura.GraphQL.Execute.Backend.html#createQueryTags"><span class="hs-identifier hs-var">createQueryTags</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621689810096"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><span class="annottext">QueryTagsAttributes
</span><a href="#local-6989586621689810090"><span class="hs-identifier hs-var">qtSourceConfig</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe QueryTagsConfig
</span><a href="#local-6989586621689810089"><span class="hs-identifier hs-var">attr</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Tagged</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ReaderT</span></span><span> </span><span class="annot"><a href="#local-6989586621689810095"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810096"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Hasura.QueryTags.html#QueryTagsComment"><span class="hs-identifier hs-type">QueryTagsComment</span></a></span></span></span><span>
</span><span id="line-281"></span><span>
</span><span id="line-282"></span><span id="local-6989586621689810086"><span id="local-6989586621689810087"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.Execute.Backend.html#MonadQueryTags"><span class="hs-identifier hs-type">MonadQueryTags</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810087"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Execute.Backend.html#MonadQueryTags"><span class="hs-identifier hs-type">MonadQueryTags</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ExceptT</span></span><span> </span><span class="annot"><a href="#local-6989586621689810086"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810087"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-283"></span><span>  </span><span id="local-6989586621689810083"><span class="annot"><span class="annottext">createQueryTags :: QueryTagsAttributes
-&gt; Maybe QueryTagsConfig -&gt; Tagged (ExceptT e m) QueryTagsComment
</span><a href="#local-6989586621689810083"><span class="hs-identifier hs-var hs-var hs-var hs-var">createQueryTags</span></a></span></span><span> </span><span id="local-6989586621689810082"><span class="annot"><span class="annottext">QueryTagsAttributes
</span><a href="#local-6989586621689810082"><span class="hs-identifier hs-var">qtSourceConfig</span></a></span></span><span> </span><span id="local-6989586621689810081"><span class="annot"><span class="annottext">Maybe QueryTagsConfig
</span><a href="#local-6989586621689810081"><span class="hs-identifier hs-var">attr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Tagged m QueryTagsComment -&gt; Tagged (ExceptT e m) QueryTagsComment
forall k1 k2 (s :: k1) b (t :: k2). Tagged s b -&gt; Tagged t b
</span><span class="hs-identifier hs-var">retag</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">QueryTagsAttributes
-&gt; Maybe QueryTagsConfig -&gt; Tagged m QueryTagsComment
forall (m :: * -&gt; *).
MonadQueryTags m =&gt;
QueryTagsAttributes
-&gt; Maybe QueryTagsConfig -&gt; Tagged m QueryTagsComment
</span><a href="Hasura.GraphQL.Execute.Backend.html#createQueryTags"><span class="hs-identifier hs-var">createQueryTags</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621689810087"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><span class="annottext">QueryTagsAttributes
</span><a href="#local-6989586621689810082"><span class="hs-identifier hs-var">qtSourceConfig</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe QueryTagsConfig
</span><a href="#local-6989586621689810081"><span class="hs-identifier hs-var">attr</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Tagged</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ExceptT</span></span><span> </span><span class="annot"><a href="#local-6989586621689810086"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810087"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Hasura.QueryTags.html#QueryTagsComment"><span class="hs-identifier hs-type">QueryTagsComment</span></a></span></span></span><span>
</span><span id="line-284"></span><span>
</span><span id="line-285"></span><span id="local-6989586621689810080"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.Execute.Backend.html#MonadQueryTags"><span class="hs-identifier hs-type">MonadQueryTags</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810080"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Execute.Backend.html#MonadQueryTags"><span class="hs-identifier hs-type">MonadQueryTags</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.Tracing.html#TraceT"><span class="hs-identifier hs-type">TraceT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810080"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-286"></span><span>  </span><span id="local-6989586621689810077"><span class="annot"><span class="annottext">createQueryTags :: QueryTagsAttributes
-&gt; Maybe QueryTagsConfig -&gt; Tagged (TraceT m) QueryTagsComment
</span><a href="#local-6989586621689810077"><span class="hs-identifier hs-var hs-var hs-var hs-var">createQueryTags</span></a></span></span><span> </span><span id="local-6989586621689810076"><span class="annot"><span class="annottext">QueryTagsAttributes
</span><a href="#local-6989586621689810076"><span class="hs-identifier hs-var">qtSourceConfig</span></a></span></span><span> </span><span id="local-6989586621689810075"><span class="annot"><span class="annottext">Maybe QueryTagsConfig
</span><a href="#local-6989586621689810075"><span class="hs-identifier hs-var">attr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Tagged m QueryTagsComment -&gt; Tagged (TraceT m) QueryTagsComment
forall k1 k2 (s :: k1) b (t :: k2). Tagged s b -&gt; Tagged t b
</span><span class="hs-identifier hs-var">retag</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">QueryTagsAttributes
-&gt; Maybe QueryTagsConfig -&gt; Tagged m QueryTagsComment
forall (m :: * -&gt; *).
MonadQueryTags m =&gt;
QueryTagsAttributes
-&gt; Maybe QueryTagsConfig -&gt; Tagged m QueryTagsComment
</span><a href="Hasura.GraphQL.Execute.Backend.html#createQueryTags"><span class="hs-identifier hs-var">createQueryTags</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621689810080"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><span class="annottext">QueryTagsAttributes
</span><a href="#local-6989586621689810076"><span class="hs-identifier hs-var">qtSourceConfig</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe QueryTagsConfig
</span><a href="#local-6989586621689810075"><span class="hs-identifier hs-var">attr</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Tagged</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.Tracing.html#TraceT"><span class="hs-identifier hs-type">TraceT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810080"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Hasura.QueryTags.html#QueryTagsComment"><span class="hs-identifier hs-type">QueryTagsComment</span></a></span></span><span>
</span><span id="line-287"></span><span>
</span><span id="line-288"></span><span id="local-6989586621689810074"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.Execute.Backend.html#MonadQueryTags"><span class="hs-identifier hs-type">MonadQueryTags</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810074"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Execute.Backend.html#MonadQueryTags"><span class="hs-identifier hs-type">MonadQueryTags</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.Metadata.Class.html#MetadataStorageT"><span class="hs-identifier hs-type">MetadataStorageT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810074"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-289"></span><span>  </span><span id="local-6989586621689810071"><span class="annot"><span class="annottext">createQueryTags :: QueryTagsAttributes
-&gt; Maybe QueryTagsConfig
-&gt; Tagged (MetadataStorageT m) QueryTagsComment
</span><a href="#local-6989586621689810071"><span class="hs-identifier hs-var hs-var hs-var hs-var">createQueryTags</span></a></span></span><span> </span><span id="local-6989586621689810070"><span class="annot"><span class="annottext">QueryTagsAttributes
</span><a href="#local-6989586621689810070"><span class="hs-identifier hs-var">qtSourceConfig</span></a></span></span><span> </span><span id="local-6989586621689810069"><span class="annot"><span class="annottext">Maybe QueryTagsConfig
</span><a href="#local-6989586621689810069"><span class="hs-identifier hs-var">attr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Tagged m QueryTagsComment
-&gt; Tagged (MetadataStorageT m) QueryTagsComment
forall k1 k2 (s :: k1) b (t :: k2). Tagged s b -&gt; Tagged t b
</span><span class="hs-identifier hs-var">retag</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">QueryTagsAttributes
-&gt; Maybe QueryTagsConfig -&gt; Tagged m QueryTagsComment
forall (m :: * -&gt; *).
MonadQueryTags m =&gt;
QueryTagsAttributes
-&gt; Maybe QueryTagsConfig -&gt; Tagged m QueryTagsComment
</span><a href="Hasura.GraphQL.Execute.Backend.html#createQueryTags"><span class="hs-identifier hs-var">createQueryTags</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621689810074"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><span class="annottext">QueryTagsAttributes
</span><a href="#local-6989586621689810070"><span class="hs-identifier hs-var">qtSourceConfig</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe QueryTagsConfig
</span><a href="#local-6989586621689810069"><span class="hs-identifier hs-var">attr</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Tagged</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.Metadata.Class.html#MetadataStorageT"><span class="hs-identifier hs-type">MetadataStorageT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810074"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Hasura.QueryTags.html#QueryTagsComment"><span class="hs-identifier hs-type">QueryTagsComment</span></a></span></span><span>
</span><span id="line-290"></span><span>
</span><span id="line-291"></span><span id="local-6989586621689810068"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.Execute.Backend.html#MonadQueryTags"><span class="hs-identifier hs-type">MonadQueryTags</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810068"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Execute.Backend.html#MonadQueryTags"><span class="hs-identifier hs-type">MonadQueryTags</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Q.TxET</span></span><span> </span><span class="annot"><a href="Hasura.Base.Error.html#QErr"><span class="hs-identifier hs-type">QErr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810068"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-292"></span><span>  </span><span id="local-6989586621689810065"><span class="annot"><span class="annottext">createQueryTags :: QueryTagsAttributes
-&gt; Maybe QueryTagsConfig -&gt; Tagged (TxET QErr m) QueryTagsComment
</span><a href="#local-6989586621689810065"><span class="hs-identifier hs-var hs-var hs-var hs-var">createQueryTags</span></a></span></span><span> </span><span id="local-6989586621689810064"><span class="annot"><span class="annottext">QueryTagsAttributes
</span><a href="#local-6989586621689810064"><span class="hs-identifier hs-var">qtSourceConfig</span></a></span></span><span> </span><span id="local-6989586621689810063"><span class="annot"><span class="annottext">Maybe QueryTagsConfig
</span><a href="#local-6989586621689810063"><span class="hs-identifier hs-var">attr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Tagged m QueryTagsComment -&gt; Tagged (TxET QErr m) QueryTagsComment
forall k1 k2 (s :: k1) b (t :: k2). Tagged s b -&gt; Tagged t b
</span><span class="hs-identifier hs-var">retag</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">QueryTagsAttributes
-&gt; Maybe QueryTagsConfig -&gt; Tagged m QueryTagsComment
forall (m :: * -&gt; *).
MonadQueryTags m =&gt;
QueryTagsAttributes
-&gt; Maybe QueryTagsConfig -&gt; Tagged m QueryTagsComment
</span><a href="Hasura.GraphQL.Execute.Backend.html#createQueryTags"><span class="hs-identifier hs-var">createQueryTags</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621689810068"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><span class="annottext">QueryTagsAttributes
</span><a href="#local-6989586621689810064"><span class="hs-identifier hs-var">qtSourceConfig</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe QueryTagsConfig
</span><a href="#local-6989586621689810063"><span class="hs-identifier hs-var">attr</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Tagged</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Q.TxET</span></span><span> </span><span class="annot"><a href="Hasura.Base.Error.html#QErr"><span class="hs-identifier hs-type">QErr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810068"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Hasura.QueryTags.html#QueryTagsComment"><span class="hs-identifier hs-type">QueryTagsComment</span></a></span></span><span>
</span><span id="line-293"></span><span>
</span><span id="line-294"></span><span id="local-6989586621689810062"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.Execute.Backend.html#MonadQueryTags"><span class="hs-identifier hs-type">MonadQueryTags</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810062"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Execute.Backend.html#MonadQueryTags"><span class="hs-identifier hs-type">MonadQueryTags</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.Types.SchemaCache.Build.html#MetadataT"><span class="hs-identifier hs-type">MetadataT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810062"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-295"></span><span>  </span><span id="local-6989586621689810059"><span class="annot"><span class="annottext">createQueryTags :: QueryTagsAttributes
-&gt; Maybe QueryTagsConfig -&gt; Tagged (MetadataT m) QueryTagsComment
</span><a href="#local-6989586621689810059"><span class="hs-identifier hs-var hs-var hs-var hs-var">createQueryTags</span></a></span></span><span> </span><span id="local-6989586621689810058"><span class="annot"><span class="annottext">QueryTagsAttributes
</span><a href="#local-6989586621689810058"><span class="hs-identifier hs-var">qtSourceConfig</span></a></span></span><span> </span><span id="local-6989586621689810057"><span class="annot"><span class="annottext">Maybe QueryTagsConfig
</span><a href="#local-6989586621689810057"><span class="hs-identifier hs-var">attr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Tagged m QueryTagsComment -&gt; Tagged (MetadataT m) QueryTagsComment
forall k1 k2 (s :: k1) b (t :: k2). Tagged s b -&gt; Tagged t b
</span><span class="hs-identifier hs-var">retag</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">QueryTagsAttributes
-&gt; Maybe QueryTagsConfig -&gt; Tagged m QueryTagsComment
forall (m :: * -&gt; *).
MonadQueryTags m =&gt;
QueryTagsAttributes
-&gt; Maybe QueryTagsConfig -&gt; Tagged m QueryTagsComment
</span><a href="Hasura.GraphQL.Execute.Backend.html#createQueryTags"><span class="hs-identifier hs-var">createQueryTags</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621689810062"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><span class="annottext">QueryTagsAttributes
</span><a href="#local-6989586621689810058"><span class="hs-identifier hs-var">qtSourceConfig</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe QueryTagsConfig
</span><a href="#local-6989586621689810057"><span class="hs-identifier hs-var">attr</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Tagged</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.Types.SchemaCache.Build.html#MetadataT"><span class="hs-identifier hs-type">MetadataT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810062"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Hasura.QueryTags.html#QueryTagsComment"><span class="hs-identifier hs-type">QueryTagsComment</span></a></span></span><span>
</span><span id="line-296"></span><span>
</span><span id="line-297"></span><span id="local-6989586621689810056"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.Execute.Backend.html#MonadQueryTags"><span class="hs-identifier hs-type">MonadQueryTags</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810056"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Execute.Backend.html#MonadQueryTags"><span class="hs-identifier hs-type">MonadQueryTags</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.DDL.Schema.Cache.html#CacheRWT"><span class="hs-identifier hs-type">CacheRWT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810056"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-298"></span><span>  </span><span id="local-6989586621689810053"><span class="annot"><span class="annottext">createQueryTags :: QueryTagsAttributes
-&gt; Maybe QueryTagsConfig -&gt; Tagged (CacheRWT m) QueryTagsComment
</span><a href="#local-6989586621689810053"><span class="hs-identifier hs-var hs-var hs-var hs-var">createQueryTags</span></a></span></span><span> </span><span id="local-6989586621689810052"><span class="annot"><span class="annottext">QueryTagsAttributes
</span><a href="#local-6989586621689810052"><span class="hs-identifier hs-var">qtSourceConfig</span></a></span></span><span> </span><span id="local-6989586621689810051"><span class="annot"><span class="annottext">Maybe QueryTagsConfig
</span><a href="#local-6989586621689810051"><span class="hs-identifier hs-var">attr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Tagged m QueryTagsComment -&gt; Tagged (CacheRWT m) QueryTagsComment
forall k1 k2 (s :: k1) b (t :: k2). Tagged s b -&gt; Tagged t b
</span><span class="hs-identifier hs-var">retag</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">QueryTagsAttributes
-&gt; Maybe QueryTagsConfig -&gt; Tagged m QueryTagsComment
forall (m :: * -&gt; *).
MonadQueryTags m =&gt;
QueryTagsAttributes
-&gt; Maybe QueryTagsConfig -&gt; Tagged m QueryTagsComment
</span><a href="Hasura.GraphQL.Execute.Backend.html#createQueryTags"><span class="hs-identifier hs-var">createQueryTags</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621689810056"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><span class="annottext">QueryTagsAttributes
</span><a href="#local-6989586621689810052"><span class="hs-identifier hs-var">qtSourceConfig</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe QueryTagsConfig
</span><a href="#local-6989586621689810051"><span class="hs-identifier hs-var">attr</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Tagged</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.DDL.Schema.Cache.html#CacheRWT"><span class="hs-identifier hs-type">CacheRWT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810056"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Hasura.QueryTags.html#QueryTagsComment"><span class="hs-identifier hs-type">QueryTagsComment</span></a></span></span><span>
</span><span id="line-299"></span><span>
</span><span id="line-300"></span><span id="local-6989586621689810050"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.Execute.Backend.html#MonadQueryTags"><span class="hs-identifier hs-type">MonadQueryTags</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810050"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Execute.Backend.html#MonadQueryTags"><span class="hs-identifier hs-type">MonadQueryTags</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.Types.Run.html#RunT"><span class="hs-identifier hs-type">RunT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810050"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-301"></span><span>  </span><span id="local-6989586621689810047"><span class="annot"><span class="annottext">createQueryTags :: QueryTagsAttributes
-&gt; Maybe QueryTagsConfig -&gt; Tagged (RunT m) QueryTagsComment
</span><a href="#local-6989586621689810047"><span class="hs-identifier hs-var hs-var hs-var hs-var">createQueryTags</span></a></span></span><span> </span><span id="local-6989586621689810046"><span class="annot"><span class="annottext">QueryTagsAttributes
</span><a href="#local-6989586621689810046"><span class="hs-identifier hs-var">qtSourceConfig</span></a></span></span><span> </span><span id="local-6989586621689810045"><span class="annot"><span class="annottext">Maybe QueryTagsConfig
</span><a href="#local-6989586621689810045"><span class="hs-identifier hs-var">attr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Tagged m QueryTagsComment -&gt; Tagged (RunT m) QueryTagsComment
forall k1 k2 (s :: k1) b (t :: k2). Tagged s b -&gt; Tagged t b
</span><span class="hs-identifier hs-var">retag</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">QueryTagsAttributes
-&gt; Maybe QueryTagsConfig -&gt; Tagged m QueryTagsComment
forall (m :: * -&gt; *).
MonadQueryTags m =&gt;
QueryTagsAttributes
-&gt; Maybe QueryTagsConfig -&gt; Tagged m QueryTagsComment
</span><a href="Hasura.GraphQL.Execute.Backend.html#createQueryTags"><span class="hs-identifier hs-var">createQueryTags</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="#local-6989586621689810050"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><span class="annottext">QueryTagsAttributes
</span><a href="#local-6989586621689810046"><span class="hs-identifier hs-var">qtSourceConfig</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe QueryTagsConfig
</span><a href="#local-6989586621689810045"><span class="hs-identifier hs-var">attr</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Tagged</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.Types.Run.html#RunT"><span class="hs-identifier hs-type">RunT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689810050"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="Hasura.QueryTags.html#QueryTagsComment"><span class="hs-identifier hs-type">QueryTagsComment</span></a></span></span><span>
</span><span id="line-302"></span></pre></body></html>