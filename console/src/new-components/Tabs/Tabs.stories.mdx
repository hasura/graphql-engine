import { Canvas, Meta, Story } from '@storybook/addon-docs';
import { action } from '@storybook/addon-actions';

import { TemplateStoriesFactory } from '@/utils/StoryUtils';
import { Tabs } from '@/new-components/Tabs';

<Meta
  title="components/Tabs üß¨"
  component={Tabs}
  parameters={{
    docs: { source: { type: 'code' } },
    chromatic: { disableSnapshot: true },
  }}
  decorators={[Story => <div className={'p-4'}>{Story()}</div>]}
  argTypes={{
    value: {
      defaultValue: 'tab-1',
      control: {
        type: 'select',
        options: ['tab-1', 'tab-2', 'tab-3'],
      },
    },
    onValueChange: { action: 'onValueChange' },
  }}
/>

# Tabs üß¨

- [üß∞ Overview](#-overview)
- [üêô Code on Github](https://github.com/hasura/graphql-engine-mono/tree/main/console/src/new-components/Tabs/Tabs.tsx)

## üß∞ Overview

A component that display tabbed content. It is a wrapper around [radix-ui](https://www.radix-ui.com/docs/primitives/components/tabs) component. It can be used either in a controlled or uncontrolled way.

### Basic usage

```ts
import { Tabs } from '@/new-components/Tabs';
```

```tsx
<Tabs
  value={value}
  onValueChange={value => setValue(value)}
  items={[
    { value: 'tab-1', label: 'Tab 1', content: 'Content 1' },
    { value: 'tab-2', label: 'Tab 2', content: 'Content 2' },
    { value: 'tab-3', label: 'Tab 3', content: 'Content 3' },
  ]}
/>
```

export const Template = ({ value, onValueChange, ...rest }) => (
  <Tabs
    items={[
      { value: 'tab-1', label: 'Tab 1', content: 'Content 1' },
      { value: 'tab-2', label: 'Tab 2', content: 'Content 2' },
      { value: 'tab-3', label: 'Tab 3', content: 'Content 3' },
    ]}
    value={value}
    onValueChange={onValueChange}
    {...rest}
  />
);

<Canvas>
  <Story name="Controlled">{Template.bind({})}</Story>
</Canvas>

<Canvas>
  <Story name="Unontrolled">
    <Tabs
      items={[
        { value: 'tab-1', label: 'Tab 1', content: 'Content 1' },
        { value: 'tab-2', label: 'Tab 2', content: 'Content 2' },
        { value: 'tab-3', label: 'Tab 3', content: 'Content 3' },
      ]}
    />
  </Story>
</Canvas>

#### üö¶ Usage

The component accepts all the props of the radix-ui [Tabs](https://www.radix-ui.com/docs/primitives/components/tabs) root component.

- If used in a controlled way (e.g. the state of tabs navigation is stored in the URL), you should pass:
  - `value`: the id of the selected tab
  - `onValueChange`: the callback to be called when the tab is changed
- The `items` prop is an array of objects that contain the following properties:
  - `value`: the id of the tab
  - `label`: the label of the tab
  - `content`: the content of the tab

```

```
