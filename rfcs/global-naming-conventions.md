# Global Naming Conventions

## Problem statement

Hasura uses `snake_case` conventions for field names and type names it generates for a GraphQL schema.
This is most likely inherited from [conventions commonly used in Postgres](https://stackoverflow.com/questions/2878248/postgresql-naming-conventions).

Other GraphQL tools tend to follow conventions more commonly used in Javascript and similar languages, e.g. see the [Apollo naming conventions](https://www.apollographql.com/docs/apollo-server/schema/schema/#naming-conventions) which suggest that
- field names should use `camelCase`,
- type names (including enum names) should use `PascalCase`, and
- enum values should use `ALL_CAPS`.

Many users have requested we provide support for these more "preferred" GraphQL naming conventions, especially `camelCase` field names [see issue [#3320](https://github.com/hasura/graphql-engine/issues/3320)].

Users who care about using `camelCase` conventions currently have to use `custom_root_fields` for every field on every table.
(One user has provided a [Python script](https://github.com/m-rgba/hasura-snake-to-camel/blob/main/snake_case_to_camelcase.py) which automatically does this by modifying the metadata.) Doing this manually is cumbersome and it seems there is demand for us to provide a setting for this at a higher level, e.g. for the entire GraphQL schema, or at the database or table level.

Even if users can manually configure their own root fields, there are other generated names where the user has no control,
e.g. parameter names such as `distinct_on` and `order_by`, nested field names such as `stddev_pop`, and type names such as `users_aggregate_fields`. A global setting to use `camelCase` should probably affect these names too.

## Proposal - global `camelCase` option

Add a global option to use `camelCase` for all field names and parameter names generated by Hasura, and to use `PascalCase` for all generated type names.
We can automatically convert `snake_case` table and schema names to `camelCase` as appropriate.

### Example

For Postgres schema `my_schema` and table `user_accounts` we generate the following root fields:

| Snake case (default)      | With `camelCase` option enabled |
| --------------------      | ------------------------------- |
| `my_schema_user_accounts` | `mySchemaUserAccounts` |
| `my_schema_user_accounts_aggregate` | `mySchemaUserAccountsAggregate` |
| `my_schema_user_accounts_by_pk` | `mySchemaUserAccountsByPk` |
| `delete_my_schema_user_accounts` | `deleteMySchemaUserAccounts` |
| `delete_my_schema_user_accounts_by_pk` | `deleteMySchemaUserAccountsByPk` |
| `insert_my_schema_user_accounts` | `insertMySchemaUserAccounts` |
| `insert_my_schema_user_accounts_one` | `insertMySchemaUserAccountsOne` |
| `update_my_schema_user_accounts` | `updateMySchemaUserAccounts` |
| `update_my_schema_user_accounts_by_pk` | `updateMySchemaUserAccountsByPk` |

We would also convert all column names to `camelCase`.
Similarly, all type names would use `PascalCase`, e.g. `my_schema_user_accounts_aggregate_fields` would become `MySchemaUserAccountsAggregateFields`.
We would also modify other generated names e.g. `distinct_on` -> `distinctOn` and `stdev_pop` -> `StddevPop`.

### Notes

1. If the user specifies a `custom_name` for a table, we should use it as is, without trying to convert to `camelCase`. The user can use this to override the automated case conversion if there are edge cases where it doesn't do what they want.
However we still need to capitalise the first letter when it's used as the second word of a field name, e.g. `custom_name` of `users` -> field `deleteUsers`.
1. Users can still override individual root fields names using `custom_root_fields`, e.g. if they really want to use `mySchemaUserAccount` instead of `mySchemaUserAccountsByPk`.
1. I have only considered Postgres databases so far. Hopefully this proposal should carry over to other backends without problems.
1. The [Apollo naming conventions](https://www.apollographql.com/docs/apollo-server/schema/schema/#naming-conventions) also mention that enum values should be in `ALL_CAPS`. Enum value names are currently beyond the scope of this RFC.

### Questions
1. Where should this global option go in the metadata and how should it be set? Or should it be a command line option / environment variable? - Global option in metadata
1. Do we need an option per source or is a global option better? - global option
1. Should it be `ByPk` or `ByPK`? `StddevPop` or `StdDevPop`? 
1. What to do about comparison and boolean operators that start with `_`, e.g. `_eq`, `_and`, `_is_null`?
