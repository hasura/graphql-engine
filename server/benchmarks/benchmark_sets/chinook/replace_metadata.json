{"type":"replace_metadata", "args":{"version":2, "tables":[{"table":{"schema":"public","name":"Album"},"object_relationships":[{"name":"Artist","using":{"foreign_key_constraint_on":"ArtistId"}}],"array_relationships":[{"name":"Tracks","using":{"foreign_key_constraint_on":{"column":"AlbumId","table":{"schema":"public","name":"Track"}}}}],"select_permissions":[{"role":"customer","permission":{"columns":["AlbumId","Title","ArtistId"],"filter":{}}},{"role":"employee","permission":{"columns":["AlbumId","Title","ArtistId"],"filter":{}}}]},{"table":{"schema":"public","name":"Artist"},"array_relationships":[{"name":"Albums","using":{"foreign_key_constraint_on":{"column":"ArtistId","table":{"schema":"public","name":"Album"}}}}],"select_permissions":[{"role":"customer","permission":{"columns":["ArtistId","Name"],"filter":{}}},{"role":"employee","permission":{"columns":["ArtistId","Name"],"filter":{}}}]},{"table":{"schema":"public","name":"Customer"},"object_relationships":[{"name":"Employee","using":{"foreign_key_constraint_on":"SupportRepId"}}],"array_relationships":[{"name":"Invoices","using":{"foreign_key_constraint_on":{"column":"CustomerId","table":{"schema":"public","name":"Invoice"}}}}],"select_permissions":[{"role":"customer","permission":{"columns":["Address","City","Company","Country","CustomerId","Email","Fax","FirstName","LastName","Phone","PostalCode","State"],"filter":{"CustomerId":{"_eq":"X-Hasura-User-Id"}}}},{"role":"employee","permission":{"columns":["CustomerId","FirstName","LastName","Company","Address","City","State","Country","PostalCode","Phone","Fax","Email","SupportRepId"],"filter":{"SupportRepId":{"_eq":"X-Hasura-User-Id"}}}}],"update_permissions":[{"role":"customer","permission":{"columns":["Address","City","Company","Country","Email","Fax","FirstName","LastName","Phone","PostalCode","State"],"filter":{"CustomerId":{"_eq":"X-Hasura-User-Id"}},"check":{}}}]},{"table":{"schema":"public","name":"Employee"},"object_relationships":[{"name":"Employee","using":{"foreign_key_constraint_on":"ReportsTo"}}],"array_relationships":[{"name":"Customers","using":{"foreign_key_constraint_on":{"column":"SupportRepId","table":{"schema":"public","name":"Customer"}}}},{"name":"Employees","using":{"foreign_key_constraint_on":{"column":"ReportsTo","table":{"schema":"public","name":"Employee"}}}}],"select_permissions":[{"role":"customer","permission":{"columns":["Email","EmployeeId","FirstName","LastName"],"filter":{"Customers":{"CustomerId":{"_eq":"X-Hasura-User-Id"}}}}},{"role":"employee","permission":{"columns":["Address","City","Country","Email","Fax","FirstName","LastName","Phone","PostalCode","State","Title","EmployeeId","ReportsTo","BirthDate","HireDate"],"filter":{"_or":[{"EmployeeId":{"_eq":"X-Hasura-User-Id"}},{"ReportsTo":{"_eq":"X-Hasura-User-Id"}}]}}}],"update_permissions":[{"role":"employee","permission":{"columns":["Address","City","Country","Email","Fax","FirstName","LastName","Phone","PostalCode","State","Title"],"filter":{"EmployeeId":{"_eq":"X-Hasura-User-Id"}},"check":{}}}]},{"table":{"schema":"public","name":"Genre"},"array_relationships":[{"name":"Tracks","using":{"foreign_key_constraint_on":{"column":"GenreId","table":{"schema":"public","name":"Track"}}}}],"select_permissions":[{"role":"customer","permission":{"columns":["GenreId","Name"],"filter":{}}},{"role":"employee","permission":{"columns":["GenreId","Name"],"filter":{}}}]},{"table":{"schema":"public","name":"Invoice"},"object_relationships":[{"name":"Customer","using":{"foreign_key_constraint_on":"CustomerId"}}],"array_relationships":[{"name":"InvoiceLines","using":{"foreign_key_constraint_on":{"column":"InvoiceId","table":{"schema":"public","name":"InvoiceLine"}}}}],"select_permissions":[{"role":"customer","permission":{"columns":["InvoiceId","CustomerId","InvoiceDate","BillingAddress","BillingCity","BillingState","BillingCountry","BillingPostalCode","Total"],"filter":{"CustomerId":{"_eq":"X-Hasura-User-Id"}}}},{"role":"employee","permission":{"columns":["InvoiceId","CustomerId","InvoiceDate","BillingAddress","BillingCity","BillingState","BillingCountry","BillingPostalCode","Total"],"filter":{"Customer":{"SupportRepId":{"_eq":"X-Hasura-User-Id"}}}}}]},{"table":{"schema":"public","name":"InvoiceLine"},"object_relationships":[{"name":"Invoice","using":{"foreign_key_constraint_on":"InvoiceId"}},{"name":"Track","using":{"foreign_key_constraint_on":"TrackId"}}],"select_permissions":[{"role":"customer","permission":{"columns":["InvoiceLineId","InvoiceId","TrackId","UnitPrice","Quantity"],"filter":{"Invoice":{"CustomerId":{"_eq":"X-Hasura-User-Id"}}}}},{"role":"employee","permission":{"columns":["InvoiceId","InvoiceLineId","Quantity","TrackId","UnitPrice"],"filter":{"Invoice":{"Customer":{"SupportRepId":{"_eq":"X-Hasura-User-Id"}}}}}}]},{"table":{"schema":"public","name":"MediaType"},"array_relationships":[{"name":"Tracks","using":{"foreign_key_constraint_on":{"column":"MediaTypeId","table":{"schema":"public","name":"Track"}}}}],"select_permissions":[{"role":"customer","permission":{"columns":["MediaTypeId","Name"],"filter":{}}},{"role":"employee","permission":{"columns":["MediaTypeId","Name"],"filter":{}}}]},{"table":{"schema":"public","name":"Playlist"},"array_relationships":[{"name":"PlaylistTracks","using":{"foreign_key_constraint_on":{"column":"PlaylistId","table":{"schema":"public","name":"PlaylistTrack"}}}}],"select_permissions":[{"role":"customer","permission":{"columns":["PlaylistId","Name"],"filter":{}}},{"role":"employee","permission":{"columns":["PlaylistId","Name"],"filter":{}}}]},{"table":{"schema":"public","name":"PlaylistTrack"},"object_relationships":[{"name":"Playlist","using":{"foreign_key_constraint_on":"PlaylistId"}},{"name":"Track","using":{"foreign_key_constraint_on":"TrackId"}}],"select_permissions":[{"role":"customer","permission":{"columns":["PlaylistId","TrackId"],"filter":{}}},{"role":"employee","permission":{"columns":["PlaylistId","TrackId"],"filter":{}}}]},{"table":{"schema":"public","name":"Track"},"object_relationships":[{"name":"Album","using":{"foreign_key_constraint_on":"AlbumId"}},{"name":"Genre","using":{"foreign_key_constraint_on":"GenreId"}},{"name":"MediaType","using":{"foreign_key_constraint_on":"MediaTypeId"}}],"array_relationships":[{"name":"InvoiceLines","using":{"foreign_key_constraint_on":{"column":"TrackId","table":{"schema":"public","name":"InvoiceLine"}}}},{"name":"PlaylistTracks","using":{"foreign_key_constraint_on":{"column":"TrackId","table":{"schema":"public","name":"PlaylistTrack"}}}}],"select_permissions":[{"role":"customer","permission":{"columns":["TrackId","Name","AlbumId","MediaTypeId","GenreId","Composer","Milliseconds","Bytes","UnitPrice"],"filter":{}}},{"role":"employee","permission":{"columns":["TrackId","Name","AlbumId","MediaTypeId","GenreId","Composer","Milliseconds","Bytes","UnitPrice"],"filter":{}}}]}],"configuration":{"connection_info":{"database_url":{"from_env":"HASURA_GRAPHQL_DATABASE_URL"},"pool_settings":{"retries":1,"idle_timeout":180,"max_connections":50}}}}}
