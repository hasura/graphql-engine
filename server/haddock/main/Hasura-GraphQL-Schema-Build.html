<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Hasura.GraphQL.Schema.Build</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">graphql-engine-1.0.0: GraphQL API over Postgres</span><ul class="links" id="page-menu"><li><a href="src/Hasura.GraphQL.Schema.Build.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Hasura.GraphQL.Schema.Build</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This module provides building blocks for the GraphQL Schema that the
 GraphQL Engine presents.</p><p>The functions defined here are used to serve as default implementations for
 their namesakes in the <code>BackendSchema</code> type class.</p><p>When, for some backend, you want to implement a new feature that manifests
 itself visibly in the schema (e.g., if you're developing support for update
 mutations), this module is likely where your efforts should start.</p><p>Using these functions help us present a consistent GraphQL schema across
 different backends.</p><p>There is a bit of tension however, as sometimes we intentionally do want the
 GraphQL Schema relating to some backend to be different in some way.</p><p>It could be that a backend only has limited support for some common feature,
 or, more interestingly, that some backend just does things differently (c.f.
 MSSQL's <code>MERGE</code> statement with PostgreSQL's <code>INSERT .. ON CONFLICT</code>, which
 are similar enough that we want to use the same overall upsert schema but
 different enough that we want to use different field names)</p><p>When you want to implement new schema for a backend, there is overall three
 different ways do deal with this tension:</p><ol><li>You can duplicate existing code and implement the new behavior in the
    duplicate.</li><li>You can infuse the new behavior into existing code and switch dynamically
    at runtime (or via type class instance dispatch, which is the same
    for our purposes)</li><li>You can refactor the existing building blocks and compose them differently
    at use sites to get the desired behavior nuances.</li></ol><p>Of these three, steps 1. and 2. are by far the easiest to execute, while 3.
 requires some critical thought. However, both 1. and 2. produce legacy code
 that is difficult to maintain and understand.</p><p>As a guideline, if you find yourself wanting add new behavior to some of
 these functions it's very likely that you should consider refactoring them
 instead, thus shifting the responsibility deciding on the correct behavior to
 use sites.</p><p>It an ongoing effort to adapt and refactor these building blocks such that
 they have the sizes and shapes that result in the most elegant uses of them
 that we can manage.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:setFieldNameCase">setFieldNameCase</a> :: <a href="Hasura-GraphQL-Schema-NamingCase.html#t:NamingCase" title="Hasura.GraphQL.Schema.NamingCase">NamingCase</a> -&gt; <a href="Hasura-RQL-Types-Table.html#t:TableInfo" title="Hasura.RQL.Types.Table">TableInfo</a> b -&gt; <a href="Hasura-RQL-Types-Table.html#t:CustomRootField" title="Hasura.RQL.Types.Table">CustomRootField</a> -&gt; (<a href="Data-Text-Casing.html#t:GQLNameIdentifier" title="Data.Text.Casing">GQLNameIdentifier</a> -&gt; <a href="Data-Text-Casing.html#t:GQLNameIdentifier" title="Data.Text.Casing">GQLNameIdentifier</a>) -&gt; <a href="Data-Text-Casing.html#t:GQLNameIdentifier" title="Data.Text.Casing">GQLNameIdentifier</a> -&gt; Name</li><li class="src short"><a href="#v:buildTableQueryAndSubscriptionFields">buildTableQueryAndSubscriptionFields</a> :: <span class="keyword">forall</span> b r m n. (<a href="Hasura-GraphQL-Schema-Backend.html#t:MonadBuildSchema" title="Hasura.GraphQL.Schema.Backend">MonadBuildSchema</a> b r m n, <a href="Hasura-GraphQL-Schema-BoolExp.html#t:AggregationPredicatesSchema" title="Hasura.GraphQL.Schema.BoolExp">AggregationPredicatesSchema</a> b, <a href="Hasura-GraphQL-Schema-Backend.html#t:BackendTableSelectSchema" title="Hasura.GraphQL.Schema.Backend">BackendTableSelectSchema</a> b) =&gt; <a href="Hasura-RQL-Types-SourceCustomization.html#t:MkRootFieldName" title="Hasura.RQL.Types.SourceCustomization">MkRootFieldName</a> -&gt; <a href="Hasura-RQL-Types-Source.html#t:SourceInfo" title="Hasura.RQL.Types.Source">SourceInfo</a> b -&gt; <a href="Hasura-RQL-Types-Backend.html#t:TableName" title="Hasura.RQL.Types.Backend">TableName</a> b -&gt; <a href="Hasura-RQL-Types-Table.html#t:TableInfo" title="Hasura.RQL.Types.Table">TableInfo</a> b -&gt; <a href="Hasura-Server-Types.html#t:StreamingSubscriptionsCtx" title="Hasura.Server.Types">StreamingSubscriptionsCtx</a> -&gt; <a href="Data-Text-Casing.html#t:GQLNameIdentifier" title="Data.Text.Casing">GQLNameIdentifier</a> -&gt; m ([<a href="Hasura-GraphQL-Schema-Parser.html#t:FieldParser" title="Hasura.GraphQL.Schema.Parser">FieldParser</a> n (<a href="Hasura-RQL-IR-Select.html#t:QueryDB" title="Hasura.RQL.IR.Select">QueryDB</a> b (<a href="Hasura-RQL-IR-Root.html#t:RemoteRelationshipField" title="Hasura.RQL.IR.Root">RemoteRelationshipField</a> <a href="Hasura-RQL-IR-Value.html#t:UnpreparedValue" title="Hasura.RQL.IR.Value">UnpreparedValue</a>) (<a href="Hasura-RQL-IR-Value.html#t:UnpreparedValue" title="Hasura.RQL.IR.Value">UnpreparedValue</a> b))], [<a href="Hasura-GraphQL-Schema-Parser.html#t:FieldParser" title="Hasura.GraphQL.Schema.Parser">FieldParser</a> n (<a href="Hasura-RQL-IR-Select.html#t:QueryDB" title="Hasura.RQL.IR.Select">QueryDB</a> b (<a href="Hasura-RQL-IR-Root.html#t:RemoteRelationshipField" title="Hasura.RQL.IR.Root">RemoteRelationshipField</a> <a href="Hasura-RQL-IR-Value.html#t:UnpreparedValue" title="Hasura.RQL.IR.Value">UnpreparedValue</a>) (<a href="Hasura-RQL-IR-Value.html#t:UnpreparedValue" title="Hasura.RQL.IR.Value">UnpreparedValue</a> b))], <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (Name, <a href="Hasura-GraphQL-Schema-Parser.html#t:Parser" title="Hasura.GraphQL.Schema.Parser">Parser</a> '<a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-8.10.7/hasura-schema-parsers-1.0.0/opt/doc/html/hasura-schema-parsers/Hasura-GraphQL-Parser-Schema.html#v:Output" title="Hasura.GraphQL.Parser.Schema">Output</a> n (<a href="Hasura-GraphQL-ApolloFederation.html#t:ApolloFederationParserFunction" title="Hasura.GraphQL.ApolloFederation">ApolloFederationParserFunction</a> n)))</li><li class="src short"><a href="#v:buildTableStreamingSubscriptionFields">buildTableStreamingSubscriptionFields</a> :: <span class="keyword">forall</span> b r m n. (<a href="Hasura-GraphQL-Schema-Backend.html#t:MonadBuildSchema" title="Hasura.GraphQL.Schema.Backend">MonadBuildSchema</a> b r m n, <a href="Hasura-GraphQL-Schema-BoolExp.html#t:AggregationPredicatesSchema" title="Hasura.GraphQL.Schema.BoolExp">AggregationPredicatesSchema</a> b, <a href="Hasura-GraphQL-Schema-Backend.html#t:BackendTableSelectSchema" title="Hasura.GraphQL.Schema.Backend">BackendTableSelectSchema</a> b) =&gt; <a href="Hasura-RQL-Types-SourceCustomization.html#t:MkRootFieldName" title="Hasura.RQL.Types.SourceCustomization">MkRootFieldName</a> -&gt; <a href="Hasura-RQL-Types-Source.html#t:SourceInfo" title="Hasura.RQL.Types.Source">SourceInfo</a> b -&gt; <a href="Hasura-RQL-Types-Backend.html#t:TableName" title="Hasura.RQL.Types.Backend">TableName</a> b -&gt; <a href="Hasura-RQL-Types-Table.html#t:TableInfo" title="Hasura.RQL.Types.Table">TableInfo</a> b -&gt; <a href="Data-Text-Casing.html#t:GQLNameIdentifier" title="Data.Text.Casing">GQLNameIdentifier</a> -&gt; m [<a href="Hasura-GraphQL-Schema-Parser.html#t:FieldParser" title="Hasura.GraphQL.Schema.Parser">FieldParser</a> n (<a href="Hasura-RQL-IR-Select.html#t:QueryDB" title="Hasura.RQL.IR.Select">QueryDB</a> b (<a href="Hasura-RQL-IR-Root.html#t:RemoteRelationshipField" title="Hasura.RQL.IR.Root">RemoteRelationshipField</a> <a href="Hasura-RQL-IR-Value.html#t:UnpreparedValue" title="Hasura.RQL.IR.Value">UnpreparedValue</a>) (<a href="Hasura-RQL-IR-Value.html#t:UnpreparedValue" title="Hasura.RQL.IR.Value">UnpreparedValue</a> b))]</li><li class="src short"><a href="#v:buildTableInsertMutationFields">buildTableInsertMutationFields</a> :: <span class="keyword">forall</span> b r m n. (<a href="Hasura-GraphQL-Schema-Backend.html#t:MonadBuildSchema" title="Hasura.GraphQL.Schema.Backend">MonadBuildSchema</a> b r m n, <a href="Hasura-GraphQL-Schema-Backend.html#t:BackendTableSelectSchema" title="Hasura.GraphQL.Schema.Backend">BackendTableSelectSchema</a> b) =&gt; (<a href="Hasura-RQL-Types-Source.html#t:SourceInfo" title="Hasura.RQL.Types.Source">SourceInfo</a> b -&gt; <a href="Hasura-RQL-Types-Table.html#t:TableInfo" title="Hasura.RQL.Types.Table">TableInfo</a> b -&gt; m (<a href="Hasura-GraphQL-Schema-Parser.html#t:InputFieldsParser" title="Hasura.GraphQL.Schema.Parser">InputFieldsParser</a> n (<a href="Hasura-RQL-Types-Backend.html#t:BackendInsert" title="Hasura.RQL.Types.Backend">BackendInsert</a> b (<a href="Hasura-RQL-IR-Value.html#t:UnpreparedValue" title="Hasura.RQL.IR.Value">UnpreparedValue</a> b)))) -&gt; <a href="Hasura-RQL-Types-SourceCustomization.html#t:MkRootFieldName" title="Hasura.RQL.Types.SourceCustomization">MkRootFieldName</a> -&gt; <a href="Hasura-GraphQL-Schema-Common.html#t:Scenario" title="Hasura.GraphQL.Schema.Common">Scenario</a> -&gt; <a href="Hasura-RQL-Types-Source.html#t:SourceInfo" title="Hasura.RQL.Types.Source">SourceInfo</a> b -&gt; <a href="Hasura-RQL-Types-Backend.html#t:TableName" title="Hasura.RQL.Types.Backend">TableName</a> b -&gt; <a href="Hasura-RQL-Types-Table.html#t:TableInfo" title="Hasura.RQL.Types.Table">TableInfo</a> b -&gt; <a href="Data-Text-Casing.html#t:GQLNameIdentifier" title="Data.Text.Casing">GQLNameIdentifier</a> -&gt; m [<a href="Hasura-GraphQL-Schema-Parser.html#t:FieldParser" title="Hasura.GraphQL.Schema.Parser">FieldParser</a> n (<a href="Hasura-RQL-IR-Insert.html#t:AnnotatedInsert" title="Hasura.RQL.IR.Insert">AnnotatedInsert</a> b (<a href="Hasura-RQL-IR-Root.html#t:RemoteRelationshipField" title="Hasura.RQL.IR.Root">RemoteRelationshipField</a> <a href="Hasura-RQL-IR-Value.html#t:UnpreparedValue" title="Hasura.RQL.IR.Value">UnpreparedValue</a>) (<a href="Hasura-RQL-IR-Value.html#t:UnpreparedValue" title="Hasura.RQL.IR.Value">UnpreparedValue</a> b))]</li><li class="src short"><a href="#v:buildTableUpdateMutationFields">buildTableUpdateMutationFields</a> :: <span class="keyword">forall</span> b r m n. (<a href="Hasura-GraphQL-Schema-Backend.html#t:MonadBuildSchema" title="Hasura.GraphQL.Schema.Backend">MonadBuildSchema</a> b r m n, <a href="Hasura-GraphQL-Schema-BoolExp.html#t:AggregationPredicatesSchema" title="Hasura.GraphQL.Schema.BoolExp">AggregationPredicatesSchema</a> b, <a href="Hasura-GraphQL-Schema-Backend.html#t:BackendTableSelectSchema" title="Hasura.GraphQL.Schema.Backend">BackendTableSelectSchema</a> b) =&gt; (<a href="Hasura-RQL-Types-Table.html#t:TableInfo" title="Hasura.RQL.Types.Table">TableInfo</a> b -&gt; m (<a href="Hasura-GraphQL-Schema-Parser.html#t:InputFieldsParser" title="Hasura.GraphQL.Schema.Parser">InputFieldsParser</a> n (<a href="Hasura-RQL-Types-Backend.html#t:BackendUpdate" title="Hasura.RQL.Types.Backend">BackendUpdate</a> b (<a href="Hasura-RQL-IR-Value.html#t:UnpreparedValue" title="Hasura.RQL.IR.Value">UnpreparedValue</a> b)))) -&gt; <a href="Hasura-RQL-Types-SourceCustomization.html#t:MkRootFieldName" title="Hasura.RQL.Types.SourceCustomization">MkRootFieldName</a> -&gt; <a href="Hasura-GraphQL-Schema-Common.html#t:Scenario" title="Hasura.GraphQL.Schema.Common">Scenario</a> -&gt; <a href="Hasura-RQL-Types-Source.html#t:SourceInfo" title="Hasura.RQL.Types.Source">SourceInfo</a> b -&gt; <a href="Hasura-RQL-Types-Backend.html#t:TableName" title="Hasura.RQL.Types.Backend">TableName</a> b -&gt; <a href="Hasura-RQL-Types-Table.html#t:TableInfo" title="Hasura.RQL.Types.Table">TableInfo</a> b -&gt; <a href="Data-Text-Casing.html#t:GQLNameIdentifier" title="Data.Text.Casing">GQLNameIdentifier</a> -&gt; m [<a href="Hasura-GraphQL-Schema-Parser.html#t:FieldParser" title="Hasura.GraphQL.Schema.Parser">FieldParser</a> n (<a href="Hasura-RQL-IR-Update.html#t:AnnotatedUpdateG" title="Hasura.RQL.IR.Update">AnnotatedUpdateG</a> b (<a href="Hasura-RQL-IR-Root.html#t:RemoteRelationshipField" title="Hasura.RQL.IR.Root">RemoteRelationshipField</a> <a href="Hasura-RQL-IR-Value.html#t:UnpreparedValue" title="Hasura.RQL.IR.Value">UnpreparedValue</a>) (<a href="Hasura-RQL-IR-Value.html#t:UnpreparedValue" title="Hasura.RQL.IR.Value">UnpreparedValue</a> b))]</li><li class="src short"><a href="#v:buildTableDeleteMutationFields">buildTableDeleteMutationFields</a> :: <span class="keyword">forall</span> b r m n. (<a href="Hasura-GraphQL-Schema-Backend.html#t:MonadBuildSchema" title="Hasura.GraphQL.Schema.Backend">MonadBuildSchema</a> b r m n, <a href="Hasura-GraphQL-Schema-BoolExp.html#t:AggregationPredicatesSchema" title="Hasura.GraphQL.Schema.BoolExp">AggregationPredicatesSchema</a> b, <a href="Hasura-GraphQL-Schema-Backend.html#t:BackendTableSelectSchema" title="Hasura.GraphQL.Schema.Backend">BackendTableSelectSchema</a> b) =&gt; <a href="Hasura-RQL-Types-SourceCustomization.html#t:MkRootFieldName" title="Hasura.RQL.Types.SourceCustomization">MkRootFieldName</a> -&gt; <a href="Hasura-GraphQL-Schema-Common.html#t:Scenario" title="Hasura.GraphQL.Schema.Common">Scenario</a> -&gt; <a href="Hasura-RQL-Types-Source.html#t:SourceInfo" title="Hasura.RQL.Types.Source">SourceInfo</a> b -&gt; <a href="Hasura-RQL-Types-Backend.html#t:TableName" title="Hasura.RQL.Types.Backend">TableName</a> b -&gt; <a href="Hasura-RQL-Types-Table.html#t:TableInfo" title="Hasura.RQL.Types.Table">TableInfo</a> b -&gt; <a href="Data-Text-Casing.html#t:GQLNameIdentifier" title="Data.Text.Casing">GQLNameIdentifier</a> -&gt; m [<a href="Hasura-GraphQL-Schema-Parser.html#t:FieldParser" title="Hasura.GraphQL.Schema.Parser">FieldParser</a> n (<a href="Hasura-RQL-IR-Delete.html#t:AnnDelG" title="Hasura.RQL.IR.Delete">AnnDelG</a> b (<a href="Hasura-RQL-IR-Root.html#t:RemoteRelationshipField" title="Hasura.RQL.IR.Root">RemoteRelationshipField</a> <a href="Hasura-RQL-IR-Value.html#t:UnpreparedValue" title="Hasura.RQL.IR.Value">UnpreparedValue</a>) (<a href="Hasura-RQL-IR-Value.html#t:UnpreparedValue" title="Hasura.RQL.IR.Value">UnpreparedValue</a> b))]</li><li class="src short"><a href="#v:buildFieldDescription">buildFieldDescription</a> :: Text -&gt; <a href="Hasura-RQL-Types-Common.html#t:Comment" title="Hasura.RQL.Types.Common">Comment</a> -&gt; <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> Description</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:setFieldNameCase" class="def">setFieldNameCase</a> :: <a href="Hasura-GraphQL-Schema-NamingCase.html#t:NamingCase" title="Hasura.GraphQL.Schema.NamingCase">NamingCase</a> -&gt; <a href="Hasura-RQL-Types-Table.html#t:TableInfo" title="Hasura.RQL.Types.Table">TableInfo</a> b -&gt; <a href="Hasura-RQL-Types-Table.html#t:CustomRootField" title="Hasura.RQL.Types.Table">CustomRootField</a> -&gt; (<a href="Data-Text-Casing.html#t:GQLNameIdentifier" title="Data.Text.Casing">GQLNameIdentifier</a> -&gt; <a href="Data-Text-Casing.html#t:GQLNameIdentifier" title="Data.Text.Casing">GQLNameIdentifier</a>) -&gt; <a href="Data-Text-Casing.html#t:GQLNameIdentifier" title="Data.Text.Casing">GQLNameIdentifier</a> -&gt; Name <a href="src/Hasura.GraphQL.Schema.Build.html#setFieldNameCase" class="link">Source</a> <a href="#v:setFieldNameCase" class="selflink">#</a></p><div class="doc"><p>Builds field name with proper case. Please note that this is a pure
   function as all the validation has already been done while preparing
   <code>GQLNameIdentifier</code>.</p></div></div><div class="top"><p class="src"><a id="v:buildTableQueryAndSubscriptionFields" class="def">buildTableQueryAndSubscriptionFields</a> :: <span class="keyword">forall</span> b r m n. (<a href="Hasura-GraphQL-Schema-Backend.html#t:MonadBuildSchema" title="Hasura.GraphQL.Schema.Backend">MonadBuildSchema</a> b r m n, <a href="Hasura-GraphQL-Schema-BoolExp.html#t:AggregationPredicatesSchema" title="Hasura.GraphQL.Schema.BoolExp">AggregationPredicatesSchema</a> b, <a href="Hasura-GraphQL-Schema-Backend.html#t:BackendTableSelectSchema" title="Hasura.GraphQL.Schema.Backend">BackendTableSelectSchema</a> b) =&gt; <a href="Hasura-RQL-Types-SourceCustomization.html#t:MkRootFieldName" title="Hasura.RQL.Types.SourceCustomization">MkRootFieldName</a> -&gt; <a href="Hasura-RQL-Types-Source.html#t:SourceInfo" title="Hasura.RQL.Types.Source">SourceInfo</a> b -&gt; <a href="Hasura-RQL-Types-Backend.html#t:TableName" title="Hasura.RQL.Types.Backend">TableName</a> b -&gt; <a href="Hasura-RQL-Types-Table.html#t:TableInfo" title="Hasura.RQL.Types.Table">TableInfo</a> b -&gt; <a href="Hasura-Server-Types.html#t:StreamingSubscriptionsCtx" title="Hasura.Server.Types">StreamingSubscriptionsCtx</a> -&gt; <a href="Data-Text-Casing.html#t:GQLNameIdentifier" title="Data.Text.Casing">GQLNameIdentifier</a> -&gt; m ([<a href="Hasura-GraphQL-Schema-Parser.html#t:FieldParser" title="Hasura.GraphQL.Schema.Parser">FieldParser</a> n (<a href="Hasura-RQL-IR-Select.html#t:QueryDB" title="Hasura.RQL.IR.Select">QueryDB</a> b (<a href="Hasura-RQL-IR-Root.html#t:RemoteRelationshipField" title="Hasura.RQL.IR.Root">RemoteRelationshipField</a> <a href="Hasura-RQL-IR-Value.html#t:UnpreparedValue" title="Hasura.RQL.IR.Value">UnpreparedValue</a>) (<a href="Hasura-RQL-IR-Value.html#t:UnpreparedValue" title="Hasura.RQL.IR.Value">UnpreparedValue</a> b))], [<a href="Hasura-GraphQL-Schema-Parser.html#t:FieldParser" title="Hasura.GraphQL.Schema.Parser">FieldParser</a> n (<a href="Hasura-RQL-IR-Select.html#t:QueryDB" title="Hasura.RQL.IR.Select">QueryDB</a> b (<a href="Hasura-RQL-IR-Root.html#t:RemoteRelationshipField" title="Hasura.RQL.IR.Root">RemoteRelationshipField</a> <a href="Hasura-RQL-IR-Value.html#t:UnpreparedValue" title="Hasura.RQL.IR.Value">UnpreparedValue</a>) (<a href="Hasura-RQL-IR-Value.html#t:UnpreparedValue" title="Hasura.RQL.IR.Value">UnpreparedValue</a> b))], <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> (Name, <a href="Hasura-GraphQL-Schema-Parser.html#t:Parser" title="Hasura.GraphQL.Schema.Parser">Parser</a> '<a href="file:///workdir/dist-newstyle/build/x86_64-linux/ghc-8.10.7/hasura-schema-parsers-1.0.0/opt/doc/html/hasura-schema-parsers/Hasura-GraphQL-Parser-Schema.html#v:Output" title="Hasura.GraphQL.Parser.Schema">Output</a> n (<a href="Hasura-GraphQL-ApolloFederation.html#t:ApolloFederationParserFunction" title="Hasura.GraphQL.ApolloFederation">ApolloFederationParserFunction</a> n))) <a href="src/Hasura.GraphQL.Schema.Build.html#buildTableQueryAndSubscriptionFields" class="link">Source</a> <a href="#v:buildTableQueryAndSubscriptionFields" class="selflink">#</a></p><div class="doc"><p>buildTableQueryAndSubscriptionFields builds the field parsers of a table.
   It returns a tuple with array of field parsers that correspond to the field
   parsers of the query root and the field parsers of the subscription root</p></div></div><div class="top"><p class="src"><a id="v:buildTableStreamingSubscriptionFields" class="def">buildTableStreamingSubscriptionFields</a> :: <span class="keyword">forall</span> b r m n. (<a href="Hasura-GraphQL-Schema-Backend.html#t:MonadBuildSchema" title="Hasura.GraphQL.Schema.Backend">MonadBuildSchema</a> b r m n, <a href="Hasura-GraphQL-Schema-BoolExp.html#t:AggregationPredicatesSchema" title="Hasura.GraphQL.Schema.BoolExp">AggregationPredicatesSchema</a> b, <a href="Hasura-GraphQL-Schema-Backend.html#t:BackendTableSelectSchema" title="Hasura.GraphQL.Schema.Backend">BackendTableSelectSchema</a> b) =&gt; <a href="Hasura-RQL-Types-SourceCustomization.html#t:MkRootFieldName" title="Hasura.RQL.Types.SourceCustomization">MkRootFieldName</a> -&gt; <a href="Hasura-RQL-Types-Source.html#t:SourceInfo" title="Hasura.RQL.Types.Source">SourceInfo</a> b -&gt; <a href="Hasura-RQL-Types-Backend.html#t:TableName" title="Hasura.RQL.Types.Backend">TableName</a> b -&gt; <a href="Hasura-RQL-Types-Table.html#t:TableInfo" title="Hasura.RQL.Types.Table">TableInfo</a> b -&gt; <a href="Data-Text-Casing.html#t:GQLNameIdentifier" title="Data.Text.Casing">GQLNameIdentifier</a> -&gt; m [<a href="Hasura-GraphQL-Schema-Parser.html#t:FieldParser" title="Hasura.GraphQL.Schema.Parser">FieldParser</a> n (<a href="Hasura-RQL-IR-Select.html#t:QueryDB" title="Hasura.RQL.IR.Select">QueryDB</a> b (<a href="Hasura-RQL-IR-Root.html#t:RemoteRelationshipField" title="Hasura.RQL.IR.Root">RemoteRelationshipField</a> <a href="Hasura-RQL-IR-Value.html#t:UnpreparedValue" title="Hasura.RQL.IR.Value">UnpreparedValue</a>) (<a href="Hasura-RQL-IR-Value.html#t:UnpreparedValue" title="Hasura.RQL.IR.Value">UnpreparedValue</a> b))] <a href="src/Hasura.GraphQL.Schema.Build.html#buildTableStreamingSubscriptionFields" class="link">Source</a> <a href="#v:buildTableStreamingSubscriptionFields" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:buildTableInsertMutationFields" class="def">buildTableInsertMutationFields</a> :: <span class="keyword">forall</span> b r m n. (<a href="Hasura-GraphQL-Schema-Backend.html#t:MonadBuildSchema" title="Hasura.GraphQL.Schema.Backend">MonadBuildSchema</a> b r m n, <a href="Hasura-GraphQL-Schema-Backend.html#t:BackendTableSelectSchema" title="Hasura.GraphQL.Schema.Backend">BackendTableSelectSchema</a> b) =&gt; (<a href="Hasura-RQL-Types-Source.html#t:SourceInfo" title="Hasura.RQL.Types.Source">SourceInfo</a> b -&gt; <a href="Hasura-RQL-Types-Table.html#t:TableInfo" title="Hasura.RQL.Types.Table">TableInfo</a> b -&gt; m (<a href="Hasura-GraphQL-Schema-Parser.html#t:InputFieldsParser" title="Hasura.GraphQL.Schema.Parser">InputFieldsParser</a> n (<a href="Hasura-RQL-Types-Backend.html#t:BackendInsert" title="Hasura.RQL.Types.Backend">BackendInsert</a> b (<a href="Hasura-RQL-IR-Value.html#t:UnpreparedValue" title="Hasura.RQL.IR.Value">UnpreparedValue</a> b)))) -&gt; <a href="Hasura-RQL-Types-SourceCustomization.html#t:MkRootFieldName" title="Hasura.RQL.Types.SourceCustomization">MkRootFieldName</a> -&gt; <a href="Hasura-GraphQL-Schema-Common.html#t:Scenario" title="Hasura.GraphQL.Schema.Common">Scenario</a> -&gt; <a href="Hasura-RQL-Types-Source.html#t:SourceInfo" title="Hasura.RQL.Types.Source">SourceInfo</a> b -&gt; <a href="Hasura-RQL-Types-Backend.html#t:TableName" title="Hasura.RQL.Types.Backend">TableName</a> b -&gt; <a href="Hasura-RQL-Types-Table.html#t:TableInfo" title="Hasura.RQL.Types.Table">TableInfo</a> b -&gt; <a href="Data-Text-Casing.html#t:GQLNameIdentifier" title="Data.Text.Casing">GQLNameIdentifier</a> -&gt; m [<a href="Hasura-GraphQL-Schema-Parser.html#t:FieldParser" title="Hasura.GraphQL.Schema.Parser">FieldParser</a> n (<a href="Hasura-RQL-IR-Insert.html#t:AnnotatedInsert" title="Hasura.RQL.IR.Insert">AnnotatedInsert</a> b (<a href="Hasura-RQL-IR-Root.html#t:RemoteRelationshipField" title="Hasura.RQL.IR.Root">RemoteRelationshipField</a> <a href="Hasura-RQL-IR-Value.html#t:UnpreparedValue" title="Hasura.RQL.IR.Value">UnpreparedValue</a>) (<a href="Hasura-RQL-IR-Value.html#t:UnpreparedValue" title="Hasura.RQL.IR.Value">UnpreparedValue</a> b))] <a href="src/Hasura.GraphQL.Schema.Build.html#buildTableInsertMutationFields" class="link">Source</a> <a href="#v:buildTableInsertMutationFields" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:buildTableUpdateMutationFields" class="def">buildTableUpdateMutationFields</a> <a href="src/Hasura.GraphQL.Schema.Build.html#buildTableUpdateMutationFields" class="link">Source</a> <a href="#v:buildTableUpdateMutationFields" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <span class="keyword">forall</span> b r m n. (<a href="Hasura-GraphQL-Schema-Backend.html#t:MonadBuildSchema" title="Hasura.GraphQL.Schema.Backend">MonadBuildSchema</a> b r m n, <a href="Hasura-GraphQL-Schema-BoolExp.html#t:AggregationPredicatesSchema" title="Hasura.GraphQL.Schema.BoolExp">AggregationPredicatesSchema</a> b, <a href="Hasura-GraphQL-Schema-Backend.html#t:BackendTableSelectSchema" title="Hasura.GraphQL.Schema.Backend">BackendTableSelectSchema</a> b)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; (<a href="Hasura-RQL-Types-Table.html#t:TableInfo" title="Hasura.RQL.Types.Table">TableInfo</a> b -&gt; m (<a href="Hasura-GraphQL-Schema-Parser.html#t:InputFieldsParser" title="Hasura.GraphQL.Schema.Parser">InputFieldsParser</a> n (<a href="Hasura-RQL-Types-Backend.html#t:BackendUpdate" title="Hasura.RQL.Types.Backend">BackendUpdate</a> b (<a href="Hasura-RQL-IR-Value.html#t:UnpreparedValue" title="Hasura.RQL.IR.Value">UnpreparedValue</a> b))))</td><td class="doc"><p>an action that builds <code>BackendUpdate</code> with the
 backend-specific data needed to perform an update mutation</p></td></tr><tr><td class="src">-&gt; <a href="Hasura-RQL-Types-SourceCustomization.html#t:MkRootFieldName" title="Hasura.RQL.Types.SourceCustomization">MkRootFieldName</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Hasura-GraphQL-Schema-Common.html#t:Scenario" title="Hasura.GraphQL.Schema.Common">Scenario</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="Hasura-RQL-Types-Source.html#t:SourceInfo" title="Hasura.RQL.Types.Source">SourceInfo</a> b</td><td class="doc"><p>The source that the table lives in</p></td></tr><tr><td class="src">-&gt; <a href="Hasura-RQL-Types-Backend.html#t:TableName" title="Hasura.RQL.Types.Backend">TableName</a> b</td><td class="doc"><p>The name of the table being acted on</p></td></tr><tr><td class="src">-&gt; <a href="Hasura-RQL-Types-Table.html#t:TableInfo" title="Hasura.RQL.Types.Table">TableInfo</a> b</td><td class="doc"><p>table info</p></td></tr><tr><td class="src">-&gt; <a href="Data-Text-Casing.html#t:GQLNameIdentifier" title="Data.Text.Casing">GQLNameIdentifier</a></td><td class="doc"><p>field display name</p></td></tr><tr><td class="src">-&gt; m [<a href="Hasura-GraphQL-Schema-Parser.html#t:FieldParser" title="Hasura.GraphQL.Schema.Parser">FieldParser</a> n (<a href="Hasura-RQL-IR-Update.html#t:AnnotatedUpdateG" title="Hasura.RQL.IR.Update">AnnotatedUpdateG</a> b (<a href="Hasura-RQL-IR-Root.html#t:RemoteRelationshipField" title="Hasura.RQL.IR.Root">RemoteRelationshipField</a> <a href="Hasura-RQL-IR-Value.html#t:UnpreparedValue" title="Hasura.RQL.IR.Value">UnpreparedValue</a>) (<a href="Hasura-RQL-IR-Value.html#t:UnpreparedValue" title="Hasura.RQL.IR.Value">UnpreparedValue</a> b))]</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>This function is the basic building block for update mutations. It
 implements the mutation schema in the general shape described in
 <code><a href="https://hasura.io/docs/latest/graphql/core/databases/postgres/mutations/update.html">https://hasura.io/docs/latest/graphql/core/databases/postgres/mutations/update.html</a></code>.</p><p>Something that varies between backends is the <code>update operators</code> that they
 support (i.e. the schema fields <code>_set</code>, <code>_inc</code>, etc., see
 <a href="src/Hasura.Backends.Postgres.Instances.Schema.html#updateOperators">Hasura.Backends.Postgres.Instances.Schema.updateOperators</a> for an example
 implementation). Therefore, this function is parameterised over a monadic
 action that produces the operators that the backend supports in the context
 of some table and associated update permissions.</p><p>Apart from this detail, the rest of the arguments are the same as those
 of <code>BackendSchema.</code><code><a href="Hasura-GraphQL-Schema-Backend.html#v:buildTableUpdateMutationFields" title="Hasura.GraphQL.Schema.Backend">buildTableUpdateMutationFields</a></code>.</p><p>The suggested way to use this is like:</p><pre>instance BackendSchema MyBackend where
  ...
  buildTableUpdateMutationFields = GSB.buildTableUpdateMutationFields myBackendUpdateOperators
  ...</pre></div></div><div class="top"><p class="src"><a id="v:buildTableDeleteMutationFields" class="def">buildTableDeleteMutationFields</a> :: <span class="keyword">forall</span> b r m n. (<a href="Hasura-GraphQL-Schema-Backend.html#t:MonadBuildSchema" title="Hasura.GraphQL.Schema.Backend">MonadBuildSchema</a> b r m n, <a href="Hasura-GraphQL-Schema-BoolExp.html#t:AggregationPredicatesSchema" title="Hasura.GraphQL.Schema.BoolExp">AggregationPredicatesSchema</a> b, <a href="Hasura-GraphQL-Schema-Backend.html#t:BackendTableSelectSchema" title="Hasura.GraphQL.Schema.Backend">BackendTableSelectSchema</a> b) =&gt; <a href="Hasura-RQL-Types-SourceCustomization.html#t:MkRootFieldName" title="Hasura.RQL.Types.SourceCustomization">MkRootFieldName</a> -&gt; <a href="Hasura-GraphQL-Schema-Common.html#t:Scenario" title="Hasura.GraphQL.Schema.Common">Scenario</a> -&gt; <a href="Hasura-RQL-Types-Source.html#t:SourceInfo" title="Hasura.RQL.Types.Source">SourceInfo</a> b -&gt; <a href="Hasura-RQL-Types-Backend.html#t:TableName" title="Hasura.RQL.Types.Backend">TableName</a> b -&gt; <a href="Hasura-RQL-Types-Table.html#t:TableInfo" title="Hasura.RQL.Types.Table">TableInfo</a> b -&gt; <a href="Data-Text-Casing.html#t:GQLNameIdentifier" title="Data.Text.Casing">GQLNameIdentifier</a> -&gt; m [<a href="Hasura-GraphQL-Schema-Parser.html#t:FieldParser" title="Hasura.GraphQL.Schema.Parser">FieldParser</a> n (<a href="Hasura-RQL-IR-Delete.html#t:AnnDelG" title="Hasura.RQL.IR.Delete">AnnDelG</a> b (<a href="Hasura-RQL-IR-Root.html#t:RemoteRelationshipField" title="Hasura.RQL.IR.Root">RemoteRelationshipField</a> <a href="Hasura-RQL-IR-Value.html#t:UnpreparedValue" title="Hasura.RQL.IR.Value">UnpreparedValue</a>) (<a href="Hasura-RQL-IR-Value.html#t:UnpreparedValue" title="Hasura.RQL.IR.Value">UnpreparedValue</a> b))] <a href="src/Hasura.GraphQL.Schema.Build.html#buildTableDeleteMutationFields" class="link">Source</a> <a href="#v:buildTableDeleteMutationFields" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:buildFieldDescription" class="def">buildFieldDescription</a> :: Text -&gt; <a href="Hasura-RQL-Types-Common.html#t:Comment" title="Hasura.RQL.Types.Common">Comment</a> -&gt; <a href="file:///root/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Maybe.html#t:Maybe" title="Data.Maybe">Maybe</a> Description <a href="src/Hasura.GraphQL.Schema.Build.html#buildFieldDescription" class="link">Source</a> <a href="#v:buildFieldDescription" class="selflink">#</a></p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.24.2</p></div></body></html>