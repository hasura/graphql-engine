<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE TemplateHaskell #-}</span><span>
</span><span id="line-2"></span><span>
</span><span id="line-3"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Hasura.GraphQL.RemoteServer</span><span>
</span><span id="line-4"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#fetchRemoteSchema"><span class="hs-identifier">fetchRemoteSchema</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-5"></span><span>    </span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#execRemoteGQ"><span class="hs-identifier">execRemoteGQ</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-6"></span><span>  </span><span class="hs-special">)</span><span>
</span><span id="line-7"></span><span class="hs-keyword">where</span><span>
</span><span id="line-8"></span><span>
</span><span id="line-9"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Control.Arrow.Extended.html"><span class="hs-identifier">Control.Arrow.Extended</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">left</span></span><span class="hs-special">)</span><span>
</span><span id="line-10"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Exception</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">try</span></span><span class="hs-special">)</span><span>
</span><span id="line-11"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Lens</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">set</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-operator">(^.)</span></span><span class="hs-special">)</span><span>
</span><span id="line-12"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Aeson</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-operator">(.:)</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-operator">(.:?)</span></span><span class="hs-special">)</span><span>
</span><span id="line-13"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Aeson</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">J</span></span><span>
</span><span id="line-14"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.ByteString.Lazy</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">BL</span></span><span>
</span><span id="line-15"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.Environment.html"><span class="hs-identifier">Data.Environment</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Env</span></span><span>
</span><span id="line-16"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.FileEmbed</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">makeRelativeToProject</span></span><span class="hs-special">)</span><span>
</span><span id="line-17"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.HashMap.Strict.Extended.html"><span class="hs-identifier">Data.HashMap.Strict.Extended</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Map</span></span><span>
</span><span id="line-18"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.HashSet</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Set</span></span><span>
</span><span id="line-19"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.List.Extended.html"><span class="hs-identifier">Data.List.Extended</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.List.Extended.html#duplicates"><span class="hs-identifier">duplicates</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-20"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Text</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">T</span></span><span>
</span><span id="line-21"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Data.Text.Extended.html"><span class="hs-identifier">Data.Text.Extended</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.Text.Extended.html#dquoteList"><span class="hs-identifier">dquoteList</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Data.Text.Extended.html#%3C%3C%3E"><span class="hs-operator">(&lt;&lt;&gt;)</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-22"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.Base.Error.html"><span class="hs-identifier">Hasura.Base.Error</span></a></span><span>
</span><span id="line-23"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Parser.Monad.html"><span class="hs-identifier">Hasura.GraphQL.Parser.Monad</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.Parser.Monad.html#Parse"><span class="hs-identifier">Parse</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Parser.Monad.html#runSchemaT"><span class="hs-identifier">runSchemaT</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-24"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Parser.Name.html"><span class="hs-identifier">Hasura.GraphQL.Parser.Name</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">GName</span></span><span>
</span><span id="line-25"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Schema.Common.html"><span class="hs-identifier">Hasura.GraphQL.Schema.Common</span></a></span><span>
</span><span id="line-26"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Schema.Remote.html"><span class="hs-identifier">Hasura.GraphQL.Schema.Remote</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.Schema.Remote.html#buildRemoteParser"><span class="hs-identifier">buildRemoteParser</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-27"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Transport.HTTP.Protocol.html"><span class="hs-identifier">Hasura.GraphQL.Transport.HTTP.Protocol</span></a></span><span>
</span><span id="line-28"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.HTTP.html"><span class="hs-identifier">Hasura.HTTP</span></a></span><span>
</span><span id="line-29"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.Prelude.html"><span class="hs-identifier">Hasura.Prelude</span></a></span><span>
</span><span id="line-30"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.DDL.Headers.html"><span class="hs-identifier">Hasura.RQL.DDL.Headers</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.DDL.Headers.html#makeHeadersFromConf"><span class="hs-identifier">makeHeadersFromConf</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-31"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Common.html"><span class="hs-identifier">Hasura.RQL.Types.Common</span></a></span><span>
</span><span id="line-32"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.Function.html"><span class="hs-identifier">Hasura.RQL.Types.Function</span></a></span><span>
</span><span id="line-33"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.RemoteSchema.html"><span class="hs-identifier">Hasura.RQL.Types.RemoteSchema</span></a></span><span>
</span><span id="line-34"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.SchemaCache.html"><span class="hs-identifier">Hasura.RQL.Types.SchemaCache</span></a></span><span>
</span><span id="line-35"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.SourceCustomization.html"><span class="hs-identifier">Hasura.RQL.Types.SourceCustomization</span></a></span><span>
</span><span id="line-36"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.Server.Utils.html"><span class="hs-identifier">Hasura.Server.Utils</span></a></span><span>
</span><span id="line-37"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.Session.html"><span class="hs-identifier">Hasura.Session</span></a></span><span>
</span><span id="line-38"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Hasura.Tracing.html"><span class="hs-identifier">Hasura.Tracing</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Tracing</span></span><span>
</span><span id="line-39"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Language.GraphQL.Draft.Parser</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">G</span></span><span>
</span><span id="line-40"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Language.GraphQL.Draft.Syntax</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">G</span></span><span>
</span><span id="line-41"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Language.Haskell.TH.Syntax</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">TH</span></span><span>
</span><span id="line-42"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="Network.HTTP.Client.Transformable.html"><span class="hs-identifier">Network.HTTP.Client.Transformable</span></a></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">HTTP</span></span><span>
</span><span id="line-43"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Network.URI</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">URI</span></span><span class="hs-special">)</span><span>
</span><span id="line-44"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Network.Wreq</span></span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">Wreq</span></span><span>
</span><span id="line-45"></span><span>
</span><span id="line-46"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-47"></span><span class="hs-comment">-- Core API</span><span>
</span><span id="line-48"></span><span>
</span><span id="line-49"></span><span class="hs-comment">-- | Make an introspection query to the remote graphql server for the data we</span><span>
</span><span id="line-50"></span><span class="hs-comment">-- need to present and stitch the remote schema. This powers add_remote_schema,</span><span>
</span><span id="line-51"></span><span class="hs-comment">-- and also is called by schema cache rebuilding code in &quot;Hasura.RQL.DDL.Schema.Cache&quot;.</span><span>
</span><span id="line-52"></span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#fetchRemoteSchema"><span class="hs-identifier hs-type">fetchRemoteSchema</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-53"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621689205920"><span class="annot"><a href="#local-6989586621689205920"><span class="hs-identifier hs-type">m</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-54"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621689205920"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadError</span></span><span> </span><span class="annot"><a href="Hasura.Base.Error.html#QErr"><span class="hs-identifier hs-type">QErr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689205920"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="Hasura.Tracing.html#MonadTrace"><span class="hs-identifier hs-type">Tracing.MonadTrace</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689205920"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-55"></span><span>  </span><span class="annot"><a href="Data.Environment.html#Environment"><span class="hs-identifier hs-type">Env.Environment</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-56"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">HTTP.Manager</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-57"></span><span>  </span><span class="annot"><a href="Hasura.RQL.Types.RemoteSchema.html#RemoteSchemaName"><span class="hs-identifier hs-type">RemoteSchemaName</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-58"></span><span>  </span><span class="annot"><a href="Hasura.RQL.Types.RemoteSchema.html#ValidatedRemoteSchemaDef"><span class="hs-identifier hs-type">ValidatedRemoteSchemaDef</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-59"></span><span>  </span><span class="annot"><a href="#local-6989586621689205920"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="Hasura.RQL.Types.SchemaCache.html#RemoteSchemaCtx"><span class="hs-identifier hs-type">RemoteSchemaCtx</span></a></span><span>
</span><span id="line-60"></span><span id="fetchRemoteSchema"><span class="annot"><span class="annottext">fetchRemoteSchema :: Environment
-&gt; Manager
-&gt; RemoteSchemaName
-&gt; ValidatedRemoteSchemaDef
-&gt; m RemoteSchemaCtx
</span><a href="Hasura.GraphQL.RemoteServer.html#fetchRemoteSchema"><span class="hs-identifier hs-var hs-var">fetchRemoteSchema</span></a></span></span><span> </span><span id="local-6989586621689205919"><span class="annot"><span class="annottext">Environment
</span><a href="#local-6989586621689205919"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span id="local-6989586621689205918"><span class="annot"><span class="annottext">Manager
</span><a href="#local-6989586621689205918"><span class="hs-identifier hs-var">manager</span></a></span></span><span> </span><span id="local-6989586621689205917"><span class="annot"><span class="annottext">RemoteSchemaName
</span><a href="#local-6989586621689205917"><span class="hs-identifier hs-var">_rscName</span></a></span></span><span> </span><span id="local-6989586621689205916"><span class="annot"><span class="annottext">rsDef :: ValidatedRemoteSchemaDef
</span><a href="#local-6989586621689205916"><span class="hs-identifier hs-var">rsDef</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><a href="Hasura.RQL.Types.RemoteSchema.html#ValidatedRemoteSchemaDef"><span class="hs-identifier hs-type">ValidatedRemoteSchemaDef</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621689205910"><span id="local-6989586621689205911"><span id="local-6989586621689205912"><span id="local-6989586621689205913"><span id="local-6989586621689205914"><span class="annot"><span class="annottext">Bool
Int
[HeaderConf]
Maybe RemoteSchemaCustomization
EnvRecord URI
_vrsdCustomization :: ValidatedRemoteSchemaDef -&gt; Maybe RemoteSchemaCustomization
_vrsdTimeoutSeconds :: ValidatedRemoteSchemaDef -&gt; Int
_vrsdFwdClientHeaders :: ValidatedRemoteSchemaDef -&gt; Bool
_vrsdHeaders :: ValidatedRemoteSchemaDef -&gt; [HeaderConf]
_vrsdUrl :: ValidatedRemoteSchemaDef -&gt; EnvRecord URI
_vrsdCustomization :: Maybe RemoteSchemaCustomization
_vrsdTimeoutSeconds :: Int
_vrsdFwdClientHeaders :: Bool
_vrsdHeaders :: [HeaderConf]
_vrsdUrl :: EnvRecord URI
</span><a href="Hasura.RQL.Types.RemoteSchema.html#_vrsdCustomization"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-61"></span><span>  </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DiffTime
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Header]
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621689205904"><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621689205904"><span class="hs-identifier hs-var">_rscRawIntrospectionResult</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-62"></span><span>    </span><span class="annot"><span class="annottext">Environment
-&gt; Manager
-&gt; UserInfo
-&gt; [Header]
-&gt; ValidatedRemoteSchemaDef
-&gt; GQLReqOutgoing
-&gt; m (DiffTime, [Header], ByteString)
forall (m :: * -&gt; *).
(MonadIO m, MonadError QErr m, MonadTrace m) =&gt;
Environment
-&gt; Manager
-&gt; UserInfo
-&gt; [Header]
-&gt; ValidatedRemoteSchemaDef
-&gt; GQLReqOutgoing
-&gt; m (DiffTime, [Header], ByteString)
</span><a href="Hasura.GraphQL.RemoteServer.html#execRemoteGQ"><span class="hs-identifier hs-var">execRemoteGQ</span></a></span><span> </span><span class="annot"><span class="annottext">Environment
</span><a href="#local-6989586621689205919"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">Manager
</span><a href="#local-6989586621689205918"><span class="hs-identifier hs-var">manager</span></a></span><span> </span><span class="annot"><span class="annottext">UserInfo
</span><a href="Hasura.Session.html#adminUserInfo"><span class="hs-identifier hs-var">adminUserInfo</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">ValidatedRemoteSchemaDef
</span><a href="#local-6989586621689205916"><span class="hs-identifier hs-var">rsDef</span></a></span><span> </span><span class="annot"><span class="annottext">GQLReqOutgoing
</span><a href="Hasura.GraphQL.RemoteServer.html#introspectionQuery"><span class="hs-identifier hs-var">introspectionQuery</span></a></span><span>
</span><span id="line-63"></span><span>
</span><span id="line-64"></span><span>  </span><span class="hs-comment">-- Parse the JSON into flat GraphQL type AST.</span><span>
</span><span id="line-65"></span><span>  </span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#FromIntrospection"><span class="hs-identifier hs-type">FromIntrospection</span></a></span><span> </span><span id="local-6989586621689205900"><span class="annot"><span class="annottext">IntrospectionResult
</span><a href="#local-6989586621689205900"><span class="hs-identifier hs-var">_rscIntroOriginal</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span>
</span><span id="line-66"></span><span>    </span><span class="annot"><span class="annottext">ByteString -&gt; Either String (FromIntrospection IntrospectionResult)
forall a. FromJSON a =&gt; ByteString -&gt; Either String a
</span><span class="hs-identifier hs-var">J.eitherDecode</span></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><a href="#local-6989586621689205904"><span class="hs-identifier hs-var">_rscRawIntrospectionResult</span></a></span><span> </span><span class="annot"><span class="annottext">Either String (FromIntrospection IntrospectionResult)
-&gt; (String -&gt; m (FromIntrospection IntrospectionResult))
-&gt; m (FromIntrospection IntrospectionResult)
forall (m :: * -&gt; *) e a.
Applicative m =&gt;
Either e a -&gt; (e -&gt; m a) -&gt; m a
</span><a href="Hasura.Prelude.html#onLeft"><span class="hs-operator hs-var">`onLeft`</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; m (FromIntrospection IntrospectionResult)
forall (m :: * -&gt; *) a. QErrM m =&gt; Text -&gt; m a
</span><a href="Hasura.GraphQL.RemoteServer.html#throwRemoteSchema"><span class="hs-identifier hs-var">throwRemoteSchema</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; m (FromIntrospection IntrospectionResult))
-&gt; (String -&gt; Text)
-&gt; String
-&gt; m (FromIntrospection IntrospectionResult)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; Text
</span><span class="hs-identifier hs-var">T.pack</span></span><span class="hs-special">)</span><span>
</span><span id="line-67"></span><span>
</span><span id="line-68"></span><span>  </span><span class="hs-comment">-- Possibly transform type names from the remote schema, per the user's 'RemoteSchemaDef'.</span><span>
</span><span id="line-69"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621689205894"><span class="annot"><span class="annottext">rsCustomizer :: RemoteSchemaCustomizer
</span><a href="#local-6989586621689205894"><span class="hs-identifier hs-var hs-var">rsCustomizer</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IntrospectionResult
-&gt; Maybe RemoteSchemaCustomization -&gt; RemoteSchemaCustomizer
</span><a href="Hasura.GraphQL.RemoteServer.html#getCustomizer"><span class="hs-identifier hs-var">getCustomizer</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IntrospectionResult -&gt; IntrospectionResult
</span><a href="#local-6989586621689205892"><span class="hs-identifier hs-var">addDefaultRoots</span></a></span><span> </span><span class="annot"><span class="annottext">IntrospectionResult
</span><a href="#local-6989586621689205900"><span class="hs-identifier hs-var">_rscIntroOriginal</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe RemoteSchemaCustomization
</span><a href="#local-6989586621689205910"><span class="hs-identifier hs-var">_vrsdCustomization</span></a></span><span>
</span><span id="line-70"></span><span>  </span><span class="annot"><span class="annottext">RemoteSchemaCustomizer -&gt; RemoteSchemaIntrospection -&gt; m ()
forall (m :: * -&gt; *).
MonadError QErr m =&gt;
RemoteSchemaCustomizer -&gt; RemoteSchemaIntrospection -&gt; m ()
</span><a href="Hasura.GraphQL.RemoteServer.html#validateSchemaCustomizations"><span class="hs-identifier hs-var">validateSchemaCustomizations</span></a></span><span> </span><span class="annot"><span class="annottext">RemoteSchemaCustomizer
</span><a href="#local-6989586621689205894"><span class="hs-identifier hs-var">rsCustomizer</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">IntrospectionResult -&gt; RemoteSchemaIntrospection
</span><a href="Hasura.RQL.Types.SchemaCache.html#irDoc"><span class="hs-identifier hs-var hs-var">irDoc</span></a></span><span> </span><span class="annot"><span class="annottext">IntrospectionResult
</span><a href="#local-6989586621689205900"><span class="hs-identifier hs-var">_rscIntroOriginal</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-71"></span><span>
</span><span id="line-72"></span><span>  </span><span class="hs-comment">-- At this point, we can't resolve remote relationships; we store an empty map.</span><span>
</span><span id="line-73"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621689205889"><span class="annot"><span class="annottext">_rscRemoteRelationships :: RemoteSchemaRelationships
</span><a href="#local-6989586621689205889"><span class="hs-identifier hs-var hs-var">_rscRemoteRelationships</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RemoteSchemaRelationships
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-74"></span><span>      </span><span id="local-6989586621689205888"><span class="annot"><span class="annottext">_rscInfo :: RemoteSchemaInfo
</span><a href="#local-6989586621689205888"><span class="hs-identifier hs-var hs-var">_rscInfo</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RemoteSchemaInfo :: ValidatedRemoteSchemaDef
-&gt; RemoteSchemaCustomizer -&gt; RemoteSchemaInfo
</span><a href="Hasura.RQL.Types.RemoteSchema.html#RemoteSchemaInfo"><span class="hs-identifier hs-type">RemoteSchemaInfo</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><span class="annottext">ValidatedRemoteSchemaDef
RemoteSchemaCustomizer
rsCustomizer :: RemoteSchemaCustomizer
rsDef :: ValidatedRemoteSchemaDef
rsCustomizer :: RemoteSchemaCustomizer
rsDef :: ValidatedRemoteSchemaDef
</span><a href="Hasura.RQL.Types.RemoteSchema.html#rsCustomizer"><span class="hs-glyph hs-var hs-var hs-var hs-var">..</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-75"></span><span>
</span><span id="line-76"></span><span>  </span><span class="hs-comment">-- Check that the parsed GraphQL type info is valid by running the schema</span><span>
</span><span id="line-77"></span><span>  </span><span class="hs-comment">-- generation. The result is discarded, as the local schema will be built</span><span>
</span><span id="line-78"></span><span>  </span><span class="hs-comment">-- properly for each role at schema generation time, but this allows us to</span><span>
</span><span id="line-79"></span><span>  </span><span class="hs-comment">-- quickly reject an invalid schema.</span><span>
</span><span id="line-80"></span><span>  </span><span class="annot"><span class="annottext">m (RemoteSchemaParser Parse) -&gt; m ()
forall (f :: * -&gt; *) a. Functor f =&gt; f a -&gt; f ()
</span><span class="hs-identifier hs-var">void</span></span><span> </span><span class="annot"><span class="annottext">(m (RemoteSchemaParser Parse) -&gt; m ())
-&gt; m (RemoteSchemaParser Parse) -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-81"></span><span>    </span><span class="annot"><span class="annottext">(ReaderT
   (RoleName, CustomizeRemoteFieldName, MkTypename, MkRootFieldName,
    NamingCase, SchemaOptions, SchemaContext)
   m
   (RemoteSchemaParser Parse)
 -&gt; (RoleName, CustomizeRemoteFieldName, MkTypename,
     MkRootFieldName, NamingCase, SchemaOptions, SchemaContext)
 -&gt; m (RemoteSchemaParser Parse))
-&gt; (RoleName, CustomizeRemoteFieldName, MkTypename,
    MkRootFieldName, NamingCase, SchemaOptions, SchemaContext)
-&gt; ReaderT
     (RoleName, CustomizeRemoteFieldName, MkTypename, MkRootFieldName,
      NamingCase, SchemaOptions, SchemaContext)
     m
     (RemoteSchemaParser Parse)
-&gt; m (RemoteSchemaParser Parse)
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">ReaderT
  (RoleName, CustomizeRemoteFieldName, MkTypename, MkRootFieldName,
   NamingCase, SchemaOptions, SchemaContext)
  m
  (RemoteSchemaParser Parse)
-&gt; (RoleName, CustomizeRemoteFieldName, MkTypename,
    MkRootFieldName, NamingCase, SchemaOptions, SchemaContext)
-&gt; m (RemoteSchemaParser Parse)
forall r (m :: * -&gt; *) a. ReaderT r m a -&gt; r -&gt; m a
</span><span class="hs-identifier hs-var hs-var">runReaderT</span></span><span> </span><span class="annot"><span class="annottext">(RoleName, CustomizeRemoteFieldName, MkTypename, MkRootFieldName,
 NamingCase, SchemaOptions, SchemaContext)
</span><a href="#local-6989586621689205881"><span class="hs-identifier hs-var">minimumValidContext</span></a></span><span> </span><span class="annot"><span class="annottext">(ReaderT
   (RoleName, CustomizeRemoteFieldName, MkTypename, MkRootFieldName,
    NamingCase, SchemaOptions, SchemaContext)
   m
   (RemoteSchemaParser Parse)
 -&gt; m (RemoteSchemaParser Parse))
-&gt; ReaderT
     (RoleName, CustomizeRemoteFieldName, MkTypename, MkRootFieldName,
      NamingCase, SchemaOptions, SchemaContext)
     m
     (RemoteSchemaParser Parse)
-&gt; m (RemoteSchemaParser Parse)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-82"></span><span>      </span><span class="annot"><span class="annottext">SchemaT
  Parse
  (ReaderT
     (RoleName, CustomizeRemoteFieldName, MkTypename, MkRootFieldName,
      NamingCase, SchemaOptions, SchemaContext)
     m)
  (RemoteSchemaParser Parse)
-&gt; ReaderT
     (RoleName, CustomizeRemoteFieldName, MkTypename, MkRootFieldName,
      NamingCase, SchemaOptions, SchemaContext)
     m
     (RemoteSchemaParser Parse)
forall (m :: * -&gt; *) (n :: * -&gt; *) a.
Monad m =&gt;
SchemaT n m a -&gt; m a
</span><a href="Hasura.GraphQL.Parser.Monad.html#runSchemaT"><span class="hs-identifier hs-var">runSchemaT</span></a></span><span> </span><span class="annot"><span class="annottext">(SchemaT
   Parse
   (ReaderT
      (RoleName, CustomizeRemoteFieldName, MkTypename, MkRootFieldName,
       NamingCase, SchemaOptions, SchemaContext)
      m)
   (RemoteSchemaParser Parse)
 -&gt; ReaderT
      (RoleName, CustomizeRemoteFieldName, MkTypename, MkRootFieldName,
       NamingCase, SchemaOptions, SchemaContext)
      m
      (RemoteSchemaParser Parse))
-&gt; SchemaT
     Parse
     (ReaderT
        (RoleName, CustomizeRemoteFieldName, MkTypename, MkRootFieldName,
         NamingCase, SchemaOptions, SchemaContext)
        m)
     (RemoteSchemaParser Parse)
-&gt; ReaderT
     (RoleName, CustomizeRemoteFieldName, MkTypename, MkRootFieldName,
      NamingCase, SchemaOptions, SchemaContext)
     m
     (RemoteSchemaParser Parse)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-83"></span><span>        </span><span class="annot"><span class="annottext">IntrospectionResult
-&gt; RemoteSchemaRelationships
-&gt; RemoteSchemaInfo
-&gt; SchemaT
     Parse
     (ReaderT
        (RoleName, CustomizeRemoteFieldName, MkTypename, MkRootFieldName,
         NamingCase, SchemaOptions, SchemaContext)
        m)
     (RemoteSchemaParser Parse)
forall r (m :: * -&gt; *) (n :: * -&gt; *).
MonadBuildSchemaBase r m n =&gt;
IntrospectionResult
-&gt; RemoteSchemaRelationships
-&gt; RemoteSchemaInfo
-&gt; m (RemoteSchemaParser n)
</span><a href="Hasura.GraphQL.Schema.Remote.html#buildRemoteParser"><span class="hs-identifier hs-var">buildRemoteParser</span></a></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">@</span><span class="annot"><a href="Hasura.GraphQL.Parser.Monad.html#Parse"><span class="hs-identifier hs-type">Parse</span></a></span><span>
</span><span id="line-84"></span><span>          </span><span class="annot"><span class="annottext">IntrospectionResult
</span><a href="#local-6989586621689205900"><span class="hs-identifier hs-var">_rscIntroOriginal</span></a></span><span>
</span><span id="line-85"></span><span>          </span><span class="annot"><span class="annottext">RemoteSchemaRelationships
</span><a href="#local-6989586621689205889"><span class="hs-identifier hs-var">_rscRemoteRelationships</span></a></span><span>
</span><span id="line-86"></span><span>          </span><span class="annot"><span class="annottext">RemoteSchemaInfo
</span><a href="#local-6989586621689205888"><span class="hs-identifier hs-var">_rscInfo</span></a></span><span>
</span><span id="line-87"></span><span>
</span><span id="line-88"></span><span>  </span><span class="hs-comment">-- The 'rawIntrospectionResult' contains the 'Bytestring' response of</span><span>
</span><span id="line-89"></span><span>  </span><span class="hs-comment">-- the introspection result of the remote server. We store this in the</span><span>
</span><span id="line-90"></span><span>  </span><span class="hs-comment">-- 'RemoteSchemaCtx' because we can use this when the 'introspect_remote_schema'</span><span>
</span><span id="line-91"></span><span>  </span><span class="hs-comment">-- is called by simple encoding the result to JSON.</span><span>
</span><span id="line-92"></span><span>  </span><span class="annot"><span class="annottext">RemoteSchemaCtx -&gt; m RemoteSchemaCtx
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span>
</span><span id="line-93"></span><span>    </span><span class="annot"><span class="annottext">RemoteSchemaCtx :: RemoteSchemaName
-&gt; IntrospectionResult
-&gt; RemoteSchemaInfo
-&gt; ByteString
-&gt; HashMap RoleName IntrospectionResult
-&gt; RemoteSchemaRelationships
-&gt; RemoteSchemaCtx
</span><a href="Hasura.RQL.Types.SchemaCache.html#RemoteSchemaCtx"><span class="hs-identifier hs-type">RemoteSchemaCtx</span></a></span><span>
</span><span id="line-94"></span><span>      </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">_rscPermissions :: HashMap RoleName IntrospectionResult
</span><a href="Hasura.RQL.Types.SchemaCache.html#_rscPermissions"><span class="hs-identifier hs-var">_rscPermissions</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HashMap RoleName IntrospectionResult
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span class="hs-special">,</span><span>
</span><span id="line-95"></span><span>        </span><span class="annot"><span class="annottext">ByteString
RemoteSchemaRelationships
RemoteSchemaName
RemoteSchemaInfo
IntrospectionResult
_rscRemoteRelationships :: RemoteSchemaRelationships
_rscRawIntrospectionResult :: ByteString
_rscInfo :: RemoteSchemaInfo
_rscIntroOriginal :: IntrospectionResult
_rscName :: RemoteSchemaName
_rscInfo :: RemoteSchemaInfo
_rscRemoteRelationships :: RemoteSchemaRelationships
_rscIntroOriginal :: IntrospectionResult
_rscRawIntrospectionResult :: ByteString
_rscName :: RemoteSchemaName
</span><a href="Hasura.RQL.Types.SchemaCache.html#_rscRemoteRelationships"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span><span>
</span><span id="line-96"></span><span>      </span><span class="hs-special">}</span><span>
</span><span id="line-97"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-98"></span><span>    </span><span class="hs-comment">-- If there is no explicit mutation or subscription root type we need to check for</span><span>
</span><span id="line-99"></span><span>    </span><span class="hs-comment">-- objects type definitions with the default names &quot;Mutation&quot; and &quot;Subscription&quot;.</span><span>
</span><span id="line-100"></span><span>    </span><span class="hs-comment">-- If found, we add the default roots explicitly to the IntrospectionResult.</span><span>
</span><span id="line-101"></span><span>    </span><span class="hs-comment">-- This simplifies the customization code.</span><span>
</span><span id="line-102"></span><span>    </span><span class="annot"><a href="#local-6989586621689205892"><span class="hs-identifier hs-type">addDefaultRoots</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.SchemaCache.html#IntrospectionResult"><span class="hs-identifier hs-type">IntrospectionResult</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.SchemaCache.html#IntrospectionResult"><span class="hs-identifier hs-type">IntrospectionResult</span></a></span><span>
</span><span id="line-103"></span><span>    </span><span id="local-6989586621689205892"><span class="annot"><span class="annottext">addDefaultRoots :: IntrospectionResult -&gt; IntrospectionResult
</span><a href="#local-6989586621689205892"><span class="hs-identifier hs-var hs-var">addDefaultRoots</span></a></span></span><span> </span><span class="annot"><a href="Hasura.RQL.Types.SchemaCache.html#IntrospectionResult"><span class="hs-identifier hs-type">IntrospectionResult</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621689205869"><span id="local-6989586621689205870"><span id="local-6989586621689205871"><span id="local-6989586621689205872"><span class="annot"><span class="annottext">Maybe Name
Name
RemoteSchemaIntrospection
irSubscriptionRoot :: IntrospectionResult -&gt; Maybe Name
irMutationRoot :: IntrospectionResult -&gt; Maybe Name
irQueryRoot :: IntrospectionResult -&gt; Name
irSubscriptionRoot :: Maybe Name
irMutationRoot :: Maybe Name
irQueryRoot :: Name
irDoc :: RemoteSchemaIntrospection
irDoc :: IntrospectionResult -&gt; RemoteSchemaIntrospection
</span><a href="Hasura.RQL.Types.SchemaCache.html#irSubscriptionRoot"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-104"></span><span>      </span><span class="annot"><span class="annottext">IntrospectionResult :: RemoteSchemaIntrospection
-&gt; Name -&gt; Maybe Name -&gt; Maybe Name -&gt; IntrospectionResult
</span><a href="Hasura.RQL.Types.SchemaCache.html#IntrospectionResult"><span class="hs-identifier hs-type">IntrospectionResult</span></a></span><span>
</span><span id="line-105"></span><span>        </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">irMutationRoot :: Maybe Name
</span><a href="Hasura.RQL.Types.SchemaCache.html#irMutationRoot"><span class="hs-identifier hs-var">irMutationRoot</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Maybe Name -&gt; Maybe Name
</span><a href="#local-6989586621689205865"><span class="hs-identifier hs-var">getRootTypeName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Hasura.GraphQL.Parser.Name.TypeSystem.html#_Mutation"><span class="hs-identifier hs-var">GName._Mutation</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621689205870"><span class="hs-identifier hs-var">irMutationRoot</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-106"></span><span>          </span><span class="annot"><span class="annottext">irSubscriptionRoot :: Maybe Name
</span><a href="Hasura.RQL.Types.SchemaCache.html#irSubscriptionRoot"><span class="hs-identifier hs-var">irSubscriptionRoot</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Name -&gt; Maybe Name -&gt; Maybe Name
</span><a href="#local-6989586621689205865"><span class="hs-identifier hs-var">getRootTypeName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Hasura.GraphQL.Parser.Name.TypeSystem.html#_Subscription"><span class="hs-identifier hs-var">GName._Subscription</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621689205869"><span class="hs-identifier hs-var">irSubscriptionRoot</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-107"></span><span>          </span><span class="annot"><span class="annottext">Name
RemoteSchemaIntrospection
irQueryRoot :: Name
irQueryRoot :: Name
irDoc :: RemoteSchemaIntrospection
irDoc :: RemoteSchemaIntrospection
</span><a href="Hasura.RQL.Types.SchemaCache.html#irQueryRoot"><span class="hs-glyph hs-var hs-var hs-var hs-var">..</span></a></span><span>
</span><span id="line-108"></span><span>        </span><span class="hs-special">}</span><span>
</span><span id="line-109"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-110"></span><span>        </span><span id="local-6989586621689205865"><span class="annot"><span class="annottext">getRootTypeName :: Name -&gt; Maybe Name -&gt; Maybe Name
</span><a href="#local-6989586621689205865"><span class="hs-identifier hs-var hs-var">getRootTypeName</span></a></span></span><span> </span><span id="local-6989586621689205862"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689205862"><span class="hs-identifier hs-var">defaultName</span></a></span></span><span> </span><span id="local-6989586621689205861"><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621689205861"><span class="hs-identifier hs-var">providedName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-111"></span><span>          </span><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621689205861"><span class="hs-identifier hs-var">providedName</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Name -&gt; Maybe Name -&gt; Maybe Name
forall (f :: * -&gt; *) a. Alternative f =&gt; f a -&gt; f a -&gt; f a
</span><span class="hs-operator hs-var">&lt;|&gt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689205862"><span class="hs-identifier hs-var">defaultName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
-&gt; Maybe (ObjectTypeDefinition RemoteSchemaInputValueDefinition)
-&gt; Maybe Name
forall (f :: * -&gt; *) a b. Functor f =&gt; a -&gt; f b -&gt; f a
</span><span class="hs-operator hs-var">&lt;$</span></span><span> </span><span class="annot"><span class="annottext">RemoteSchemaIntrospection
-&gt; Name
-&gt; Maybe (ObjectTypeDefinition RemoteSchemaInputValueDefinition)
</span><a href="Hasura.RQL.Types.RemoteSchema.html#lookupObject"><span class="hs-identifier hs-var">lookupObject</span></a></span><span> </span><span class="annot"><span class="annottext">RemoteSchemaIntrospection
</span><a href="#local-6989586621689205872"><span class="hs-identifier hs-var">irDoc</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689205862"><span class="hs-identifier hs-var">defaultName</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-112"></span><span>
</span><span id="line-113"></span><span>    </span><span class="hs-comment">-- Minimum valid information required to run schema generation for</span><span>
</span><span id="line-114"></span><span>    </span><span class="hs-comment">-- the remote schema.</span><span>
</span><span id="line-115"></span><span>    </span><span id="local-6989586621689205881"><span class="annot"><span class="annottext">minimumValidContext :: (RoleName, CustomizeRemoteFieldName, MkTypename, MkRootFieldName,
 NamingCase, SchemaOptions, SchemaContext)
</span><a href="#local-6989586621689205881"><span class="hs-identifier hs-var hs-var">minimumValidContext</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-116"></span><span>      </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">RoleName
</span><a href="Hasura.Session.html#adminRoleName"><span class="hs-identifier hs-var">adminRoleName</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.Session.html#RoleName"><span class="hs-identifier hs-type">RoleName</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-117"></span><span>        </span><span class="annot"><span class="annottext">CustomizeRemoteFieldName
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.SourceCustomization.html#CustomizeRemoteFieldName"><span class="hs-identifier hs-type">CustomizeRemoteFieldName</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-118"></span><span>        </span><span class="annot"><span class="annottext">MkTypename
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Parser.Schema.html#MkTypename"><span class="hs-identifier hs-type">MkTypename</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-119"></span><span>        </span><span class="annot"><span class="annottext">MkRootFieldName
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.SourceCustomization.html#MkRootFieldName"><span class="hs-identifier hs-type">MkRootFieldName</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-120"></span><span>        </span><span class="annot"><span class="annottext">NamingCase
</span><a href="Hasura.RQL.Types.SourceCustomization.html#HasuraCase"><span class="hs-identifier hs-var">HasuraCase</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.SourceCustomization.html#NamingCase"><span class="hs-identifier hs-type">NamingCase</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-121"></span><span>        </span><span class="annot"><span class="annottext">SchemaOptions :: StringifyNumbers
-&gt; Bool
-&gt; FunctionPermissionsCtx
-&gt; RemoteSchemaPermsCtx
-&gt; Bool
-&gt; SchemaOptions
</span><a href="Hasura.GraphQL.Schema.Common.html#SchemaOptions"><span class="hs-identifier hs-type">SchemaOptions</span></a></span><span>
</span><span id="line-122"></span><span>          </span><span class="hs-special">{</span><span> </span><span class="hs-comment">-- doesn't apply to remote schemas</span><span>
</span><span id="line-123"></span><span>            </span><span class="annot"><span class="annottext">soStringifyNum :: StringifyNumbers
</span><a href="Hasura.GraphQL.Schema.Common.html#soStringifyNum"><span class="hs-identifier hs-var">soStringifyNum</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">StringifyNumbers
</span><a href="Hasura.RQL.Types.Common.html#LeaveNumbersAlone"><span class="hs-identifier hs-var">LeaveNumbersAlone</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-124"></span><span>            </span><span class="hs-comment">-- doesn't apply to remote schemas</span><span>
</span><span id="line-125"></span><span>            </span><span class="annot"><span class="annottext">soDangerousBooleanCollapse :: Bool
</span><a href="Hasura.GraphQL.Schema.Common.html#soDangerousBooleanCollapse"><span class="hs-identifier hs-var">soDangerousBooleanCollapse</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">,</span><span>
</span><span id="line-126"></span><span>            </span><span class="hs-comment">-- we don't support remote schemas in Relay, but the check is</span><span>
</span><span id="line-127"></span><span>            </span><span class="hs-comment">-- performed ahead of time, meaning that the value here is</span><span>
</span><span id="line-128"></span><span>            </span><span class="hs-comment">-- irrelevant</span><span>
</span><span id="line-129"></span><span>            </span><span class="hs-comment">-- doesn't apply to remote schemas</span><span>
</span><span id="line-130"></span><span>            </span><span class="annot"><span class="annottext">soFunctionPermsContext :: FunctionPermissionsCtx
</span><a href="Hasura.GraphQL.Schema.Common.html#soFunctionPermsContext"><span class="hs-identifier hs-var">soFunctionPermsContext</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">FunctionPermissionsCtx
</span><a href="Hasura.RQL.Types.Function.html#FunctionPermissionsInferred"><span class="hs-identifier hs-var">FunctionPermissionsInferred</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-131"></span><span>            </span><span class="hs-comment">-- we default to no permissions</span><span>
</span><span id="line-132"></span><span>            </span><span class="annot"><span class="annottext">soRemoteSchemaPermsCtx :: RemoteSchemaPermsCtx
</span><a href="Hasura.GraphQL.Schema.Common.html#soRemoteSchemaPermsCtx"><span class="hs-identifier hs-var">soRemoteSchemaPermsCtx</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RemoteSchemaPermsCtx
</span><a href="Hasura.RQL.Types.RemoteSchema.html#RemoteSchemaPermsDisabled"><span class="hs-identifier hs-var">RemoteSchemaPermsDisabled</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-133"></span><span>            </span><span class="hs-comment">-- doesn't apply to remote schemas</span><span>
</span><span id="line-134"></span><span>            </span><span class="annot"><span class="annottext">soOptimizePermissionFilters :: Bool
</span><a href="Hasura.GraphQL.Schema.Common.html#soOptimizePermissionFilters"><span class="hs-identifier hs-var">soOptimizePermissionFilters</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-135"></span><span>          </span><span class="hs-special">}</span><span class="hs-special">,</span><span>
</span><span id="line-136"></span><span>        </span><span class="annot"><span class="annottext">SchemaKind -&gt; RemoteRelationshipParserBuilder -&gt; SchemaContext
</span><a href="Hasura.GraphQL.Schema.Common.html#SchemaContext"><span class="hs-identifier hs-var">SchemaContext</span></a></span><span>
</span><span id="line-137"></span><span>          </span><span class="annot"><span class="annottext">SchemaKind
</span><a href="Hasura.GraphQL.Schema.Common.html#HasuraSchema"><span class="hs-identifier hs-var">HasuraSchema</span></a></span><span>
</span><span id="line-138"></span><span>          </span><span class="annot"><span class="annottext">RemoteRelationshipParserBuilder
</span><a href="Hasura.GraphQL.Schema.Common.html#ignoreRemoteRelationship"><span class="hs-identifier hs-var">ignoreRemoteRelationship</span></a></span><span>
</span><span id="line-139"></span><span>      </span><span class="hs-special">)</span><span>
</span><span id="line-140"></span><span>
</span><span id="line-141"></span><span class="hs-comment">-- | Sends a GraphQL query to the given server.</span><span>
</span><span id="line-142"></span><span id="local-6989586621689206246"><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#execRemoteGQ"><span class="hs-identifier hs-type">execRemoteGQ</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-143"></span><span>  </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621689206246"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-144"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">MonadError</span></span><span> </span><span class="annot"><a href="Hasura.Base.Error.html#QErr"><span class="hs-identifier hs-type">QErr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689206246"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-145"></span><span>    </span><span class="annot"><a href="Hasura.Tracing.html#MonadTrace"><span class="hs-identifier hs-type">Tracing.MonadTrace</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689206246"><span class="hs-identifier hs-type">m</span></a></span><span>
</span><span id="line-146"></span><span>  </span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-147"></span><span>  </span><span class="annot"><a href="Data.Environment.html#Environment"><span class="hs-identifier hs-type">Env.Environment</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-148"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">HTTP.Manager</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-149"></span><span>  </span><span class="annot"><a href="Hasura.Session.html#UserInfo"><span class="hs-identifier hs-type">UserInfo</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-150"></span><span>  </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">HTTP.Header</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-151"></span><span>  </span><span class="annot"><a href="Hasura.RQL.Types.RemoteSchema.html#ValidatedRemoteSchemaDef"><span class="hs-identifier hs-type">ValidatedRemoteSchemaDef</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-152"></span><span>  </span><span class="annot"><a href="Hasura.GraphQL.Transport.HTTP.Protocol.html#GQLReqOutgoing"><span class="hs-identifier hs-type">GQLReqOutgoing</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-153"></span><span>  </span><span class="hs-comment">-- | Returns the response body and headers, along with the time taken for the</span><span>
</span><span id="line-154"></span><span>  </span><span class="hs-comment">-- HTTP request to complete</span><span>
</span><span id="line-155"></span><span>  </span><span class="annot"><a href="#local-6989586621689206246"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">DiffTime</span></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">HTTP.Header</span></span><span class="hs-special">]</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">BL.ByteString</span></span><span class="hs-special">)</span></span><span>
</span><span id="line-156"></span><span id="execRemoteGQ"><span class="annot"><span class="annottext">execRemoteGQ :: Environment
-&gt; Manager
-&gt; UserInfo
-&gt; [Header]
-&gt; ValidatedRemoteSchemaDef
-&gt; GQLReqOutgoing
-&gt; m (DiffTime, [Header], ByteString)
</span><a href="Hasura.GraphQL.RemoteServer.html#execRemoteGQ"><span class="hs-identifier hs-var hs-var">execRemoteGQ</span></a></span></span><span> </span><span id="local-6989586621689205843"><span class="annot"><span class="annottext">Environment
</span><a href="#local-6989586621689205843"><span class="hs-identifier hs-var">env</span></a></span></span><span> </span><span id="local-6989586621689205842"><span class="annot"><span class="annottext">Manager
</span><a href="#local-6989586621689205842"><span class="hs-identifier hs-var">manager</span></a></span></span><span> </span><span id="local-6989586621689205841"><span class="annot"><span class="annottext">UserInfo
</span><a href="#local-6989586621689205841"><span class="hs-identifier hs-var">userInfo</span></a></span></span><span> </span><span id="local-6989586621689205840"><span class="annot"><span class="annottext">[Header]
</span><a href="#local-6989586621689205840"><span class="hs-identifier hs-var">reqHdrs</span></a></span></span><span> </span><span id="local-6989586621689205839"><span class="annot"><span class="annottext">ValidatedRemoteSchemaDef
</span><a href="#local-6989586621689205839"><span class="hs-identifier hs-var">rsdef</span></a></span></span><span> </span><span id="local-6989586621689205838"><span class="annot"><span class="annottext">gqlReq :: GQLReqOutgoing
</span><a href="#local-6989586621689205838"><span class="hs-identifier hs-var">gqlReq</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><a href="Hasura.GraphQL.Transport.HTTP.Protocol.html#GQLReq"><span class="hs-identifier hs-type">GQLReq</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621689205834"><span id="local-6989586621689205835"><span id="local-6989586621689205836"><span class="annot"><span class="annottext">Maybe VariableValues
Maybe OperationName
SingleOperation
_grVariables :: forall a. GQLReq a -&gt; Maybe VariableValues
_grQuery :: forall a. GQLReq a -&gt; a
_grOperationName :: forall a. GQLReq a -&gt; Maybe OperationName
_grVariables :: Maybe VariableValues
_grQuery :: SingleOperation
_grOperationName :: Maybe OperationName
</span><a href="Hasura.GraphQL.Transport.HTTP.Protocol.html#_grVariables"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-157"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621689205830"><span class="annot"><span class="annottext">gqlReqUnparsed :: GQLReqUnparsed
</span><a href="#local-6989586621689205830"><span class="hs-identifier hs-var hs-var">gqlReqUnparsed</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">GQLReqOutgoing -&gt; GQLReqUnparsed
</span><a href="Hasura.GraphQL.Transport.HTTP.Protocol.html#renderGQLReqOutgoing"><span class="hs-identifier hs-var">renderGQLReqOutgoing</span></a></span><span> </span><span class="annot"><span class="annottext">GQLReqOutgoing
</span><a href="#local-6989586621689205838"><span class="hs-identifier hs-var">gqlReq</span></a></span><span>
</span><span id="line-158"></span><span>
</span><span id="line-159"></span><span>  </span><span class="annot"><span class="annottext">Bool -&gt; m () -&gt; m ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">when</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SingleOperation -&gt; OperationType
forall (frag :: * -&gt; *) var.
TypedOperationDefinition frag var -&gt; OperationType
</span><span class="hs-identifier hs-var hs-var">G._todType</span></span><span> </span><span class="annot"><span class="annottext">SingleOperation
</span><a href="#local-6989586621689205835"><span class="hs-identifier hs-var">_grQuery</span></a></span><span> </span><span class="annot"><span class="annottext">OperationType -&gt; OperationType -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">==</span></span><span> </span><span class="annot"><span class="annottext">OperationType
</span><span class="hs-identifier hs-var">G.OperationTypeSubscription</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(m () -&gt; m ()) -&gt; m () -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-160"></span><span>    </span><span class="annot"><span class="annottext">Text -&gt; m ()
forall (m :: * -&gt; *) a. QErrM m =&gt; Text -&gt; m a
</span><a href="Hasura.GraphQL.RemoteServer.html#throwRemoteSchema"><span class="hs-identifier hs-var">throwRemoteSchema</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;subscription to remote server is not supported&quot;</span></span><span>
</span><span id="line-161"></span><span>  </span><span id="local-6989586621689205825"><span class="annot"><span class="annottext">[Header]
</span><a href="#local-6989586621689205825"><span class="hs-identifier hs-var">confHdrs</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Environment -&gt; [HeaderConf] -&gt; m [Header]
forall (m :: * -&gt; *).
MonadError QErr m =&gt;
Environment -&gt; [HeaderConf] -&gt; m [Header]
</span><a href="Hasura.RQL.DDL.Headers.html#makeHeadersFromConf"><span class="hs-identifier hs-var">makeHeadersFromConf</span></a></span><span> </span><span class="annot"><span class="annottext">Environment
</span><a href="#local-6989586621689205843"><span class="hs-identifier hs-var">env</span></a></span><span> </span><span class="annot"><span class="annottext">[HeaderConf]
</span><a href="#local-6989586621689205824"><span class="hs-identifier hs-var">hdrConf</span></a></span><span>
</span><span id="line-162"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621689205823"><span class="annot"><span class="annottext">clientHdrs :: [Header]
</span><a href="#local-6989586621689205823"><span class="hs-identifier hs-var hs-var">clientHdrs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Header] -&gt; [Header] -&gt; Bool -&gt; [Header]
forall a. a -&gt; a -&gt; Bool -&gt; a
</span><span class="hs-identifier hs-var">bool</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[Header] -&gt; [Header]
</span><a href="Hasura.Server.Utils.html#mkClientHeadersForward"><span class="hs-identifier hs-var">mkClientHeadersForward</span></a></span><span> </span><span class="annot"><span class="annottext">[Header]
</span><a href="#local-6989586621689205840"><span class="hs-identifier hs-var">reqHdrs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621689205820"><span class="hs-identifier hs-var">fwdClientHdrs</span></a></span><span>
</span><span id="line-163"></span><span>      </span><span class="hs-comment">-- filter out duplicate headers</span><span>
</span><span id="line-164"></span><span>      </span><span class="hs-comment">-- priority: conf headers &gt; resolved userinfo vars &gt; client headers</span><span>
</span><span id="line-165"></span><span>      </span><span id="local-6989586621689205819"><span class="annot"><span class="annottext">hdrMaps :: [HashMap HeaderName ByteString]
</span><a href="#local-6989586621689205819"><span class="hs-identifier hs-var hs-var">hdrMaps</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-166"></span><span>        </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">[Header] -&gt; HashMap HeaderName ByteString
forall k v. (Eq k, Hashable k) =&gt; [(k, v)] -&gt; HashMap k v
</span><span class="hs-identifier hs-var">Map.fromList</span></span><span> </span><span class="annot"><span class="annottext">[Header]
</span><a href="#local-6989586621689205825"><span class="hs-identifier hs-var">confHdrs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-167"></span><span>          </span><span class="annot"><span class="annottext">[Header] -&gt; HashMap HeaderName ByteString
forall k v. (Eq k, Hashable k) =&gt; [(k, v)] -&gt; HashMap k v
</span><span class="hs-identifier hs-var">Map.fromList</span></span><span> </span><span class="annot"><span class="annottext">[Header]
</span><a href="#local-6989586621689205817"><span class="hs-identifier hs-var">userInfoToHdrs</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-168"></span><span>          </span><span class="annot"><span class="annottext">[Header] -&gt; HashMap HeaderName ByteString
forall k v. (Eq k, Hashable k) =&gt; [(k, v)] -&gt; HashMap k v
</span><span class="hs-identifier hs-var">Map.fromList</span></span><span> </span><span class="annot"><span class="annottext">[Header]
</span><a href="#local-6989586621689205823"><span class="hs-identifier hs-var">clientHdrs</span></a></span><span>
</span><span id="line-169"></span><span>        </span><span class="hs-special">]</span><span>
</span><span id="line-170"></span><span>      </span><span id="local-6989586621689205816"><span class="annot"><span class="annottext">headers :: [Header]
</span><a href="#local-6989586621689205816"><span class="hs-identifier hs-var hs-var">headers</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HashMap HeaderName ByteString -&gt; [Header]
forall k v. HashMap k v -&gt; [(k, v)]
</span><span class="hs-identifier hs-var">Map.toList</span></span><span> </span><span class="annot"><span class="annottext">(HashMap HeaderName ByteString -&gt; [Header])
-&gt; HashMap HeaderName ByteString -&gt; [Header]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(HashMap HeaderName ByteString
 -&gt; HashMap HeaderName ByteString -&gt; HashMap HeaderName ByteString)
-&gt; HashMap HeaderName ByteString
-&gt; [HashMap HeaderName ByteString]
-&gt; HashMap HeaderName ByteString
forall (t :: * -&gt; *) a b.
Foldable t =&gt;
(a -&gt; b -&gt; b) -&gt; b -&gt; t a -&gt; b
</span><span class="hs-identifier hs-var">foldr</span></span><span> </span><span class="annot"><span class="annottext">HashMap HeaderName ByteString
-&gt; HashMap HeaderName ByteString -&gt; HashMap HeaderName ByteString
forall k v.
(Eq k, Hashable k) =&gt;
HashMap k v -&gt; HashMap k v -&gt; HashMap k v
</span><span class="hs-identifier hs-var">Map.union</span></span><span> </span><span class="annot"><span class="annottext">HashMap HeaderName ByteString
forall k v. HashMap k v
</span><span class="hs-identifier hs-var">Map.empty</span></span><span> </span><span class="annot"><span class="annottext">[HashMap HeaderName ByteString]
</span><a href="#local-6989586621689205819"><span class="hs-identifier hs-var">hdrMaps</span></a></span><span>
</span><span id="line-171"></span><span>      </span><span id="local-6989586621689205811"><span class="annot"><span class="annottext">finalHeaders :: [Header]
</span><a href="#local-6989586621689205811"><span class="hs-identifier hs-var hs-var">finalHeaders</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Header] -&gt; [Header]
</span><a href="Hasura.HTTP.html#addDefaultHeaders"><span class="hs-identifier hs-var">addDefaultHeaders</span></a></span><span> </span><span class="annot"><span class="annottext">[Header]
</span><a href="#local-6989586621689205816"><span class="hs-identifier hs-var">headers</span></a></span><span>
</span><span id="line-172"></span><span>  </span><span id="local-6989586621689205809"><span class="annot"><span class="annottext">Request
</span><a href="#local-6989586621689205809"><span class="hs-identifier hs-var">initReq</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Either HttpException Request
-&gt; (HttpException -&gt; m Request) -&gt; m Request
forall (m :: * -&gt; *) e a.
Applicative m =&gt;
Either e a -&gt; (e -&gt; m a) -&gt; m a
</span><a href="Hasura.Prelude.html#onLeft"><span class="hs-identifier hs-var">onLeft</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; Either HttpException Request
</span><a href="Network.HTTP.Client.Transformable.html#mkRequestEither"><span class="hs-identifier hs-var">HTTP.mkRequestEither</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Either HttpException Request)
-&gt; Text -&gt; Either HttpException Request
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">URI -&gt; Text
forall a. Show a =&gt; a -&gt; Text
</span><a href="Hasura.Prelude.html#tshow"><span class="hs-identifier hs-var">tshow</span></a></span><span> </span><span class="annot"><span class="annottext">URI
</span><a href="#local-6989586621689205806"><span class="hs-identifier hs-var">url</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EnvRecord URI -&gt; HttpException -&gt; m Request
forall (m :: * -&gt; *) a.
QErrM m =&gt;
EnvRecord URI -&gt; HttpException -&gt; m a
</span><a href="Hasura.GraphQL.RemoteServer.html#throwRemoteSchemaHttp"><span class="hs-identifier hs-var">throwRemoteSchemaHttp</span></a></span><span> </span><span class="annot"><span class="annottext">EnvRecord URI
</span><a href="#local-6989586621689205804"><span class="hs-identifier hs-var">webhookEnvRecord</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-173"></span><span>  </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621689205803"><span class="annot"><span class="annottext">req :: Request
</span><a href="#local-6989586621689205803"><span class="hs-identifier hs-var hs-var">req</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-174"></span><span>        </span><span class="annot"><span class="annottext">Request
</span><a href="#local-6989586621689205809"><span class="hs-identifier hs-var">initReq</span></a></span><span> </span><span class="annot"><span class="annottext">Request -&gt; (Request -&gt; Request) -&gt; Request
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">ASetter Request Request ByteString ByteString
-&gt; ByteString -&gt; Request -&gt; Request
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-identifier hs-var">set</span></span><span> </span><span class="annot"><span class="annottext">ASetter Request Request ByteString ByteString
Lens' Request ByteString
</span><a href="Network.HTTP.Client.Transformable.html#method"><span class="hs-identifier hs-var">HTTP.method</span></a></span><span> </span><span class="annot"><span class="annottext">ByteString
</span><span class="hs-string">&quot;POST&quot;</span></span><span>
</span><span id="line-175"></span><span>          </span><span class="annot"><span class="annottext">Request -&gt; (Request -&gt; Request) -&gt; Request
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">ASetter Request Request [Header] [Header]
-&gt; [Header] -&gt; Request -&gt; Request
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-identifier hs-var">set</span></span><span> </span><span class="annot"><span class="annottext">ASetter Request Request [Header] [Header]
Lens' Request [Header]
</span><a href="Network.HTTP.Client.Transformable.html#headers"><span class="hs-identifier hs-var">HTTP.headers</span></a></span><span> </span><span class="annot"><span class="annottext">[Header]
</span><a href="#local-6989586621689205811"><span class="hs-identifier hs-var">finalHeaders</span></a></span><span>
</span><span id="line-176"></span><span>          </span><span class="annot"><span class="annottext">Request -&gt; (Request -&gt; Request) -&gt; Request
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">ASetter Request Request (Maybe ByteString) (Maybe ByteString)
-&gt; Maybe ByteString -&gt; Request -&gt; Request
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-identifier hs-var">set</span></span><span> </span><span class="annot"><span class="annottext">ASetter Request Request (Maybe ByteString) (Maybe ByteString)
Lens' Request (Maybe ByteString)
</span><a href="Network.HTTP.Client.Transformable.html#body"><span class="hs-identifier hs-var">HTTP.body</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">ByteString -&gt; Maybe ByteString
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(ByteString -&gt; Maybe ByteString) -&gt; ByteString -&gt; Maybe ByteString
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">GQLReqUnparsed -&gt; ByteString
forall a. ToJSON a =&gt; a -&gt; ByteString
</span><span class="hs-identifier hs-var">J.encode</span></span><span> </span><span class="annot"><span class="annottext">GQLReqUnparsed
</span><a href="#local-6989586621689205830"><span class="hs-identifier hs-var">gqlReqUnparsed</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-177"></span><span>          </span><span class="annot"><span class="annottext">Request -&gt; (Request -&gt; Request) -&gt; Request
forall a b. a -&gt; (a -&gt; b) -&gt; b
</span><span class="hs-operator hs-var">&amp;</span></span><span> </span><span class="annot"><span class="annottext">ASetter Request Request ResponseTimeout ResponseTimeout
-&gt; ResponseTimeout -&gt; Request -&gt; Request
forall s t a b. ASetter s t a b -&gt; b -&gt; s -&gt; t
</span><span class="hs-identifier hs-var">set</span></span><span> </span><span class="annot"><span class="annottext">ASetter Request Request ResponseTimeout ResponseTimeout
Lens' Request ResponseTimeout
</span><a href="Network.HTTP.Client.Transformable.html#timeout"><span class="hs-identifier hs-var">HTTP.timeout</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; ResponseTimeout
</span><span class="hs-identifier hs-var">HTTP.responseTimeoutMicro</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621689205795"><span class="hs-identifier hs-var">timeout</span></a></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Int
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1000000</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-178"></span><span>
</span><span id="line-179"></span><span>  </span><span class="annot"><span class="annottext">Request
-&gt; (Request -&gt; m (DiffTime, [Header], ByteString))
-&gt; m (DiffTime, [Header], ByteString)
forall (m :: * -&gt; *) a.
MonadTrace m =&gt;
Request -&gt; (Request -&gt; m a) -&gt; m a
</span><a href="Hasura.Tracing.html#tracedHttpRequest"><span class="hs-identifier hs-var">Tracing.tracedHttpRequest</span></a></span><span> </span><span class="annot"><span class="annottext">Request
</span><a href="#local-6989586621689205803"><span class="hs-identifier hs-var">req</span></a></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621689205792"><span class="annot"><span class="annottext">Request
</span><a href="#local-6989586621689205792"><span class="hs-identifier hs-var">req'</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-180"></span><span>    </span><span class="hs-special">(</span><span id="local-6989586621689205791"><span class="annot"><span class="annottext">DiffTime
</span><a href="#local-6989586621689205791"><span class="hs-identifier hs-var">time</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621689205790"><span class="annot"><span class="annottext">Either HttpException (Response ByteString)
</span><a href="#local-6989586621689205790"><span class="hs-identifier hs-var">res</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">m (Either HttpException (Response ByteString))
-&gt; m (DiffTime, Either HttpException (Response ByteString))
forall (m :: * -&gt; *) a. MonadIO m =&gt; m a -&gt; m (DiffTime, a)
</span><a href="Hasura.Prelude.html#withElapsedTime"><span class="hs-identifier hs-var">withElapsedTime</span></a></span><span> </span><span class="annot"><span class="annottext">(m (Either HttpException (Response ByteString))
 -&gt; m (DiffTime, Either HttpException (Response ByteString)))
-&gt; m (Either HttpException (Response ByteString))
-&gt; m (DiffTime, Either HttpException (Response ByteString))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">IO (Either HttpException (Response ByteString))
-&gt; m (Either HttpException (Response ByteString))
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">liftIO</span></span><span> </span><span class="annot"><span class="annottext">(IO (Either HttpException (Response ByteString))
 -&gt; m (Either HttpException (Response ByteString)))
-&gt; IO (Either HttpException (Response ByteString))
-&gt; m (Either HttpException (Response ByteString))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">IO (Response ByteString)
-&gt; IO (Either HttpException (Response ByteString))
forall e a. Exception e =&gt; IO a -&gt; IO (Either e a)
</span><span class="hs-identifier hs-var">try</span></span><span> </span><span class="annot"><span class="annottext">(IO (Response ByteString)
 -&gt; IO (Either HttpException (Response ByteString)))
-&gt; IO (Response ByteString)
-&gt; IO (Either HttpException (Response ByteString))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Request -&gt; Manager -&gt; IO (Response ByteString)
</span><a href="Network.HTTP.Client.Transformable.html#performRequest"><span class="hs-identifier hs-var">HTTP.performRequest</span></a></span><span> </span><span class="annot"><span class="annottext">Request
</span><a href="#local-6989586621689205792"><span class="hs-identifier hs-var">req'</span></a></span><span> </span><span class="annot"><span class="annottext">Manager
</span><a href="#local-6989586621689205842"><span class="hs-identifier hs-var">manager</span></a></span><span>
</span><span id="line-181"></span><span>    </span><span id="local-6989586621689205786"><span class="annot"><span class="annottext">Response ByteString
</span><a href="#local-6989586621689205786"><span class="hs-identifier hs-var">resp</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Either HttpException (Response ByteString)
-&gt; (HttpException -&gt; m (Response ByteString))
-&gt; m (Response ByteString)
forall (m :: * -&gt; *) e a.
Applicative m =&gt;
Either e a -&gt; (e -&gt; m a) -&gt; m a
</span><a href="Hasura.Prelude.html#onLeft"><span class="hs-identifier hs-var">onLeft</span></a></span><span> </span><span class="annot"><span class="annottext">Either HttpException (Response ByteString)
</span><a href="#local-6989586621689205790"><span class="hs-identifier hs-var">res</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EnvRecord URI -&gt; HttpException -&gt; m (Response ByteString)
forall (m :: * -&gt; *) a.
QErrM m =&gt;
EnvRecord URI -&gt; HttpException -&gt; m a
</span><a href="Hasura.GraphQL.RemoteServer.html#throwRemoteSchemaHttp"><span class="hs-identifier hs-var">throwRemoteSchemaHttp</span></a></span><span> </span><span class="annot"><span class="annottext">EnvRecord URI
</span><a href="#local-6989586621689205804"><span class="hs-identifier hs-var">webhookEnvRecord</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-182"></span><span>    </span><span class="annot"><span class="annottext">(DiffTime, [Header], ByteString)
-&gt; m (DiffTime, [Header], ByteString)
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DiffTime
</span><a href="#local-6989586621689205791"><span class="hs-identifier hs-var">time</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Response ByteString -&gt; [Header]
forall a. Response a -&gt; [Header]
</span><a href="Hasura.Server.Utils.html#mkSetCookieHeaders"><span class="hs-identifier hs-var">mkSetCookieHeaders</span></a></span><span> </span><span class="annot"><span class="annottext">Response ByteString
</span><a href="#local-6989586621689205786"><span class="hs-identifier hs-var">resp</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Response ByteString
</span><a href="#local-6989586621689205786"><span class="hs-identifier hs-var">resp</span></a></span><span> </span><span class="annot"><span class="annottext">Response ByteString
-&gt; Getting ByteString (Response ByteString) ByteString
-&gt; ByteString
forall s a. s -&gt; Getting a s a -&gt; a
</span><span class="hs-operator hs-var">^.</span></span><span> </span><span class="annot"><span class="annottext">Getting ByteString (Response ByteString) ByteString
forall body0 body1.
Lens (Response body0) (Response body1) body0 body1
</span><span class="hs-identifier hs-var">Wreq.responseBody</span></span><span class="hs-special">)</span><span>
</span><span id="line-183"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-184"></span><span>    </span><span class="annot"><a href="Hasura.RQL.Types.RemoteSchema.html#ValidatedRemoteSchemaDef"><span class="hs-identifier hs-type">ValidatedRemoteSchemaDef</span></a></span><span> </span><span id="local-6989586621689205804"><span class="annot"><span class="annottext">EnvRecord URI
</span><a href="#local-6989586621689205804"><span class="hs-identifier hs-var">webhookEnvRecord</span></a></span></span><span> </span><span id="local-6989586621689205824"><span class="annot"><span class="annottext">[HeaderConf]
</span><a href="#local-6989586621689205824"><span class="hs-identifier hs-var">hdrConf</span></a></span></span><span> </span><span id="local-6989586621689205820"><span class="annot"><span class="annottext">Bool
</span><a href="#local-6989586621689205820"><span class="hs-identifier hs-var">fwdClientHdrs</span></a></span></span><span> </span><span id="local-6989586621689205795"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621689205795"><span class="hs-identifier hs-var">timeout</span></a></span></span><span> </span><span id="local-6989586621689205783"><span class="annot"><span class="annottext">Maybe RemoteSchemaCustomization
</span><a href="#local-6989586621689205783"><span class="hs-identifier hs-var">_mPrefix</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ValidatedRemoteSchemaDef
</span><a href="#local-6989586621689205839"><span class="hs-identifier hs-var">rsdef</span></a></span><span>
</span><span id="line-185"></span><span>    </span><span id="local-6989586621689205806"><span class="annot"><span class="annottext">url :: URI
</span><a href="#local-6989586621689205806"><span class="hs-identifier hs-var hs-var">url</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">EnvRecord URI -&gt; URI
forall a. EnvRecord a -&gt; a
</span><a href="Hasura.RQL.Types.Common.html#_envVarValue"><span class="hs-identifier hs-var hs-var">_envVarValue</span></a></span><span> </span><span class="annot"><span class="annottext">EnvRecord URI
</span><a href="#local-6989586621689205804"><span class="hs-identifier hs-var">webhookEnvRecord</span></a></span><span>
</span><span id="line-186"></span><span>    </span><span id="local-6989586621689205817"><span class="annot"><span class="annottext">userInfoToHdrs :: [Header]
</span><a href="#local-6989586621689205817"><span class="hs-identifier hs-var hs-var">userInfoToHdrs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">SessionVariables -&gt; [Header]
</span><a href="Hasura.Session.html#sessionVariablesToHeaders"><span class="hs-identifier hs-var">sessionVariablesToHeaders</span></a></span><span> </span><span class="annot"><span class="annottext">(SessionVariables -&gt; [Header]) -&gt; SessionVariables -&gt; [Header]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">UserInfo -&gt; SessionVariables
</span><a href="Hasura.Session.html#_uiSession"><span class="hs-identifier hs-var hs-var">_uiSession</span></a></span><span> </span><span class="annot"><span class="annottext">UserInfo
</span><a href="#local-6989586621689205841"><span class="hs-identifier hs-var">userInfo</span></a></span><span>
</span><span id="line-187"></span><span>
</span><span id="line-188"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-189"></span><span class="hs-comment">-- Validation</span><span>
</span><span id="line-190"></span><span>
</span><span id="line-191"></span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#validateSchemaCustomizations"><span class="hs-identifier hs-type">validateSchemaCustomizations</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-192"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621689206223"><span class="annot"><a href="#local-6989586621689206223"><span class="hs-identifier hs-type">m</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-193"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">MonadError</span></span><span> </span><span class="annot"><a href="Hasura.Base.Error.html#QErr"><span class="hs-identifier hs-type">QErr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689206223"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-194"></span><span>  </span><span class="annot"><a href="Hasura.RQL.Types.RemoteSchema.html#RemoteSchemaCustomizer"><span class="hs-identifier hs-type">RemoteSchemaCustomizer</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-195"></span><span>  </span><span class="annot"><a href="Hasura.RQL.Types.RemoteSchema.html#RemoteSchemaIntrospection"><span class="hs-identifier hs-type">RemoteSchemaIntrospection</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-196"></span><span>  </span><span class="annot"><a href="#local-6989586621689206223"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-197"></span><span id="validateSchemaCustomizations"><span class="annot"><span class="annottext">validateSchemaCustomizations :: RemoteSchemaCustomizer -&gt; RemoteSchemaIntrospection -&gt; m ()
</span><a href="Hasura.GraphQL.RemoteServer.html#validateSchemaCustomizations"><span class="hs-identifier hs-var hs-var">validateSchemaCustomizations</span></a></span></span><span> </span><span id="local-6989586621689205779"><span class="annot"><span class="annottext">RemoteSchemaCustomizer
</span><a href="#local-6989586621689205779"><span class="hs-identifier hs-var">remoteSchemaCustomizer</span></a></span></span><span> </span><span id="local-6989586621689205778"><span class="annot"><span class="annottext">RemoteSchemaIntrospection
</span><a href="#local-6989586621689205778"><span class="hs-identifier hs-var">remoteSchemaIntrospection</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-198"></span><span>  </span><span class="annot"><span class="annottext">RemoteSchemaCustomizer -&gt; RemoteSchemaIntrospection -&gt; m ()
forall (m :: * -&gt; *).
MonadError QErr m =&gt;
RemoteSchemaCustomizer -&gt; RemoteSchemaIntrospection -&gt; m ()
</span><a href="Hasura.GraphQL.RemoteServer.html#validateSchemaCustomizationsConsistent"><span class="hs-identifier hs-var">validateSchemaCustomizationsConsistent</span></a></span><span> </span><span class="annot"><span class="annottext">RemoteSchemaCustomizer
</span><a href="#local-6989586621689205779"><span class="hs-identifier hs-var">remoteSchemaCustomizer</span></a></span><span> </span><span class="annot"><span class="annottext">RemoteSchemaIntrospection
</span><a href="#local-6989586621689205778"><span class="hs-identifier hs-var">remoteSchemaIntrospection</span></a></span><span>
</span><span id="line-199"></span><span>  </span><span class="annot"><span class="annottext">RemoteSchemaCustomizer -&gt; RemoteSchemaIntrospection -&gt; m ()
forall (m :: * -&gt; *).
MonadError QErr m =&gt;
RemoteSchemaCustomizer -&gt; RemoteSchemaIntrospection -&gt; m ()
</span><a href="Hasura.GraphQL.RemoteServer.html#validateSchemaCustomizationsDistinct"><span class="hs-identifier hs-var">validateSchemaCustomizationsDistinct</span></a></span><span> </span><span class="annot"><span class="annottext">RemoteSchemaCustomizer
</span><a href="#local-6989586621689205779"><span class="hs-identifier hs-var">remoteSchemaCustomizer</span></a></span><span> </span><span class="annot"><span class="annottext">RemoteSchemaIntrospection
</span><a href="#local-6989586621689205778"><span class="hs-identifier hs-var">remoteSchemaIntrospection</span></a></span><span>
</span><span id="line-200"></span><span>
</span><span id="line-201"></span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#validateSchemaCustomizationsConsistent"><span class="hs-identifier hs-type">validateSchemaCustomizationsConsistent</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-202"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621689205775"><span class="annot"><a href="#local-6989586621689205775"><span class="hs-identifier hs-type">m</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-203"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">MonadError</span></span><span> </span><span class="annot"><a href="Hasura.Base.Error.html#QErr"><span class="hs-identifier hs-type">QErr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689205775"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-204"></span><span>  </span><span class="annot"><a href="Hasura.RQL.Types.RemoteSchema.html#RemoteSchemaCustomizer"><span class="hs-identifier hs-type">RemoteSchemaCustomizer</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-205"></span><span>  </span><span class="annot"><a href="Hasura.RQL.Types.RemoteSchema.html#RemoteSchemaIntrospection"><span class="hs-identifier hs-type">RemoteSchemaIntrospection</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-206"></span><span>  </span><span class="annot"><a href="#local-6989586621689205775"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-207"></span><span id="validateSchemaCustomizationsConsistent"><span class="annot"><span class="annottext">validateSchemaCustomizationsConsistent :: RemoteSchemaCustomizer -&gt; RemoteSchemaIntrospection -&gt; m ()
</span><a href="Hasura.GraphQL.RemoteServer.html#validateSchemaCustomizationsConsistent"><span class="hs-identifier hs-var hs-var">validateSchemaCustomizationsConsistent</span></a></span></span><span> </span><span id="local-6989586621689205774"><span class="annot"><span class="annottext">RemoteSchemaCustomizer
</span><a href="#local-6989586621689205774"><span class="hs-identifier hs-var">remoteSchemaCustomizer</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.Types.RemoteSchema.html#RemoteSchemaIntrospection"><span class="hs-identifier hs-type">RemoteSchemaIntrospection</span></a></span><span> </span><span id="local-6989586621689205772"><span class="annot"><span class="annottext">HashMap
  Name (TypeDefinition [Name] RemoteSchemaInputValueDefinition)
</span><a href="#local-6989586621689205772"><span class="hs-identifier hs-var">typeDefinitions</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-208"></span><span>  </span><span class="annot"><span class="annottext">(TypeDefinition [Name] RemoteSchemaInputValueDefinition -&gt; m ())
-&gt; HashMap
     Name (TypeDefinition [Name] RemoteSchemaInputValueDefinition)
-&gt; m ()
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Foldable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f ()
</span><span class="hs-identifier hs-var">traverse_</span></span><span> </span><span class="annot"><span class="annottext">TypeDefinition [Name] RemoteSchemaInputValueDefinition -&gt; m ()
forall a. TypeDefinition [Name] a -&gt; m ()
</span><a href="#local-6989586621689205770"><span class="hs-identifier hs-var">validateInterfaceFields</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap
  Name (TypeDefinition [Name] RemoteSchemaInputValueDefinition)
</span><a href="#local-6989586621689205772"><span class="hs-identifier hs-var">typeDefinitions</span></a></span><span>
</span><span id="line-209"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-210"></span><span>    </span><span id="local-6989586621689205769"><span class="annot"><span class="annottext">customizeFieldName :: CustomizeRemoteFieldName
</span><a href="#local-6989586621689205769"><span class="hs-identifier hs-var hs-var">customizeFieldName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RemoteSchemaCustomizer -&gt; CustomizeRemoteFieldName
</span><a href="Hasura.RQL.Types.RemoteSchema.html#remoteSchemaCustomizeFieldName"><span class="hs-identifier hs-var">remoteSchemaCustomizeFieldName</span></a></span><span> </span><span class="annot"><span class="annottext">RemoteSchemaCustomizer
</span><a href="#local-6989586621689205774"><span class="hs-identifier hs-var">remoteSchemaCustomizer</span></a></span><span>
</span><span id="line-211"></span><span>
</span><span id="line-212"></span><span>    </span><span id="local-6989586621689206099"><span class="annot"><a href="#local-6989586621689205770"><span class="hs-identifier hs-type">validateInterfaceFields</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.TypeDefinition</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">G.Name</span></span><span class="hs-special">]</span><span> </span><span class="annot"><a href="#local-6989586621689206099"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621689205775"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span><span>
</span><span id="line-213"></span><span>    </span><span id="local-6989586621689205770"><span class="annot"><span class="annottext">validateInterfaceFields :: TypeDefinition [Name] a -&gt; m ()
</span><a href="#local-6989586621689205770"><span class="hs-identifier hs-var hs-var">validateInterfaceFields</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-214"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">G.TypeDefinitionInterface</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.InterfaceTypeDefinition</span></span><span> </span><span class="hs-special">{</span><span id="local-6989586621689205761"><span id="local-6989586621689205762"><span id="local-6989586621689205763"><span id="local-6989586621689205764"><span id="local-6989586621689205765"><span class="annot"><span class="annottext">[Directive Void]
[FieldDefinition a]
[Name]
Maybe Description
Name
_itdPossibleTypes :: forall possibleTypes inputType.
InterfaceTypeDefinition possibleTypes inputType -&gt; possibleTypes
_itdName :: forall possibleTypes inputType.
InterfaceTypeDefinition possibleTypes inputType -&gt; Name
_itdFieldsDefinition :: forall possibleTypes inputType.
InterfaceTypeDefinition possibleTypes inputType
-&gt; [FieldDefinition inputType]
_itdDirectives :: forall possibleTypes inputType.
InterfaceTypeDefinition possibleTypes inputType -&gt; [Directive Void]
_itdDescription :: forall possibleTypes inputType.
InterfaceTypeDefinition possibleTypes inputType
-&gt; Maybe Description
_itdPossibleTypes :: [Name]
_itdFieldsDefinition :: [FieldDefinition a]
_itdDirectives :: [Directive Void]
_itdName :: Name
_itdDescription :: Maybe Description
</span><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></span></span></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-215"></span><span>        </span><span class="annot"><span class="annottext">[Name] -&gt; (Name -&gt; m ()) -&gt; m ()
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Foldable t, Applicative f) =&gt;
t a -&gt; (a -&gt; f b) -&gt; f ()
</span><span class="hs-identifier hs-var">for_</span></span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621689205761"><span class="hs-identifier hs-var">_itdPossibleTypes</span></a></span><span> </span><span class="annot"><span class="annottext">((Name -&gt; m ()) -&gt; m ()) -&gt; (Name -&gt; m ()) -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621689205754"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689205754"><span class="hs-identifier hs-var">typeName</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-216"></span><span>          </span><span class="annot"><span class="annottext">[FieldDefinition a] -&gt; (FieldDefinition a -&gt; m ()) -&gt; m ()
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Foldable t, Applicative f) =&gt;
t a -&gt; (a -&gt; f b) -&gt; f ()
</span><span class="hs-identifier hs-var">for_</span></span><span> </span><span class="annot"><span class="annottext">[FieldDefinition a]
</span><a href="#local-6989586621689205762"><span class="hs-identifier hs-var">_itdFieldsDefinition</span></a></span><span> </span><span class="annot"><span class="annottext">((FieldDefinition a -&gt; m ()) -&gt; m ())
-&gt; (FieldDefinition a -&gt; m ()) -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span class="annot"><span class="hs-identifier hs-type">G.FieldDefinition</span></span><span> </span><span class="hs-special">{</span><span id="local-6989586621689205748"><span id="local-6989586621689205749"><span id="local-6989586621689205750"><span id="local-6989586621689205751"><span id="local-6989586621689205752"><span class="annot"><span class="annottext">ArgumentsDefinition a
[Directive Void]
Maybe Description
GType
Name
_fldType :: forall inputType. FieldDefinition inputType -&gt; GType
_fldName :: forall inputType. FieldDefinition inputType -&gt; Name
_fldDirectives :: forall inputType. FieldDefinition inputType -&gt; [Directive Void]
_fldDescription :: forall inputType. FieldDefinition inputType -&gt; Maybe Description
_fldArgumentsDefinition :: forall inputType.
FieldDefinition inputType -&gt; ArgumentsDefinition inputType
_fldDirectives :: [Directive Void]
_fldType :: GType
_fldArgumentsDefinition :: ArgumentsDefinition a
_fldName :: Name
_fldDescription :: Maybe Description
</span><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></span></span></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-217"></span><span>            </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621689205742"><span class="annot"><span class="annottext">interfaceCustomizedFieldName :: Name
</span><a href="#local-6989586621689205742"><span class="hs-identifier hs-var hs-var">interfaceCustomizedFieldName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CustomizeRemoteFieldName -&gt; Name -&gt; Name -&gt; Name
</span><a href="Hasura.RQL.Types.SourceCustomization.html#runCustomizeRemoteFieldName"><span class="hs-identifier hs-var hs-var">runCustomizeRemoteFieldName</span></a></span><span> </span><span class="annot"><span class="annottext">CustomizeRemoteFieldName
</span><a href="#local-6989586621689205769"><span class="hs-identifier hs-var">customizeFieldName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689205764"><span class="hs-identifier hs-var">_itdName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689205751"><span class="hs-identifier hs-var">_fldName</span></a></span><span>
</span><span id="line-218"></span><span>                </span><span id="local-6989586621689205740"><span class="annot"><span class="annottext">typeCustomizedFieldName :: Name
</span><a href="#local-6989586621689205740"><span class="hs-identifier hs-var hs-var">typeCustomizedFieldName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CustomizeRemoteFieldName -&gt; Name -&gt; Name -&gt; Name
</span><a href="Hasura.RQL.Types.SourceCustomization.html#runCustomizeRemoteFieldName"><span class="hs-identifier hs-var hs-var">runCustomizeRemoteFieldName</span></a></span><span> </span><span class="annot"><span class="annottext">CustomizeRemoteFieldName
</span><a href="#local-6989586621689205769"><span class="hs-identifier hs-var">customizeFieldName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689205754"><span class="hs-identifier hs-var">typeName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689205751"><span class="hs-identifier hs-var">_fldName</span></a></span><span>
</span><span id="line-219"></span><span>            </span><span class="annot"><span class="annottext">Bool -&gt; m () -&gt; m ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">when</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689205742"><span class="hs-identifier hs-var">interfaceCustomizedFieldName</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Name -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689205740"><span class="hs-identifier hs-var">typeCustomizedFieldName</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(m () -&gt; m ()) -&gt; m () -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-220"></span><span>              </span><span class="annot"><span class="annottext">Text -&gt; m ()
forall (m :: * -&gt; *) a. QErrM m =&gt; Text -&gt; m a
</span><a href="Hasura.GraphQL.RemoteServer.html#throwRemoteSchema"><span class="hs-identifier hs-var">throwRemoteSchema</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; m ()) -&gt; Text -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-221"></span><span>                </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Remote schema customization inconsistency: field name mapping for field &quot;</span></span><span>
</span><span id="line-222"></span><span>                  </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689205751"><span class="hs-identifier hs-var">_fldName</span></a></span><span>
</span><span id="line-223"></span><span>                  </span><span class="annot"><span class="annottext">Name -&gt; Text -&gt; Text
forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><a href="Data.Text.Extended.html#%3C%3C%3E"><span class="hs-operator hs-var">&lt;&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; of interface &quot;</span></span><span>
</span><span id="line-224"></span><span>                  </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689205764"><span class="hs-identifier hs-var">_itdName</span></a></span><span>
</span><span id="line-225"></span><span>                  </span><span class="annot"><span class="annottext">Name -&gt; Text -&gt; Text
forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><a href="Data.Text.Extended.html#%3C%3C%3E"><span class="hs-operator hs-var">&lt;&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; is inconsistent with mapping for type &quot;</span></span><span>
</span><span id="line-226"></span><span>                  </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689205754"><span class="hs-identifier hs-var">typeName</span></a></span><span>
</span><span id="line-227"></span><span>                  </span><span class="annot"><span class="annottext">Name -&gt; Text -&gt; Text
forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><a href="Data.Text.Extended.html#%3C%3C%3E"><span class="hs-operator hs-var">&lt;&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;. Interface field name maps to &quot;</span></span><span>
</span><span id="line-228"></span><span>                  </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689205742"><span class="hs-identifier hs-var">interfaceCustomizedFieldName</span></a></span><span>
</span><span id="line-229"></span><span>                  </span><span class="annot"><span class="annottext">Name -&gt; Text -&gt; Text
forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><a href="Data.Text.Extended.html#%3C%3C%3E"><span class="hs-operator hs-var">&lt;&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;. Type field name maps to &quot;</span></span><span>
</span><span id="line-230"></span><span>                  </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689205740"><span class="hs-identifier hs-var">typeCustomizedFieldName</span></a></span><span>
</span><span id="line-231"></span><span>                  </span><span class="annot"><span class="annottext">Name -&gt; Text -&gt; Text
forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><a href="Data.Text.Extended.html#%3C%3C%3E"><span class="hs-operator hs-var">&lt;&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;.&quot;</span></span><span>
</span><span id="line-232"></span><span>      </span><span class="annot"><span class="annottext">TypeDefinition [Name] a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; m ()
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-233"></span><span>
</span><span id="line-234"></span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#validateSchemaCustomizationsDistinct"><span class="hs-identifier hs-type">validateSchemaCustomizationsDistinct</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-235"></span><span>  </span><span class="hs-keyword">forall</span><span> </span><span id="local-6989586621689205738"><span class="annot"><a href="#local-6989586621689205738"><span class="hs-identifier hs-type">m</span></a></span></span><span class="hs-operator">.</span><span>
</span><span id="line-236"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">MonadError</span></span><span> </span><span class="annot"><a href="Hasura.Base.Error.html#QErr"><span class="hs-identifier hs-type">QErr</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689205738"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-237"></span><span>  </span><span class="annot"><a href="Hasura.RQL.Types.RemoteSchema.html#RemoteSchemaCustomizer"><span class="hs-identifier hs-type">RemoteSchemaCustomizer</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-238"></span><span>  </span><span class="annot"><a href="Hasura.RQL.Types.RemoteSchema.html#RemoteSchemaIntrospection"><span class="hs-identifier hs-type">RemoteSchemaIntrospection</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-239"></span><span>  </span><span class="annot"><a href="#local-6989586621689205738"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-240"></span><span id="validateSchemaCustomizationsDistinct"><span class="annot"><span class="annottext">validateSchemaCustomizationsDistinct :: RemoteSchemaCustomizer -&gt; RemoteSchemaIntrospection -&gt; m ()
</span><a href="Hasura.GraphQL.RemoteServer.html#validateSchemaCustomizationsDistinct"><span class="hs-identifier hs-var hs-var">validateSchemaCustomizationsDistinct</span></a></span></span><span> </span><span id="local-6989586621689205737"><span class="annot"><span class="annottext">RemoteSchemaCustomizer
</span><a href="#local-6989586621689205737"><span class="hs-identifier hs-var">remoteSchemaCustomizer</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.RQL.Types.RemoteSchema.html#RemoteSchemaIntrospection"><span class="hs-identifier hs-type">RemoteSchemaIntrospection</span></a></span><span> </span><span id="local-6989586621689205736"><span class="annot"><span class="annottext">HashMap
  Name (TypeDefinition [Name] RemoteSchemaInputValueDefinition)
</span><a href="#local-6989586621689205736"><span class="hs-identifier hs-var">typeDefinitions</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-241"></span><span>  </span><span class="annot"><span class="annottext">m ()
</span><a href="#local-6989586621689205735"><span class="hs-identifier hs-var">validateTypeMappingsAreDistinct</span></a></span><span>
</span><span id="line-242"></span><span>  </span><span class="annot"><span class="annottext">(TypeDefinition [Name] RemoteSchemaInputValueDefinition -&gt; m ())
-&gt; HashMap
     Name (TypeDefinition [Name] RemoteSchemaInputValueDefinition)
-&gt; m ()
forall (t :: * -&gt; *) (f :: * -&gt; *) a b.
(Foldable t, Applicative f) =&gt;
(a -&gt; f b) -&gt; t a -&gt; f ()
</span><span class="hs-identifier hs-var">traverse_</span></span><span> </span><span class="annot"><span class="annottext">TypeDefinition [Name] RemoteSchemaInputValueDefinition -&gt; m ()
forall a b. TypeDefinition a b -&gt; m ()
</span><a href="#local-6989586621689205734"><span class="hs-identifier hs-var">validateFieldMappingsAreDistinct</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap
  Name (TypeDefinition [Name] RemoteSchemaInputValueDefinition)
</span><a href="#local-6989586621689205736"><span class="hs-identifier hs-var">typeDefinitions</span></a></span><span>
</span><span id="line-243"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-244"></span><span>    </span><span id="local-6989586621689205733"><span class="annot"><span class="annottext">customizeTypeName :: MkTypename
</span><a href="#local-6989586621689205733"><span class="hs-identifier hs-var hs-var">customizeTypeName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RemoteSchemaCustomizer -&gt; MkTypename
</span><a href="Hasura.RQL.Types.RemoteSchema.html#remoteSchemaCustomizeTypeName"><span class="hs-identifier hs-var">remoteSchemaCustomizeTypeName</span></a></span><span> </span><span class="annot"><span class="annottext">RemoteSchemaCustomizer
</span><a href="#local-6989586621689205737"><span class="hs-identifier hs-var">remoteSchemaCustomizer</span></a></span><span>
</span><span id="line-245"></span><span>    </span><span id="local-6989586621689205731"><span class="annot"><span class="annottext">customizeFieldName :: Name -&gt; Name -&gt; Name
</span><a href="#local-6989586621689205731"><span class="hs-identifier hs-var hs-var">customizeFieldName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CustomizeRemoteFieldName -&gt; Name -&gt; Name -&gt; Name
</span><a href="Hasura.RQL.Types.SourceCustomization.html#runCustomizeRemoteFieldName"><span class="hs-identifier hs-var hs-var">runCustomizeRemoteFieldName</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RemoteSchemaCustomizer -&gt; CustomizeRemoteFieldName
</span><a href="Hasura.RQL.Types.RemoteSchema.html#remoteSchemaCustomizeFieldName"><span class="hs-identifier hs-var">remoteSchemaCustomizeFieldName</span></a></span><span> </span><span class="annot"><span class="annottext">RemoteSchemaCustomizer
</span><a href="#local-6989586621689205737"><span class="hs-identifier hs-var">remoteSchemaCustomizer</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-246"></span><span>
</span><span id="line-247"></span><span>    </span><span class="annot"><a href="#local-6989586621689205735"><span class="hs-identifier hs-type">validateTypeMappingsAreDistinct</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621689205738"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-248"></span><span>    </span><span id="local-6989586621689205735"><span class="annot"><span class="annottext">validateTypeMappingsAreDistinct :: m ()
</span><a href="#local-6989586621689205735"><span class="hs-identifier hs-var hs-var">validateTypeMappingsAreDistinct</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-249"></span><span>      </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621689205730"><span class="annot"><span class="annottext">dups :: HashSet Name
</span><a href="#local-6989586621689205730"><span class="hs-identifier hs-var hs-var">dups</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Name] -&gt; HashSet Name
forall a. (Eq a, Hashable a) =&gt; [a] -&gt; HashSet a
</span><a href="Data.List.Extended.html#duplicates"><span class="hs-identifier hs-var">duplicates</span></a></span><span> </span><span class="annot"><span class="annottext">([Name] -&gt; HashSet Name) -&gt; [Name] -&gt; HashSet Name
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">MkTypename -&gt; Name -&gt; Name
</span><a href="Hasura.GraphQL.Parser.Schema.html#runMkTypename"><span class="hs-identifier hs-var hs-var">runMkTypename</span></a></span><span> </span><span class="annot"><span class="annottext">MkTypename
</span><a href="#local-6989586621689205733"><span class="hs-identifier hs-var">customizeTypeName</span></a></span><span> </span><span class="annot"><span class="annottext">(Name -&gt; Name) -&gt; [Name] -&gt; [Name]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">HashMap
  Name (TypeDefinition [Name] RemoteSchemaInputValueDefinition)
-&gt; [Name]
forall k v. HashMap k v -&gt; [k]
</span><span class="hs-identifier hs-var">Map.keys</span></span><span> </span><span class="annot"><span class="annottext">HashMap
  Name (TypeDefinition [Name] RemoteSchemaInputValueDefinition)
</span><a href="#local-6989586621689205736"><span class="hs-identifier hs-var">typeDefinitions</span></a></span><span>
</span><span id="line-250"></span><span>      </span><span class="annot"><span class="annottext">Bool -&gt; m () -&gt; m ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">unless</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HashSet Name -&gt; Bool
forall a. HashSet a -&gt; Bool
</span><span class="hs-identifier hs-var">Set.null</span></span><span> </span><span class="annot"><span class="annottext">HashSet Name
</span><a href="#local-6989586621689205730"><span class="hs-identifier hs-var">dups</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(m () -&gt; m ()) -&gt; m () -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-251"></span><span>        </span><span class="annot"><span class="annottext">Text -&gt; m ()
forall (m :: * -&gt; *) a. QErrM m =&gt; Text -&gt; m a
</span><a href="Hasura.GraphQL.RemoteServer.html#throwRemoteSchema"><span class="hs-identifier hs-var">throwRemoteSchema</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; m ()) -&gt; Text -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-252"></span><span>          </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Type name mappings are not distinct; the following types appear more than once: &quot;</span></span><span>
</span><span id="line-253"></span><span>            </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">HashSet Name -&gt; Text
forall t (f :: * -&gt; *). (ToTxt t, Foldable f) =&gt; f t -&gt; Text
</span><a href="Data.Text.Extended.html#dquoteList"><span class="hs-identifier hs-var">dquoteList</span></a></span><span> </span><span class="annot"><span class="annottext">HashSet Name
</span><a href="#local-6989586621689205730"><span class="hs-identifier hs-var">dups</span></a></span><span>
</span><span id="line-254"></span><span>
</span><span id="line-255"></span><span>    </span><span id="local-6989586621689206066"><span id="local-6989586621689206067"><span class="annot"><a href="#local-6989586621689205734"><span class="hs-identifier hs-type">validateFieldMappingsAreDistinct</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.TypeDefinition</span></span><span> </span><span class="annot"><a href="#local-6989586621689206067"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689206066"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621689205738"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-256"></span><span>    </span><span id="local-6989586621689205734"><span class="annot"><span class="annottext">validateFieldMappingsAreDistinct :: TypeDefinition a b -&gt; m ()
</span><a href="#local-6989586621689205734"><span class="hs-identifier hs-var hs-var">validateFieldMappingsAreDistinct</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-257"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">G.TypeDefinitionInterface</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.InterfaceTypeDefinition</span></span><span> </span><span class="hs-special">{</span><span id="local-6989586621689205720"><span id="local-6989586621689205721"><span id="local-6989586621689205722"><span id="local-6989586621689205723"><span id="local-6989586621689205724"><span class="annot"><span class="annottext">a
[Directive Void]
[FieldDefinition b]
Maybe Description
Name
_itdPossibleTypes :: a
_itdFieldsDefinition :: [FieldDefinition b]
_itdDirectives :: [Directive Void]
_itdName :: Name
_itdDescription :: Maybe Description
_itdPossibleTypes :: forall possibleTypes inputType.
InterfaceTypeDefinition possibleTypes inputType -&gt; possibleTypes
_itdName :: forall possibleTypes inputType.
InterfaceTypeDefinition possibleTypes inputType -&gt; Name
_itdFieldsDefinition :: forall possibleTypes inputType.
InterfaceTypeDefinition possibleTypes inputType
-&gt; [FieldDefinition inputType]
_itdDirectives :: forall possibleTypes inputType.
InterfaceTypeDefinition possibleTypes inputType -&gt; [Directive Void]
_itdDescription :: forall possibleTypes inputType.
InterfaceTypeDefinition possibleTypes inputType
-&gt; Maybe Description
</span><a href="#local-6989586621689205720"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-258"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621689205719"><span class="annot"><span class="annottext">dups :: HashSet Name
</span><a href="#local-6989586621689205719"><span class="hs-identifier hs-var hs-var">dups</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Name] -&gt; HashSet Name
forall a. (Eq a, Hashable a) =&gt; [a] -&gt; HashSet a
</span><a href="Data.List.Extended.html#duplicates"><span class="hs-identifier hs-var">duplicates</span></a></span><span> </span><span class="annot"><span class="annottext">([Name] -&gt; HashSet Name) -&gt; [Name] -&gt; HashSet Name
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Name -&gt; Name
</span><a href="#local-6989586621689205731"><span class="hs-identifier hs-var">customizeFieldName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689205723"><span class="hs-identifier hs-var">_itdName</span></a></span><span> </span><span class="annot"><span class="annottext">(Name -&gt; Name)
-&gt; (FieldDefinition b -&gt; Name) -&gt; FieldDefinition b -&gt; Name
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">FieldDefinition b -&gt; Name
forall inputType. FieldDefinition inputType -&gt; Name
</span><span class="hs-identifier hs-var hs-var">G._fldName</span></span><span> </span><span class="annot"><span class="annottext">(FieldDefinition b -&gt; Name) -&gt; [FieldDefinition b] -&gt; [Name]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">[FieldDefinition b]
</span><a href="#local-6989586621689205721"><span class="hs-identifier hs-var">_itdFieldsDefinition</span></a></span><span>
</span><span id="line-259"></span><span>        </span><span class="annot"><span class="annottext">Bool -&gt; m () -&gt; m ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">unless</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HashSet Name -&gt; Bool
forall a. HashSet a -&gt; Bool
</span><span class="hs-identifier hs-var">Set.null</span></span><span> </span><span class="annot"><span class="annottext">HashSet Name
</span><a href="#local-6989586621689205719"><span class="hs-identifier hs-var">dups</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(m () -&gt; m ()) -&gt; m () -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-260"></span><span>          </span><span class="annot"><span class="annottext">Text -&gt; m ()
forall (m :: * -&gt; *) a. QErrM m =&gt; Text -&gt; m a
</span><a href="Hasura.GraphQL.RemoteServer.html#throwRemoteSchema"><span class="hs-identifier hs-var">throwRemoteSchema</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; m ()) -&gt; Text -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-261"></span><span>            </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Field name mappings for interface type &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689205723"><span class="hs-identifier hs-var">_itdName</span></a></span><span>
</span><span id="line-262"></span><span>              </span><span class="annot"><span class="annottext">Name -&gt; Text -&gt; Text
forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><a href="Data.Text.Extended.html#%3C%3C%3E"><span class="hs-operator hs-var">&lt;&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; are not distinct; the following fields appear more than once: &quot;</span></span><span>
</span><span id="line-263"></span><span>              </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">HashSet Name -&gt; Text
forall t (f :: * -&gt; *). (ToTxt t, Foldable f) =&gt; f t -&gt; Text
</span><a href="Data.Text.Extended.html#dquoteList"><span class="hs-identifier hs-var">dquoteList</span></a></span><span> </span><span class="annot"><span class="annottext">HashSet Name
</span><a href="#local-6989586621689205719"><span class="hs-identifier hs-var">dups</span></a></span><span>
</span><span id="line-264"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">G.TypeDefinitionObject</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.ObjectTypeDefinition</span></span><span> </span><span class="hs-special">{</span><span id="local-6989586621689205712"><span id="local-6989586621689205713"><span id="local-6989586621689205714"><span id="local-6989586621689205715"><span id="local-6989586621689205716"><span class="annot"><span class="annottext">[Directive Void]
[FieldDefinition b]
[Name]
Maybe Description
Name
_otdName :: forall inputType. ObjectTypeDefinition inputType -&gt; Name
_otdImplementsInterfaces :: forall inputType. ObjectTypeDefinition inputType -&gt; [Name]
_otdFieldsDefinition :: forall inputType.
ObjectTypeDefinition inputType -&gt; [FieldDefinition inputType]
_otdDirectives :: forall inputType.
ObjectTypeDefinition inputType -&gt; [Directive Void]
_otdDescription :: forall inputType.
ObjectTypeDefinition inputType -&gt; Maybe Description
_otdFieldsDefinition :: [FieldDefinition b]
_otdDirectives :: [Directive Void]
_otdImplementsInterfaces :: [Name]
_otdName :: Name
_otdDescription :: Maybe Description
</span><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></span></span></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-265"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621689205706"><span class="annot"><span class="annottext">dups :: HashSet Name
</span><a href="#local-6989586621689205706"><span class="hs-identifier hs-var hs-var">dups</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Name] -&gt; HashSet Name
forall a. (Eq a, Hashable a) =&gt; [a] -&gt; HashSet a
</span><a href="Data.List.Extended.html#duplicates"><span class="hs-identifier hs-var">duplicates</span></a></span><span> </span><span class="annot"><span class="annottext">([Name] -&gt; HashSet Name) -&gt; [Name] -&gt; HashSet Name
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Name -&gt; Name
</span><a href="#local-6989586621689205731"><span class="hs-identifier hs-var">customizeFieldName</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689205715"><span class="hs-identifier hs-var">_otdName</span></a></span><span> </span><span class="annot"><span class="annottext">(Name -&gt; Name)
-&gt; (FieldDefinition b -&gt; Name) -&gt; FieldDefinition b -&gt; Name
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">FieldDefinition b -&gt; Name
forall inputType. FieldDefinition inputType -&gt; Name
</span><span class="hs-identifier hs-var hs-var">G._fldName</span></span><span> </span><span class="annot"><span class="annottext">(FieldDefinition b -&gt; Name) -&gt; [FieldDefinition b] -&gt; [Name]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">[FieldDefinition b]
</span><a href="#local-6989586621689205712"><span class="hs-identifier hs-var">_otdFieldsDefinition</span></a></span><span>
</span><span id="line-266"></span><span>        </span><span class="annot"><span class="annottext">Bool -&gt; m () -&gt; m ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">unless</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HashSet Name -&gt; Bool
forall a. HashSet a -&gt; Bool
</span><span class="hs-identifier hs-var">Set.null</span></span><span> </span><span class="annot"><span class="annottext">HashSet Name
</span><a href="#local-6989586621689205706"><span class="hs-identifier hs-var">dups</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(m () -&gt; m ()) -&gt; m () -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-267"></span><span>          </span><span class="annot"><span class="annottext">Text -&gt; m ()
forall (m :: * -&gt; *) a. QErrM m =&gt; Text -&gt; m a
</span><a href="Hasura.GraphQL.RemoteServer.html#throwRemoteSchema"><span class="hs-identifier hs-var">throwRemoteSchema</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; m ()) -&gt; Text -&gt; m ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-268"></span><span>            </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Field name mappings for object type &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689205715"><span class="hs-identifier hs-var">_otdName</span></a></span><span>
</span><span id="line-269"></span><span>              </span><span class="annot"><span class="annottext">Name -&gt; Text -&gt; Text
forall t. ToTxt t =&gt; t -&gt; Text -&gt; Text
</span><a href="Data.Text.Extended.html#%3C%3C%3E"><span class="hs-operator hs-var">&lt;&lt;&gt;</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; are not distinct; the following fields appear more than once: &quot;</span></span><span>
</span><span id="line-270"></span><span>              </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">HashSet Name -&gt; Text
forall t (f :: * -&gt; *). (ToTxt t, Foldable f) =&gt; f t -&gt; Text
</span><a href="Data.Text.Extended.html#dquoteList"><span class="hs-identifier hs-var">dquoteList</span></a></span><span> </span><span class="annot"><span class="annottext">HashSet Name
</span><a href="#local-6989586621689205706"><span class="hs-identifier hs-var">dups</span></a></span><span>
</span><span id="line-271"></span><span>      </span><span class="annot"><span class="annottext">TypeDefinition a b
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">() -&gt; m ()
forall (f :: * -&gt; *) a. Applicative f =&gt; a -&gt; f a
</span><span class="hs-identifier hs-var">pure</span></span><span> </span><span class="hs-special">(</span><span class="hs-special">)</span><span>
</span><span id="line-272"></span><span>
</span><span id="line-273"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-274"></span><span class="hs-comment">-- Introspection</span><span>
</span><span id="line-275"></span><span>
</span><span id="line-276"></span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#introspectionQuery"><span class="hs-identifier hs-type">introspectionQuery</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.GraphQL.Transport.HTTP.Protocol.html#GQLReqOutgoing"><span class="hs-identifier hs-type">GQLReqOutgoing</span></a></span><span>
</span><span id="line-277"></span><span id="introspectionQuery"><span class="annot"><span class="annottext">introspectionQuery :: GQLReqOutgoing
</span><a href="Hasura.GraphQL.RemoteServer.html#introspectionQuery"><span class="hs-identifier hs-var hs-var">introspectionQuery</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-278"></span><span>  </span><span class="hs-special">$(</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-279"></span><span>       </span><span class="hs-identifier">fp</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier">makeRelativeToProject</span><span> </span><span class="hs-string">&quot;src-rsr/introspection.json&quot;</span><span>
</span><span id="line-280"></span><span>       </span><span class="hs-identifier">TH.qAddDependentFile</span><span> </span><span class="hs-identifier">fp</span><span>
</span><span id="line-281"></span><span>       </span><span class="hs-identifier">eitherResult</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier">TH.runIO</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">J.eitherDecodeFileStrict</span><span> </span><span class="hs-identifier">fp</span><span>
</span><span id="line-282"></span><span>       </span><span class="hs-identifier">either</span><span> </span><span class="hs-identifier">fail</span><span> </span><span class="hs-identifier">TH.lift</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-283"></span><span>         </span><span class="hs-identifier">r</span><span class="hs-glyph">@</span><span class="hs-identifier">GQLReq</span><span> </span><span class="hs-special">{</span><span class="hs-glyph">..</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier">eitherResult</span><span>
</span><span id="line-284"></span><span>         </span><span class="hs-identifier">op</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-identifier">left</span><span> </span><span class="hs-identifier">show</span><span> </span><span class="hs-operator">$</span><span> </span><span class="hs-identifier">getSingleOperation</span><span> </span><span class="hs-identifier">r</span><span>
</span><span id="line-285"></span><span>         </span><span class="hs-identifier">pure</span><span> </span><span class="hs-identifier">GQLReq</span><span> </span><span class="hs-special">{</span><span class="hs-identifier">_grQuery</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">op</span><span class="hs-special">,</span><span> </span><span class="hs-glyph">..</span><span class="hs-special">}</span><span>
</span><span id="line-286"></span><span>   </span><span class="hs-special">)</span><span>
</span><span id="line-287"></span><span>
</span><span id="line-288"></span><span class="hs-comment">-- | Parsing the introspection query result.  We use this newtype wrapper to</span><span>
</span><span id="line-289"></span><span class="hs-comment">-- avoid orphan instances and parse JSON in the way that we need for GraphQL</span><span>
</span><span id="line-290"></span><span class="hs-comment">-- introspection results.</span><span>
</span><span id="line-291"></span><span id="local-6989586621689205690"><span id="local-6989586621689205691"></span></span><span class="hs-keyword">newtype</span><span> </span><span id="FromIntrospection"><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#FromIntrospection"><span class="hs-identifier hs-var">FromIntrospection</span></a></span></span><span> </span><span id="local-6989586621689206012"><span class="annot"><a href="#local-6989586621689206012"><span class="hs-identifier hs-type">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="FromIntrospection"><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#FromIntrospection"><span class="hs-identifier hs-var">FromIntrospection</span></a></span></span><span> </span><span class="hs-special">{</span><span id="fromIntrospection"><span class="annot"><span class="annottext">FromIntrospection a -&gt; a
</span><a href="Hasura.GraphQL.RemoteServer.html#fromIntrospection"><span class="hs-identifier hs-var hs-var">fromIntrospection</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621689206012"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-292"></span><span>  </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span id="local-6989586621689205683"><span id="local-6989586621689205685"><span id="local-6989586621689205687"><span class="annot"><span class="annottext">Int -&gt; FromIntrospection a -&gt; ShowS
[FromIntrospection a] -&gt; ShowS
FromIntrospection a -&gt; String
(Int -&gt; FromIntrospection a -&gt; ShowS)
-&gt; (FromIntrospection a -&gt; String)
-&gt; ([FromIntrospection a] -&gt; ShowS)
-&gt; Show (FromIntrospection a)
forall a. Show a =&gt; Int -&gt; FromIntrospection a -&gt; ShowS
forall a. Show a =&gt; [FromIntrospection a] -&gt; ShowS
forall a. Show a =&gt; FromIntrospection a -&gt; String
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
showList :: [FromIntrospection a] -&gt; ShowS
$cshowList :: forall a. Show a =&gt; [FromIntrospection a] -&gt; ShowS
show :: FromIntrospection a -&gt; String
$cshow :: forall a. Show a =&gt; FromIntrospection a -&gt; String
showsPrec :: Int -&gt; FromIntrospection a -&gt; ShowS
$cshowsPrec :: forall a. Show a =&gt; Int -&gt; FromIntrospection a -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621689205678"><span id="local-6989586621689205680"><span class="annot"><span class="annottext">FromIntrospection a -&gt; FromIntrospection a -&gt; Bool
(FromIntrospection a -&gt; FromIntrospection a -&gt; Bool)
-&gt; (FromIntrospection a -&gt; FromIntrospection a -&gt; Bool)
-&gt; Eq (FromIntrospection a)
forall a.
Eq a =&gt;
FromIntrospection a -&gt; FromIntrospection a -&gt; Bool
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
/= :: FromIntrospection a -&gt; FromIntrospection a -&gt; Bool
$c/= :: forall a.
Eq a =&gt;
FromIntrospection a -&gt; FromIntrospection a -&gt; Bool
== :: FromIntrospection a -&gt; FromIntrospection a -&gt; Bool
$c== :: forall a.
Eq a =&gt;
FromIntrospection a -&gt; FromIntrospection a -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(forall x. FromIntrospection a -&gt; Rep (FromIntrospection a) x)
-&gt; (forall x. Rep (FromIntrospection a) x -&gt; FromIntrospection a)
-&gt; Generic (FromIntrospection a)
forall x. Rep (FromIntrospection a) x -&gt; FromIntrospection a
forall x. FromIntrospection a -&gt; Rep (FromIntrospection a) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall a x. Rep (FromIntrospection a) x -&gt; FromIntrospection a
forall a x. FromIntrospection a -&gt; Rep (FromIntrospection a) x
$cto :: forall a x. Rep (FromIntrospection a) x -&gt; FromIntrospection a
$cfrom :: forall a x. FromIntrospection a -&gt; Rep (FromIntrospection a) x
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621689205670"><span id="local-6989586621689205672"><span class="annot"><span class="annottext">a -&gt; FromIntrospection b -&gt; FromIntrospection a
(a -&gt; b) -&gt; FromIntrospection a -&gt; FromIntrospection b
(forall a b.
 (a -&gt; b) -&gt; FromIntrospection a -&gt; FromIntrospection b)
-&gt; (forall a b. a -&gt; FromIntrospection b -&gt; FromIntrospection a)
-&gt; Functor FromIntrospection
forall a b. a -&gt; FromIntrospection b -&gt; FromIntrospection a
forall a b. (a -&gt; b) -&gt; FromIntrospection a -&gt; FromIntrospection b
forall (f :: * -&gt; *).
(forall a b. (a -&gt; b) -&gt; f a -&gt; f b)
-&gt; (forall a b. a -&gt; f b -&gt; f a) -&gt; Functor f
&lt;$ :: a -&gt; FromIntrospection b -&gt; FromIntrospection a
$c&lt;$ :: forall a b. a -&gt; FromIntrospection b -&gt; FromIntrospection a
fmap :: (a -&gt; b) -&gt; FromIntrospection a -&gt; FromIntrospection b
$cfmap :: forall a b. (a -&gt; b) -&gt; FromIntrospection a -&gt; FromIntrospection b
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Functor</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-293"></span><span>
</span><span id="line-294"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621689205666"><span class="annot"><span class="hs-identifier hs-type">J.FromJSON</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#FromIntrospection"><span class="hs-identifier hs-type">FromIntrospection</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.Description</span></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-295"></span><span>  </span><span id="local-6989586621689205664"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser (FromIntrospection Description)
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">parseJSON</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Text -&gt; FromIntrospection Description)
-&gt; Parser Text -&gt; Parser (FromIntrospection Description)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Description -&gt; FromIntrospection Description
forall a. a -&gt; FromIntrospection a
</span><a href="Hasura.GraphQL.RemoteServer.html#FromIntrospection"><span class="hs-identifier hs-var">FromIntrospection</span></a></span><span> </span><span class="annot"><span class="annottext">(Description -&gt; FromIntrospection Description)
-&gt; (Text -&gt; Description) -&gt; Text -&gt; FromIntrospection Description
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Description
</span><span class="hs-identifier hs-var">G.Description</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Parser Text -&gt; Parser (FromIntrospection Description))
-&gt; (Value -&gt; Parser Text)
-&gt; Value
-&gt; Parser (FromIntrospection Description)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Parser Text
forall a. FromJSON a =&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">J.parseJSON</span></span><span>
</span><span id="line-296"></span><span>
</span><span id="line-297"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621689205659"><span class="annot"><span class="hs-identifier hs-type">J.FromJSON</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#FromIntrospection"><span class="hs-identifier hs-type">FromIntrospection</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.ScalarTypeDefinition</span></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-298"></span><span>  </span><span id="local-6989586621689205658"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser (FromIntrospection ScalarTypeDefinition)
</span><a href="#local-6989586621689205658"><span class="hs-identifier hs-var hs-var hs-var hs-var">parseJSON</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
-&gt; (Object -&gt; Parser (FromIntrospection ScalarTypeDefinition))
-&gt; Value
-&gt; Parser (FromIntrospection ScalarTypeDefinition)
forall a. String -&gt; (Object -&gt; Parser a) -&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">J.withObject</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;ScalarTypeDefinition&quot;</span></span><span> </span><span class="annot"><span class="annottext">((Object -&gt; Parser (FromIntrospection ScalarTypeDefinition))
 -&gt; Value -&gt; Parser (FromIntrospection ScalarTypeDefinition))
-&gt; (Object -&gt; Parser (FromIntrospection ScalarTypeDefinition))
-&gt; Value
-&gt; Parser (FromIntrospection ScalarTypeDefinition)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621689205656"><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689205656"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-299"></span><span>    </span><span id="local-6989586621689205655"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689205655"><span class="hs-identifier hs-var">kind</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689205656"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser Text
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><span class="hs-operator hs-var">.:</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;kind&quot;</span></span><span>
</span><span id="line-300"></span><span>    </span><span id="local-6989586621689205654"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689205654"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689205656"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser Name
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><span class="hs-operator hs-var">.:</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;name&quot;</span></span><span>
</span><span id="line-301"></span><span>    </span><span id="local-6989586621689205653"><span class="annot"><span class="annottext">Maybe (FromIntrospection Description)
</span><a href="#local-6989586621689205653"><span class="hs-identifier hs-var">desc</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689205656"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser (Maybe (FromIntrospection Description))
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser (Maybe a)
</span><span class="hs-operator hs-var">.:?</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;description&quot;</span></span><span>
</span><span id="line-302"></span><span>    </span><span class="annot"><span class="annottext">Bool -&gt; Parser () -&gt; Parser ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">when</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689205655"><span class="hs-identifier hs-var">kind</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;SCALAR&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Parser () -&gt; Parser ()) -&gt; Parser () -&gt; Parser ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Parser ()
forall (m :: * -&gt; *) a. MonadFail m =&gt; Text -&gt; Text -&gt; m a
</span><a href="Hasura.GraphQL.RemoteServer.html#kindErr"><span class="hs-identifier hs-var">kindErr</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689205655"><span class="hs-identifier hs-var">kind</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;scalar&quot;</span></span><span>
</span><span id="line-303"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621689205651"><span class="annot"><span class="annottext">desc' :: Maybe Description
</span><a href="#local-6989586621689205651"><span class="hs-identifier hs-var hs-var">desc'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(FromIntrospection Description -&gt; Description)
-&gt; Maybe (FromIntrospection Description) -&gt; Maybe Description
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">FromIntrospection Description -&gt; Description
forall a. FromIntrospection a -&gt; a
</span><a href="Hasura.GraphQL.RemoteServer.html#fromIntrospection"><span class="hs-identifier hs-var hs-var">fromIntrospection</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (FromIntrospection Description)
</span><a href="#local-6989586621689205653"><span class="hs-identifier hs-var">desc</span></a></span><span>
</span><span id="line-304"></span><span>        </span><span id="local-6989586621689205650"><span class="annot"><span class="annottext">r :: ScalarTypeDefinition
</span><a href="#local-6989586621689205650"><span class="hs-identifier hs-var hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe Description
-&gt; Name -&gt; [Directive Void] -&gt; ScalarTypeDefinition
</span><span class="hs-identifier hs-var">G.ScalarTypeDefinition</span></span><span> </span><span class="annot"><span class="annottext">Maybe Description
</span><a href="#local-6989586621689205651"><span class="hs-identifier hs-var">desc'</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689205654"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-305"></span><span>    </span><span class="annot"><span class="annottext">FromIntrospection ScalarTypeDefinition
-&gt; Parser (FromIntrospection ScalarTypeDefinition)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(FromIntrospection ScalarTypeDefinition
 -&gt; Parser (FromIntrospection ScalarTypeDefinition))
-&gt; FromIntrospection ScalarTypeDefinition
-&gt; Parser (FromIntrospection ScalarTypeDefinition)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ScalarTypeDefinition -&gt; FromIntrospection ScalarTypeDefinition
forall a. a -&gt; FromIntrospection a
</span><a href="Hasura.GraphQL.RemoteServer.html#FromIntrospection"><span class="hs-identifier hs-var">FromIntrospection</span></a></span><span> </span><span class="annot"><span class="annottext">ScalarTypeDefinition
</span><a href="#local-6989586621689205650"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-306"></span><span>
</span><span id="line-307"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621689205646"><span class="annot"><span class="hs-identifier hs-type">J.FromJSON</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#FromIntrospection"><span class="hs-identifier hs-type">FromIntrospection</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">G.ObjectTypeDefinition</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.InputValueDefinition</span></span><span class="hs-special">)</span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-308"></span><span>  </span><span id="local-6989586621689205645"><span class="annot"><span class="annottext">parseJSON :: Value
-&gt; Parser
     (FromIntrospection (ObjectTypeDefinition InputValueDefinition))
</span><a href="#local-6989586621689205645"><span class="hs-identifier hs-var hs-var hs-var hs-var">parseJSON</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
-&gt; (Object
    -&gt; Parser
         (FromIntrospection (ObjectTypeDefinition InputValueDefinition)))
-&gt; Value
-&gt; Parser
     (FromIntrospection (ObjectTypeDefinition InputValueDefinition))
forall a. String -&gt; (Object -&gt; Parser a) -&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">J.withObject</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;ObjectTypeDefinition&quot;</span></span><span> </span><span class="annot"><span class="annottext">((Object
  -&gt; Parser
       (FromIntrospection (ObjectTypeDefinition InputValueDefinition)))
 -&gt; Value
 -&gt; Parser
      (FromIntrospection (ObjectTypeDefinition InputValueDefinition)))
-&gt; (Object
    -&gt; Parser
         (FromIntrospection (ObjectTypeDefinition InputValueDefinition)))
-&gt; Value
-&gt; Parser
     (FromIntrospection (ObjectTypeDefinition InputValueDefinition))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621689205644"><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689205644"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-309"></span><span>    </span><span id="local-6989586621689205643"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689205643"><span class="hs-identifier hs-var">kind</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689205644"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser Text
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><span class="hs-operator hs-var">.:</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;kind&quot;</span></span><span>
</span><span id="line-310"></span><span>    </span><span id="local-6989586621689205642"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689205642"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689205644"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser Name
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><span class="hs-operator hs-var">.:</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;name&quot;</span></span><span>
</span><span id="line-311"></span><span>    </span><span id="local-6989586621689205641"><span class="annot"><span class="annottext">Maybe (FromIntrospection Description)
</span><a href="#local-6989586621689205641"><span class="hs-identifier hs-var">desc</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689205644"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser (Maybe (FromIntrospection Description))
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser (Maybe a)
</span><span class="hs-operator hs-var">.:?</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;description&quot;</span></span><span>
</span><span id="line-312"></span><span>    </span><span id="local-6989586621689205640"><span class="annot"><span class="annottext">Maybe [FromIntrospection (FieldDefinition InputValueDefinition)]
</span><a href="#local-6989586621689205640"><span class="hs-identifier hs-var">fields</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689205644"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object
-&gt; Key
-&gt; Parser
     (Maybe [FromIntrospection (FieldDefinition InputValueDefinition)])
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser (Maybe a)
</span><span class="hs-operator hs-var">.:?</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;fields&quot;</span></span><span>
</span><span id="line-313"></span><span>    </span><span id="local-6989586621689205639"><span class="annot"><span class="annottext">Maybe
  [FromIntrospection
     (InterfaceTypeDefinition [Name] InputValueDefinition)]
</span><a href="#local-6989586621689205639"><span class="hs-identifier hs-var">interfaces</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#FromIntrospection"><span class="hs-identifier hs-type">FromIntrospection</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">G.InterfaceTypeDefinition</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">G.Name</span></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.InputValueDefinition</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689205644"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object
-&gt; Key
-&gt; Parser
     (Maybe
        [FromIntrospection
           (InterfaceTypeDefinition [Name] InputValueDefinition)])
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser (Maybe a)
</span><span class="hs-operator hs-var">.:?</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;interfaces&quot;</span></span><span>
</span><span id="line-314"></span><span>    </span><span class="annot"><span class="annottext">Bool -&gt; Parser () -&gt; Parser ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">when</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689205643"><span class="hs-identifier hs-var">kind</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;OBJECT&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Parser () -&gt; Parser ()) -&gt; Parser () -&gt; Parser ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Parser ()
forall (m :: * -&gt; *) a. MonadFail m =&gt; Text -&gt; Text -&gt; m a
</span><a href="Hasura.GraphQL.RemoteServer.html#kindErr"><span class="hs-identifier hs-var">kindErr</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689205643"><span class="hs-identifier hs-var">kind</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;object&quot;</span></span><span>
</span><span id="line-315"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621689205638"><span class="annot"><span class="annottext">implIfaces :: [Name]
</span><a href="#local-6989586621689205638"><span class="hs-identifier hs-var hs-var">implIfaces</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(InterfaceTypeDefinition [Name] InputValueDefinition -&gt; Name)
-&gt; [InterfaceTypeDefinition [Name] InputValueDefinition] -&gt; [Name]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">InterfaceTypeDefinition [Name] InputValueDefinition -&gt; Name
forall possibleTypes inputType.
InterfaceTypeDefinition possibleTypes inputType -&gt; Name
</span><span class="hs-identifier hs-var hs-var">G._itdName</span></span><span> </span><span class="annot"><span class="annottext">([InterfaceTypeDefinition [Name] InputValueDefinition] -&gt; [Name])
-&gt; [InterfaceTypeDefinition [Name] InputValueDefinition] -&gt; [Name]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[InterfaceTypeDefinition [Name] InputValueDefinition]
-&gt; ([FromIntrospection
       (InterfaceTypeDefinition [Name] InputValueDefinition)]
    -&gt; [InterfaceTypeDefinition [Name] InputValueDefinition])
-&gt; Maybe
     [FromIntrospection
        (InterfaceTypeDefinition [Name] InputValueDefinition)]
-&gt; [InterfaceTypeDefinition [Name] InputValueDefinition]
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><span class="hs-identifier hs-var">maybe</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(FromIntrospection
   (InterfaceTypeDefinition [Name] InputValueDefinition)
 -&gt; InterfaceTypeDefinition [Name] InputValueDefinition)
-&gt; [FromIntrospection
      (InterfaceTypeDefinition [Name] InputValueDefinition)]
-&gt; [InterfaceTypeDefinition [Name] InputValueDefinition]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">FromIntrospection
  (InterfaceTypeDefinition [Name] InputValueDefinition)
-&gt; InterfaceTypeDefinition [Name] InputValueDefinition
forall a. FromIntrospection a -&gt; a
</span><a href="Hasura.GraphQL.RemoteServer.html#fromIntrospection"><span class="hs-identifier hs-var hs-var">fromIntrospection</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe
  [FromIntrospection
     (InterfaceTypeDefinition [Name] InputValueDefinition)]
</span><a href="#local-6989586621689205639"><span class="hs-identifier hs-var">interfaces</span></a></span><span>
</span><span id="line-316"></span><span>        </span><span id="local-6989586621689205636"><span class="annot"><span class="annottext">flds :: [FieldDefinition InputValueDefinition]
</span><a href="#local-6989586621689205636"><span class="hs-identifier hs-var hs-var">flds</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[FieldDefinition InputValueDefinition]
-&gt; ([FromIntrospection (FieldDefinition InputValueDefinition)]
    -&gt; [FieldDefinition InputValueDefinition])
-&gt; Maybe [FromIntrospection (FieldDefinition InputValueDefinition)]
-&gt; [FieldDefinition InputValueDefinition]
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><span class="hs-identifier hs-var">maybe</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(FromIntrospection (FieldDefinition InputValueDefinition)
 -&gt; FieldDefinition InputValueDefinition)
-&gt; [FromIntrospection (FieldDefinition InputValueDefinition)]
-&gt; [FieldDefinition InputValueDefinition]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">FromIntrospection (FieldDefinition InputValueDefinition)
-&gt; FieldDefinition InputValueDefinition
forall a. FromIntrospection a -&gt; a
</span><a href="Hasura.GraphQL.RemoteServer.html#fromIntrospection"><span class="hs-identifier hs-var hs-var">fromIntrospection</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe [FromIntrospection (FieldDefinition InputValueDefinition)]
</span><a href="#local-6989586621689205640"><span class="hs-identifier hs-var">fields</span></a></span><span>
</span><span id="line-317"></span><span>        </span><span id="local-6989586621689205635"><span class="annot"><span class="annottext">desc' :: Maybe Description
</span><a href="#local-6989586621689205635"><span class="hs-identifier hs-var hs-var">desc'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(FromIntrospection Description -&gt; Description)
-&gt; Maybe (FromIntrospection Description) -&gt; Maybe Description
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">FromIntrospection Description -&gt; Description
forall a. FromIntrospection a -&gt; a
</span><a href="Hasura.GraphQL.RemoteServer.html#fromIntrospection"><span class="hs-identifier hs-var hs-var">fromIntrospection</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (FromIntrospection Description)
</span><a href="#local-6989586621689205641"><span class="hs-identifier hs-var">desc</span></a></span><span>
</span><span id="line-318"></span><span>        </span><span id="local-6989586621689205634"><span class="annot"><span class="annottext">r :: ObjectTypeDefinition InputValueDefinition
</span><a href="#local-6989586621689205634"><span class="hs-identifier hs-var hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe Description
-&gt; Name
-&gt; [Name]
-&gt; [Directive Void]
-&gt; [FieldDefinition InputValueDefinition]
-&gt; ObjectTypeDefinition InputValueDefinition
forall inputType.
Maybe Description
-&gt; Name
-&gt; [Name]
-&gt; [Directive Void]
-&gt; [FieldDefinition inputType]
-&gt; ObjectTypeDefinition inputType
</span><span class="hs-identifier hs-var">G.ObjectTypeDefinition</span></span><span> </span><span class="annot"><span class="annottext">Maybe Description
</span><a href="#local-6989586621689205635"><span class="hs-identifier hs-var">desc'</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689205642"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621689205638"><span class="hs-identifier hs-var">implIfaces</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">[FieldDefinition InputValueDefinition]
</span><a href="#local-6989586621689205636"><span class="hs-identifier hs-var">flds</span></a></span><span>
</span><span id="line-319"></span><span>    </span><span class="annot"><span class="annottext">FromIntrospection (ObjectTypeDefinition InputValueDefinition)
-&gt; Parser
     (FromIntrospection (ObjectTypeDefinition InputValueDefinition))
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(FromIntrospection (ObjectTypeDefinition InputValueDefinition)
 -&gt; Parser
      (FromIntrospection (ObjectTypeDefinition InputValueDefinition)))
-&gt; FromIntrospection (ObjectTypeDefinition InputValueDefinition)
-&gt; Parser
     (FromIntrospection (ObjectTypeDefinition InputValueDefinition))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ObjectTypeDefinition InputValueDefinition
-&gt; FromIntrospection (ObjectTypeDefinition InputValueDefinition)
forall a. a -&gt; FromIntrospection a
</span><a href="Hasura.GraphQL.RemoteServer.html#FromIntrospection"><span class="hs-identifier hs-var">FromIntrospection</span></a></span><span> </span><span class="annot"><span class="annottext">ObjectTypeDefinition InputValueDefinition
</span><a href="#local-6989586621689205634"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-320"></span><span>
</span><span id="line-321"></span><span id="local-6989586621689205633"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621689205630"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">J.FromJSON</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#FromIntrospection"><span class="hs-identifier hs-type">FromIntrospection</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689205633"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">J.FromJSON</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#FromIntrospection"><span class="hs-identifier hs-type">FromIntrospection</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">G.FieldDefinition</span></span><span> </span><span class="annot"><a href="#local-6989586621689205633"><span class="hs-identifier hs-type">a</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-322"></span><span>  </span><span id="local-6989586621689205629"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser (FromIntrospection (FieldDefinition a))
</span><a href="#local-6989586621689205629"><span class="hs-identifier hs-var hs-var hs-var hs-var">parseJSON</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
-&gt; (Object -&gt; Parser (FromIntrospection (FieldDefinition a)))
-&gt; Value
-&gt; Parser (FromIntrospection (FieldDefinition a))
forall a. String -&gt; (Object -&gt; Parser a) -&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">J.withObject</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;FieldDefinition&quot;</span></span><span> </span><span class="annot"><span class="annottext">((Object -&gt; Parser (FromIntrospection (FieldDefinition a)))
 -&gt; Value -&gt; Parser (FromIntrospection (FieldDefinition a)))
-&gt; (Object -&gt; Parser (FromIntrospection (FieldDefinition a)))
-&gt; Value
-&gt; Parser (FromIntrospection (FieldDefinition a))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621689205628"><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689205628"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-323"></span><span>    </span><span id="local-6989586621689205627"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689205627"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689205628"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser Name
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><span class="hs-operator hs-var">.:</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;name&quot;</span></span><span>
</span><span id="line-324"></span><span>    </span><span id="local-6989586621689205626"><span class="annot"><span class="annottext">Maybe (FromIntrospection Description)
</span><a href="#local-6989586621689205626"><span class="hs-identifier hs-var">desc</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689205628"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser (Maybe (FromIntrospection Description))
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser (Maybe a)
</span><span class="hs-operator hs-var">.:?</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;description&quot;</span></span><span>
</span><span id="line-325"></span><span>    </span><span id="local-6989586621689205625"><span class="annot"><span class="annottext">[FromIntrospection a]
</span><a href="#local-6989586621689205625"><span class="hs-identifier hs-var">args</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689205628"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser [FromIntrospection a]
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><span class="hs-operator hs-var">.:</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;args&quot;</span></span><span>
</span><span id="line-326"></span><span>    </span><span id="local-6989586621689205624"><span class="annot"><span class="annottext">FromIntrospection GType
</span><a href="#local-6989586621689205624"><span class="hs-identifier hs-var">_type</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689205628"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser (FromIntrospection GType)
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><span class="hs-operator hs-var">.:</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;type&quot;</span></span><span>
</span><span id="line-327"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621689205623"><span class="annot"><span class="annottext">desc' :: Maybe Description
</span><a href="#local-6989586621689205623"><span class="hs-identifier hs-var hs-var">desc'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(FromIntrospection Description -&gt; Description)
-&gt; Maybe (FromIntrospection Description) -&gt; Maybe Description
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">FromIntrospection Description -&gt; Description
forall a. FromIntrospection a -&gt; a
</span><a href="Hasura.GraphQL.RemoteServer.html#fromIntrospection"><span class="hs-identifier hs-var hs-var">fromIntrospection</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (FromIntrospection Description)
</span><a href="#local-6989586621689205626"><span class="hs-identifier hs-var">desc</span></a></span><span>
</span><span id="line-328"></span><span>        </span><span id="local-6989586621689205622"><span class="annot"><span class="annottext">r :: FieldDefinition a
</span><a href="#local-6989586621689205622"><span class="hs-identifier hs-var hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-329"></span><span>          </span><span class="annot"><span class="annottext">Maybe Description
-&gt; Name
-&gt; ArgumentsDefinition a
-&gt; GType
-&gt; [Directive Void]
-&gt; FieldDefinition a
forall inputType.
Maybe Description
-&gt; Name
-&gt; ArgumentsDefinition inputType
-&gt; GType
-&gt; [Directive Void]
-&gt; FieldDefinition inputType
</span><span class="hs-identifier hs-var">G.FieldDefinition</span></span><span>
</span><span id="line-330"></span><span>            </span><span class="annot"><span class="annottext">Maybe Description
</span><a href="#local-6989586621689205623"><span class="hs-identifier hs-var">desc'</span></a></span><span>
</span><span id="line-331"></span><span>            </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689205627"><span class="hs-identifier hs-var">name</span></a></span><span>
</span><span id="line-332"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(FromIntrospection a -&gt; a)
-&gt; [FromIntrospection a] -&gt; ArgumentsDefinition a
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">FromIntrospection a -&gt; a
forall a. FromIntrospection a -&gt; a
</span><a href="Hasura.GraphQL.RemoteServer.html#fromIntrospection"><span class="hs-identifier hs-var hs-var">fromIntrospection</span></a></span><span> </span><span class="annot"><span class="annottext">[FromIntrospection a]
</span><a href="#local-6989586621689205625"><span class="hs-identifier hs-var">args</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-333"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FromIntrospection GType -&gt; GType
forall a. FromIntrospection a -&gt; a
</span><a href="Hasura.GraphQL.RemoteServer.html#fromIntrospection"><span class="hs-identifier hs-var hs-var">fromIntrospection</span></a></span><span> </span><span class="annot"><span class="annottext">FromIntrospection GType
</span><a href="#local-6989586621689205624"><span class="hs-identifier hs-var">_type</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-334"></span><span>            </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-335"></span><span>    </span><span class="annot"><span class="annottext">FromIntrospection (FieldDefinition a)
-&gt; Parser (FromIntrospection (FieldDefinition a))
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(FromIntrospection (FieldDefinition a)
 -&gt; Parser (FromIntrospection (FieldDefinition a)))
-&gt; FromIntrospection (FieldDefinition a)
-&gt; Parser (FromIntrospection (FieldDefinition a))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">FieldDefinition a -&gt; FromIntrospection (FieldDefinition a)
forall a. a -&gt; FromIntrospection a
</span><a href="Hasura.GraphQL.RemoteServer.html#FromIntrospection"><span class="hs-identifier hs-var">FromIntrospection</span></a></span><span> </span><span class="annot"><span class="annottext">FieldDefinition a
</span><a href="#local-6989586621689205622"><span class="hs-identifier hs-var">r</span></a></span></span><span>
</span><span id="line-336"></span><span>
</span><span id="line-337"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621689205619"><span class="annot"><span class="hs-identifier hs-type">J.FromJSON</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#FromIntrospection"><span class="hs-identifier hs-type">FromIntrospection</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.GType</span></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-338"></span><span>  </span><span id="local-6989586621689205618"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser (FromIntrospection GType)
</span><a href="#local-6989586621689205618"><span class="hs-identifier hs-var hs-var hs-var hs-var">parseJSON</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
-&gt; (Object -&gt; Parser (FromIntrospection GType))
-&gt; Value
-&gt; Parser (FromIntrospection GType)
forall a. String -&gt; (Object -&gt; Parser a) -&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">J.withObject</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;GType&quot;</span></span><span> </span><span class="annot"><span class="annottext">((Object -&gt; Parser (FromIntrospection GType))
 -&gt; Value -&gt; Parser (FromIntrospection GType))
-&gt; (Object -&gt; Parser (FromIntrospection GType))
-&gt; Value
-&gt; Parser (FromIntrospection GType)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621689205617"><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689205617"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-339"></span><span>    </span><span id="local-6989586621689205616"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689205616"><span class="hs-identifier hs-var">kind</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689205617"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser Text
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><span class="hs-operator hs-var">.:</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;kind&quot;</span></span><span>
</span><span id="line-340"></span><span>    </span><span id="local-6989586621689205615"><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621689205615"><span class="hs-identifier hs-var">mName</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689205617"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser (Maybe Name)
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser (Maybe a)
</span><span class="hs-operator hs-var">.:?</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;name&quot;</span></span><span>
</span><span id="line-341"></span><span>    </span><span id="local-6989586621689205614"><span class="annot"><span class="annottext">Maybe (FromIntrospection GType)
</span><a href="#local-6989586621689205614"><span class="hs-identifier hs-var">mType</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689205617"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser (Maybe (FromIntrospection GType))
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser (Maybe a)
</span><span class="hs-operator hs-var">.:?</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;ofType&quot;</span></span><span>
</span><span id="line-342"></span><span>    </span><span id="local-6989586621689205613"><span class="annot"><span class="annottext">GType
</span><a href="#local-6989586621689205613"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689205616"><span class="hs-identifier hs-var">kind</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621689205615"><span class="hs-identifier hs-var">mName</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe (FromIntrospection GType)
</span><a href="#local-6989586621689205614"><span class="hs-identifier hs-var">mType</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-343"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;NON_NULL&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe Name
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621689205612"><span class="annot"><span class="annottext">FromIntrospection GType
</span><a href="#local-6989586621689205612"><span class="hs-identifier hs-var">typ</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">GType -&gt; Parser GType
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(GType -&gt; Parser GType) -&gt; GType -&gt; Parser GType
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">GType -&gt; GType
</span><a href="#local-6989586621689205611"><span class="hs-identifier hs-var">mkNotNull</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FromIntrospection GType -&gt; GType
forall a. FromIntrospection a -&gt; a
</span><a href="Hasura.GraphQL.RemoteServer.html#fromIntrospection"><span class="hs-identifier hs-var hs-var">fromIntrospection</span></a></span><span> </span><span class="annot"><span class="annottext">FromIntrospection GType
</span><a href="#local-6989586621689205612"><span class="hs-identifier hs-var">typ</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-344"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;NON_NULL&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe Name
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe (FromIntrospection GType)
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Parser GType
forall (m :: * -&gt; *) a. MonadFail m =&gt; Text -&gt; m a
</span><a href="Hasura.GraphQL.RemoteServer.html#pErr"><span class="hs-identifier hs-var">pErr</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;NON_NULL should have `ofType`&quot;</span></span><span>
</span><span id="line-345"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;LIST&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe Name
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621689205609"><span class="annot"><span class="annottext">FromIntrospection GType
</span><a href="#local-6989586621689205609"><span class="hs-identifier hs-var">typ</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-346"></span><span>        </span><span class="annot"><span class="annottext">GType -&gt; Parser GType
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(GType -&gt; Parser GType) -&gt; GType -&gt; Parser GType
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Nullability -&gt; GType -&gt; GType
</span><span class="hs-identifier hs-var">G.TypeList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Nullability
</span><span class="hs-identifier hs-var">G.Nullability</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FromIntrospection GType -&gt; GType
forall a. FromIntrospection a -&gt; a
</span><a href="Hasura.GraphQL.RemoteServer.html#fromIntrospection"><span class="hs-identifier hs-var hs-var">fromIntrospection</span></a></span><span> </span><span class="annot"><span class="annottext">FromIntrospection GType
</span><a href="#local-6989586621689205609"><span class="hs-identifier hs-var">typ</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-347"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;LIST&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe Name
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe (FromIntrospection GType)
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Parser GType
forall (m :: * -&gt; *) a. MonadFail m =&gt; Text -&gt; m a
</span><a href="Hasura.GraphQL.RemoteServer.html#pErr"><span class="hs-identifier hs-var">pErr</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;LIST should have `ofType`&quot;</span></span><span>
</span><span id="line-348"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-identifier">_</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621689205606"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689205606"><span class="hs-identifier hs-var">name</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe (FromIntrospection GType)
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">GType -&gt; Parser GType
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(GType -&gt; Parser GType) -&gt; GType -&gt; Parser GType
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Nullability -&gt; Name -&gt; GType
</span><span class="hs-identifier hs-var">G.TypeNamed</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Nullability
</span><span class="hs-identifier hs-var">G.Nullability</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689205606"><span class="hs-identifier hs-var">name</span></a></span><span>
</span><span id="line-349"></span><span>      </span><span class="annot"><span class="annottext">(Text, Maybe Name, Maybe (FromIntrospection GType))
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Parser GType
forall (m :: * -&gt; *) a. MonadFail m =&gt; Text -&gt; m a
</span><a href="Hasura.GraphQL.RemoteServer.html#pErr"><span class="hs-identifier hs-var">pErr</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Parser GType) -&gt; Text -&gt; Parser GType
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;kind: &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689205616"><span class="hs-identifier hs-var">kind</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot; should have name&quot;</span></span><span>
</span><span id="line-350"></span><span>    </span><span class="annot"><span class="annottext">FromIntrospection GType -&gt; Parser (FromIntrospection GType)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(FromIntrospection GType -&gt; Parser (FromIntrospection GType))
-&gt; FromIntrospection GType -&gt; Parser (FromIntrospection GType)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">GType -&gt; FromIntrospection GType
forall a. a -&gt; FromIntrospection a
</span><a href="Hasura.GraphQL.RemoteServer.html#FromIntrospection"><span class="hs-identifier hs-var">FromIntrospection</span></a></span><span> </span><span class="annot"><span class="annottext">GType
</span><a href="#local-6989586621689205613"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-351"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-352"></span><span>      </span><span id="local-6989586621689205611"><span class="annot"><span class="annottext">mkNotNull :: GType -&gt; GType
</span><a href="#local-6989586621689205611"><span class="hs-identifier hs-var hs-var">mkNotNull</span></a></span></span><span> </span><span id="local-6989586621689205604"><span class="annot"><span class="annottext">GType
</span><a href="#local-6989586621689205604"><span class="hs-identifier hs-var">typ</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">GType
</span><a href="#local-6989586621689205604"><span class="hs-identifier hs-var">typ</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-353"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">G.TypeList</span></span><span> </span><span class="annot"><span class="annottext">Nullability
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621689205603"><span class="annot"><span class="annottext">GType
</span><a href="#local-6989586621689205603"><span class="hs-identifier hs-var">ty</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Nullability -&gt; GType -&gt; GType
</span><span class="hs-identifier hs-var">G.TypeList</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Nullability
</span><span class="hs-identifier hs-var">G.Nullability</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">GType
</span><a href="#local-6989586621689205603"><span class="hs-identifier hs-var">ty</span></a></span><span>
</span><span id="line-354"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">G.TypeNamed</span></span><span> </span><span class="annot"><span class="annottext">Nullability
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621689205602"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689205602"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Nullability -&gt; Name -&gt; GType
</span><span class="hs-identifier hs-var">G.TypeNamed</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Bool -&gt; Nullability
</span><span class="hs-identifier hs-var">G.Nullability</span></span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689205602"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-355"></span><span>
</span><span id="line-356"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621689205599"><span class="annot"><span class="hs-identifier hs-type">J.FromJSON</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#FromIntrospection"><span class="hs-identifier hs-type">FromIntrospection</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.InputValueDefinition</span></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-357"></span><span>  </span><span id="local-6989586621689205598"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser (FromIntrospection InputValueDefinition)
</span><a href="#local-6989586621689205598"><span class="hs-identifier hs-var hs-var hs-var hs-var">parseJSON</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
-&gt; (Object -&gt; Parser (FromIntrospection InputValueDefinition))
-&gt; Value
-&gt; Parser (FromIntrospection InputValueDefinition)
forall a. String -&gt; (Object -&gt; Parser a) -&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">J.withObject</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;InputValueDefinition&quot;</span></span><span> </span><span class="annot"><span class="annottext">((Object -&gt; Parser (FromIntrospection InputValueDefinition))
 -&gt; Value -&gt; Parser (FromIntrospection InputValueDefinition))
-&gt; (Object -&gt; Parser (FromIntrospection InputValueDefinition))
-&gt; Value
-&gt; Parser (FromIntrospection InputValueDefinition)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621689205597"><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689205597"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-358"></span><span>    </span><span id="local-6989586621689205596"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689205596"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689205597"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser Name
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><span class="hs-operator hs-var">.:</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;name&quot;</span></span><span>
</span><span id="line-359"></span><span>    </span><span id="local-6989586621689205595"><span class="annot"><span class="annottext">Maybe (FromIntrospection Description)
</span><a href="#local-6989586621689205595"><span class="hs-identifier hs-var">desc</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689205597"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser (Maybe (FromIntrospection Description))
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser (Maybe a)
</span><span class="hs-operator hs-var">.:?</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;description&quot;</span></span><span>
</span><span id="line-360"></span><span>    </span><span id="local-6989586621689205594"><span class="annot"><span class="annottext">FromIntrospection GType
</span><a href="#local-6989586621689205594"><span class="hs-identifier hs-var">_type</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689205597"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser (FromIntrospection GType)
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><span class="hs-operator hs-var">.:</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;type&quot;</span></span><span>
</span><span id="line-361"></span><span>    </span><span id="local-6989586621689205593"><span class="annot"><span class="annottext">Maybe (FromIntrospection (Value Void))
</span><a href="#local-6989586621689205593"><span class="hs-identifier hs-var">defVal</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689205597"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser (Maybe (FromIntrospection (Value Void)))
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser (Maybe a)
</span><span class="hs-operator hs-var">.:?</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;defaultValue&quot;</span></span><span>
</span><span id="line-362"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621689205592"><span class="annot"><span class="annottext">desc' :: Maybe Description
</span><a href="#local-6989586621689205592"><span class="hs-identifier hs-var hs-var">desc'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(FromIntrospection Description -&gt; Description)
-&gt; Maybe (FromIntrospection Description) -&gt; Maybe Description
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">FromIntrospection Description -&gt; Description
forall a. FromIntrospection a -&gt; a
</span><a href="Hasura.GraphQL.RemoteServer.html#fromIntrospection"><span class="hs-identifier hs-var hs-var">fromIntrospection</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (FromIntrospection Description)
</span><a href="#local-6989586621689205595"><span class="hs-identifier hs-var">desc</span></a></span><span>
</span><span id="line-363"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621689205591"><span class="annot"><span class="annottext">defVal' :: Maybe (Value Void)
</span><a href="#local-6989586621689205591"><span class="hs-identifier hs-var hs-var">defVal'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(FromIntrospection (Value Void) -&gt; Value Void)
-&gt; Maybe (FromIntrospection (Value Void)) -&gt; Maybe (Value Void)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">FromIntrospection (Value Void) -&gt; Value Void
forall a. FromIntrospection a -&gt; a
</span><a href="Hasura.GraphQL.RemoteServer.html#fromIntrospection"><span class="hs-identifier hs-var hs-var">fromIntrospection</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (FromIntrospection (Value Void))
</span><a href="#local-6989586621689205593"><span class="hs-identifier hs-var">defVal</span></a></span><span>
</span><span id="line-364"></span><span>        </span><span id="local-6989586621689205590"><span class="annot"><span class="annottext">r :: InputValueDefinition
</span><a href="#local-6989586621689205590"><span class="hs-identifier hs-var hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe Description
-&gt; Name
-&gt; GType
-&gt; Maybe (Value Void)
-&gt; [Directive Void]
-&gt; InputValueDefinition
</span><span class="hs-identifier hs-var">G.InputValueDefinition</span></span><span> </span><span class="annot"><span class="annottext">Maybe Description
</span><a href="#local-6989586621689205592"><span class="hs-identifier hs-var">desc'</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689205596"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">FromIntrospection GType -&gt; GType
forall a. FromIntrospection a -&gt; a
</span><a href="Hasura.GraphQL.RemoteServer.html#fromIntrospection"><span class="hs-identifier hs-var hs-var">fromIntrospection</span></a></span><span> </span><span class="annot"><span class="annottext">FromIntrospection GType
</span><a href="#local-6989586621689205594"><span class="hs-identifier hs-var">_type</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe (Value Void)
</span><a href="#local-6989586621689205591"><span class="hs-identifier hs-var">defVal'</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-365"></span><span>    </span><span class="annot"><span class="annottext">FromIntrospection InputValueDefinition
-&gt; Parser (FromIntrospection InputValueDefinition)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(FromIntrospection InputValueDefinition
 -&gt; Parser (FromIntrospection InputValueDefinition))
-&gt; FromIntrospection InputValueDefinition
-&gt; Parser (FromIntrospection InputValueDefinition)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">InputValueDefinition -&gt; FromIntrospection InputValueDefinition
forall a. a -&gt; FromIntrospection a
</span><a href="Hasura.GraphQL.RemoteServer.html#FromIntrospection"><span class="hs-identifier hs-var">FromIntrospection</span></a></span><span> </span><span class="annot"><span class="annottext">InputValueDefinition
</span><a href="#local-6989586621689205590"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-366"></span><span>
</span><span id="line-367"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621689205586"><span class="annot"><span class="hs-identifier hs-type">J.FromJSON</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#FromIntrospection"><span class="hs-identifier hs-type">FromIntrospection</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">G.Value</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Void</span></span><span class="hs-special">)</span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-368"></span><span>  </span><span id="local-6989586621689205585"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser (FromIntrospection (Value Void))
</span><a href="#local-6989586621689205585"><span class="hs-identifier hs-var hs-var hs-var hs-var">parseJSON</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
-&gt; (Text -&gt; Parser (FromIntrospection (Value Void)))
-&gt; Value
-&gt; Parser (FromIntrospection (Value Void))
forall a. String -&gt; (Text -&gt; Parser a) -&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">J.withText</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Value Void&quot;</span></span><span> </span><span class="annot"><span class="annottext">((Text -&gt; Parser (FromIntrospection (Value Void)))
 -&gt; Value -&gt; Parser (FromIntrospection (Value Void)))
-&gt; (Text -&gt; Parser (FromIntrospection (Value Void)))
-&gt; Value
-&gt; Parser (FromIntrospection (Value Void))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621689205583"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689205583"><span class="hs-identifier hs-var">t</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-369"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621689205582"><span class="annot"><span class="annottext">parseValueConst :: Text -&gt; Either Text (Value Void)
</span><a href="#local-6989586621689205582"><span class="hs-identifier hs-var hs-var">parseValueConst</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Parser (Value Void) -&gt; Text -&gt; Either Text (Value Void)
forall a. Parser a -&gt; Text -&gt; Either Text a
</span><span class="hs-identifier hs-var">G.runParser</span></span><span> </span><span class="annot"><span class="annottext">Parser (Value Void)
forall var. Variable var =&gt; Parser (Value var)
</span><span class="hs-identifier hs-var">G.value</span></span><span>
</span><span id="line-370"></span><span>     </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">Value Void -&gt; FromIntrospection (Value Void)
forall a. a -&gt; FromIntrospection a
</span><a href="Hasura.GraphQL.RemoteServer.html#FromIntrospection"><span class="hs-identifier hs-var">FromIntrospection</span></a></span><span> </span><span class="annot"><span class="annottext">(Value Void -&gt; FromIntrospection (Value Void))
-&gt; Parser (Value Void) -&gt; Parser (FromIntrospection (Value Void))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Either Text (Value Void)
-&gt; (Text -&gt; Parser (Value Void)) -&gt; Parser (Value Void)
forall (m :: * -&gt; *) e a.
Applicative m =&gt;
Either e a -&gt; (e -&gt; m a) -&gt; m a
</span><a href="Hasura.Prelude.html#onLeft"><span class="hs-identifier hs-var">onLeft</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text -&gt; Either Text (Value Void)
</span><a href="#local-6989586621689205582"><span class="hs-identifier hs-var">parseValueConst</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689205583"><span class="hs-identifier hs-var">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; Parser (Value Void)
forall (m :: * -&gt; *) a. MonadFail m =&gt; String -&gt; m a
</span><span class="hs-identifier hs-var">fail</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; Parser (Value Void))
-&gt; (Text -&gt; String) -&gt; Text -&gt; Parser (Value Void)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; String
</span><span class="hs-identifier hs-var">T.unpack</span></span><span class="hs-special">)</span><span>
</span><span id="line-371"></span><span>
</span><span id="line-372"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621689205576"><span class="annot"><span class="hs-identifier hs-type">J.FromJSON</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#FromIntrospection"><span class="hs-identifier hs-type">FromIntrospection</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">G.InterfaceTypeDefinition</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">G.Name</span></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.InputValueDefinition</span></span><span class="hs-special">)</span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-373"></span><span>  </span><span id="local-6989586621689205575"><span class="annot"><span class="annottext">parseJSON :: Value
-&gt; Parser
     (FromIntrospection
        (InterfaceTypeDefinition [Name] InputValueDefinition))
</span><a href="#local-6989586621689205575"><span class="hs-identifier hs-var hs-var hs-var hs-var">parseJSON</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
-&gt; (Object
    -&gt; Parser
         (FromIntrospection
            (InterfaceTypeDefinition [Name] InputValueDefinition)))
-&gt; Value
-&gt; Parser
     (FromIntrospection
        (InterfaceTypeDefinition [Name] InputValueDefinition))
forall a. String -&gt; (Object -&gt; Parser a) -&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">J.withObject</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;InterfaceTypeDefinition&quot;</span></span><span> </span><span class="annot"><span class="annottext">((Object
  -&gt; Parser
       (FromIntrospection
          (InterfaceTypeDefinition [Name] InputValueDefinition)))
 -&gt; Value
 -&gt; Parser
      (FromIntrospection
         (InterfaceTypeDefinition [Name] InputValueDefinition)))
-&gt; (Object
    -&gt; Parser
         (FromIntrospection
            (InterfaceTypeDefinition [Name] InputValueDefinition)))
-&gt; Value
-&gt; Parser
     (FromIntrospection
        (InterfaceTypeDefinition [Name] InputValueDefinition))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621689205574"><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689205574"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-374"></span><span>    </span><span id="local-6989586621689205573"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689205573"><span class="hs-identifier hs-var">kind</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689205574"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser Text
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><span class="hs-operator hs-var">.:</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;kind&quot;</span></span><span>
</span><span id="line-375"></span><span>    </span><span id="local-6989586621689205572"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689205572"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689205574"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser Name
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><span class="hs-operator hs-var">.:</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;name&quot;</span></span><span>
</span><span id="line-376"></span><span>    </span><span id="local-6989586621689205571"><span class="annot"><span class="annottext">Maybe (FromIntrospection Description)
</span><a href="#local-6989586621689205571"><span class="hs-identifier hs-var">desc</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689205574"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser (Maybe (FromIntrospection Description))
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser (Maybe a)
</span><span class="hs-operator hs-var">.:?</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;description&quot;</span></span><span>
</span><span id="line-377"></span><span>    </span><span id="local-6989586621689205570"><span class="annot"><span class="annottext">Maybe [FromIntrospection (FieldDefinition InputValueDefinition)]
</span><a href="#local-6989586621689205570"><span class="hs-identifier hs-var">fields</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689205574"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object
-&gt; Key
-&gt; Parser
     (Maybe [FromIntrospection (FieldDefinition InputValueDefinition)])
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser (Maybe a)
</span><span class="hs-operator hs-var">.:?</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;fields&quot;</span></span><span>
</span><span id="line-378"></span><span>    </span><span id="local-6989586621689205569"><span class="annot"><span class="annottext">Maybe
  [FromIntrospection (ObjectTypeDefinition InputValueDefinition)]
</span><a href="#local-6989586621689205569"><span class="hs-identifier hs-var">possibleTypes</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#FromIntrospection"><span class="hs-identifier hs-type">FromIntrospection</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">G.ObjectTypeDefinition</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.InputValueDefinition</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689205574"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object
-&gt; Key
-&gt; Parser
     (Maybe
        [FromIntrospection (ObjectTypeDefinition InputValueDefinition)])
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser (Maybe a)
</span><span class="hs-operator hs-var">.:?</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;possibleTypes&quot;</span></span><span>
</span><span id="line-379"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621689205568"><span class="annot"><span class="annottext">flds :: [FieldDefinition InputValueDefinition]
</span><a href="#local-6989586621689205568"><span class="hs-identifier hs-var hs-var">flds</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[FieldDefinition InputValueDefinition]
-&gt; ([FromIntrospection (FieldDefinition InputValueDefinition)]
    -&gt; [FieldDefinition InputValueDefinition])
-&gt; Maybe [FromIntrospection (FieldDefinition InputValueDefinition)]
-&gt; [FieldDefinition InputValueDefinition]
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><span class="hs-identifier hs-var">maybe</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(FromIntrospection (FieldDefinition InputValueDefinition)
 -&gt; FieldDefinition InputValueDefinition)
-&gt; [FromIntrospection (FieldDefinition InputValueDefinition)]
-&gt; [FieldDefinition InputValueDefinition]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">FromIntrospection (FieldDefinition InputValueDefinition)
-&gt; FieldDefinition InputValueDefinition
forall a. FromIntrospection a -&gt; a
</span><a href="Hasura.GraphQL.RemoteServer.html#fromIntrospection"><span class="hs-identifier hs-var hs-var">fromIntrospection</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe [FromIntrospection (FieldDefinition InputValueDefinition)]
</span><a href="#local-6989586621689205570"><span class="hs-identifier hs-var">fields</span></a></span><span>
</span><span id="line-380"></span><span>        </span><span id="local-6989586621689205567"><span class="annot"><span class="annottext">desc' :: Maybe Description
</span><a href="#local-6989586621689205567"><span class="hs-identifier hs-var hs-var">desc'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(FromIntrospection Description -&gt; Description)
-&gt; Maybe (FromIntrospection Description) -&gt; Maybe Description
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">FromIntrospection Description -&gt; Description
forall a. FromIntrospection a -&gt; a
</span><a href="Hasura.GraphQL.RemoteServer.html#fromIntrospection"><span class="hs-identifier hs-var hs-var">fromIntrospection</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (FromIntrospection Description)
</span><a href="#local-6989586621689205571"><span class="hs-identifier hs-var">desc</span></a></span><span>
</span><span id="line-381"></span><span>        </span><span id="local-6989586621689205566"><span class="annot"><span class="annottext">possTps :: [Name]
</span><a href="#local-6989586621689205566"><span class="hs-identifier hs-var hs-var">possTps</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ObjectTypeDefinition InputValueDefinition -&gt; Name)
-&gt; [ObjectTypeDefinition InputValueDefinition] -&gt; [Name]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">ObjectTypeDefinition InputValueDefinition -&gt; Name
forall inputType. ObjectTypeDefinition inputType -&gt; Name
</span><span class="hs-identifier hs-var hs-var">G._otdName</span></span><span> </span><span class="annot"><span class="annottext">([ObjectTypeDefinition InputValueDefinition] -&gt; [Name])
-&gt; [ObjectTypeDefinition InputValueDefinition] -&gt; [Name]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[ObjectTypeDefinition InputValueDefinition]
-&gt; ([FromIntrospection (ObjectTypeDefinition InputValueDefinition)]
    -&gt; [ObjectTypeDefinition InputValueDefinition])
-&gt; Maybe
     [FromIntrospection (ObjectTypeDefinition InputValueDefinition)]
-&gt; [ObjectTypeDefinition InputValueDefinition]
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><span class="hs-identifier hs-var">maybe</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(FromIntrospection (ObjectTypeDefinition InputValueDefinition)
 -&gt; ObjectTypeDefinition InputValueDefinition)
-&gt; [FromIntrospection (ObjectTypeDefinition InputValueDefinition)]
-&gt; [ObjectTypeDefinition InputValueDefinition]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">FromIntrospection (ObjectTypeDefinition InputValueDefinition)
-&gt; ObjectTypeDefinition InputValueDefinition
forall a. FromIntrospection a -&gt; a
</span><a href="Hasura.GraphQL.RemoteServer.html#fromIntrospection"><span class="hs-identifier hs-var hs-var">fromIntrospection</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe
  [FromIntrospection (ObjectTypeDefinition InputValueDefinition)]
</span><a href="#local-6989586621689205569"><span class="hs-identifier hs-var">possibleTypes</span></a></span><span>
</span><span id="line-382"></span><span>    </span><span class="annot"><span class="annottext">Bool -&gt; Parser () -&gt; Parser ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">when</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689205573"><span class="hs-identifier hs-var">kind</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;INTERFACE&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Parser () -&gt; Parser ()) -&gt; Parser () -&gt; Parser ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Parser ()
forall (m :: * -&gt; *) a. MonadFail m =&gt; Text -&gt; Text -&gt; m a
</span><a href="Hasura.GraphQL.RemoteServer.html#kindErr"><span class="hs-identifier hs-var">kindErr</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689205573"><span class="hs-identifier hs-var">kind</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;interface&quot;</span></span><span>
</span><span id="line-383"></span><span>    </span><span class="hs-comment">-- TODO (non PDV) track which interfaces implement which other interfaces, after a</span><span>
</span><span id="line-384"></span><span>    </span><span class="hs-comment">-- GraphQL spec &gt; Jun 2018 is released.</span><span>
</span><span id="line-385"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621689205565"><span class="annot"><span class="annottext">r :: InterfaceTypeDefinition [Name] InputValueDefinition
</span><a href="#local-6989586621689205565"><span class="hs-identifier hs-var hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe Description
-&gt; Name
-&gt; [Directive Void]
-&gt; [FieldDefinition InputValueDefinition]
-&gt; [Name]
-&gt; InterfaceTypeDefinition [Name] InputValueDefinition
forall possibleTypes inputType.
Maybe Description
-&gt; Name
-&gt; [Directive Void]
-&gt; [FieldDefinition inputType]
-&gt; possibleTypes
-&gt; InterfaceTypeDefinition possibleTypes inputType
</span><span class="hs-identifier hs-var">G.InterfaceTypeDefinition</span></span><span> </span><span class="annot"><span class="annottext">Maybe Description
</span><a href="#local-6989586621689205567"><span class="hs-identifier hs-var">desc'</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689205572"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">[FieldDefinition InputValueDefinition]
</span><a href="#local-6989586621689205568"><span class="hs-identifier hs-var">flds</span></a></span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621689205566"><span class="hs-identifier hs-var">possTps</span></a></span><span>
</span><span id="line-386"></span><span>    </span><span class="annot"><span class="annottext">FromIntrospection
  (InterfaceTypeDefinition [Name] InputValueDefinition)
-&gt; Parser
     (FromIntrospection
        (InterfaceTypeDefinition [Name] InputValueDefinition))
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(FromIntrospection
   (InterfaceTypeDefinition [Name] InputValueDefinition)
 -&gt; Parser
      (FromIntrospection
         (InterfaceTypeDefinition [Name] InputValueDefinition)))
-&gt; FromIntrospection
     (InterfaceTypeDefinition [Name] InputValueDefinition)
-&gt; Parser
     (FromIntrospection
        (InterfaceTypeDefinition [Name] InputValueDefinition))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">InterfaceTypeDefinition [Name] InputValueDefinition
-&gt; FromIntrospection
     (InterfaceTypeDefinition [Name] InputValueDefinition)
forall a. a -&gt; FromIntrospection a
</span><a href="Hasura.GraphQL.RemoteServer.html#FromIntrospection"><span class="hs-identifier hs-var">FromIntrospection</span></a></span><span> </span><span class="annot"><span class="annottext">InterfaceTypeDefinition [Name] InputValueDefinition
</span><a href="#local-6989586621689205565"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-387"></span><span>
</span><span id="line-388"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621689205562"><span class="annot"><span class="hs-identifier hs-type">J.FromJSON</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#FromIntrospection"><span class="hs-identifier hs-type">FromIntrospection</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.UnionTypeDefinition</span></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-389"></span><span>  </span><span id="local-6989586621689205561"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser (FromIntrospection UnionTypeDefinition)
</span><a href="#local-6989586621689205561"><span class="hs-identifier hs-var hs-var hs-var hs-var">parseJSON</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
-&gt; (Object -&gt; Parser (FromIntrospection UnionTypeDefinition))
-&gt; Value
-&gt; Parser (FromIntrospection UnionTypeDefinition)
forall a. String -&gt; (Object -&gt; Parser a) -&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">J.withObject</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;UnionTypeDefinition&quot;</span></span><span> </span><span class="annot"><span class="annottext">((Object -&gt; Parser (FromIntrospection UnionTypeDefinition))
 -&gt; Value -&gt; Parser (FromIntrospection UnionTypeDefinition))
-&gt; (Object -&gt; Parser (FromIntrospection UnionTypeDefinition))
-&gt; Value
-&gt; Parser (FromIntrospection UnionTypeDefinition)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621689205560"><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689205560"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-390"></span><span>    </span><span id="local-6989586621689205559"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689205559"><span class="hs-identifier hs-var">kind</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689205560"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser Text
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><span class="hs-operator hs-var">.:</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;kind&quot;</span></span><span>
</span><span id="line-391"></span><span>    </span><span id="local-6989586621689205558"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689205558"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689205560"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser Name
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><span class="hs-operator hs-var">.:</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;name&quot;</span></span><span>
</span><span id="line-392"></span><span>    </span><span id="local-6989586621689205557"><span class="annot"><span class="annottext">Maybe (FromIntrospection Description)
</span><a href="#local-6989586621689205557"><span class="hs-identifier hs-var">desc</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689205560"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser (Maybe (FromIntrospection Description))
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser (Maybe a)
</span><span class="hs-operator hs-var">.:?</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;description&quot;</span></span><span>
</span><span id="line-393"></span><span>    </span><span id="local-6989586621689205556"><span class="annot"><span class="annottext">[FromIntrospection (ObjectTypeDefinition InputValueDefinition)]
</span><a href="#local-6989586621689205556"><span class="hs-identifier hs-var">possibleTypes</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#FromIntrospection"><span class="hs-identifier hs-type">FromIntrospection</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">G.ObjectTypeDefinition</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.InputValueDefinition</span></span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689205560"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object
-&gt; Key
-&gt; Parser
     [FromIntrospection (ObjectTypeDefinition InputValueDefinition)]
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><span class="hs-operator hs-var">.:</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;possibleTypes&quot;</span></span><span>
</span><span id="line-394"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621689205555"><span class="annot"><span class="annottext">possibleTypes' :: [Name]
</span><a href="#local-6989586621689205555"><span class="hs-identifier hs-var hs-var">possibleTypes'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ObjectTypeDefinition InputValueDefinition -&gt; Name)
-&gt; [ObjectTypeDefinition InputValueDefinition] -&gt; [Name]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">ObjectTypeDefinition InputValueDefinition -&gt; Name
forall inputType. ObjectTypeDefinition inputType -&gt; Name
</span><span class="hs-identifier hs-var hs-var">G._otdName</span></span><span> </span><span class="annot"><span class="annottext">([ObjectTypeDefinition InputValueDefinition] -&gt; [Name])
-&gt; [ObjectTypeDefinition InputValueDefinition] -&gt; [Name]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(FromIntrospection (ObjectTypeDefinition InputValueDefinition)
 -&gt; ObjectTypeDefinition InputValueDefinition)
-&gt; [FromIntrospection (ObjectTypeDefinition InputValueDefinition)]
-&gt; [ObjectTypeDefinition InputValueDefinition]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">FromIntrospection (ObjectTypeDefinition InputValueDefinition)
-&gt; ObjectTypeDefinition InputValueDefinition
forall a. FromIntrospection a -&gt; a
</span><a href="Hasura.GraphQL.RemoteServer.html#fromIntrospection"><span class="hs-identifier hs-var hs-var">fromIntrospection</span></a></span><span> </span><span class="annot"><span class="annottext">[FromIntrospection (ObjectTypeDefinition InputValueDefinition)]
</span><a href="#local-6989586621689205556"><span class="hs-identifier hs-var">possibleTypes</span></a></span><span>
</span><span id="line-395"></span><span>        </span><span id="local-6989586621689205554"><span class="annot"><span class="annottext">desc' :: Maybe Description
</span><a href="#local-6989586621689205554"><span class="hs-identifier hs-var hs-var">desc'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(FromIntrospection Description -&gt; Description)
-&gt; Maybe (FromIntrospection Description) -&gt; Maybe Description
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">FromIntrospection Description -&gt; Description
forall a. FromIntrospection a -&gt; a
</span><a href="Hasura.GraphQL.RemoteServer.html#fromIntrospection"><span class="hs-identifier hs-var hs-var">fromIntrospection</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (FromIntrospection Description)
</span><a href="#local-6989586621689205557"><span class="hs-identifier hs-var">desc</span></a></span><span>
</span><span id="line-396"></span><span>    </span><span class="annot"><span class="annottext">Bool -&gt; Parser () -&gt; Parser ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">when</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689205559"><span class="hs-identifier hs-var">kind</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;UNION&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Parser () -&gt; Parser ()) -&gt; Parser () -&gt; Parser ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Parser ()
forall (m :: * -&gt; *) a. MonadFail m =&gt; Text -&gt; Text -&gt; m a
</span><a href="Hasura.GraphQL.RemoteServer.html#kindErr"><span class="hs-identifier hs-var">kindErr</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689205559"><span class="hs-identifier hs-var">kind</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;union&quot;</span></span><span>
</span><span id="line-397"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621689205553"><span class="annot"><span class="annottext">r :: UnionTypeDefinition
</span><a href="#local-6989586621689205553"><span class="hs-identifier hs-var hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe Description
-&gt; Name -&gt; [Directive Void] -&gt; [Name] -&gt; UnionTypeDefinition
</span><span class="hs-identifier hs-var">G.UnionTypeDefinition</span></span><span> </span><span class="annot"><span class="annottext">Maybe Description
</span><a href="#local-6989586621689205554"><span class="hs-identifier hs-var">desc'</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689205558"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621689205555"><span class="hs-identifier hs-var">possibleTypes'</span></a></span><span>
</span><span id="line-398"></span><span>    </span><span class="annot"><span class="annottext">FromIntrospection UnionTypeDefinition
-&gt; Parser (FromIntrospection UnionTypeDefinition)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(FromIntrospection UnionTypeDefinition
 -&gt; Parser (FromIntrospection UnionTypeDefinition))
-&gt; FromIntrospection UnionTypeDefinition
-&gt; Parser (FromIntrospection UnionTypeDefinition)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">UnionTypeDefinition -&gt; FromIntrospection UnionTypeDefinition
forall a. a -&gt; FromIntrospection a
</span><a href="Hasura.GraphQL.RemoteServer.html#FromIntrospection"><span class="hs-identifier hs-var">FromIntrospection</span></a></span><span> </span><span class="annot"><span class="annottext">UnionTypeDefinition
</span><a href="#local-6989586621689205553"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-399"></span><span>
</span><span id="line-400"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621689205549"><span class="annot"><span class="hs-identifier hs-type">J.FromJSON</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#FromIntrospection"><span class="hs-identifier hs-type">FromIntrospection</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.EnumTypeDefinition</span></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-401"></span><span>  </span><span id="local-6989586621689205548"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser (FromIntrospection EnumTypeDefinition)
</span><a href="#local-6989586621689205548"><span class="hs-identifier hs-var hs-var hs-var hs-var">parseJSON</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
-&gt; (Object -&gt; Parser (FromIntrospection EnumTypeDefinition))
-&gt; Value
-&gt; Parser (FromIntrospection EnumTypeDefinition)
forall a. String -&gt; (Object -&gt; Parser a) -&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">J.withObject</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;EnumTypeDefinition&quot;</span></span><span> </span><span class="annot"><span class="annottext">((Object -&gt; Parser (FromIntrospection EnumTypeDefinition))
 -&gt; Value -&gt; Parser (FromIntrospection EnumTypeDefinition))
-&gt; (Object -&gt; Parser (FromIntrospection EnumTypeDefinition))
-&gt; Value
-&gt; Parser (FromIntrospection EnumTypeDefinition)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621689205547"><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689205547"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-402"></span><span>    </span><span id="local-6989586621689205546"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689205546"><span class="hs-identifier hs-var">kind</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689205547"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser Text
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><span class="hs-operator hs-var">.:</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;kind&quot;</span></span><span>
</span><span id="line-403"></span><span>    </span><span id="local-6989586621689205545"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689205545"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689205547"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser Name
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><span class="hs-operator hs-var">.:</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;name&quot;</span></span><span>
</span><span id="line-404"></span><span>    </span><span id="local-6989586621689205544"><span class="annot"><span class="annottext">Maybe (FromIntrospection Description)
</span><a href="#local-6989586621689205544"><span class="hs-identifier hs-var">desc</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689205547"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser (Maybe (FromIntrospection Description))
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser (Maybe a)
</span><span class="hs-operator hs-var">.:?</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;description&quot;</span></span><span>
</span><span id="line-405"></span><span>    </span><span id="local-6989586621689205543"><span class="annot"><span class="annottext">[FromIntrospection EnumValueDefinition]
</span><a href="#local-6989586621689205543"><span class="hs-identifier hs-var">vals</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689205547"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser [FromIntrospection EnumValueDefinition]
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><span class="hs-operator hs-var">.:</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;enumValues&quot;</span></span><span>
</span><span id="line-406"></span><span>    </span><span class="annot"><span class="annottext">Bool -&gt; Parser () -&gt; Parser ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">when</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689205546"><span class="hs-identifier hs-var">kind</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;ENUM&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Parser () -&gt; Parser ()) -&gt; Parser () -&gt; Parser ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Parser ()
forall (m :: * -&gt; *) a. MonadFail m =&gt; Text -&gt; Text -&gt; m a
</span><a href="Hasura.GraphQL.RemoteServer.html#kindErr"><span class="hs-identifier hs-var">kindErr</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689205546"><span class="hs-identifier hs-var">kind</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;enum&quot;</span></span><span>
</span><span id="line-407"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621689205542"><span class="annot"><span class="annottext">desc' :: Maybe Description
</span><a href="#local-6989586621689205542"><span class="hs-identifier hs-var hs-var">desc'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(FromIntrospection Description -&gt; Description)
-&gt; Maybe (FromIntrospection Description) -&gt; Maybe Description
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">FromIntrospection Description -&gt; Description
forall a. FromIntrospection a -&gt; a
</span><a href="Hasura.GraphQL.RemoteServer.html#fromIntrospection"><span class="hs-identifier hs-var hs-var">fromIntrospection</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (FromIntrospection Description)
</span><a href="#local-6989586621689205544"><span class="hs-identifier hs-var">desc</span></a></span><span>
</span><span id="line-408"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621689205541"><span class="annot"><span class="annottext">r :: EnumTypeDefinition
</span><a href="#local-6989586621689205541"><span class="hs-identifier hs-var hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe Description
-&gt; Name
-&gt; [Directive Void]
-&gt; [EnumValueDefinition]
-&gt; EnumTypeDefinition
</span><span class="hs-identifier hs-var">G.EnumTypeDefinition</span></span><span> </span><span class="annot"><span class="annottext">Maybe Description
</span><a href="#local-6989586621689205542"><span class="hs-identifier hs-var">desc'</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689205545"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(FromIntrospection EnumValueDefinition -&gt; EnumValueDefinition)
-&gt; [FromIntrospection EnumValueDefinition] -&gt; [EnumValueDefinition]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">FromIntrospection EnumValueDefinition -&gt; EnumValueDefinition
forall a. FromIntrospection a -&gt; a
</span><a href="Hasura.GraphQL.RemoteServer.html#fromIntrospection"><span class="hs-identifier hs-var hs-var">fromIntrospection</span></a></span><span> </span><span class="annot"><span class="annottext">[FromIntrospection EnumValueDefinition]
</span><a href="#local-6989586621689205543"><span class="hs-identifier hs-var">vals</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-409"></span><span>    </span><span class="annot"><span class="annottext">FromIntrospection EnumTypeDefinition
-&gt; Parser (FromIntrospection EnumTypeDefinition)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(FromIntrospection EnumTypeDefinition
 -&gt; Parser (FromIntrospection EnumTypeDefinition))
-&gt; FromIntrospection EnumTypeDefinition
-&gt; Parser (FromIntrospection EnumTypeDefinition)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">EnumTypeDefinition -&gt; FromIntrospection EnumTypeDefinition
forall a. a -&gt; FromIntrospection a
</span><a href="Hasura.GraphQL.RemoteServer.html#FromIntrospection"><span class="hs-identifier hs-var">FromIntrospection</span></a></span><span> </span><span class="annot"><span class="annottext">EnumTypeDefinition
</span><a href="#local-6989586621689205541"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-410"></span><span>
</span><span id="line-411"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621689205537"><span class="annot"><span class="hs-identifier hs-type">J.FromJSON</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#FromIntrospection"><span class="hs-identifier hs-type">FromIntrospection</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.EnumValueDefinition</span></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-412"></span><span>  </span><span id="local-6989586621689205536"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser (FromIntrospection EnumValueDefinition)
</span><a href="#local-6989586621689205536"><span class="hs-identifier hs-var hs-var hs-var hs-var">parseJSON</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
-&gt; (Object -&gt; Parser (FromIntrospection EnumValueDefinition))
-&gt; Value
-&gt; Parser (FromIntrospection EnumValueDefinition)
forall a. String -&gt; (Object -&gt; Parser a) -&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">J.withObject</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;EnumValueDefinition&quot;</span></span><span> </span><span class="annot"><span class="annottext">((Object -&gt; Parser (FromIntrospection EnumValueDefinition))
 -&gt; Value -&gt; Parser (FromIntrospection EnumValueDefinition))
-&gt; (Object -&gt; Parser (FromIntrospection EnumValueDefinition))
-&gt; Value
-&gt; Parser (FromIntrospection EnumValueDefinition)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621689205535"><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689205535"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-413"></span><span>    </span><span id="local-6989586621689205534"><span class="annot"><span class="annottext">EnumValue
</span><a href="#local-6989586621689205534"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689205535"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser EnumValue
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><span class="hs-operator hs-var">.:</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;name&quot;</span></span><span>
</span><span id="line-414"></span><span>    </span><span id="local-6989586621689205533"><span class="annot"><span class="annottext">Maybe (FromIntrospection Description)
</span><a href="#local-6989586621689205533"><span class="hs-identifier hs-var">desc</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689205535"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser (Maybe (FromIntrospection Description))
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser (Maybe a)
</span><span class="hs-operator hs-var">.:?</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;description&quot;</span></span><span>
</span><span id="line-415"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621689205532"><span class="annot"><span class="annottext">desc' :: Maybe Description
</span><a href="#local-6989586621689205532"><span class="hs-identifier hs-var hs-var">desc'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(FromIntrospection Description -&gt; Description)
-&gt; Maybe (FromIntrospection Description) -&gt; Maybe Description
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">FromIntrospection Description -&gt; Description
forall a. FromIntrospection a -&gt; a
</span><a href="Hasura.GraphQL.RemoteServer.html#fromIntrospection"><span class="hs-identifier hs-var hs-var">fromIntrospection</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (FromIntrospection Description)
</span><a href="#local-6989586621689205533"><span class="hs-identifier hs-var">desc</span></a></span><span>
</span><span id="line-416"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621689205531"><span class="annot"><span class="annottext">r :: EnumValueDefinition
</span><a href="#local-6989586621689205531"><span class="hs-identifier hs-var hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe Description
-&gt; EnumValue -&gt; [Directive Void] -&gt; EnumValueDefinition
</span><span class="hs-identifier hs-var">G.EnumValueDefinition</span></span><span> </span><span class="annot"><span class="annottext">Maybe Description
</span><a href="#local-6989586621689205532"><span class="hs-identifier hs-var">desc'</span></a></span><span> </span><span class="annot"><span class="annottext">EnumValue
</span><a href="#local-6989586621689205534"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-417"></span><span>    </span><span class="annot"><span class="annottext">FromIntrospection EnumValueDefinition
-&gt; Parser (FromIntrospection EnumValueDefinition)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(FromIntrospection EnumValueDefinition
 -&gt; Parser (FromIntrospection EnumValueDefinition))
-&gt; FromIntrospection EnumValueDefinition
-&gt; Parser (FromIntrospection EnumValueDefinition)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">EnumValueDefinition -&gt; FromIntrospection EnumValueDefinition
forall a. a -&gt; FromIntrospection a
</span><a href="Hasura.GraphQL.RemoteServer.html#FromIntrospection"><span class="hs-identifier hs-var">FromIntrospection</span></a></span><span> </span><span class="annot"><span class="annottext">EnumValueDefinition
</span><a href="#local-6989586621689205531"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-418"></span><span>
</span><span id="line-419"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621689205527"><span class="annot"><span class="hs-identifier hs-type">J.FromJSON</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#FromIntrospection"><span class="hs-identifier hs-type">FromIntrospection</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">G.InputObjectTypeDefinition</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.InputValueDefinition</span></span><span class="hs-special">)</span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-420"></span><span>  </span><span id="local-6989586621689205526"><span class="annot"><span class="annottext">parseJSON :: Value
-&gt; Parser
     (FromIntrospection
        (InputObjectTypeDefinition InputValueDefinition))
</span><a href="#local-6989586621689205526"><span class="hs-identifier hs-var hs-var hs-var hs-var">parseJSON</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
-&gt; (Object
    -&gt; Parser
         (FromIntrospection
            (InputObjectTypeDefinition InputValueDefinition)))
-&gt; Value
-&gt; Parser
     (FromIntrospection
        (InputObjectTypeDefinition InputValueDefinition))
forall a. String -&gt; (Object -&gt; Parser a) -&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">J.withObject</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;InputObjectTypeDefinition&quot;</span></span><span> </span><span class="annot"><span class="annottext">((Object
  -&gt; Parser
       (FromIntrospection
          (InputObjectTypeDefinition InputValueDefinition)))
 -&gt; Value
 -&gt; Parser
      (FromIntrospection
         (InputObjectTypeDefinition InputValueDefinition)))
-&gt; (Object
    -&gt; Parser
         (FromIntrospection
            (InputObjectTypeDefinition InputValueDefinition)))
-&gt; Value
-&gt; Parser
     (FromIntrospection
        (InputObjectTypeDefinition InputValueDefinition))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621689205525"><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689205525"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-421"></span><span>    </span><span id="local-6989586621689205524"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689205524"><span class="hs-identifier hs-var">kind</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689205525"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser Text
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><span class="hs-operator hs-var">.:</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;kind&quot;</span></span><span>
</span><span id="line-422"></span><span>    </span><span id="local-6989586621689205523"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689205523"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689205525"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser Name
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><span class="hs-operator hs-var">.:</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;name&quot;</span></span><span>
</span><span id="line-423"></span><span>    </span><span id="local-6989586621689205522"><span class="annot"><span class="annottext">Maybe (FromIntrospection Description)
</span><a href="#local-6989586621689205522"><span class="hs-identifier hs-var">desc</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689205525"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser (Maybe (FromIntrospection Description))
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser (Maybe a)
</span><span class="hs-operator hs-var">.:?</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;description&quot;</span></span><span>
</span><span id="line-424"></span><span>    </span><span id="local-6989586621689205521"><span class="annot"><span class="annottext">Maybe [FromIntrospection InputValueDefinition]
</span><a href="#local-6989586621689205521"><span class="hs-identifier hs-var">mInputFields</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689205525"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object
-&gt; Key -&gt; Parser (Maybe [FromIntrospection InputValueDefinition])
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser (Maybe a)
</span><span class="hs-operator hs-var">.:?</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;inputFields&quot;</span></span><span>
</span><span id="line-425"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621689205520"><span class="annot"><span class="annottext">inputFields :: [InputValueDefinition]
</span><a href="#local-6989586621689205520"><span class="hs-identifier hs-var hs-var">inputFields</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[InputValueDefinition]
-&gt; ([FromIntrospection InputValueDefinition]
    -&gt; [InputValueDefinition])
-&gt; Maybe [FromIntrospection InputValueDefinition]
-&gt; [InputValueDefinition]
forall b a. b -&gt; (a -&gt; b) -&gt; Maybe a -&gt; b
</span><span class="hs-identifier hs-var">maybe</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(FromIntrospection InputValueDefinition -&gt; InputValueDefinition)
-&gt; [FromIntrospection InputValueDefinition]
-&gt; [InputValueDefinition]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">FromIntrospection InputValueDefinition -&gt; InputValueDefinition
forall a. FromIntrospection a -&gt; a
</span><a href="Hasura.GraphQL.RemoteServer.html#fromIntrospection"><span class="hs-identifier hs-var hs-var">fromIntrospection</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">Maybe [FromIntrospection InputValueDefinition]
</span><a href="#local-6989586621689205521"><span class="hs-identifier hs-var">mInputFields</span></a></span><span>
</span><span id="line-426"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621689205519"><span class="annot"><span class="annottext">desc' :: Maybe Description
</span><a href="#local-6989586621689205519"><span class="hs-identifier hs-var hs-var">desc'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(FromIntrospection Description -&gt; Description)
-&gt; Maybe (FromIntrospection Description) -&gt; Maybe Description
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">FromIntrospection Description -&gt; Description
forall a. FromIntrospection a -&gt; a
</span><a href="Hasura.GraphQL.RemoteServer.html#fromIntrospection"><span class="hs-identifier hs-var hs-var">fromIntrospection</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (FromIntrospection Description)
</span><a href="#local-6989586621689205522"><span class="hs-identifier hs-var">desc</span></a></span><span>
</span><span id="line-427"></span><span>    </span><span class="annot"><span class="annottext">Bool -&gt; Parser () -&gt; Parser ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">when</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689205524"><span class="hs-identifier hs-var">kind</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Bool
forall a. Eq a =&gt; a -&gt; a -&gt; Bool
</span><span class="hs-operator hs-var">/=</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;INPUT_OBJECT&quot;</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Parser () -&gt; Parser ()) -&gt; Parser () -&gt; Parser ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Parser ()
forall (m :: * -&gt; *) a. MonadFail m =&gt; Text -&gt; Text -&gt; m a
</span><a href="Hasura.GraphQL.RemoteServer.html#kindErr"><span class="hs-identifier hs-var">kindErr</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689205524"><span class="hs-identifier hs-var">kind</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;input_object&quot;</span></span><span>
</span><span id="line-428"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621689205518"><span class="annot"><span class="annottext">r :: InputObjectTypeDefinition InputValueDefinition
</span><a href="#local-6989586621689205518"><span class="hs-identifier hs-var hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe Description
-&gt; Name
-&gt; [Directive Void]
-&gt; [InputValueDefinition]
-&gt; InputObjectTypeDefinition InputValueDefinition
forall inputType.
Maybe Description
-&gt; Name
-&gt; [Directive Void]
-&gt; [inputType]
-&gt; InputObjectTypeDefinition inputType
</span><span class="hs-identifier hs-var">G.InputObjectTypeDefinition</span></span><span> </span><span class="annot"><span class="annottext">Maybe Description
</span><a href="#local-6989586621689205519"><span class="hs-identifier hs-var">desc'</span></a></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689205523"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">[InputValueDefinition]
</span><a href="#local-6989586621689205520"><span class="hs-identifier hs-var">inputFields</span></a></span><span>
</span><span id="line-429"></span><span>    </span><span class="annot"><span class="annottext">FromIntrospection (InputObjectTypeDefinition InputValueDefinition)
-&gt; Parser
     (FromIntrospection
        (InputObjectTypeDefinition InputValueDefinition))
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(FromIntrospection (InputObjectTypeDefinition InputValueDefinition)
 -&gt; Parser
      (FromIntrospection
         (InputObjectTypeDefinition InputValueDefinition)))
-&gt; FromIntrospection
     (InputObjectTypeDefinition InputValueDefinition)
-&gt; Parser
     (FromIntrospection
        (InputObjectTypeDefinition InputValueDefinition))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">InputObjectTypeDefinition InputValueDefinition
-&gt; FromIntrospection
     (InputObjectTypeDefinition InputValueDefinition)
forall a. a -&gt; FromIntrospection a
</span><a href="Hasura.GraphQL.RemoteServer.html#FromIntrospection"><span class="hs-identifier hs-var">FromIntrospection</span></a></span><span> </span><span class="annot"><span class="annottext">InputObjectTypeDefinition InputValueDefinition
</span><a href="#local-6989586621689205518"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-430"></span><span>
</span><span id="line-431"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621689205514"><span class="annot"><span class="hs-identifier hs-type">J.FromJSON</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#FromIntrospection"><span class="hs-identifier hs-type">FromIntrospection</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">G.TypeDefinition</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">G.Name</span></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.InputValueDefinition</span></span><span class="hs-special">)</span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-432"></span><span>  </span><span id="local-6989586621689205513"><span class="annot"><span class="annottext">parseJSON :: Value
-&gt; Parser
     (FromIntrospection (TypeDefinition [Name] InputValueDefinition))
</span><a href="#local-6989586621689205513"><span class="hs-identifier hs-var hs-var hs-var hs-var">parseJSON</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
-&gt; (Object
    -&gt; Parser
         (FromIntrospection (TypeDefinition [Name] InputValueDefinition)))
-&gt; Value
-&gt; Parser
     (FromIntrospection (TypeDefinition [Name] InputValueDefinition))
forall a. String -&gt; (Object -&gt; Parser a) -&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">J.withObject</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;TypeDefinition&quot;</span></span><span> </span><span class="annot"><span class="annottext">((Object
  -&gt; Parser
       (FromIntrospection (TypeDefinition [Name] InputValueDefinition)))
 -&gt; Value
 -&gt; Parser
      (FromIntrospection (TypeDefinition [Name] InputValueDefinition)))
-&gt; (Object
    -&gt; Parser
         (FromIntrospection (TypeDefinition [Name] InputValueDefinition)))
-&gt; Value
-&gt; Parser
     (FromIntrospection (TypeDefinition [Name] InputValueDefinition))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621689205512"><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689205512"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-433"></span><span>    </span><span id="local-6989586621689205511"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689205511"><span class="hs-identifier hs-var">kind</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689205512"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser Text
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><span class="hs-operator hs-var">.:</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;kind&quot;</span></span><span>
</span><span id="line-434"></span><span>    </span><span id="local-6989586621689205510"><span class="annot"><span class="annottext">TypeDefinition [Name] InputValueDefinition
</span><a href="#local-6989586621689205510"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689205511"><span class="hs-identifier hs-var">kind</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-435"></span><span>      </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;SCALAR&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-436"></span><span>        </span><span class="annot"><span class="annottext">ScalarTypeDefinition -&gt; TypeDefinition [Name] InputValueDefinition
forall possibleTypes inputType.
ScalarTypeDefinition -&gt; TypeDefinition possibleTypes inputType
</span><span class="hs-identifier hs-var">G.TypeDefinitionScalar</span></span><span> </span><span class="annot"><span class="annottext">(ScalarTypeDefinition
 -&gt; TypeDefinition [Name] InputValueDefinition)
-&gt; (FromIntrospection ScalarTypeDefinition -&gt; ScalarTypeDefinition)
-&gt; FromIntrospection ScalarTypeDefinition
-&gt; TypeDefinition [Name] InputValueDefinition
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">FromIntrospection ScalarTypeDefinition -&gt; ScalarTypeDefinition
forall a. FromIntrospection a -&gt; a
</span><a href="Hasura.GraphQL.RemoteServer.html#fromIntrospection"><span class="hs-identifier hs-var hs-var">fromIntrospection</span></a></span><span> </span><span class="annot"><span class="annottext">(FromIntrospection ScalarTypeDefinition
 -&gt; TypeDefinition [Name] InputValueDefinition)
-&gt; Parser (FromIntrospection ScalarTypeDefinition)
-&gt; Parser (TypeDefinition [Name] InputValueDefinition)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Parser (FromIntrospection ScalarTypeDefinition)
forall a. FromJSON a =&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">J.parseJSON</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Object -&gt; Value
</span><span class="hs-identifier hs-var">J.Object</span></span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689205512"><span class="hs-identifier hs-var">o</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-437"></span><span>      </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;OBJECT&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-438"></span><span>        </span><span class="annot"><span class="annottext">ObjectTypeDefinition InputValueDefinition
-&gt; TypeDefinition [Name] InputValueDefinition
forall possibleTypes inputType.
ObjectTypeDefinition inputType
-&gt; TypeDefinition possibleTypes inputType
</span><span class="hs-identifier hs-var">G.TypeDefinitionObject</span></span><span> </span><span class="annot"><span class="annottext">(ObjectTypeDefinition InputValueDefinition
 -&gt; TypeDefinition [Name] InputValueDefinition)
-&gt; (FromIntrospection (ObjectTypeDefinition InputValueDefinition)
    -&gt; ObjectTypeDefinition InputValueDefinition)
-&gt; FromIntrospection (ObjectTypeDefinition InputValueDefinition)
-&gt; TypeDefinition [Name] InputValueDefinition
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">FromIntrospection (ObjectTypeDefinition InputValueDefinition)
-&gt; ObjectTypeDefinition InputValueDefinition
forall a. FromIntrospection a -&gt; a
</span><a href="Hasura.GraphQL.RemoteServer.html#fromIntrospection"><span class="hs-identifier hs-var hs-var">fromIntrospection</span></a></span><span> </span><span class="annot"><span class="annottext">(FromIntrospection (ObjectTypeDefinition InputValueDefinition)
 -&gt; TypeDefinition [Name] InputValueDefinition)
-&gt; Parser
     (FromIntrospection (ObjectTypeDefinition InputValueDefinition))
-&gt; Parser (TypeDefinition [Name] InputValueDefinition)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Value
-&gt; Parser
     (FromIntrospection (ObjectTypeDefinition InputValueDefinition))
forall a. FromJSON a =&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">J.parseJSON</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Object -&gt; Value
</span><span class="hs-identifier hs-var">J.Object</span></span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689205512"><span class="hs-identifier hs-var">o</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-439"></span><span>      </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;INTERFACE&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-440"></span><span>        </span><span class="annot"><span class="annottext">InterfaceTypeDefinition [Name] InputValueDefinition
-&gt; TypeDefinition [Name] InputValueDefinition
forall possibleTypes inputType.
InterfaceTypeDefinition possibleTypes inputType
-&gt; TypeDefinition possibleTypes inputType
</span><span class="hs-identifier hs-var">G.TypeDefinitionInterface</span></span><span> </span><span class="annot"><span class="annottext">(InterfaceTypeDefinition [Name] InputValueDefinition
 -&gt; TypeDefinition [Name] InputValueDefinition)
-&gt; (FromIntrospection
      (InterfaceTypeDefinition [Name] InputValueDefinition)
    -&gt; InterfaceTypeDefinition [Name] InputValueDefinition)
-&gt; FromIntrospection
     (InterfaceTypeDefinition [Name] InputValueDefinition)
-&gt; TypeDefinition [Name] InputValueDefinition
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">FromIntrospection
  (InterfaceTypeDefinition [Name] InputValueDefinition)
-&gt; InterfaceTypeDefinition [Name] InputValueDefinition
forall a. FromIntrospection a -&gt; a
</span><a href="Hasura.GraphQL.RemoteServer.html#fromIntrospection"><span class="hs-identifier hs-var hs-var">fromIntrospection</span></a></span><span> </span><span class="annot"><span class="annottext">(FromIntrospection
   (InterfaceTypeDefinition [Name] InputValueDefinition)
 -&gt; TypeDefinition [Name] InputValueDefinition)
-&gt; Parser
     (FromIntrospection
        (InterfaceTypeDefinition [Name] InputValueDefinition))
-&gt; Parser (TypeDefinition [Name] InputValueDefinition)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Value
-&gt; Parser
     (FromIntrospection
        (InterfaceTypeDefinition [Name] InputValueDefinition))
forall a. FromJSON a =&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">J.parseJSON</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Object -&gt; Value
</span><span class="hs-identifier hs-var">J.Object</span></span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689205512"><span class="hs-identifier hs-var">o</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-441"></span><span>      </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;UNION&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-442"></span><span>        </span><span class="annot"><span class="annottext">UnionTypeDefinition -&gt; TypeDefinition [Name] InputValueDefinition
forall possibleTypes inputType.
UnionTypeDefinition -&gt; TypeDefinition possibleTypes inputType
</span><span class="hs-identifier hs-var">G.TypeDefinitionUnion</span></span><span> </span><span class="annot"><span class="annottext">(UnionTypeDefinition -&gt; TypeDefinition [Name] InputValueDefinition)
-&gt; (FromIntrospection UnionTypeDefinition -&gt; UnionTypeDefinition)
-&gt; FromIntrospection UnionTypeDefinition
-&gt; TypeDefinition [Name] InputValueDefinition
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">FromIntrospection UnionTypeDefinition -&gt; UnionTypeDefinition
forall a. FromIntrospection a -&gt; a
</span><a href="Hasura.GraphQL.RemoteServer.html#fromIntrospection"><span class="hs-identifier hs-var hs-var">fromIntrospection</span></a></span><span> </span><span class="annot"><span class="annottext">(FromIntrospection UnionTypeDefinition
 -&gt; TypeDefinition [Name] InputValueDefinition)
-&gt; Parser (FromIntrospection UnionTypeDefinition)
-&gt; Parser (TypeDefinition [Name] InputValueDefinition)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Parser (FromIntrospection UnionTypeDefinition)
forall a. FromJSON a =&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">J.parseJSON</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Object -&gt; Value
</span><span class="hs-identifier hs-var">J.Object</span></span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689205512"><span class="hs-identifier hs-var">o</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-443"></span><span>      </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;ENUM&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-444"></span><span>        </span><span class="annot"><span class="annottext">EnumTypeDefinition -&gt; TypeDefinition [Name] InputValueDefinition
forall possibleTypes inputType.
EnumTypeDefinition -&gt; TypeDefinition possibleTypes inputType
</span><span class="hs-identifier hs-var">G.TypeDefinitionEnum</span></span><span> </span><span class="annot"><span class="annottext">(EnumTypeDefinition -&gt; TypeDefinition [Name] InputValueDefinition)
-&gt; (FromIntrospection EnumTypeDefinition -&gt; EnumTypeDefinition)
-&gt; FromIntrospection EnumTypeDefinition
-&gt; TypeDefinition [Name] InputValueDefinition
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">FromIntrospection EnumTypeDefinition -&gt; EnumTypeDefinition
forall a. FromIntrospection a -&gt; a
</span><a href="Hasura.GraphQL.RemoteServer.html#fromIntrospection"><span class="hs-identifier hs-var hs-var">fromIntrospection</span></a></span><span> </span><span class="annot"><span class="annottext">(FromIntrospection EnumTypeDefinition
 -&gt; TypeDefinition [Name] InputValueDefinition)
-&gt; Parser (FromIntrospection EnumTypeDefinition)
-&gt; Parser (TypeDefinition [Name] InputValueDefinition)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Value -&gt; Parser (FromIntrospection EnumTypeDefinition)
forall a. FromJSON a =&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">J.parseJSON</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Object -&gt; Value
</span><span class="hs-identifier hs-var">J.Object</span></span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689205512"><span class="hs-identifier hs-var">o</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-445"></span><span>      </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;INPUT_OBJECT&quot;</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-446"></span><span>        </span><span class="annot"><span class="annottext">InputObjectTypeDefinition InputValueDefinition
-&gt; TypeDefinition [Name] InputValueDefinition
forall possibleTypes inputType.
InputObjectTypeDefinition inputType
-&gt; TypeDefinition possibleTypes inputType
</span><span class="hs-identifier hs-var">G.TypeDefinitionInputObject</span></span><span> </span><span class="annot"><span class="annottext">(InputObjectTypeDefinition InputValueDefinition
 -&gt; TypeDefinition [Name] InputValueDefinition)
-&gt; (FromIntrospection
      (InputObjectTypeDefinition InputValueDefinition)
    -&gt; InputObjectTypeDefinition InputValueDefinition)
-&gt; FromIntrospection
     (InputObjectTypeDefinition InputValueDefinition)
-&gt; TypeDefinition [Name] InputValueDefinition
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">FromIntrospection (InputObjectTypeDefinition InputValueDefinition)
-&gt; InputObjectTypeDefinition InputValueDefinition
forall a. FromIntrospection a -&gt; a
</span><a href="Hasura.GraphQL.RemoteServer.html#fromIntrospection"><span class="hs-identifier hs-var hs-var">fromIntrospection</span></a></span><span> </span><span class="annot"><span class="annottext">(FromIntrospection (InputObjectTypeDefinition InputValueDefinition)
 -&gt; TypeDefinition [Name] InputValueDefinition)
-&gt; Parser
     (FromIntrospection
        (InputObjectTypeDefinition InputValueDefinition))
-&gt; Parser (TypeDefinition [Name] InputValueDefinition)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">Value
-&gt; Parser
     (FromIntrospection
        (InputObjectTypeDefinition InputValueDefinition))
forall a. FromJSON a =&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">J.parseJSON</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Object -&gt; Value
</span><span class="hs-identifier hs-var">J.Object</span></span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689205512"><span class="hs-identifier hs-var">o</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-447"></span><span>      </span><span class="annot"><span class="annottext">Text
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Text -&gt; Parser (TypeDefinition [Name] InputValueDefinition)
forall (m :: * -&gt; *) a. MonadFail m =&gt; Text -&gt; m a
</span><a href="Hasura.GraphQL.RemoteServer.html#pErr"><span class="hs-identifier hs-var">pErr</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; Parser (TypeDefinition [Name] InputValueDefinition))
-&gt; Text -&gt; Parser (TypeDefinition [Name] InputValueDefinition)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;unknown kind: &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689205511"><span class="hs-identifier hs-var">kind</span></a></span><span>
</span><span id="line-448"></span><span>    </span><span class="annot"><span class="annottext">FromIntrospection (TypeDefinition [Name] InputValueDefinition)
-&gt; Parser
     (FromIntrospection (TypeDefinition [Name] InputValueDefinition))
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(FromIntrospection (TypeDefinition [Name] InputValueDefinition)
 -&gt; Parser
      (FromIntrospection (TypeDefinition [Name] InputValueDefinition)))
-&gt; FromIntrospection (TypeDefinition [Name] InputValueDefinition)
-&gt; Parser
     (FromIntrospection (TypeDefinition [Name] InputValueDefinition))
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">TypeDefinition [Name] InputValueDefinition
-&gt; FromIntrospection (TypeDefinition [Name] InputValueDefinition)
forall a. a -&gt; FromIntrospection a
</span><a href="Hasura.GraphQL.RemoteServer.html#FromIntrospection"><span class="hs-identifier hs-var">FromIntrospection</span></a></span><span> </span><span class="annot"><span class="annottext">TypeDefinition [Name] InputValueDefinition
</span><a href="#local-6989586621689205510"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-449"></span><span>
</span><span id="line-450"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621689205502"><span class="annot"><span class="hs-identifier hs-type">J.FromJSON</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#FromIntrospection"><span class="hs-identifier hs-type">FromIntrospection</span></a></span><span> </span><span class="annot"><a href="Hasura.RQL.Types.SchemaCache.html#IntrospectionResult"><span class="hs-identifier hs-type">IntrospectionResult</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-451"></span><span>  </span><span id="local-6989586621689205501"><span class="annot"><span class="annottext">parseJSON :: Value -&gt; Parser (FromIntrospection IntrospectionResult)
</span><a href="#local-6989586621689205501"><span class="hs-identifier hs-var hs-var hs-var hs-var">parseJSON</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
-&gt; (Object -&gt; Parser (FromIntrospection IntrospectionResult))
-&gt; Value
-&gt; Parser (FromIntrospection IntrospectionResult)
forall a. String -&gt; (Object -&gt; Parser a) -&gt; Value -&gt; Parser a
</span><span class="hs-identifier hs-var">J.withObject</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;SchemaDocument&quot;</span></span><span> </span><span class="annot"><span class="annottext">((Object -&gt; Parser (FromIntrospection IntrospectionResult))
 -&gt; Value -&gt; Parser (FromIntrospection IntrospectionResult))
-&gt; (Object -&gt; Parser (FromIntrospection IntrospectionResult))
-&gt; Value
-&gt; Parser (FromIntrospection IntrospectionResult)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621689205500"><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689205500"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-452"></span><span>    </span><span id="local-6989586621689205499"><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689205499"><span class="hs-identifier hs-var">_data</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689205500"><span class="hs-identifier hs-var">o</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser Object
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><span class="hs-operator hs-var">.:</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;data&quot;</span></span><span>
</span><span id="line-453"></span><span>    </span><span id="local-6989586621689205498"><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689205498"><span class="hs-identifier hs-var">schema</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689205499"><span class="hs-identifier hs-var">_data</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser Object
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><span class="hs-operator hs-var">.:</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;__schema&quot;</span></span><span>
</span><span id="line-454"></span><span>    </span><span class="hs-comment">-- the list of types</span><span>
</span><span id="line-455"></span><span>    </span><span id="local-6989586621689205497"><span class="annot"><span class="annottext">[FromIntrospection (TypeDefinition [Name] InputValueDefinition)]
</span><a href="#local-6989586621689205497"><span class="hs-identifier hs-var">types</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689205498"><span class="hs-identifier hs-var">schema</span></a></span><span> </span><span class="annot"><span class="annottext">Object
-&gt; Key
-&gt; Parser
     [FromIntrospection (TypeDefinition [Name] InputValueDefinition)]
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><span class="hs-operator hs-var">.:</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;types&quot;</span></span><span>
</span><span id="line-456"></span><span>    </span><span class="hs-comment">-- query root</span><span>
</span><span id="line-457"></span><span>    </span><span id="local-6989586621689205496"><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689205496"><span class="hs-identifier hs-var">queryType</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689205498"><span class="hs-identifier hs-var">schema</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser Object
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><span class="hs-operator hs-var">.:</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;queryType&quot;</span></span><span>
</span><span id="line-458"></span><span>    </span><span id="local-6989586621689205495"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689205495"><span class="hs-identifier hs-var">queryRoot</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689205496"><span class="hs-identifier hs-var">queryType</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser Name
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><span class="hs-operator hs-var">.:</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;name&quot;</span></span><span>
</span><span id="line-459"></span><span>    </span><span class="hs-comment">-- mutation root</span><span>
</span><span id="line-460"></span><span>    </span><span id="local-6989586621689205494"><span class="annot"><span class="annottext">Maybe Object
</span><a href="#local-6989586621689205494"><span class="hs-identifier hs-var">mMutationType</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689205498"><span class="hs-identifier hs-var">schema</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser (Maybe Object)
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser (Maybe a)
</span><span class="hs-operator hs-var">.:?</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;mutationType&quot;</span></span><span>
</span><span id="line-461"></span><span>    </span><span id="local-6989586621689205493"><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621689205493"><span class="hs-identifier hs-var">mutationRoot</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe Object
</span><a href="#local-6989586621689205494"><span class="hs-identifier hs-var">mMutationType</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-462"></span><span>      </span><span class="annot"><span class="annottext">Maybe Object
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe Name -&gt; Parser (Maybe Name)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">Maybe Name
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-463"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621689205492"><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689205492"><span class="hs-identifier hs-var">mutType</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-464"></span><span>        </span><span id="local-6989586621689205491"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689205491"><span class="hs-identifier hs-var">mutRoot</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689205492"><span class="hs-identifier hs-var">mutType</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser Name
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><span class="hs-operator hs-var">.:</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;name&quot;</span></span><span>
</span><span id="line-465"></span><span>        </span><span class="annot"><span class="annottext">Maybe Name -&gt; Parser (Maybe Name)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Maybe Name -&gt; Parser (Maybe Name))
-&gt; Maybe Name -&gt; Parser (Maybe Name)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Maybe Name
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689205491"><span class="hs-identifier hs-var">mutRoot</span></a></span><span>
</span><span id="line-466"></span><span>    </span><span class="hs-comment">-- subscription root</span><span>
</span><span id="line-467"></span><span>    </span><span id="local-6989586621689205490"><span class="annot"><span class="annottext">Maybe Object
</span><a href="#local-6989586621689205490"><span class="hs-identifier hs-var">mSubsType</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689205498"><span class="hs-identifier hs-var">schema</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser (Maybe Object)
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser (Maybe a)
</span><span class="hs-operator hs-var">.:?</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;subscriptionType&quot;</span></span><span>
</span><span id="line-468"></span><span>    </span><span id="local-6989586621689205489"><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621689205489"><span class="hs-identifier hs-var">subsRoot</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe Object
</span><a href="#local-6989586621689205490"><span class="hs-identifier hs-var">mSubsType</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-469"></span><span>      </span><span class="annot"><span class="annottext">Maybe Object
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe Name -&gt; Parser (Maybe Name)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">Maybe Name
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-470"></span><span>      </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621689205488"><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689205488"><span class="hs-identifier hs-var">subsType</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-471"></span><span>        </span><span id="local-6989586621689205487"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689205487"><span class="hs-identifier hs-var">subRoot</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Object
</span><a href="#local-6989586621689205488"><span class="hs-identifier hs-var">subsType</span></a></span><span> </span><span class="annot"><span class="annottext">Object -&gt; Key -&gt; Parser Name
forall a. FromJSON a =&gt; Object -&gt; Key -&gt; Parser a
</span><span class="hs-operator hs-var">.:</span></span><span> </span><span class="annot"><span class="annottext">Key
</span><span class="hs-string">&quot;name&quot;</span></span><span>
</span><span id="line-472"></span><span>        </span><span class="annot"><span class="annottext">Maybe Name -&gt; Parser (Maybe Name)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Maybe Name -&gt; Parser (Maybe Name))
-&gt; Maybe Name -&gt; Parser (Maybe Name)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Maybe Name
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689205487"><span class="hs-identifier hs-var">subRoot</span></a></span><span>
</span><span id="line-473"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621689205486"><span class="annot"><span class="annottext">types' :: [FromIntrospection
   (TypeDefinition [Name] RemoteSchemaInputValueDefinition)]
</span><a href="#local-6989586621689205486"><span class="hs-identifier hs-var hs-var">types'</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-474"></span><span>          </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(FromIntrospection (TypeDefinition [Name] InputValueDefinition)
 -&gt; FromIntrospection
      (TypeDefinition [Name] RemoteSchemaInputValueDefinition))
-&gt; [FromIntrospection (TypeDefinition [Name] InputValueDefinition)]
-&gt; [FromIntrospection
      (TypeDefinition [Name] RemoteSchemaInputValueDefinition)]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">((FromIntrospection (TypeDefinition [Name] InputValueDefinition)
  -&gt; FromIntrospection
       (TypeDefinition [Name] RemoteSchemaInputValueDefinition))
 -&gt; [FromIntrospection (TypeDefinition [Name] InputValueDefinition)]
 -&gt; [FromIntrospection
       (TypeDefinition [Name] RemoteSchemaInputValueDefinition)])
-&gt; ((InputValueDefinition -&gt; RemoteSchemaInputValueDefinition)
    -&gt; FromIntrospection (TypeDefinition [Name] InputValueDefinition)
    -&gt; FromIntrospection
         (TypeDefinition [Name] RemoteSchemaInputValueDefinition))
-&gt; (InputValueDefinition -&gt; RemoteSchemaInputValueDefinition)
-&gt; [FromIntrospection (TypeDefinition [Name] InputValueDefinition)]
-&gt; [FromIntrospection
      (TypeDefinition [Name] RemoteSchemaInputValueDefinition)]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(TypeDefinition [Name] InputValueDefinition
 -&gt; TypeDefinition [Name] RemoteSchemaInputValueDefinition)
-&gt; FromIntrospection (TypeDefinition [Name] InputValueDefinition)
-&gt; FromIntrospection
     (TypeDefinition [Name] RemoteSchemaInputValueDefinition)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">((TypeDefinition [Name] InputValueDefinition
  -&gt; TypeDefinition [Name] RemoteSchemaInputValueDefinition)
 -&gt; FromIntrospection (TypeDefinition [Name] InputValueDefinition)
 -&gt; FromIntrospection
      (TypeDefinition [Name] RemoteSchemaInputValueDefinition))
-&gt; ((InputValueDefinition -&gt; RemoteSchemaInputValueDefinition)
    -&gt; TypeDefinition [Name] InputValueDefinition
    -&gt; TypeDefinition [Name] RemoteSchemaInputValueDefinition)
-&gt; (InputValueDefinition -&gt; RemoteSchemaInputValueDefinition)
-&gt; FromIntrospection (TypeDefinition [Name] InputValueDefinition)
-&gt; FromIntrospection
     (TypeDefinition [Name] RemoteSchemaInputValueDefinition)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(InputValueDefinition -&gt; RemoteSchemaInputValueDefinition)
-&gt; TypeDefinition [Name] InputValueDefinition
-&gt; TypeDefinition [Name] RemoteSchemaInputValueDefinition
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span class="hs-special">)</span><span>
</span><span id="line-475"></span><span>            </span><span class="hs-comment">-- presets are only defined for non-admin roles,</span><span>
</span><span id="line-476"></span><span>            </span><span class="hs-comment">-- an admin will not have any presets</span><span>
</span><span id="line-477"></span><span>            </span><span class="hs-comment">-- defined and the admin will be the one,</span><span>
</span><span id="line-478"></span><span>            </span><span class="hs-comment">-- who'll be adding the remote schema,</span><span>
</span><span id="line-479"></span><span>            </span><span class="hs-comment">-- hence presets are set to `Nothing`</span><span>
</span><span id="line-480"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">InputValueDefinition
-&gt; Maybe (Value RemoteSchemaVariable)
-&gt; RemoteSchemaInputValueDefinition
</span><a href="Hasura.RQL.Types.RemoteSchema.html#RemoteSchemaInputValueDefinition"><span class="hs-operator hs-var">`RemoteSchemaInputValueDefinition`</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe (Value RemoteSchemaVariable)
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">)</span><span>
</span><span id="line-481"></span><span>            </span><span class="annot"><span class="annottext">[FromIntrospection (TypeDefinition [Name] InputValueDefinition)]
</span><a href="#local-6989586621689205497"><span class="hs-identifier hs-var">types</span></a></span><span>
</span><span id="line-482"></span><span>        </span><span id="local-6989586621689205484"><span class="annot"><span class="annottext">r :: IntrospectionResult
</span><a href="#local-6989586621689205484"><span class="hs-identifier hs-var hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-483"></span><span>          </span><span class="annot"><span class="annottext">RemoteSchemaIntrospection
-&gt; Name -&gt; Maybe Name -&gt; Maybe Name -&gt; IntrospectionResult
</span><a href="Hasura.RQL.Types.SchemaCache.html#IntrospectionResult"><span class="hs-identifier hs-var">IntrospectionResult</span></a></span><span>
</span><span id="line-484"></span><span>            </span><span class="hs-special">(</span><span class="annot"><span class="annottext">HashMap
  Name (TypeDefinition [Name] RemoteSchemaInputValueDefinition)
-&gt; RemoteSchemaIntrospection
</span><a href="Hasura.RQL.Types.RemoteSchema.html#RemoteSchemaIntrospection"><span class="hs-identifier hs-var">RemoteSchemaIntrospection</span></a></span><span> </span><span class="annot"><span class="annottext">(HashMap
   Name (TypeDefinition [Name] RemoteSchemaInputValueDefinition)
 -&gt; RemoteSchemaIntrospection)
-&gt; HashMap
     Name (TypeDefinition [Name] RemoteSchemaInputValueDefinition)
-&gt; RemoteSchemaIntrospection
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(TypeDefinition [Name] RemoteSchemaInputValueDefinition -&gt; Name)
-&gt; [TypeDefinition [Name] RemoteSchemaInputValueDefinition]
-&gt; HashMap
     Name (TypeDefinition [Name] RemoteSchemaInputValueDefinition)
forall k v. (Eq k, Hashable k) =&gt; (v -&gt; k) -&gt; [v] -&gt; HashMap k v
</span><a href="Data.HashMap.Strict.Extended.html#fromListOn"><span class="hs-identifier hs-var">Map.fromListOn</span></a></span><span> </span><span class="annot"><span class="annottext">TypeDefinition [Name] RemoteSchemaInputValueDefinition -&gt; Name
forall possibleTypes inputType.
TypeDefinition possibleTypes inputType -&gt; Name
</span><a href="Hasura.RQL.Types.RemoteSchema.html#getTypeName"><span class="hs-identifier hs-var">getTypeName</span></a></span><span> </span><span class="annot"><span class="annottext">([TypeDefinition [Name] RemoteSchemaInputValueDefinition]
 -&gt; HashMap
      Name (TypeDefinition [Name] RemoteSchemaInputValueDefinition))
-&gt; [TypeDefinition [Name] RemoteSchemaInputValueDefinition]
-&gt; HashMap
     Name (TypeDefinition [Name] RemoteSchemaInputValueDefinition)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">FromIntrospection
  (TypeDefinition [Name] RemoteSchemaInputValueDefinition)
-&gt; TypeDefinition [Name] RemoteSchemaInputValueDefinition
forall a. FromIntrospection a -&gt; a
</span><a href="Hasura.GraphQL.RemoteServer.html#fromIntrospection"><span class="hs-identifier hs-var hs-var">fromIntrospection</span></a></span><span> </span><span class="annot"><span class="annottext">(FromIntrospection
   (TypeDefinition [Name] RemoteSchemaInputValueDefinition)
 -&gt; TypeDefinition [Name] RemoteSchemaInputValueDefinition)
-&gt; [FromIntrospection
      (TypeDefinition [Name] RemoteSchemaInputValueDefinition)]
-&gt; [TypeDefinition [Name] RemoteSchemaInputValueDefinition]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">[FromIntrospection
   (TypeDefinition [Name] RemoteSchemaInputValueDefinition)]
</span><a href="#local-6989586621689205486"><span class="hs-identifier hs-var">types'</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-485"></span><span>            </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689205495"><span class="hs-identifier hs-var">queryRoot</span></a></span><span>
</span><span id="line-486"></span><span>            </span><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621689205493"><span class="hs-identifier hs-var">mutationRoot</span></a></span><span>
</span><span id="line-487"></span><span>            </span><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621689205489"><span class="hs-identifier hs-var">subsRoot</span></a></span><span>
</span><span id="line-488"></span><span>    </span><span class="annot"><span class="annottext">FromIntrospection IntrospectionResult
-&gt; Parser (FromIntrospection IntrospectionResult)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(FromIntrospection IntrospectionResult
 -&gt; Parser (FromIntrospection IntrospectionResult))
-&gt; FromIntrospection IntrospectionResult
-&gt; Parser (FromIntrospection IntrospectionResult)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">IntrospectionResult -&gt; FromIntrospection IntrospectionResult
forall a. a -&gt; FromIntrospection a
</span><a href="Hasura.GraphQL.RemoteServer.html#FromIntrospection"><span class="hs-identifier hs-var">FromIntrospection</span></a></span><span> </span><span class="annot"><span class="annottext">IntrospectionResult
</span><a href="#local-6989586621689205484"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-489"></span><span>
</span><span id="line-490"></span><span class="hs-comment">-------------------------------------------------------------------------------</span><span>
</span><span id="line-491"></span><span class="hs-comment">-- Customization</span><span>
</span><span id="line-492"></span><span>
</span><span id="line-493"></span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#getCustomizer"><span class="hs-identifier hs-type">getCustomizer</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.SchemaCache.html#IntrospectionResult"><span class="hs-identifier hs-type">IntrospectionResult</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><a href="Hasura.RQL.Types.RemoteSchema.html#RemoteSchemaCustomization"><span class="hs-identifier hs-type">RemoteSchemaCustomization</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Hasura.RQL.Types.RemoteSchema.html#RemoteSchemaCustomizer"><span class="hs-identifier hs-type">RemoteSchemaCustomizer</span></a></span><span>
</span><span id="line-494"></span><span id="getCustomizer"><span class="annot"><span class="annottext">getCustomizer :: IntrospectionResult
-&gt; Maybe RemoteSchemaCustomization -&gt; RemoteSchemaCustomizer
</span><a href="Hasura.GraphQL.RemoteServer.html#getCustomizer"><span class="hs-identifier hs-var hs-var">getCustomizer</span></a></span></span><span> </span><span class="annot"><span class="annottext">IntrospectionResult
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">Maybe RemoteSchemaCustomization
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RemoteSchemaCustomizer
</span><a href="Hasura.RQL.Types.RemoteSchema.html#identityCustomizer"><span class="hs-identifier hs-var">identityCustomizer</span></a></span><span>
</span><span id="line-495"></span><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#getCustomizer"><span class="hs-identifier hs-var">getCustomizer</span></a></span><span> </span><span class="annot"><a href="Hasura.RQL.Types.SchemaCache.html#IntrospectionResult"><span class="hs-identifier hs-type">IntrospectionResult</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621689205477"><span id="local-6989586621689205478"><span id="local-6989586621689205479"><span id="local-6989586621689205480"><span class="annot"><span class="annottext">Maybe Name
Name
RemoteSchemaIntrospection
irSubscriptionRoot :: Maybe Name
irMutationRoot :: Maybe Name
irQueryRoot :: Name
irDoc :: RemoteSchemaIntrospection
irSubscriptionRoot :: IntrospectionResult -&gt; Maybe Name
irMutationRoot :: IntrospectionResult -&gt; Maybe Name
irQueryRoot :: IntrospectionResult -&gt; Name
irDoc :: IntrospectionResult -&gt; RemoteSchemaIntrospection
</span><a href="#local-6989586621689205477"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="annot"><a href="Hasura.RQL.Types.RemoteSchema.html#RemoteSchemaCustomization"><span class="hs-identifier hs-type">RemoteSchemaCustomization</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621689205473"><span id="local-6989586621689205474"><span id="local-6989586621689205475"><span class="annot"><span class="annottext">Maybe [RemoteFieldCustomization]
Maybe Name
Maybe RemoteTypeCustomization
_rscFieldNames :: RemoteSchemaCustomization -&gt; Maybe [RemoteFieldCustomization]
_rscTypeNames :: RemoteSchemaCustomization -&gt; Maybe RemoteTypeCustomization
_rscRootFieldsNamespace :: RemoteSchemaCustomization -&gt; Maybe Name
_rscFieldNames :: Maybe [RemoteFieldCustomization]
_rscTypeNames :: Maybe RemoteTypeCustomization
_rscRootFieldsNamespace :: Maybe Name
</span><a href="Hasura.RQL.Types.RemoteSchema.html#_rscFieldNames"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span><span class="hs-special">}</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RemoteSchemaCustomizer :: Maybe Name
-&gt; HashMap Name Name
-&gt; HashMap Name (HashMap Name Name)
-&gt; RemoteSchemaCustomizer
</span><a href="Hasura.RQL.Types.RemoteSchema.html#RemoteSchemaCustomizer"><span class="hs-identifier hs-type">RemoteSchemaCustomizer</span></a></span><span> </span><span class="hs-special">{</span><span class="annot"><span class="annottext">Maybe Name
HashMap Name (HashMap Name Name)
HashMap Name Name
_rscCustomizeFieldName :: HashMap Name (HashMap Name Name)
_rscCustomizeTypeName :: HashMap Name Name
_rscNamespaceFieldName :: Maybe Name
_rscCustomizeFieldName :: HashMap Name (HashMap Name Name)
_rscCustomizeTypeName :: HashMap Name Name
_rscNamespaceFieldName :: Maybe Name
</span><a href="Hasura.RQL.Types.RemoteSchema.html#_rscCustomizeFieldName"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span><span class="hs-special">}</span><span>
</span><span id="line-496"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-497"></span><span>    </span><span id="local-6989586621689205462"><span class="annot"><span class="annottext">rootTypeNames :: [Name]
</span><a href="#local-6989586621689205462"><span class="hs-identifier hs-var hs-var">rootTypeNames</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-498"></span><span>      </span><span class="hs-keyword">if</span><span> </span><span class="annot"><span class="annottext">Maybe Name -&gt; Bool
forall a. Maybe a -&gt; Bool
</span><span class="hs-identifier hs-var">isNothing</span></span><span> </span><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621689205475"><span class="hs-identifier hs-var">_rscRootFieldsNamespace</span></a></span><span>
</span><span id="line-499"></span><span>        </span><span class="hs-keyword">then</span><span> </span><span class="annot"><span class="annottext">[Maybe Name] -&gt; [Name]
forall a. [Maybe a] -&gt; [a]
</span><span class="hs-identifier hs-var">catMaybes</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Name -&gt; Maybe Name
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689205479"><span class="hs-identifier hs-var">irQueryRoot</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621689205478"><span class="hs-identifier hs-var">irMutationRoot</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621689205477"><span class="hs-identifier hs-var">irSubscriptionRoot</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-500"></span><span>        </span><span class="hs-keyword">else</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-501"></span><span>    </span><span class="hs-comment">-- root type names should not be prefixed or suffixed unless</span><span>
</span><span id="line-502"></span><span>    </span><span class="hs-comment">-- there is a custom root namespace field</span><span>
</span><span id="line-503"></span><span>    </span><span id="local-6989586621689205459"><span class="annot"><span class="annottext">scalarTypeNames :: [Name]
</span><a href="#local-6989586621689205459"><span class="hs-identifier hs-var hs-var">scalarTypeNames</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Name
</span><a href="Hasura.RQL.Types.Common.html#intScalar"><span class="hs-identifier hs-var">intScalar</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Hasura.RQL.Types.Common.html#floatScalar"><span class="hs-identifier hs-var">floatScalar</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Hasura.RQL.Types.Common.html#stringScalar"><span class="hs-identifier hs-var">stringScalar</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Hasura.RQL.Types.Common.html#boolScalar"><span class="hs-identifier hs-var">boolScalar</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="Hasura.RQL.Types.Common.html#idScalar"><span class="hs-identifier hs-var">idScalar</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-504"></span><span>    </span><span id="local-6989586621689205453"><span class="annot"><span class="annottext">protectedTypeNames :: [Name]
</span><a href="#local-6989586621689205453"><span class="hs-identifier hs-var hs-var">protectedTypeNames</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621689205459"><span class="hs-identifier hs-var">scalarTypeNames</span></a></span><span> </span><span class="annot"><span class="annottext">[Name] -&gt; [Name] -&gt; [Name]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621689205462"><span class="hs-identifier hs-var">rootTypeNames</span></a></span><span>
</span><span id="line-505"></span><span>    </span><span id="local-6989586621689205452"><span class="annot"><span class="annottext">nameFilter :: Name -&gt; Bool
</span><a href="#local-6989586621689205452"><span class="hs-identifier hs-var hs-var">nameFilter</span></a></span></span><span> </span><span id="local-6989586621689205451"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689205451"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool
</span><span class="hs-identifier hs-var">not</span></span><span> </span><span class="annot"><span class="annottext">(Bool -&gt; Bool) -&gt; Bool -&gt; Bool
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;__&quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Bool
</span><span class="hs-operator hs-var">`T.isPrefixOf`</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Text
</span><span class="hs-identifier hs-var hs-var">G.unName</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689205451"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">||</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689205451"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; [Name] -&gt; Bool
forall (t :: * -&gt; *) a. (Foldable t, Eq a) =&gt; a -&gt; t a -&gt; Bool
</span><span class="hs-operator hs-var">`elem`</span></span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621689205453"><span class="hs-identifier hs-var">protectedTypeNames</span></a></span><span>
</span><span id="line-506"></span><span>
</span><span id="line-507"></span><span>    </span><span class="annot"><a href="#local-6989586621689205445"><span class="hs-identifier hs-type">mkPrefixSuffixMap</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.Name</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">G.Name</span></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">HashMap</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.Name</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.Name</span></span><span>
</span><span id="line-508"></span><span>    </span><span id="local-6989586621689205445"><span class="annot"><span class="annottext">mkPrefixSuffixMap :: Maybe Name -&gt; Maybe Name -&gt; [Name] -&gt; HashMap Name Name
</span><a href="#local-6989586621689205445"><span class="hs-identifier hs-var hs-var">mkPrefixSuffixMap</span></a></span></span><span> </span><span id="local-6989586621689205444"><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621689205444"><span class="hs-identifier hs-var">mPrefix</span></a></span></span><span> </span><span id="local-6989586621689205443"><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621689205443"><span class="hs-identifier hs-var">mSuffix</span></a></span></span><span> </span><span id="local-6989586621689205442"><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621689205442"><span class="hs-identifier hs-var">names</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(Name, Name)] -&gt; HashMap Name Name
forall k v. (Eq k, Hashable k) =&gt; [(k, v)] -&gt; HashMap k v
</span><span class="hs-identifier hs-var">Map.fromList</span></span><span> </span><span class="annot"><span class="annottext">([(Name, Name)] -&gt; HashMap Name Name)
-&gt; [(Name, Name)] -&gt; HashMap Name Name
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">case</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621689205444"><span class="hs-identifier hs-var">mPrefix</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621689205443"><span class="hs-identifier hs-var">mSuffix</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-509"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe Name
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe Name
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-510"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621689205441"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689205441"><span class="hs-identifier hs-var">prefix</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Maybe Name
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Name -&gt; (Name, Name)) -&gt; [Name] -&gt; [(Name, Name)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621689205440"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689205440"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689205440"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689205441"><span class="hs-identifier hs-var">prefix</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Name -&gt; Name
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689205440"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621689205442"><span class="hs-identifier hs-var">names</span></a></span><span>
</span><span id="line-511"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Maybe Name
</span><span class="hs-identifier hs-var">Nothing</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621689205439"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689205439"><span class="hs-identifier hs-var">suffix</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Name -&gt; (Name, Name)) -&gt; [Name] -&gt; [(Name, Name)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621689205438"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689205438"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689205438"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689205438"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Name -&gt; Name
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689205439"><span class="hs-identifier hs-var">suffix</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621689205442"><span class="hs-identifier hs-var">names</span></a></span><span>
</span><span id="line-512"></span><span>      </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621689205437"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689205437"><span class="hs-identifier hs-var">prefix</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621689205436"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689205436"><span class="hs-identifier hs-var">suffix</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">(Name -&gt; (Name, Name)) -&gt; [Name] -&gt; [(Name, Name)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621689205435"><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689205435"><span class="hs-identifier hs-var">name</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689205435"><span class="hs-identifier hs-var">name</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689205437"><span class="hs-identifier hs-var">prefix</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Name -&gt; Name
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689205435"><span class="hs-identifier hs-var">name</span></a></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Name -&gt; Name
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Name
</span><a href="#local-6989586621689205436"><span class="hs-identifier hs-var">suffix</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621689205442"><span class="hs-identifier hs-var">names</span></a></span><span>
</span><span id="line-513"></span><span>
</span><span id="line-514"></span><span>    </span><span class="annot"><a href="Hasura.RQL.Types.RemoteSchema.html#RemoteSchemaIntrospection"><span class="hs-identifier hs-type">RemoteSchemaIntrospection</span></a></span><span> </span><span id="local-6989586621689205434"><span class="annot"><span class="annottext">HashMap
  Name (TypeDefinition [Name] RemoteSchemaInputValueDefinition)
</span><a href="#local-6989586621689205434"><span class="hs-identifier hs-var">typeDefinitions</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">RemoteSchemaIntrospection
</span><a href="#local-6989586621689205480"><span class="hs-identifier hs-var">irDoc</span></a></span><span>
</span><span id="line-515"></span><span>    </span><span id="local-6989586621689205433"><span class="annot"><span class="annottext">typesToRename :: [Name]
</span><a href="#local-6989586621689205433"><span class="hs-identifier hs-var hs-var">typesToRename</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Name -&gt; Bool) -&gt; [Name] -&gt; [Name]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">filter</span></span><span> </span><span class="annot"><span class="annottext">Name -&gt; Bool
</span><a href="#local-6989586621689205452"><span class="hs-identifier hs-var">nameFilter</span></a></span><span> </span><span class="annot"><span class="annottext">([Name] -&gt; [Name]) -&gt; [Name] -&gt; [Name]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HashMap
  Name (TypeDefinition [Name] RemoteSchemaInputValueDefinition)
-&gt; [Name]
forall k v. HashMap k v -&gt; [k]
</span><span class="hs-identifier hs-var">Map.keys</span></span><span> </span><span class="annot"><span class="annottext">HashMap
  Name (TypeDefinition [Name] RemoteSchemaInputValueDefinition)
</span><a href="#local-6989586621689205434"><span class="hs-identifier hs-var">typeDefinitions</span></a></span><span>
</span><span id="line-516"></span><span>    </span><span id="local-6989586621689205432"><span class="annot"><span class="annottext">typeRenameMap :: HashMap Name Name
</span><a href="#local-6989586621689205432"><span class="hs-identifier hs-var hs-var">typeRenameMap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-517"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe RemoteTypeCustomization
</span><a href="#local-6989586621689205474"><span class="hs-identifier hs-var">_rscTypeNames</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-518"></span><span>        </span><span class="annot"><span class="annottext">Maybe RemoteTypeCustomization
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">HashMap Name Name
forall k v. HashMap k v
</span><span class="hs-identifier hs-var">Map.empty</span></span><span>
</span><span id="line-519"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="annot"><a href="Hasura.RQL.Types.RemoteSchema.html#RemoteTypeCustomization"><span class="hs-identifier hs-type">RemoteTypeCustomization</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621689205428"><span id="local-6989586621689205429"><span id="local-6989586621689205430"><span class="annot"><span class="annottext">Maybe Name
HashMap Name Name
_rtcMapping :: RemoteTypeCustomization -&gt; HashMap Name Name
_rtcSuffix :: RemoteTypeCustomization -&gt; Maybe Name
_rtcPrefix :: RemoteTypeCustomization -&gt; Maybe Name
_rtcMapping :: HashMap Name Name
_rtcSuffix :: Maybe Name
_rtcPrefix :: Maybe Name
</span><a href="Hasura.RQL.Types.RemoteSchema.html#_rtcMapping"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-520"></span><span>          </span><span class="annot"><span class="annottext">HashMap Name Name
</span><a href="#local-6989586621689205428"><span class="hs-identifier hs-var">_rtcMapping</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap Name Name -&gt; HashMap Name Name -&gt; HashMap Name Name
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Maybe Name -&gt; Maybe Name -&gt; [Name] -&gt; HashMap Name Name
</span><a href="#local-6989586621689205445"><span class="hs-identifier hs-var">mkPrefixSuffixMap</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621689205430"><span class="hs-identifier hs-var">_rtcPrefix</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621689205429"><span class="hs-identifier hs-var">_rtcSuffix</span></a></span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621689205433"><span class="hs-identifier hs-var">typesToRename</span></a></span><span>
</span><span id="line-521"></span><span>
</span><span id="line-522"></span><span>    </span><span class="annot"><a href="#local-6989586621689205424"><span class="hs-identifier hs-type">typeFieldMap</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">HashMap</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.Name</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">G.Name</span></span><span class="hs-special">]</span><span> </span><span class="hs-comment">-- typeName -&gt; fieldNames</span><span>
</span><span id="line-523"></span><span>    </span><span id="local-6989586621689205424"><span class="annot"><span class="annottext">typeFieldMap :: HashMap Name [Name]
</span><a href="#local-6989586621689205424"><span class="hs-identifier hs-var hs-var">typeFieldMap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-524"></span><span>      </span><span class="annot"><span class="annottext">(TypeDefinition [Name] RemoteSchemaInputValueDefinition
 -&gt; Maybe [Name])
-&gt; HashMap
     Name (TypeDefinition [Name] RemoteSchemaInputValueDefinition)
-&gt; HashMap Name [Name]
forall v1 v2 k. (v1 -&gt; Maybe v2) -&gt; HashMap k v1 -&gt; HashMap k v2
</span><span class="hs-identifier hs-var">Map.mapMaybe</span></span><span> </span><span class="annot"><span class="annottext">TypeDefinition [Name] RemoteSchemaInputValueDefinition
-&gt; Maybe [Name]
forall possibleTypes inputType.
TypeDefinition possibleTypes inputType -&gt; Maybe [Name]
</span><a href="#local-6989586621689205422"><span class="hs-identifier hs-var">getFieldsNames</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap
  Name (TypeDefinition [Name] RemoteSchemaInputValueDefinition)
</span><a href="#local-6989586621689205434"><span class="hs-identifier hs-var">typeDefinitions</span></a></span><span>
</span><span id="line-525"></span><span>      </span><span class="hs-keyword">where</span><span>
</span><span id="line-526"></span><span>        </span><span id="local-6989586621689205422"><span class="annot"><span class="annottext">getFieldsNames :: TypeDefinition possibleTypes inputType -&gt; Maybe [Name]
</span><a href="#local-6989586621689205422"><span class="hs-identifier hs-var hs-var">getFieldsNames</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">\</span><span class="hs-glyph">case</span><span>
</span><span id="line-527"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">G.TypeDefinitionObject</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.ObjectTypeDefinition</span></span><span> </span><span class="hs-special">{</span><span id="local-6989586621689205417"><span id="local-6989586621689205418"><span id="local-6989586621689205419"><span id="local-6989586621689205420"><span id="local-6989586621689205421"><span class="annot"><span class="annottext">[Directive Void]
[FieldDefinition inputType]
[Name]
Maybe Description
Name
_otdFieldsDefinition :: [FieldDefinition inputType]
_otdDirectives :: [Directive Void]
_otdImplementsInterfaces :: [Name]
_otdName :: Name
_otdDescription :: Maybe Description
_otdName :: forall inputType. ObjectTypeDefinition inputType -&gt; Name
_otdImplementsInterfaces :: forall inputType. ObjectTypeDefinition inputType -&gt; [Name]
_otdFieldsDefinition :: forall inputType.
ObjectTypeDefinition inputType -&gt; [FieldDefinition inputType]
_otdDirectives :: forall inputType.
ObjectTypeDefinition inputType -&gt; [Directive Void]
_otdDescription :: forall inputType.
ObjectTypeDefinition inputType -&gt; Maybe Description
</span><a href="#local-6989586621689205417"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Name] -&gt; Maybe [Name]
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">([Name] -&gt; Maybe [Name]) -&gt; [Name] -&gt; Maybe [Name]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">FieldDefinition inputType -&gt; Name
forall inputType. FieldDefinition inputType -&gt; Name
</span><span class="hs-identifier hs-var hs-var">G._fldName</span></span><span> </span><span class="annot"><span class="annottext">(FieldDefinition inputType -&gt; Name)
-&gt; [FieldDefinition inputType] -&gt; [Name]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">[FieldDefinition inputType]
</span><a href="#local-6989586621689205417"><span class="hs-identifier hs-var">_otdFieldsDefinition</span></a></span><span>
</span><span id="line-528"></span><span>          </span><span class="annot"><span class="hs-identifier hs-type">G.TypeDefinitionInterface</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">G.InterfaceTypeDefinition</span></span><span> </span><span class="hs-special">{</span><span id="local-6989586621689205412"><span id="local-6989586621689205413"><span id="local-6989586621689205414"><span id="local-6989586621689205415"><span id="local-6989586621689205416"><span class="annot"><span class="annottext">possibleTypes
[Directive Void]
[FieldDefinition inputType]
Maybe Description
Name
_itdPossibleTypes :: possibleTypes
_itdFieldsDefinition :: [FieldDefinition inputType]
_itdDirectives :: [Directive Void]
_itdName :: Name
_itdDescription :: Maybe Description
_itdPossibleTypes :: forall possibleTypes inputType.
InterfaceTypeDefinition possibleTypes inputType -&gt; possibleTypes
_itdName :: forall possibleTypes inputType.
InterfaceTypeDefinition possibleTypes inputType -&gt; Name
_itdFieldsDefinition :: forall possibleTypes inputType.
InterfaceTypeDefinition possibleTypes inputType
-&gt; [FieldDefinition inputType]
_itdDirectives :: forall possibleTypes inputType.
InterfaceTypeDefinition possibleTypes inputType -&gt; [Directive Void]
_itdDescription :: forall possibleTypes inputType.
InterfaceTypeDefinition possibleTypes inputType
-&gt; Maybe Description
</span><a href="#local-6989586621689205412"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">[Name] -&gt; Maybe [Name]
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">([Name] -&gt; Maybe [Name]) -&gt; [Name] -&gt; Maybe [Name]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">FieldDefinition inputType -&gt; Name
forall inputType. FieldDefinition inputType -&gt; Name
</span><span class="hs-identifier hs-var hs-var">G._fldName</span></span><span> </span><span class="annot"><span class="annottext">(FieldDefinition inputType -&gt; Name)
-&gt; [FieldDefinition inputType] -&gt; [Name]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">[FieldDefinition inputType]
</span><a href="#local-6989586621689205413"><span class="hs-identifier hs-var">_itdFieldsDefinition</span></a></span><span>
</span><span id="line-529"></span><span>          </span><span class="annot"><span class="annottext">TypeDefinition possibleTypes inputType
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Maybe [Name]
forall a. Maybe a
</span><span class="hs-identifier hs-var">Nothing</span></span><span>
</span><span id="line-530"></span><span>
</span><span id="line-531"></span><span>    </span><span id="local-6989586621689205411"><span class="annot"><span class="annottext">mkFieldRenameMap :: RemoteFieldCustomization -&gt; [Name] -&gt; HashMap Name Name
</span><a href="#local-6989586621689205411"><span class="hs-identifier hs-var hs-var">mkFieldRenameMap</span></a></span></span><span> </span><span class="annot"><a href="Hasura.RQL.Types.RemoteSchema.html#RemoteFieldCustomization"><span class="hs-identifier hs-type">RemoteFieldCustomization</span></a></span><span> </span><span class="hs-special">{</span><span id="local-6989586621689205406"><span id="local-6989586621689205407"><span id="local-6989586621689205408"><span id="local-6989586621689205409"><span class="annot"><span class="annottext">Maybe Name
HashMap Name Name
Name
_rfcMapping :: RemoteFieldCustomization -&gt; HashMap Name Name
_rfcSuffix :: RemoteFieldCustomization -&gt; Maybe Name
_rfcPrefix :: RemoteFieldCustomization -&gt; Maybe Name
_rfcParentType :: RemoteFieldCustomization -&gt; Name
_rfcMapping :: HashMap Name Name
_rfcSuffix :: Maybe Name
_rfcPrefix :: Maybe Name
_rfcParentType :: Name
</span><a href="Hasura.RQL.Types.RemoteSchema.html#_rfcMapping"><span class="hs-glyph hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">..</span></a></span></span></span></span></span><span class="hs-special">}</span><span> </span><span id="local-6989586621689205401"><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621689205401"><span class="hs-identifier hs-var">fieldNames</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-532"></span><span>      </span><span class="annot"><span class="annottext">HashMap Name Name
</span><a href="#local-6989586621689205406"><span class="hs-identifier hs-var">_rfcMapping</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap Name Name -&gt; HashMap Name Name -&gt; HashMap Name Name
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Maybe Name -&gt; Maybe Name -&gt; [Name] -&gt; HashMap Name Name
</span><a href="#local-6989586621689205445"><span class="hs-identifier hs-var">mkPrefixSuffixMap</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621689205408"><span class="hs-identifier hs-var">_rfcPrefix</span></a></span><span> </span><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621689205407"><span class="hs-identifier hs-var">_rfcSuffix</span></a></span><span> </span><span class="annot"><span class="annottext">[Name]
</span><a href="#local-6989586621689205401"><span class="hs-identifier hs-var">fieldNames</span></a></span><span>
</span><span id="line-533"></span><span>
</span><span id="line-534"></span><span>    </span><span id="local-6989586621689205400"><span class="annot"><span class="annottext">fieldRenameMap :: HashMap Name (HashMap Name Name)
</span><a href="#local-6989586621689205400"><span class="hs-identifier hs-var hs-var">fieldRenameMap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-535"></span><span>      </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Maybe [RemoteFieldCustomization]
</span><a href="#local-6989586621689205473"><span class="hs-identifier hs-var">_rscFieldNames</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-536"></span><span>        </span><span class="annot"><span class="annottext">Maybe [RemoteFieldCustomization]
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">HashMap Name (HashMap Name Name)
forall k v. HashMap k v
</span><span class="hs-identifier hs-var">Map.empty</span></span><span>
</span><span id="line-537"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span id="local-6989586621689205399"><span class="annot"><span class="annottext">[RemoteFieldCustomization]
</span><a href="#local-6989586621689205399"><span class="hs-identifier hs-var">fieldNameCustomizations</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-538"></span><span>          </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621689205398"><span class="annot"><span class="annottext">customizationMap :: HashMap Name RemoteFieldCustomization
</span><a href="#local-6989586621689205398"><span class="hs-identifier hs-var hs-var">customizationMap</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(Name, RemoteFieldCustomization)]
-&gt; HashMap Name RemoteFieldCustomization
forall k v. (Eq k, Hashable k) =&gt; [(k, v)] -&gt; HashMap k v
</span><span class="hs-identifier hs-var">Map.fromList</span></span><span> </span><span class="annot"><span class="annottext">([(Name, RemoteFieldCustomization)]
 -&gt; HashMap Name RemoteFieldCustomization)
-&gt; [(Name, RemoteFieldCustomization)]
-&gt; HashMap Name RemoteFieldCustomization
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(RemoteFieldCustomization -&gt; (Name, RemoteFieldCustomization))
-&gt; [RemoteFieldCustomization] -&gt; [(Name, RemoteFieldCustomization)]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621689205397"><span class="annot"><span class="annottext">RemoteFieldCustomization
</span><a href="#local-6989586621689205397"><span class="hs-identifier hs-var">rfc</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">RemoteFieldCustomization -&gt; Name
</span><a href="Hasura.RQL.Types.RemoteSchema.html#_rfcParentType"><span class="hs-identifier hs-var hs-var">_rfcParentType</span></a></span><span> </span><span class="annot"><span class="annottext">RemoteFieldCustomization
</span><a href="#local-6989586621689205397"><span class="hs-identifier hs-var">rfc</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">RemoteFieldCustomization
</span><a href="#local-6989586621689205397"><span class="hs-identifier hs-var">rfc</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[RemoteFieldCustomization]
</span><a href="#local-6989586621689205399"><span class="hs-identifier hs-var">fieldNameCustomizations</span></a></span><span>
</span><span id="line-539"></span><span>           </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">(RemoteFieldCustomization -&gt; [Name] -&gt; HashMap Name Name)
-&gt; HashMap Name RemoteFieldCustomization
-&gt; HashMap Name [Name]
-&gt; HashMap Name (HashMap Name Name)
forall k v1 v2 v3.
(Eq k, Hashable k) =&gt;
(v1 -&gt; v2 -&gt; v3) -&gt; HashMap k v1 -&gt; HashMap k v2 -&gt; HashMap k v3
</span><span class="hs-identifier hs-var">Map.intersectionWith</span></span><span> </span><span class="annot"><span class="annottext">RemoteFieldCustomization -&gt; [Name] -&gt; HashMap Name Name
</span><a href="#local-6989586621689205411"><span class="hs-identifier hs-var">mkFieldRenameMap</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap Name RemoteFieldCustomization
</span><a href="#local-6989586621689205398"><span class="hs-identifier hs-var">customizationMap</span></a></span><span> </span><span class="annot"><span class="annottext">HashMap Name [Name]
</span><a href="#local-6989586621689205424"><span class="hs-identifier hs-var">typeFieldMap</span></a></span><span>
</span><span id="line-540"></span><span>
</span><span id="line-541"></span><span>    </span><span id="local-6989586621689205468"><span class="annot"><span class="annottext">_rscNamespaceFieldName :: Maybe Name
</span><a href="#local-6989586621689205468"><span class="hs-identifier hs-var hs-var">_rscNamespaceFieldName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Maybe Name
</span><a href="#local-6989586621689205475"><span class="hs-identifier hs-var">_rscRootFieldsNamespace</span></a></span><span>
</span><span id="line-542"></span><span>    </span><span id="local-6989586621689205467"><span class="annot"><span class="annottext">_rscCustomizeTypeName :: HashMap Name Name
</span><a href="#local-6989586621689205467"><span class="hs-identifier hs-var hs-var">_rscCustomizeTypeName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HashMap Name Name
</span><a href="#local-6989586621689205432"><span class="hs-identifier hs-var">typeRenameMap</span></a></span><span>
</span><span id="line-543"></span><span>    </span><span id="local-6989586621689205466"><span class="annot"><span class="annottext">_rscCustomizeFieldName :: HashMap Name (HashMap Name Name)
</span><a href="#local-6989586621689205466"><span class="hs-identifier hs-var hs-var">_rscCustomizeFieldName</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">HashMap Name (HashMap Name Name)
</span><a href="#local-6989586621689205400"><span class="hs-identifier hs-var">fieldRenameMap</span></a></span><span>
</span><span id="line-544"></span><span>
</span><span id="line-545"></span><span class="hs-comment">------------------------------------------------------------------------------</span><span>
</span><span id="line-546"></span><span class="hs-comment">-- Local error handling</span><span>
</span><span id="line-547"></span><span>
</span><span id="line-548"></span><span id="local-6989586621689205994"><span id="local-6989586621689205995"><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#pErr"><span class="hs-identifier hs-type">pErr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadFail</span></span><span> </span><span class="annot"><a href="#local-6989586621689205995"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621689205995"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689205994"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-549"></span><span id="pErr"><span class="annot"><span class="annottext">pErr :: Text -&gt; m a
</span><a href="Hasura.GraphQL.RemoteServer.html#pErr"><span class="hs-identifier hs-var hs-var">pErr</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; m a
forall (m :: * -&gt; *) a. MonadFail m =&gt; String -&gt; m a
</span><span class="hs-identifier hs-var">fail</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; m a) -&gt; (Text -&gt; String) -&gt; Text -&gt; m a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; String
</span><span class="hs-identifier hs-var">T.unpack</span></span><span>
</span><span id="line-550"></span><span>
</span><span id="line-551"></span><span id="local-6989586621689206004"><span id="local-6989586621689206005"><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#kindErr"><span class="hs-identifier hs-type">kindErr</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadFail</span></span><span> </span><span class="annot"><a href="#local-6989586621689206005"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621689206005"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689206004"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-552"></span><span id="kindErr"><span class="annot"><span class="annottext">kindErr :: Text -&gt; Text -&gt; m a
</span><a href="Hasura.GraphQL.RemoteServer.html#kindErr"><span class="hs-identifier hs-var hs-var">kindErr</span></a></span></span><span> </span><span id="local-6989586621689205395"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689205395"><span class="hs-identifier hs-var">gKind</span></a></span></span><span> </span><span id="local-6989586621689205394"><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689205394"><span class="hs-identifier hs-var">eKind</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; m a
forall (m :: * -&gt; *) a. MonadFail m =&gt; Text -&gt; m a
</span><a href="Hasura.GraphQL.RemoteServer.html#pErr"><span class="hs-identifier hs-var">pErr</span></a></span><span> </span><span class="annot"><span class="annottext">(Text -&gt; m a) -&gt; Text -&gt; m a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Invalid `kind: &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689205395"><span class="hs-identifier hs-var">gKind</span></a></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;` in &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text
</span><a href="#local-6989586621689205394"><span class="hs-identifier hs-var">eKind</span></a></span><span>
</span><span id="line-553"></span><span>
</span><span id="line-554"></span><span id="local-6989586621689206229"><span id="local-6989586621689206231"><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#throwRemoteSchema"><span class="hs-identifier hs-type">throwRemoteSchema</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="Hasura.Base.Error.html#QErrM"><span class="hs-identifier hs-type">QErrM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689206231"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Text</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621689206231"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689206229"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-555"></span><span id="throwRemoteSchema"><span class="annot"><span class="annottext">throwRemoteSchema :: Text -&gt; m a
</span><a href="Hasura.GraphQL.RemoteServer.html#throwRemoteSchema"><span class="hs-identifier hs-var hs-var">throwRemoteSchema</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Code -&gt; Text -&gt; m a
forall (m :: * -&gt; *) a. QErrM m =&gt; Code -&gt; Text -&gt; m a
</span><a href="Hasura.Base.Error.html#throw400"><span class="hs-identifier hs-var">throw400</span></a></span><span> </span><span class="annot"><span class="annottext">Code
</span><a href="Hasura.Base.Error.html#RemoteSchemaError"><span class="hs-identifier hs-var">RemoteSchemaError</span></a></span><span>
</span><span id="line-556"></span><span>
</span><span id="line-557"></span><span id="local-6989586621689206140"><span id="local-6989586621689206141"><span class="annot"><a href="Hasura.GraphQL.RemoteServer.html#throwRemoteSchemaHttp"><span class="hs-identifier hs-type">throwRemoteSchemaHttp</span></a></span><span> </span><span class="hs-glyph">::</span><span>
</span><span id="line-558"></span><span>  </span><span class="annot"><a href="Hasura.Base.Error.html#QErrM"><span class="hs-identifier hs-type">QErrM</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689206141"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span>
</span><span id="line-559"></span><span>  </span><span class="annot"><a href="Hasura.RQL.Types.Common.html#EnvRecord"><span class="hs-identifier hs-type">EnvRecord</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">URI</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-560"></span><span>  </span><span class="annot"><span class="hs-identifier hs-type">HTTP.HttpException</span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-561"></span><span>  </span><span class="annot"><a href="#local-6989586621689206141"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621689206140"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-562"></span><span id="throwRemoteSchemaHttp"><span class="annot"><span class="annottext">throwRemoteSchemaHttp :: EnvRecord URI -&gt; HttpException -&gt; m a
</span><a href="Hasura.GraphQL.RemoteServer.html#throwRemoteSchemaHttp"><span class="hs-identifier hs-var hs-var">throwRemoteSchemaHttp</span></a></span></span><span> </span><span id="local-6989586621689205391"><span class="annot"><span class="annottext">EnvRecord URI
</span><a href="#local-6989586621689205391"><span class="hs-identifier hs-var">urlEnvRecord</span></a></span></span><span> </span><span id="local-6989586621689205390"><span class="annot"><span class="annottext">HttpException
</span><a href="#local-6989586621689205390"><span class="hs-identifier hs-var">exception</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-563"></span><span>  </span><span class="annot"><span class="annottext">QErr -&gt; m a
forall e (m :: * -&gt; *) a. MonadError e m =&gt; e -&gt; m a
</span><span class="hs-identifier hs-var">throwError</span></span><span> </span><span class="annot"><span class="annottext">(QErr -&gt; m a) -&gt; QErr -&gt; m a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-564"></span><span>    </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EnvRecord URI -&gt; QErr
forall a. EnvRecord a -&gt; QErr
</span><a href="#local-6989586621689205388"><span class="hs-identifier hs-var">baseError</span></a></span><span> </span><span class="annot"><span class="annottext">EnvRecord URI
</span><a href="#local-6989586621689205391"><span class="hs-identifier hs-var">urlEnvRecord</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-565"></span><span>      </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">qeInternal :: Maybe QErrExtra
</span><a href="Hasura.Base.Error.html#qeInternal"><span class="hs-identifier hs-var">qeInternal</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">QErrExtra -&gt; Maybe QErrExtra
forall a. a -&gt; Maybe a
</span><span class="hs-identifier hs-var">Just</span></span><span> </span><span class="annot"><span class="annottext">(QErrExtra -&gt; Maybe QErrExtra) -&gt; QErrExtra -&gt; Maybe QErrExtra
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Value -&gt; QErrExtra
</span><a href="Hasura.Base.Error.html#ExtraInternal"><span class="hs-identifier hs-var">ExtraInternal</span></a></span><span> </span><span class="annot"><span class="annottext">(Value -&gt; QErrExtra) -&gt; Value -&gt; QErrExtra
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HttpException -&gt; Value
forall a. ToJSON a =&gt; a -&gt; Value
</span><span class="hs-identifier hs-var">J.toJSON</span></span><span> </span><span class="annot"><span class="annottext">(HttpException -&gt; Value) -&gt; HttpException -&gt; Value
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">HttpException -&gt; HttpException
</span><a href="Hasura.HTTP.html#HttpException"><span class="hs-identifier hs-var">HttpException</span></a></span><span> </span><span class="annot"><span class="annottext">HttpException
</span><a href="#local-6989586621689205390"><span class="hs-identifier hs-var">exception</span></a></span><span>
</span><span id="line-566"></span><span>      </span><span class="hs-special">}</span><span>
</span><span id="line-567"></span><span>  </span><span class="hs-keyword">where</span><span>
</span><span id="line-568"></span><span>    </span><span id="local-6989586621689205388"><span class="annot"><span class="annottext">baseError :: EnvRecord a -&gt; QErr
</span><a href="#local-6989586621689205388"><span class="hs-identifier hs-var hs-var">baseError</span></a></span></span><span> </span><span id="local-6989586621689205383"><span class="annot"><span class="annottext">EnvRecord a
</span><a href="#local-6989586621689205383"><span class="hs-identifier hs-var">val</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Code -&gt; Text -&gt; QErr
</span><a href="Hasura.Base.Error.html#err400"><span class="hs-identifier hs-var">err400</span></a></span><span> </span><span class="annot"><span class="annottext">Code
</span><a href="Hasura.Base.Error.html#RemoteSchemaError"><span class="hs-identifier hs-var">RemoteSchemaError</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EnvRecord a -&gt; Text
forall a. EnvRecord a -&gt; Text
</span><a href="#local-6989586621689205381"><span class="hs-identifier hs-var">httpExceptMsg</span></a></span><span> </span><span class="annot"><span class="annottext">EnvRecord a
</span><a href="#local-6989586621689205383"><span class="hs-identifier hs-var">val</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-569"></span><span>    </span><span id="local-6989586621689205381"><span class="annot"><span class="annottext">httpExceptMsg :: EnvRecord a -&gt; Text
</span><a href="#local-6989586621689205381"><span class="hs-identifier hs-var hs-var">httpExceptMsg</span></a></span></span><span> </span><span id="local-6989586621689205380"><span class="annot"><span class="annottext">EnvRecord a
</span><a href="#local-6989586621689205380"><span class="hs-identifier hs-var">val</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;HTTP exception occurred while sending the request to &quot;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text -&gt; Text
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; Text
forall a. Show a =&gt; a -&gt; Text
</span><a href="Hasura.Prelude.html#tshow"><span class="hs-identifier hs-var">tshow</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">EnvRecord a -&gt; Text
forall a. EnvRecord a -&gt; Text
</span><a href="Hasura.RQL.Types.Common.html#_envVarName"><span class="hs-identifier hs-var hs-var">_envVarName</span></a></span><span> </span><span class="annot"><span class="annottext">EnvRecord a
</span><a href="#local-6989586621689205380"><span class="hs-identifier hs-var">val</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-570"></span></pre></body></html>