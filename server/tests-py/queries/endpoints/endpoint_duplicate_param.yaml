description: Try to add an endpoint with duplicate params
url: /v1/query
status: 400
response:
  internal:
  - definition:
      definition:
        query:
          collection_name: test_collection
          query_name: simple_query
      url: foo/:id/bar/:id
      methods:
      - GET
      name: duplicate
      comment:
    reason: Duplicate variables found in endpoint path foo/:id/bar/:id
    type: endpoint
  path: $.args
  error: cannot continue due to new inconsistent metadata
  code: unexpected
query:
  type: create_rest_endpoint
  args:
    url: "foo/:id/bar/:id"
    name: duplicate
    methods:
      - GET
    definition:
      query:
        collection_name: test_collection
        query_name: simple_query
